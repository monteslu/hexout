!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=48)}([function(t,e){t.exports={CANCEL:3,HELP:6,BACK_SPACE:8,TAB:9,CLEAR:12,RETURN:13,ENTER:14,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINTSCREEN:44,INSERT:45,DELETE:46,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,SEMICOLON:59,EQUALS:61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}},function(t,e){t.exports=function(t={x:0,y:0},e){return t.x===e.x&&t.y===e.y?0:t.x===e.x?t.y>e.y?0:Math.PI:t.y===e.y?t.x>e.x?1.5*Math.PI:Math.PI/2:t.x<e.x&&t.y>e.y?Math.atan((e.x-t.x)/(t.y-e.y)):t.x<e.x&&t.y<e.y?Math.PI/2+Math.atan((e.y-t.y)/(e.x-t.x)):t.x>e.x&&t.y<e.y?Math.PI+Math.atan((t.x-e.x)/(e.y-t.y)):1.5*Math.PI+Math.atan((t.y-e.y)/(t.x-e.x))}},function(t,e,i){window.frozenjs={GameCore:i(13),InputManager:i(14),ResourceManager:i(18),MouseAction:i(16),TouchAction:i(15),keys:i(0),Animation:i(23),AnimFrame:i(24),utils:i(34),Sprite:i(28),reiner:{Creature:i(38)},sounds:{WebAudio:i(22)},box2d:{entities:i(39),joints:i(42),Box:i(29),BoxGame:i(47)}},t.exports=window.frozenjs},function(t,e){t.exports=function(t={x:0,y:0},e,i){const s=Math.sin(i),n=Math.cos(i),o={};o.x=e.x-t.x,o.y=e.y-t.y;const a=o.x*n-o.y*s,r=o.x*s+o.y*n;return o.x=a+t.x,o.y=r+t.y,o}},function(e,s){const n=[[0,221,0],[221,0,0],[238,0,238],[160,82,45],[0,0,221],[255,165,0]];function o(t){var e,i,s;return hsv=new Object,max=(e=t.r,i=t.g,s=t.b,e>i?e>s?e:s:i>s?i:s),dif=max-function(t,e,i){return t<e?t<i?t:i:e<i?e:i}(t.r,t.g,t.b),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:t.r==max?hsv.hue=60*(t.g-t.b)/dif:t.g==max?hsv.hue=120+60*(t.b-t.r)/dif:t.b==max&&(hsv.hue=240+60*(t.r-t.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}e.exports={colors:n,rgb:function(t){const e=n[t];return console.log("colors",e,t),`rgb(${e[0]},${e[1]},${e[2]})`},rgba:function(t,e){const i=n[t];return`rgba(${i[0]},${i[1]},${i[2]},${e})`},complement:function(e){const s=n[e];console.log("colorsc",s,e);const a=o({r:s[0],g:s[1],b:s[2]});a.hue=function(t,e){for(t+=e;t>=360;)t-=360;for(;t<0;)t+=360;return t}(a.hue,180);const r=function(e){var s=new Object;if(0==e.saturation)s.r=s.g=s.b=Math.round(2.55*e.value);else{switch(e.hue/=60,e.saturation/=100,e.value/=100,i=Math.floor(e.hue),f=e.hue-i,p=e.value*(1-e.saturation),q=e.value*(1-e.saturation*f),t=e.value*(1-e.saturation*(1-f)),i){case 0:s.r=e.value,s.g=t,s.b=p;break;case 1:s.r=q,s.g=e.value,s.b=p;break;case 2:s.r=p,s.g=e.value,s.b=t;break;case 3:s.r=p,s.g=q,s.b=e.value;break;case 4:s.r=t,s.g=p,s.b=e.value;break;default:s.r=e.value,s.g=p,s.b=q}s.r=Math.round(255*s.r),s.g=Math.round(255*s.g),s.b=Math.round(255*s.b)}return s}(a);return`rgb(${r.r},${r.g},${r.b})`}}},function(t,e,i){const s=i(7),n=i(27);t.exports=class extends s{constructor(t={}){super(t),this.radius=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),this.staticBody||(t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.beginPath(),t.moveTo(this.x*e,this.y*e),t.lineTo(this.x*e,this.y*e-this.radius*e),t.closePath(),t.stroke(),t.restore()),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.radius=this.radius*t,super.scaleShape(t)}pointInShape(t){return n(t,this)<=this.radius}}},function(t,e){t.exports=function t(e,i){return e=Array.isArray(e)?e.map(function(e){return t(e,i)}):"object"==typeof i?{x:e.x*i.x,y:e.y*i.y}:{x:e.x*i,y:e.y*i}}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.x=0,this.y=0,this.scale=null,this.angle=0,this.center=null,this.drawLocation=!0,this.drawCenter=!0,this.restitution=.3,this.density=1,this.friction=.9,this.linearDamping=0,this.linearVelocity=null,this.angularVelocity=0,this.angularDamping=0,this.staticBody=!1,this.fillStyle="rgba(128,128,128,0.5)",this.strokeStyle="#000",this.lineWidth=1,this.maskBits=null,this.categoryBits=null,this.groupIndex=null,Object.assign(this,t)}update(t){Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,this.drawLocation&&(t.fillStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,4,0,2*Math.PI,!0),t.closePath(),t.fill()),this.center&&this.drawCenter&&(t.fillStyle=this.centerStyle||"yellow",t.beginPath(),t.arc(this.center.x*e,this.center.y*e,2,0,2*Math.PI,!0),t.closePath(),t.fill()),t.lineWidth=i}scaleShape(t){this.x=this.x*t,this.y=this.y*t,this.alreadyScaled=!0}}},function(t,e){const i={NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3};t.exports=class{constructor(t={}){this.name=null,this.behavior=0,this.amount=0,this.state=0,this.statics=i,Object.assign(this,t),this.reset()}reset(){this.state=i.STATE_RELEASED,this.amount=0}tap(){this.press(),this.release()}press(){this.state=i.STATE_PRESSED,this.behavior===i.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)}pressAmt(t){this.state!==i.STATE_WAITING_FOR_RELEASE&&(this.amount+=t,this.state=i.STATE_WAITING_FOR_RELEASE)}release(){this.state=i.STATE_RELEASED}isPressed(){return this.state===i.STATE_PRESSED}getAmount(){var t=this.amount;return 0!==t&&(this.state===i.STATE_RELEASED?this.amount=0:this.behavior===i.DETECT_INITAL_PRESS_ONLY&&(this.state=i.STATE_WAITING_FOR_RELEASE,this.amount=0)),t}}},function(t,e,i){"use strict";t.exports=function(t,e){if(!t||!e)return!1;for(var i=e.points||e,s=!1,n=i.length-1,o=0;o<i.length;n=o++){var a=i[o].x,r=i[o].y,h=i[n].x,l=i[n].y;r>t.y!=l>t.y&&t.x<(h-a)*(t.y-r)/(l-r)+a&&(s=!s)}return s}},function(t,e){t.exports=function t(e,i){return Array.isArray(e)?e=e.map(function(e){return t(e,i)}):(e={x:e.x,y:e.y},null!=i.x&&(e.x+=i.x),null!=i.y&&(e.y+=i.y)),e}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.bodyId1=null,this.bodyId2=null,this.bodyPoint1=null,this.jointAttributes=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint1&&(this.bodyPoint1.x=this.bodyPoint1.x*t,this.bodyPoint1.y=this.bodyPoint1.y*t,this.alreadyScaled=!0)}}},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.points=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var s=1;s<this.points.length;s++)t.lineTo((this.points[s].x+this.x)*e,(this.points[s].y+this.y)*e);t.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e),t.closePath(),t.fill(),t.stroke(),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.points=n(this.points,t),super.scaleShape(t)}pointInShape(t){return o(t,a(this.points,this))}}},function(t,e,i){const s=i(14),n=i(18);t.exports=class{constructor(t={}){this.isRunning=!1,this.canvasId=null,this.maxStep=40,this.contextType="2d",this.height=0,this.width=0,this.resourceManager=null,this.inputManager=null,this.loadingForeground="#00F",this.loadingBackground="#FFF",this.gameAreaId=null,this.canvasPercentage=0,Object.assign(this,t),this.resourceManager||(this.resourceManager=new n)}setHeight(t){this.height=t,this.canvas.height=t}setWidth(t){this.width=t,this.canvas.width=t}stop(){this.isRunning=!1}run(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())}loadResources(t){}init(){this.canvas||(this.canvas=document.getElementById(this.canvasId)),this.canvas?(this.context||(this.context=this.canvas.getContext(this.contextType)),this.context?(this.setHeight(this.height||this.canvas.height),this.setWidth(this.width||this.canvas.width),this.inputManager||(this.gameAreaId&&this.canvasPercentage?this.inputManager=new s({canvas:this.canvas,gameArea:document.getElementById(this.gameAreaId),canvasPercentage:this.canvasPercentage}):this.inputManager=new s({canvas:this.canvas})),this.inputManager.resize(),this.isRunning=!0):alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")):alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")}initInput(t){}handleInput(t,e){}gameLoop(){this.currTime=(new Date).getTime(),this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep),this.prevTime=this.currTime,this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())}launchLoop(){this.elapsedTime=0;var t=Date.now();this.currTime=t,this.prevTime=t,this.loopRunner=this.loopRunner.bind(this),window.requestAnimationFrame(this.loopRunner)}loopRunner(){this.gameLoop(),window.requestAnimationFrame(this.loopRunner)}update(t){}updateLoadingScreen(t){}draw(t){"2d"===this.contextType&&(t.font="14px sans-serif",t.fillText("This game does not have its own draw function!",10,50))}drawLoadingScreen(t){if(this.resourceManager&&"2d"===this.contextType){t.fillStyle=this.loadingBackground,t.fillRect(0,0,this.width,this.height),t.fillStyle=this.loadingForeground,t.strokeStyle=this.loadingForeground;var e=Math.floor(this.height/12);t.font="bold "+e+"px sans-serif",t.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",.1*this.width,.55*this.height),t.strokeRect(.1*this.width,.7*this.height,.8*this.width,.1*this.height),t.fillRect(.1*this.width,.7*this.height,.8*this.width*this.resourceManager.getPercentComplete()/100,.1*this.height),t.lineWidth=4}}}},function(t,e,i){const s=i(31),n=i(8),o=i(15),a=i(16),r=i(17),h=i(0);function l(t,e,i){return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function c(t){return parseFloat(t)||0}function u(t){var e=function(t){return window.getComputedStyle(t,null)||{}}(t),i=c(e.marginLeft),s=c(e.marginTop);return{w:i+c(e.marginRight),h:s+c(e.marginBottom)}}t.exports=class{constructor(t={}){function e(t){t.remove()}if(this.keyActions=null,this.mouseAction=null,this.touchAction=null,this.canvas=null,this.handleMouse=!0,this.handleTouch=!0,this.handleKeys=!0,this.gameArea=null,this.canvasPercentage=null,this.emulateMouse=!0,this.hammer=null,Object.assign(this,t),this.hammer||(this.hammer=new s(document.body,{prevent_default:!0,drag_max_touches:0,hold:!1})),this.keyActions||(this.keyActions={}),this.handleKeys&&(this.pushCleanup(l(document,"keydown",this.keydown.bind(this)),e),this.pushCleanup(l(document,"keyup",this.keyup.bind(this)),e)),"ontouchstart"in document?(this.pushCleanup(l(document,"touchstart",this.touchstart.bind(this)),e),this.pushCleanup(l(document,"touchmove",this.touchmove.bind(this)),e),this.pushCleanup(l(document,"touchend",this.touchend.bind(this)),e)):(this.pushCleanup(l(document,"mousedown",this.mousedown.bind(this)),e),this.pushCleanup(l(document,"mousemove",this.mousemove.bind(this)),e),this.pushCleanup(l(document,"mouseup",this.mouseup.bind(this)),e)),this.mouseAction||(this.mouseAction=new a),this.touchAction||(this.touchAction=new o),this.emulateMouse,this.gameArea&&this.canvasPercentage){var i=this.resize.bind(this);this.pushCleanup(l(window,"resize",i),e),this.pushCleanup(l(window,"orientationchange",i),e)}this.normalizePoint=this.normalizePoint.bind(this),this.insideCanvas=this.insideCanvas.bind(this)}on(t,e){var i=this.hammer,s=this.removeCleanup;i.on(t,e);var n=this.pushCleanup([t,e],function(t){i.off.apply(i,t)});return{remove:function(){s(n),n()}}}insideCanvas(t){return r(t,this.canvas)}mapToKey(t,e){this.keyActions[e]=t}addKeyAction(t,e){Array.isArray(t)||(t=[t]);const i=t.map(t=>{const i=new n;return e&&(i.behavior=i.detectInitialPressOnly),this.mapToKey(i,t),i});return i.length>1?i:i[0]}addArrowKeyActions(){this.addKeyAction(h.UP),this.addKeyAction(h.DOWN),this.addKeyAction(h.LEFT),this.addKeyAction(h.RIGHT)}mouseUp(t){this.mouseup(t)}mouseup(t){this.mouseAction.release(this.normalizePoint(t))}mouseDown(t){this.mousedown(t)}mousedown(t){this.mouseAction.release(null);var e=this.normalizePoint(t);this.mouseAction.insideCanvas=this.insideCanvas(e),this.mouseAction.press(e)}mouseMove(t){this.mousemove(t)}mousemove(t){this.mouseAction.position=this.normalizePoint(t)}touchStart(t){this.touchstart(t)}touchstart(t){this.touchAction.release(null),console.log(t.touches,t);const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.insideCanvas=e.some(this.insideCanvas),this.touchAction.press(e),this.emulateMouse&&this.mousedown(t.touches[0])}touchEnd(t){this.touchend(t)}touchend(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.release(e),this.emulateMouse&&this.mouseUp(t.touches[0])}touchMove(t){this.touchmove(t)}touchmove(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.positions=e,this.touchAction.startPositions&&t.preventDefault(),this.emulateMouse&&this.mousemove(t.touches[0])}getKeyAction(t){return this.keyActions?this.keyActions[t.keyCode]||this.keyActions[String.fromCharCode(t.keyCode)]:null}keyPressed(t){this.keydown(t)}keyDown(t){this.keydown(t)}keydown(t){var e=this.getKeyAction(t);e&&!e.isPressed()&&e.press()}keyReleased(t){this.keyup(t)}keyup(t){var e=this.getKeyAction(t);e&&e.release()}getMouseLoc(t){return this.normalizePoint(t)}normalizePoint(t){if(t){var e=(i=this.canvas,{x:(s=i.getBoundingClientRect()).left,y:s.top});return this.zoomRatio?{x:Math.round((t.clientX-e.x)/this.zoomRatio),y:Math.round((t.clientY-e.y)/this.zoomRatio)}:{x:Math.round(t.clientX-e.x),y:Math.round(t.clientY-e.y)}}var i,s}resize(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var t=this.canvas.width,e=this.canvas.height,i=u(document.body),s=window.innerWidth-i.w,n=window.innerHeight-i.h,o=t/e,a="",r="";s/n>o?(a=(s=n*o)+"px",r=n+"px"):(a=s+"px",r=Math.round(s/o)+"px"),this.zoomRatio=s/t*this.canvasPercentage,this.gameArea.style.width=a,this.gameArea.style.height=r;var h=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.width=h,this.canvas.style.height=h,this.canvas.style.display="block",this.canvas.style.marginLeft="auto",this.canvas.style.marginRight="auto"}}pushCleanup(t,e){}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPositions=null,this.endPositions=null,this.positions=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPositions=t,this.positions=t,super.press(t)}release(t){this.endPositions=t,super.release(t)}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPosition=null,this.endPosition=null,this.position=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPosition=t,this.position=t,super.press(t)}release(t){this.endPosition=t||this.position,super.release(t)}}},function(t,e){t.exports=function(t,e){return!(t.x<0||t.x>e.width||t.y<0||t.y>e.height)}},function(t,e,i){"use strict";const s=i(19),n=i(21),o=i(22);var a={};function r(t,e){var i=e;return t&&(i=[t,e].join("/")),i.replace(/\/{2,}/g,"/")}function h(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(e.width,0),i.scale(-1,1),i.drawImage(t,0,0),e.toDataURL()}function l(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(0,e.height),i.scale(1,-1),i.drawImage(t,0,0),e.toDataURL()}class c{constructor(t){var e=this;e.name=t,e.complete=!1,e.img=new Image,e.img.addEventListener("load",function(){e.complete=!0},!1)}load(){this.img.src=this.name}}t.exports=class{constructor(t={}){this.allLoaded=!1,this.imageDir=null,this.soundDir=null,this.resourceList=a,Object.assign(this,t),this.Sound||(s("WebAudio")?this.Sound=o:this.Sound=n)}loadImage(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.imageDir,t);if(this.resourceList[e])return this.resourceList[e].img;this.allLoaded=!1;const i=new c(e);return i.load(),this.resourceList[e]=i,i.img});return e?i[0]:i}loadSound(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.soundDir,t);if(this.resourceList[e])return this.resourceList[e];this.allLoaded=!1;const i=new this.Sound(e);return this.resourceList[e]=i,i});return e?i[0]:i}flipImage(t,e,i){this.allLoaded=!1;const s=new c(t);this.resourceList[t]=s;const n=new Image;return n.addEventListener("load",function t(){s.img.src=i(n),n.removeEventListener("load",t)}),n.src=e.src,s.img}flipImageX(t,e){return this.flipImage(t,e,h)}flipImageY(t,e){return this.flipImage(t,e,l)}resourcesReady(){if(this.allLoaded)return!0;for(var t in this.resourceList)if(!this.resourceList[t].complete)return!1;return this.allLoaded=!0,!0}getPercentComplete(){var t=0,e=0;for(var i in this.resourceList)e++,this.resourceList[i].complete&&(t+=1);return 0===e?0:Math.round(t/e*100)}}},function(t,e,i){"use strict";(function(e){i(32);t.exports=function t(i){return"shittySound"==i?!(!t("android")&&!t("ios")||!t("webkit")):"android"==i?parseFloat(navigator.userAgent.split("Android ")[1])||void 0:"ios"!=i&&("webkit"==i?parseFloat(navigator.userAgent.split("WebKit/")[1])||void 0:"WebAudio"==i?!!e.AudioContext:"touch"===i&&"ontouchstart"in document.documentElement)}}).call(this,i(20))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){const i={"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"};t.exports=class{constructor(t={}){this.name=null,this.complete=!1,this.probably=[],this.maybe=[],Object.assign(this,t),this.formats=i,"string"==typeof t&&this.load(t)}load(t){this.name=t,this.complete=!0}loop(t){}play(t,e){}_initAudio(t,e){}_chooseFormat(){if(!this.probably.length&&!this.maybe.length){var t,e,i=new Audio;for(t in this.formats)"probably"!==(e=i.canPlayType(t))?"maybe"!==e||this.maybe.push(this.formats[t]):this.probably.push(this.formats[t])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""}_nextFormat(){return this.probably.length>1?(this.probably.shift(),this.probably[0]):1===this.probably.length&&(this.probably.length=0,this.maybe.length)?this.maybe[0]:this.maybe.length>1?(this.maybe.shift(),this.maybe[0]):(1===this.maybe.length&&(this.maybe.length=0),"")}}},function(t,e,i){const s=i(21),n=i(33),o=i(19);var a=null;if(o("WebAudio")&&(a=new window.AudioContext),o("shittySound")){document.addEventListener("touchstart",function t(){const e=a.createBufferSource();e.buffer=a.createBuffer(1,1,22050),e.connect(a.destination),e.start(0),document.removeEventListener("touchstart",t)})}t.exports=class extends s{constructor(t={}){super(t),this.audioContext=a,this.buffer=null,Object.assign(this,t)}load(t){var e=this;this.name=t;var i=n(t);i===t&&(t=i+this._chooseFormat());var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(t){e.audioContext.decodeAudioData(t.target.response,function(t){e.buffer=t,e.complete=!0},function(t){e._nextFormat()?e.load(e.name):e.complete=!0})},s.send()}loop(t){this.buffer&&this._initAudio(t,!0).start(0)}play(t,e){this.buffer&&(e=e||0,this._initAudio(t,!1).start(e))}_initAudio(t,e){e="boolean"==typeof e&&e;var i=this.audioContext.createBufferSource();if(i.buffer=this.buffer,i.loop=e,t){var s=this.audioContext.createGain();s.gain.value=t,i.connect(s),s.connect(this.audioContext.destination)}else i.connect(this.audioContext.destination);return i}}},function(t,e,i){const s=i(24);class n{constructor(t={}){this.currFrameIndex=0,this.animTime=0,this.totalDuration=0,this.height=64,this.width=64,this.image=null,this.offsetX=0,this.offsetY=0,this.frames=void 0,Object.assign(this,t),this.start()}createFromSheet(t,e,i,s,o,a){var r=new n({image:i,height:o,width:s}),h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<t;c++)l=h?e[c]:e,r.addFrame(l,c,a);return r}clone(){return new n({image:this.image,frames:this.frames,totalDuration:this.totalDuration})}addFrame(t,e,i){this.frames||(this.frames=[]),this.totalDuration+=t,this.frames.push(new s({endTime:this.totalDuration,image:this.image,imgSlotX:e,imgSlotY:i}))}start(){this.animTime=0,this.currFrameIndex=0}update(t){if(this.frames.length>1)for(this.animTime+=t,this.animTime>=this.totalDuration&&(this.animTime=this.animTime%this.totalDuration,this.currFrameIndex=0);this.animTime>this.frames[this.currFrameIndex].endTime;)this.currFrameIndex++}getCurrentFrame(){return 0===this.frames.length?null:this.frames[this.currFrameIndex]}draw(t,e,i){var s=this.getCurrentFrame();t.drawImage(this.image,s.imgSlotX*this.width+this.offsetX,s.imgSlotY*this.height+this.offsetY,this.width,this.height,e,i,this.width,this.height)}}t.exports=n},function(t,e){t.exports=class{constructor(t={}){this.endTime=0,this.imgSlotX=0,this.imgSlotY=0,this.image=null,Object.assign(this,t)}}},function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e){const i=180/Math.PI;t.exports=function(t){return t*i}},function(t,e){t.exports=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}},function(t,e){class i{constructor(t={}){this.x=0,this.y=0,this.dx=0,this.dy=0,this.maxSpeed=0,this.name=null,this.collisionRadius=40,Object.assign(this,t)}update(t){this.x+=this.dx*t,this.y+=this.dy*t,this.anim.update(t)}limitSpeed(t){return this.maxSpeed&&Math.abs(t)>this.maxSpeed?t>0?this.maxSpeed:t<0?this.maxSpeed:0:t}getCurrentFrame(){if(this.anim)return this.anim.getCurrentFrame()}draw(t){this.anim&&this.anim.draw(t,this.x,this.y)}clone(){return new i({anim:this.anim.clone()})}}t.exports=i},function(t,e,i){(function(e){const s=i(46);console.log(Box2D,"Box2D",e,window);const n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.b2BodyDef,a=Box2D.Dynamics.b2Body,r=Box2D.Dynamics.b2FixtureDef,h=(Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2World),l=Box2D.Collision.Shapes.b2PolygonShape,c=Box2D.Collision.Shapes.b2CircleShape;t.exports=class{constructor(t={}){this.intervalRate=60,this.adaptive=!1,this.bodiesMap=null,this.fixturesMap=null,this.jointsMap=null,this.b2World=null,this.gravityX=0,this.gravityY=9.8,this.allowSleep=!0,this.resolveCollisions=!1,this.contactListener=null,this.collisions=null,this.scale=30,this.bodiesMap={},this.fixturesMap={},this.jointsMap={},Object.assign(this,t),this.b2World=new h(new n(this.gravityX,this.gravityY),this.allowSleep),this.intervalRate&&(this.intervalRate=parseInt(this.intervalRate,10)),this.resolveCollisions&&(this.contactListener=new s),this.contactListener&&this.addContactListener(this.contactListener)}update(t){this.contactListener&&this.contactListener.reset&&this.contactListener.reset();var e=Date.now();if(t)this.b2World.Step(t/1e3,10,10),this.b2World.ClearForces();else{var i=this.adaptive?(e-this.lastTimestamp)/1e3:1/this.intervalRate;this.b2World.Step(i,10,10),this.b2World.ClearForces()}return Date.now()-e}getState(){for(var t={},e=this.b2World.GetBodyList();e;e=e.m_next)e.IsActive()&&void 0!==e.GetUserData()&&null!==e.GetUserData()&&(t[e.GetUserData()]={x:e.GetPosition().x,y:e.GetPosition().y,angle:e.GetAngle(),center:{x:e.GetWorldCenter().x,y:e.GetWorldCenter().y},linearVelocity:e.m_linearVelocity,angularVelocity:e.m_angularVelocity},this.contactListener&&this.contactListener.collisions&&(t[e.GetUserData()].collisions=this.contactListener.collisions[e.GetUserData()]||null));return t}updateExternalState(t){var e=this.getState();for(var i in e){var s=t[i];s&&!s.staticBody&&s.update(e[i])}}setBodies(t){for(var e in t){var i=t[e];this.addBody(i)}this.ready=!0}addBody(t){t.alreadyScaled||(t.scaleShape(1/this.scale),t.scale=this.scale);var e,i,s,h,u,d=new o,p=new r;p.restitution=t.restitution,p.density=t.density,p.friction=t.friction,null!=t.maskBits&&(p.filter.maskBits=t.maskBits),null!=t.categoryBits&&(p.filter.categoryBits=t.categoryBits),null!=t.groupIndex&&(p.filter.groupIndex=t.groupIndex),t.staticBody?d.type=a.b2_staticBody:d.type=a.b2_dynamicBody,d.position.x=t.x,d.position.y=t.y,d.userData=t.id,d.angle=t.angle,d.linearDamping=t.linearDamping,d.angularDamping=t.angularDamping;var y=this.b2World.CreateBody(d);if(t.radius)p.shape=new c(t.radius),y.CreateFixture(p);else if(t.points){for(s=[],e=0;e<t.points.length;e++)(h=new n).Set(t.points[e].x,t.points[e].y),s[e]=h;p.shape=new l,p.shape.SetAsArray(s,s.length),y.CreateFixture(p)}else if(t.polys)for(i=0;i<t.polys.length;i++){for(s=t.polys[i],u=[],e=0;e<s.length;e++)(h=new n).Set(s[e].x,s[e].y),u[e]=h;p.shape=new l,p.shape.SetAsArray(u,u.length),y.CreateFixture(p)}else p.shape=new l,p.shape.SetAsBox(t.halfWidth,t.halfHeight),y.CreateFixture(p);this.bodiesMap[t.id]=y}setPosition(t,e,i){this.bodiesMap[t].SetPosition(new n(e,i))}setAngle(t,e){var i=this.bodiesMap[t];console.log("set angle",i.setAngle,i),i.setAngle(e)}setLinearVelocity(t,e,i){this.bodiesMap[t].SetLinearVelocity(new n(e,i))}setAngularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyImpulseDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyForceDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyImpulse(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}applyForce(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}setAngle(t,e){this.bodiesMap[t].SetAngle(e)}setAnglularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyTorque(t,e){this.bodiesMap[t].ApplyTorque(e)}setGravity(t){this.b2World.SetGravity(new n(t.x,t.y))}removeBody(t){this.bodiesMap[t]&&(this.fixturesMap[t]&&this.bodiesMap[t].DestroyFixture(this.fixturesMap[t]),this.b2World.DestroyBody(this.bodiesMap[t]),delete this.bodiesMap[t])}wakeUpBody(t){this.bodiesMap[t]&&this.bodiesMap[t].SetAwake(!0)}addContactListener(t){var e=new Box2D.Dynamics.b2ContactListener;t.beginContact&&(e.BeginContact=function(e){t.beginContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.endContact&&(e.EndContact=function(e){t.endContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.preSolve&&(e.PreSolve=function(e,i){t.preSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),t.postSolve&&(e.PostSolve=function(e,i){t.postSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),this.b2World.SetContactListener(e)}removeJoint(t){this.jointsMap[t]&&(this.b2World.DestroyJoint(this.jointsMap[t]),delete this.jointsMap[t])}addJoint(t){if(t&&t.id&&!this.jointsMap[t.id]){!t.alreadyScaled&&t.scaleJointLocation&&(t.scaleJointLocation(1/this.scale),t.scale=this.scale);var e=t.createB2Joint(this);e&&(this.jointsMap[t.id]=e)}}}}).call(this,i(20))},function(t,e){t.exports={entities:[{points:[{x:-100,y:-100},{x:568.10113,y:-100},{x:568.10113,y:0},{x:0,y:540},{x:-100,y:540}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",id:"uleftw",hidden:!0,wall:!0,restitution:1},{points:[{x:-100,y:540},{x:0,y:540},{x:568.10113,y:1080},{x:568.10113,y:1180},{x:-100,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,hidden:!0,wall:!0,id:"lleftw"},{points:[{x:1351.89887,y:-100},{x:2020,y:-100},{x:2020,y:540},{x:1920,y:540},{x:1351.89887,y:0}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"urighttw",hidden:!0,wall:!0},{points:[{x:1351.89887,y:1080},{x:1920,y:540},{x:2020,y:540},{x:2020,y:1180},{x:1351.89887,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"lrighttw",hidden:!0,wall:!0},{x:960,y:1180,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"bottomw",restitution:1,hidden:!0,wall:!0},{x:960,y:-100,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"topw",restitution:1,hidden:!0,wall:!0}],joints:[],canvas:{height:600,width:800},backImg:null}},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(n,o,a,r){"use strict";var h,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),u="function",d=Math.round,p=Math.abs,y=Date.now;function f(t,e,i){return setTimeout(A(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function v(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=n.console&&(n.console.warn||n.console.log);return o&&o.call(n.console,s,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==r&&null!==s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign;var x=v(function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&t[s[n]]===r)&&(t[s[n]]=e[s[n]]),n++;return t},"extend","Use `assign`."),b=v(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function T(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&h(s,i)}function A(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==u?t.apply(e&&e[0]||r,e):t}function P(t,e){return t===r?e:t}function w(t,e,i){g(C(e),function(e){t.addEventListener(e,i,!1)})}function M(t,e,i){g(C(e),function(e){t.removeEventListener(e,i,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function D(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function W(t){return Array.prototype.slice.call(t,0)}function _(t,e,i){for(var s=[],n=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];D(n,a)<0&&s.push(t[o]),n[o]=a,o++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s}function O(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((s=(i=l[o])?i+n:e)in t)return s;o++}return r}var L=1;function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var R="ontouchstart"in n,B=O(n,"PointerEvent")!==r,F=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=25,j=1,H=2,U=4,z=8,G=1,Y=2,X=4,V=8,J=16,K=Y|X,q=V|J,$=K|q,Q=["x","y"],Z=["clientX","clientY"];function tt(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&i.handler(e)},this.init()}function et(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&j&&s-n==0,a=e&(U|z)&&s-n==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=it(e));n>1&&!i.firstMultiple?i.firstMultiple=it(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,h=a?a.center:o.center,l=e.center=st(s);e.timeStamp=y(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(h,l),e.distance=at(h,l),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};e.eventType!==j&&o.eventType!==U||(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=a?(u=a.pointers,d=s,at(d[0],d[1],Z)/at(u[0],u[1],Z)):1,e.rotation=a?function(t,e){return rt(e[1],e[0],Z)+rt(t[1],t[0],Z)}(a.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=z&&(h>N||a.velocity===r)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,u=nt(h,l,c);s=u.x,n=u.y,i=p(u.x)>p(u.y)?u.x:u.y,o=ot(l,c),t.lastInterval=e}else i=a.velocity,s=a.velocityX,n=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=o}(i,e);var u,d;var f=t.element;E(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function it(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:y(),pointers:e,center:st(e),deltaX:t.deltaX,deltaY:t.deltaY}}function st(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:d(i/e),y:d(s/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?Y:X:e<0?V:J}function at(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function rt(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(k(this.element),this.evWin,this.domHandler)}};var ht={mousedown:j,mousemove:H,mouseup:U},lt="mousedown",ct="mousemove mouseup";function ut(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}T(ut,tt,{handler:function(t){var e=ht[t.type];e&j&&0===t.button&&(this.pressed=!0),e&H&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:j,pointermove:H,pointerup:U,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},yt="pointerdown",ft="pointermove pointerup pointercancel";function mt(){this.evEl=yt,this.evWin=ft,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(yt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),T(mt,tt,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=dt[s],o=pt[t.pointerType]||t.pointerType,a="touch"==o,r=D(e,t.pointerId,"pointerId");n&j&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):n&(U|z)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var gt={touchstart:j,touchmove:H,touchend:U,touchcancel:z},vt="touchstart",xt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}T(bt,tt,{handler:function(t){var e=gt[t.type];if(e===j&&(this.started=!0),this.started){var i=function(t,e){var i=W(t.touches),s=W(t.changedTouches);e&(U|z)&&(i=_(i.concat(s),"identifier",!0));return[i,s]}.call(this,t,e);e&(U|z)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Tt={touchstart:j,touchmove:H,touchend:U,touchcancel:z},At="touchstart touchmove touchend touchcancel";function St(){this.evTarget=At,this.targetIds={},tt.apply(this,arguments)}T(St,tt,{handler:function(t){var e=Tt[t.type],i=function(t,e){var i=W(t.touches),s=this.targetIds;if(e&(j|H)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,a=W(t.changedTouches),r=[],h=this.target;if(o=i.filter(function(t){return E(t.target,h)}),e===j)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;n=0;for(;n<a.length;)s[a[n].identifier]&&r.push(a[n]),e&(U|z)&&delete s[a[n].identifier],n++;if(!r.length)return;return[_(o.concat(r),"identifier",!0),r]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var Pt=2500,wt=25;function Mt(){tt.apply(this,arguments);var t=A(this.handler,this);this.touch=new St(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout(function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)},Pt)}}T(Mt,tt,{handler:function(t,e,i){var s="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)(function(t,e){t&j?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|z)&&Et.call(this,e)}).call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],o=Math.abs(e-n.x),a=Math.abs(i-n.y);if(o<=wt&&a<=wt)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=O(c.style,"touchAction"),Ct=It!==r,Dt="auto",Wt="manipulation",_t="none",Ot="pan-x",Lt="pan-y",kt=function(){if(!Ct)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)}),t}();function Rt(t,e){this.manager=t,this.set(e)}Rt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&this.manager.element.style&&kt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(I(t,_t))return _t;var e=I(t,Ot),i=I(t,Lt);if(e&&i)return _t;if(e||i)return e?Ot:Lt;if(I(t,Wt))return Wt;return Dt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=I(s,_t)&&!kt[_t],o=I(s,Lt)&&!kt[Lt],a=I(s,Ot)&&!kt[Ot];if(n){var r=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(r&&h&&l)return}if(!a||!o)return n||o&&i&K||a&&i&q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Bt=1,Ft=2,Nt=4,jt=8,Ht=jt,Ut=16;function zt(t){this.options=h({},this.defaults,t||{}),this.id=L++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=Bt,this.simultaneous={},this.requireFail=[]}function Gt(t){return t&Ut?"cancel":t&jt?"end":t&Nt?"move":t&Ft?"start":""}function Yt(t){return t==J?"down":t==V?"up":t==Y?"left":t==X?"right":""}function Xt(t,e){var i=e.manager;return i?i.get(t):t}function Vt(){zt.apply(this,arguments)}function Jt(){Vt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Vt.apply(this,arguments)}function qt(){zt.apply(this,arguments),this._timer=null,this._input=null}function $t(){Vt.apply(this,arguments)}function Qt(){Vt.apply(this,arguments)}function Zt(){zt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=P(e.recognizers,te.defaults.preset),new ee(t,e)}zt.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===D(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=D(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<jt&&s(e.options.event+Gt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=jt&&s(e.options.event+Gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Bt)))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ht|Ut|32)&&(this.state=Bt),this.state=this.process(e),this.state&(Ft|Nt|jt|Ut)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},T(Vt,zt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Ft|Nt),n=this.attrTest(t);return s&&(i&z||!n)?e|Ut:s||n?i&U?e|jt:e&Ft?e|Nt:Ft:32}}),T(Jt,Vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Lt),t&q&&e.push(Ot),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&K?(n=0===o?G:o<0?Y:X,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===a?G:a<0?V:J,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return Vt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(Kt,Vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),T(qt,zt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(U|z)&&!n)this.reset();else if(t.eventType&j)this.reset(),this._timer=f(function(){this.state=Ht,this.tryEmit()},e.time,this);else if(t.eventType&U)return Ht;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ht&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}}),T($t,Vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),T(Qt,Vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|q,pointers:1},getTouchAction:function(){return Jt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(K|q)?e=t.overallVelocity:i&K?e=t.overallVelocityX:i&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T(Zt,zt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&j&&0===this.count)return this.failTimeout();if(s&&n&&i){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Ht,this.tryEmit()},e.interval,this),Ft):Ht}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$t,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Qt,{direction:K}],[Jt,{direction:K},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var i;this.options=h({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(B?mt:F?St:R?Mt:ut))(i,et),this.touchAction=new Rt(this,this.options.touchAction),ie(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ie(t,e){var i,s=t.element;s.style&&(g(t.options.cssProps,function(n,o){i=O(s.style,o),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Ht)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Ft|Nt|jt)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof zt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=D(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return g(C(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return g(C(t),function(t){e?i[t]&&i[t].splice(D(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(te,{INPUT_START:j,INPUT_MOVE:H,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:Bt,STATE_BEGAN:Ft,STATE_CHANGED:Nt,STATE_ENDED:jt,STATE_RECOGNIZED:Ht,STATE_CANCELLED:Ut,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:X,DIRECTION_UP:V,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:q,DIRECTION_ALL:$,Manager:ee,Input:tt,TouchAction:Rt,TouchInput:St,MouseInput:ut,PointerEventInput:mt,TouchMouseInput:Mt,SingleTouchInput:bt,Recognizer:zt,AttrRecognizer:Vt,Tap:Zt,Pan:Jt,Swipe:Qt,Pinch:Kt,Rotate:$t,Press:qt,on:w,off:M,each:g,merge:b,extend:x,assign:h,inherit:T,bindFn:A,prefixed:O}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=te,(s=function(){return te}.call(e,i,e,t))===r||(t.exports=s)}(window,document)},function(t,e,i){"use strict";for(var s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.AudioContext;++n)window.AudioContext=window[s[n]+"AudioContext"];t.exports=window.AudioContext},function(t,e,i){"use strict";t.exports=function(t){return t.replace(/(.*)\.[^.]{1,4}$/,"")}},function(t,e,i){const s=i(35),n=i(25),o=i(26),a=i(9),r=i(27),h=i(36),l=i(1),c=i(6),u=i(10),d=i(17),p=i(37),y={averagePoints:s,degreesToRadians:n,radiansToDegrees:o,pointInPolygon:a,distance:r,degreesFromCenter:h,radiansFromCenter:l,scalePoints:c,translatePoints:u,insideCanvas:d,rotateRadiansAroundCenter:i(3),rotateDegreesAroundCenter:p};t.exports=y},function(t,e){t.exports=function(t){var e={x:0,y:0};return t.forEach(t,function(t){e.x+=t.x,e.y+=t.y}),e.x=e.x/t.length,e.y=e.y/t.length,e}},function(t,e,i){const s=i(26),n=i(1);t.exports=function(t,e){return s(n(t,e))}},function(t,e,i){const s=i(3),n=i(25);t.exports=function(t,e,i){return s(t,e,n(i))}},function(t,e,i){const s=i(28),n=i(23),o=0,a=2;t.exports=class extends s{constructor(t={}){super(t),this.state=a,this.walkingAnims=[],this.dyingAnims=[],this.idleAnims=[],this.direction=o,Object.assign(this,t)}updateDirection(t){this.x+=this.dx*t,this.y+=this.dy*t,this.state!==this.statics.STATE_DYING&&(this.dx>0&&0===this.dy?this.direction=this.statics.EAST:0===this.dx&&this.dy<0?this.direction=this.statics.NORTH:this.dx>0&&this.dy<0?this.direction=this.statics.NORTHEAST:this.dx<0&&this.dy<0?this.direction=this.statics.NORTHWEST:0===this.dx&&this.dy>0?this.direction=this.statics.SOUTH:this.dx>0&&this.dy>0?this.direction=this.statics.SOUTHEAST:this.dx<0&&this.dy>0?this.direction=this.statics.SOUTHWEST:this.dx<0&&0===this.dy&&(this.direction=this.statics.WEST),0===this.dx&&0===this.dy?this.state=this.statics.STATE_IDLE:this.state=this.statics.STATE_WALKING)}updateAnimations(t){this.state===this.statics.STATE_WALKING?this.anim=this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?this.anim=this.dyingAnims[this.direction]:this.anim=this.idleAnims[this.direction],this.anim.update(t)}createAnimations(t,e,i,s,o,a){var r=[],h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<8;c++){r[c]=new n({height:s,width:o,image:i});for(var u=0;u<t;u++)l=h?e[u]:e,r[c].addFrame(l,u+t*c,a)}return r}}},function(t,e,i){"use strict";var s={Circle:i(5),MultiPolygon:i(40),Polygon:i(12),Rectangle:i(41)};t.exports=s},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.polys=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle;for(var s=0;s<this.polys.length;s++){t.beginPath(),t.moveTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e);for(var n=1;n<this.polys[s].length;n++)t.lineTo((this.polys[s][n].x+this.x)*e,(this.polys[s][n].y+this.y)*e);t.lineTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e),t.closePath(),t.fill(),t.stroke()}t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.polys=n(this.polys,t),sup.scaleShape(t)}pointInShape(t){for(var e=0;e<this.polys.length;e++)if(o(t,a(this.polys[e],this)))return!0;return!1}}},function(t,e,i){const s=i(7);t.exports=class extends s{constructor(t={}){super(t),this.halfWidth=1,this.halfHeight=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.fillRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.strokeRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.halfHeight=this.halfHeight*t,this.halfWidth=this.halfWidth*t,super.scaleShape(t)}pointInShape(t){return t.x>=this.x-this.halfWidth&&t.x<=this.x+this.halfWidth&&t.y>=this.y-this.halfHeight&&t.y<=this.y+this.halfHeight}}},function(t,e,i){"use strict";var s={Distance:i(43),Prismatic:i(44),Revolute:i(45)};t.exports=s},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2DistanceJointDef;t.exports=class extends s{constructor(t={}){super(t),this.bodyPoint2=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint2&&(this.bodyPoint2.x=this.bodyPoint2.x*t,this.bodyPoint2.y=this.bodyPoint2.y*t,this.alreadyScaled=!0),super.scaleJointLocation(t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){let s,a;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),this.bodyPoint2&&(a=new n(this.bodyPoint2.x,this.bodyPoint2.y)),s=s||e.GetWorldCenter(),a=a||i.GetWorldCenter();const r=new o;return r.Initialize(e,i,s,a),this.jointAttributes&&Object.assign(r,this.jointAttributes),t.b2World.CreateJoint(r)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2PrismaticJointDef;t.exports=class extends s{constructor(t={}){super(t),this.axisScale=null,Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const s=t.bodiesMap[this.bodyId1],a=t.bodiesMap[this.bodyId2];if(s&&a){let r;this.bodyPoint1&&(r=new n(this.bodyPoint1.x,this.bodyPoint1.y)),r=r||s.GetWorldCenter();var e,i=new o;return e=this.axisScale?new n(this.axisScale.x,this.axisScale.y):new n(1,0),i.Initialize(s,a,r,e),this.jointAttributes&&Object.assign(i,this.jointAttributes),t.b2World.CreateJoint(i)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2RevoluteJointDef;t.exports=class extends s{constructor(t={}){super(t),Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){var e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){var s;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),s=s||e.GetWorldCenter();var a=new o;return a.Initialize(e,i,s,void 0),this.jointAttributes&&Object.assign(a,this.jointAttributes),t.b2World.CreateJoint(a)}}}}},function(t,e){t.exports=class{constructor(t={}){Object.assign(this,t),this.collisions=this.collisions||{}}reset(){this.collisions={}}postSolve(t,e,i,s){this.collisions[t]=this.collisions[t]||[],this.collisions[t].push({id:e,impulse:i.normalImpulses[0]}),this.collisions[e]=this.collisions[e]||[],this.collisions[e].push({id:t,impulse:i.normalImpulses[0]})}}},function(t,e,i){const s=i(13),n=i(29);t.exports=class extends s{constructor(t={}){super(t),console.log("boxgame options",t),this.box=null,this.boxUpdating=!0,this.entities=null,this.joints=null,Object.assign(this,t),this.box||(this.box=new n(t.boxOptions)),this.entities||(this.entities={}),this.joints||(this.joints={})}updateBox(t){this.boxUpdating&&(this.box.update(t),this.box.updateExternalState(this.entities))}addBody(t){this.entities[t.id]=t,this.box.addBody(t)}addBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addBody(t)})}removeBody(t){this.box.removeBody(t.id),delete this.entities[t.id]}removeBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeBody(t)})}addJoint(t){this.joints[t.id]=t,this.box.addJoint(t)}addJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addJoint(t)})}removeJoint(t){this.box.removeJoint(t.id),delete this.joints[t.id]}removeJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeJoint(t)})}}},function(t,e,i){"use strict";i.r(e);var s=i(2),n=i(30),o=i.n(n);var a=function(t,e){const{fullW:i,fullH:s,hexSide:n,sideW:o,sint1:a,ang1:r,sint2:h,ang2:l}=this.measurements;t.clearRect(0,0,this.width,this.height),t.strokeStyle=this.players[0].color,t.beginPath(),t.moveTo(o,1),t.lineTo(i-o,1),t.stroke(),t.strokeStyle=this.players[3].color,t.beginPath(),t.moveTo(o,s),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[1].color,t.beginPath(),t.moveTo(i-o,0),t.lineTo(i,s/2),t.stroke(),t.strokeStyle=this.players[2].color,t.beginPath(),t.moveTo(i,s/2),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[4].color,t.beginPath(),t.moveTo(o,s),t.lineTo(0,s/2),t.stroke(),t.strokeStyle=this.players[5].color,t.beginPath(),t.moveTo(0,s/2),t.lineTo(o,0),t.stroke(),this.players.forEach(i=>{i.face.dead||i.paddles[0].draw(t,e),i.face.draw(t,e)}),Object.keys(this.entities).forEach(e=>{this.entities[e].hidden||this.entities[e].draw(t)}),this.ball.draw(t,e)},r=i(4),h=i.n(r);const{entities:l}=s.box2d,{radiansFromCenter:c,rotateRadiansAroundCenter:u,distance:d}=s.utils,p=.0027,y=2500,f={x:0,y:0},m=2*Math.PI/360*1.75;function g(t,e,i,s){const n={x:30*e.x,y:30*e.y,brickPiece:!0,life:y,staticBody:!1,density:.001,playerId:e.playerId,fillStyle:h.a.rgb(e.playerId),drawCenter:!1,drawLocation:!1};for(let s=0;s<i;s++){const i={halfHeight:e.halfHeight/(2*Math.random()+2.5),halfWidth:e.halfWidth/(2*Math.random()+2.5)},s=new l.Rectangle(Object.assign({},n,i));t.addBody(s),t.box.setAngle(s.id,Math.random()*(2*Math.PI)),t.box.applyImpulse(s.id,Math.random()*(2*Math.PI),30)}if(s){t.explosions[Math.floor(Math.random()*t.explosions.length)].play()}}var v=function(t){if(this.updateBox(t),Object.keys(this.entities).forEach(e=>{const i=this.entities[e];i.brickPiece&&(i.life=i.life-t,i.life<0?this.removeBody(i):i.fillStyle=h.a.rgba(i.playerId,i.life/y*.6))}),this.ball&&this.ball.collisions&&this.ball.collisions.length)if(this.ball.collisions.forEach(t=>{const e=this.entities[t.id];if(e){if(e.brick)this.removeBody(t),g(this,e,6,!0);else if(e.king)console.log("king kill",e),this.scream.play(),e.dead=!0,Object.keys(this.entities).forEach(t=>{const i=this.entities[t];i.brick&&i.playerId===e.playerId&&(this.removeBody(i),g(this,i,3,!1))}),this.players[e.playerId].paddles.forEach(t=>{this.removeBody(t)}),this.removeBody(e);else if(e.paddle){const t=this.players[e.playerId];d(t.anchor,this.ball)>d(t.anchor,e)&&(this.ball.hitPlayer=t,this.ball.hitPaddle=e,t.firePressed&&(this.ball.caught=!0,this.ball.caughtPaddlePosition=t.position,this.ball.caughtPlayerId=e.playerId,this.ball.caughtPosition={x:this.ball.x,y:this.ball.y}))}e.wall?this.ball.wallHits++:this.ball.wallHits=0}}),this.removeBody(this.ball),this.ball.angularVelocity=null,this.ball.prevLinearVelocity=this.ball.linearVelocity,this.ball.linearVelocity=null,this.ball.caught){const t=this.players[this.ball.caughtPlayerId],e=t.position-this.ball.caughtPaddlePosition+2*Math.PI,i=u(t.anchor,this.ball.caughtPosition,e);if(this.ball.x=i.x,this.ball.y=i.y,t.firePressed);else{this.ball.caught=!1;const t=this.getBricksLeft(),e=this.ballSpeed+(330-t);this.addBody(this.ball);const i=c(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),s=i-c(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,i-5*s,e),this.ball.hitPaddle=null}}else{const t=this.getBricksLeft(),e=this.ballSpeed+(330-t),i=Math.round(Math.random())?-Math.random()*m:Math.random()*m;if(this.addBody(this.ball),this.ball.hitPaddle){const t=c(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),s=t-c(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,t-5*s+i,e),this.ball.hitPaddle=null,this.paddleSound.play()}else{const t=c(f,this.ball.prevLinearVelocity);this.box.applyForce(this.ball.id,t+i+i*this.ball.wallHits,e)}}game.players.forEach((e,i)=>{if(!e.face.dead){e.direction>0&&e.position<Math.PI?(e.position+=p*t,e.position=Math.min(e.position,Math.PI)):e.direction<0&&e.position>0&&(e.position-=p*t,e.position=Math.max(e.position,0));const s=u(e.pt,{x:e.pt.x,y:e.pt.y+this.distFromAnchor},e.angle+e.position-Math.PI/2),n=e.paddleOps;n.x=s.x,n.y=s.y,n.points=[{x:n.halfWidth,y:-n.halfHeight},{x:.7*n.halfWidth,y:n.halfHeight/2},{x:.4*n.halfWidth,y:n.halfHeight},{x:.4*-n.halfWidth,y:n.halfHeight},{x:.7*-n.halfWidth,y:n.halfHeight/2},{x:-n.halfWidth,y:-n.halfHeight}],e.firePressed?(n.strokeStyle=e.colorComplement,n.lineWidth=5):(n.strokeStyle=e.color,n.lineWidth=1),n.points=e.paddleOps.points.map(t=>u(f,t,e.angle+e.position-Math.PI/2)),e.update++,n.id=i+"paddle"+e.update;const o=new l.Polygon(n);if(game.addBody(o),e.paddles.push(o),e.paddles.length>3){const t=e.paddles.shift();game.removeBody(t)}}})},x=i(5),b=i.n(x),T=i(1),A=i.n(T),S=i(3),P=i.n(S);const w={x:0,y:0};console.log("wtf too many bricks?");let M=[[6,1],[10,1],[14,1],[34,1],[38,1],[42,1],[8,3],[12,3],[16,3],[32,3],[36,3],[40,3],[6,5],[10,5],[14,5],[34,5],[38,5],[42,5],[8,7],[12,7],[16,7],[32,7],[36,7],[40,7],[10,9],[14,9],[18,9],[30,9],[34,9],[38,9],[12,11],[16,11],[20,11],[24,11],[28,11],[32,11],[36,11],[14,13],[18,13],[22,13],[26,13],[30,13],[34,13],[12,15],[16,15],[20,15],[24,15],[28,15],[32,15],[36,15],[18,17],[22,17],[26,17],[30,17],[24,19]];var E=M=M.map(t=>((t=[12.5*t[0],12.5*t[1]])[0]=t[0]-300,t)),I=i(12),C=i.n(I);class D extends C.a{draw(t,e){const i=t.lineWidth;t.save(),t.lineWidth=1,t.lineJoin="round",t.fillStyle=this.fillStyle;const s=t.createLinearGradient(0,this.prey,0,this.prey+2*this.halfHeight);s.addColorStop(0,t.fillStyle),s.addColorStop(1,"#444"),t.translate(this.prex,this.prey),t.rotate(this.preAngle),t.translate(-this.prex,-this.prey),t.fillStyle=s,t.strokeStyle=this.strokeStyle,t.fillRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.strokeRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.restore(),t.lineWidth=i}}class W extends b.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=t.lineWidth;t.lineWidth=2,t.fillStyle=this.dead?this.deadFillStyle:this.fillStyle,t.strokeStyle=this.dead?this.fillStyle:this.strokeStyle,t.beginPath(),t.arc(i,s,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const o={x:i-17,y:s-15},a={x:i+17,y:s-15};if(this.dead)t.lineWidth=2,t.strokeStyle=this.fillStyle,t.beginPath(),t.moveTo(o.x-10,o.y-10),t.lineTo(o.x+10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(o.x+10,o.y-10),t.lineTo(o.x-10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x-10,a.y-10),t.lineTo(a.x+10,a.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x+10,a.y-10),t.lineTo(a.x-10,a.y+10),t.stroke();else{t.lineWidth=1,t.fillStyle="#FFF",t.beginPath(),t.arc(i-17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.beginPath(),t.arc(i+17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const n=A()(o,{x:this.ball.x*e,y:this.ball.y*e}),r=A()(a,{x:this.ball.x*e,y:this.ball.y*e}),h=P()(o,{x:i-17,y:s-20},n),l=P()(a,{x:i+17,y:s-20},r);t.fillStyle="black",t.beginPath(),t.arc(h.x,h.y,6,0,2*Math.PI,!0),t.closePath(),t.fill(),t.beginPath(),t.arc(l.x,l.y,6,0,2*Math.PI,!0),t.closePath(),t.fill()}t.lineWidth=n}}var _=i(0),O=i.n(_);i(6);const L=10;function k(t,e,i,s,n){let o=t.inputManager.keyActions[i].isPressed();if(t.inputManager.keyActions[e].isPressed()?t.players[n].firePressed=!0:t.players[n].firePressed=!1,o||t.inputManager.keyActions[s].isPressed())return t.players[n].direction=o?-1:1;t.players[n].direction=0}var R=function(t){k(this,O.a.SLASH,O.a.LEFT,O.a.RIGHT,2),k(this,"Q","W","E",5),k(this,"X","C","V",4),k(this,"B","N","M",3),k(this,"T","Y","U",0),k(this,"O","P",O.a.OPEN_BRACKET,1),t.keyActions[O.a.UP].isPressed()&&this.box.applyImpulseDegrees("ball",0,L),t.keyActions[O.a.DOWN].isPressed()&&this.box.applyImpulseDegrees("ball",180,L),t.keyActions.A.isPressed()&&this.box.applyTorque("ball",100*-L),t.keyActions.D.isPressed()&&this.box.applyTorque("ball",100*L)};const{BoxGame:B,entities:F,joints:N}=s.box2d,{rotateRadiansAroundCenter:j,distance:H}=s.utils;console.log("update",v);const U=568.10113077769,z=Math.asin(.6889532509648748),G=Math.asin(.7248057794927981);console.log("angle in radians",z,G);const Y={x:0,y:0},X=new B({canvasId:"canvas",gameAreaId:"gameArea",canvasPercentage:1,boxOptions:{resolveCollisions:!0,gravityY:0},draw:a,update:v,loadResources:function(t){this.explosions=[],this.explosions.push(t.loadSound("sounds/explosion5")),this.explosions.push(t.loadSound("sounds/explosion7")),this.explosions.push(t.loadSound("sounds/explosion8")),this.scream=t.loadSound("sounds/scream"),this.paddleSound=t.loadSound("sounds/paddle")},initInput:function(t){t.addArrowKeyActions(),t.addKeyAction(["A","D","Q","W","E","X","C","V","B","N","M","T","Y","U","O","P",s.keys.OPEN_BRACKET,s.keys.SLASH])},handleInput:R,getBricksLeft:function(){return Object.keys(this.entities).reduce((t,e)=>this.entities[e].brick?t+1:t,0)},distFromAnchor:295,ballSpeed:400}),V={x:960,y:540,ptRadius:10,radius:10,points:[0,1,2,3,4,5,6,7,8],id:"ball",wallHits:0,hidden:!0};V.points=V.points.map((t,e)=>{return j(Y,{x:0,y:V.ptRadius},2*Math.PI/V.points.length*e)}),X.ball=new class extends b.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=this.ptRadius;if(t.fillStyle="rgba(255,127,0,0.66)",t.beginPath(),t.arc(i,s,n,0,2*Math.PI,!0),t.closePath(),t.fill(),this.linearVelocity){const e=.06,o=.85,a=A()(w,this.linearVelocity),r={x:i,y:s};(this.caught?[1,2]:[1,2,3,4,5]).map((t,h)=>P()(r,{x:i,y:s-n*(o*t)},a+Math.PI+(t%2?e:-e))).forEach((e,i)=>{t.fillStyle="rgba(255,255,0,0.5)",t.beginPath(),t.arc(e.x,e.y,n-n*(.15*(i+1)),0,2*Math.PI,!0),t.closePath(),t.fill()})}}}(V),X.addBody(X.ball),o.a.entities.forEach(function(t){const e=F[t.type];e&&(t.drawCenter=!1,X.addBody(new e(t)))});const J=.6043122389547919,K=[0,z,G+Math.PI/2,Math.PI,Math.PI+z,1.5*Math.PI+G];const q=[[960,0],[1920-U*J,540*(1-J)],[1920-U*J,540+540*J],[960,1080],[U*J,540+540*J],[U*J,540*(1-J)]].map((t,e)=>({pt:{x:t[0],y:t[1]},color:h.a.rgb(e),colorComplement:h.a.complement(e),angle:K[e],direction:0,position:Math.PI/2,update:0}));console.log("players",q);const $=q[0].pt;q.forEach((t,e)=>{console.log("creating player",t);const i=t.pt,s=j(i,{x:i.x,y:i.y+55},t.angle),n=new W({x:s.x,y:s.y,radius:50,staticBody:!0,restitution:2,fillStyle:t.color,deadFillStyle:h.a.rgba(e,.25),king:!0,ball:X.ball,playerId:e});X.addBody(n),t.face=n;const o=j(i,{x:i.x,y:i.y+X.distFromAnchor},t.angle);t.paddleOps={x:o.x,y:o.y,halfWidth:55,halfHeight:12,restitution:1,fillStyle:t.color,strokeStyle:t.color,paddle:!0,drawCenter:!1,playerId:e,density:100,staticBody:!0,id:e+"paddle0",hidden:!0,drawLocation:!1},t.paddleOps.points=[{x:t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight},{x:t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight}],t.paddleOps.points=t.paddleOps.points.map(e=>j(Y,e,t.angle));const a=new F.Polygon(t.paddleOps);X.addBody(a),t.paddles=[a],t.anchor=new F.Circle({x:t.pt.x,y:t.pt.y,radius:.1,staticBody:!0,playerId:e,hidden:!0}),X.addBody(t.anchor),a.distance=H(t.anchor,a);const r=new N.Distance({bodyId1:t.anchor.id,bodyId2:a.id,id:Math.random()+"j"});X.addJoint(r),E.forEach((s,n)=>{const o={x:s[0]+960,y:s[1],halfWidth:25,halfHeight:12.5,staticBody:!0,restitution:1.5,playerId:e,fillStyle:t.color,brick:!0,preAngle:t.angle},a=j($,o,t.angle);o.x=a.x,o.y=a.y,o.x+=i.x-q[0].pt.x,o.y+=i.y-q[0].pt.y,o.points=[{x:o.halfWidth,y:-o.halfHeight},{x:o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:-o.halfHeight}],o.points=o.points.map(e=>j(Y,e,t.angle)),o.prex=o.x,o.prey=o.y;const r=new D(o);X.addBody(r)})}),X.measurements={fullW:1920,fullH:1080,hexSide:783.79773844413,sideW:U,sint1:.6889532509648748,ang1:z,sint2:.7248057794927981,ang2:G},X.players=q,console.log(X),window.game=X,X.run(),X.box.applyForceDegrees("ball",360*Math.random(),X.ballSpeed)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3NjYWxlUG9pbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0dhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3BvaW50SW5Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy90cmFuc2xhdGVQb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9Kb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvR2FtZUNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvVG91Y2hBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL01vdXNlQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9pbnNpZGVDYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL1Jlc291cmNlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvaGFzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3NvdW5kcy9Tb3VuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvc291bmRzL1dlYkF1ZGlvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9BbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0FuaW1GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGVncmVlc1RvUmFkaWFucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcmFkaWFuc1RvRGVncmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGlzdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94LmpzIiwid2VicGFjazovLy8uL3NyYy9ib3hEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3NoaW1zL0F1ZGlvQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcmVtb3ZlRXh0ZW5zaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvYXZlcmFnZVBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGVncmVlc0Zyb21DZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3JlaW5lci9DcmVhdHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL011bHRpUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9qb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9EaXN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1ByaXNtYXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1Jldm9sdXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9saXN0ZW5lcnMvQ29udGFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94R2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXBkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9CYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9icmlja3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JyaWNrLmpzIiwid2VicGFjazovLy8uL3NyYy9GYWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9oYW5kbGVJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNBTkNFTCIsIkhFTFAiLCJCQUNLX1NQQUNFIiwiVEFCIiwiQ0xFQVIiLCJSRVRVUk4iLCJFTlRFUiIsIlNISUZUIiwiQ09OVFJPTCIsIkFMVCIsIlBBVVNFIiwiQ0FQU19MT0NLIiwiRVNDQVBFIiwiU1BBQ0UiLCJQQUdFX1VQIiwiUEFHRV9ET1dOIiwiRU5EIiwiSE9NRSIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsIlBSSU5UU0NSRUVOIiwiSU5TRVJUIiwiREVMRVRFIiwiTlVNMCIsIk5VTTEiLCJOVU0yIiwiTlVNMyIsIk5VTTQiLCJOVU01IiwiTlVNNiIsIk5VTTciLCJOVU04IiwiTlVNOSIsIlNFTUlDT0xPTiIsIkVRVUFMUyIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIiwiQ09OVEVYVF9NRU5VIiwiTlVNUEFEMCIsIk5VTVBBRDEiLCJOVU1QQUQyIiwiTlVNUEFEMyIsIk5VTVBBRDQiLCJOVU1QQUQ1IiwiTlVNUEFENiIsIk5VTVBBRDciLCJOVU1QQUQ4IiwiTlVNUEFEOSIsIk1VTFRJUExZIiwiQUREIiwiU0VQQVJBVE9SIiwiU1VCVFJBQ1QiLCJERUNJTUFMIiwiRElWSURFIiwiRjEiLCJGMiIsIkYzIiwiRjQiLCJGNSIsIkY2IiwiRjciLCJGOCIsIkY5IiwiRjEwIiwiRjExIiwiRjEyIiwiRjEzIiwiRjE0IiwiRjE1IiwiRjE2IiwiRjE3IiwiRjE4IiwiRjE5IiwiRjIwIiwiRjIxIiwiRjIyIiwiRjIzIiwiRjI0IiwiTlVNX0xPQ0siLCJTQ1JPTExfTE9DSyIsIlVQX0RQQUQiLCJET1dOX0RQQUQiLCJMRUZUX0RQQUQiLCJSSUdIVF9EUEFEIiwiQ09NTUEiLCJQRVJJT0QiLCJTTEFTSCIsIkJBQ0tfUVVPVEUiLCJPUEVOX0JSQUNLRVQiLCJCQUNLX1NMQVNIIiwiQ0xPU0VfQlJBQ0tFVCIsIlFVT1RFIiwiTUVUQSIsImNlbnRlciIsIngiLCJ5IiwicHQiLCJNYXRoIiwiUEkiLCJhdGFuIiwid2luZG93IiwiZnJvemVuanMiLCJHYW1lQ29yZSIsIklucHV0TWFuYWdlciIsIlJlc291cmNlTWFuYWdlciIsIk1vdXNlQWN0aW9uIiwiVG91Y2hBY3Rpb24iLCJrZXlzIiwiQW5pbWF0aW9uIiwiQW5pbUZyYW1lIiwidXRpbHMiLCJTcHJpdGUiLCJyZWluZXIiLCJDcmVhdHVyZSIsInNvdW5kcyIsIldlYkF1ZGlvIiwiYm94MmQiLCJlbnRpdGllcyIsImpvaW50cyIsIkJveCIsIkJveEdhbWUiLCJhbmdsZSIsInNpbiIsImNvcyIsIm5ld1B0IiwieG5ldyIsInluZXciLCJjb2xvcnMiLCJSR0IySFNWIiwicmdiIiwiYSIsImIiLCJoc3YiLCJtYXgiLCJnIiwiZGlmIiwibWluMyIsInNhdHVyYXRpb24iLCJodWUiLCJyb3VuZCIsImlkIiwiY29uc29sZSIsImxvZyIsInJnYmEiLCJjb21wbGVtZW50IiwiaCIsIkh1ZVNoaWZ0IiwidGVtcHJnYiIsImZsb29yIiwiZiIsInEiLCJIU1YyUkdCIiwiRW50aXR5IiwiZGlzdGFuY2UiLCJbb2JqZWN0IE9iamVjdF0iLCJvcHRpb25zIiwic3VwZXIiLCJ0aGlzIiwicmFkaXVzIiwiYXNzaWduIiwiY3R4Iiwic2NhbGUiLCJvZ0xpbmVXaWR0aCIsImxpbmVXaWR0aCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbCIsInN0cm9rZSIsInN0YXRpY0JvZHkiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwibW92ZVRvIiwibGluZVRvIiwicmVzdG9yZSIsImRyYXciLCJzY2FsZVNoYXBlIiwicG9pbnQiLCJzY2FsZVBvaW50cyIsInBvaW50cyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInJhbmRvbSIsIkRhdGUiLCJub3ciLCJkcmF3TG9jYXRpb24iLCJkcmF3Q2VudGVyIiwicmVzdGl0dXRpb24iLCJkZW5zaXR5IiwiZnJpY3Rpb24iLCJsaW5lYXJEYW1waW5nIiwibGluZWFyVmVsb2NpdHkiLCJhbmd1bGFyVmVsb2NpdHkiLCJhbmd1bGFyRGFtcGluZyIsIm1hc2tCaXRzIiwiY2F0ZWdvcnlCaXRzIiwiZ3JvdXBJbmRleCIsInN0YXRlIiwiY2VudGVyU3R5bGUiLCJhbHJlYWR5U2NhbGVkIiwic3RhdGljcyIsIk5PUk1BTCIsIkRFVEVDVF9JTklUQUxfUFJFU1NfT05MWSIsIlNUQVRFX1JFTEVBU0VEIiwiU1RBVEVfUFJFU1NFRCIsIlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0UiLCJTVEFURV9NT1ZFRCIsImJlaGF2aW9yIiwiYW1vdW50IiwicmVzZXQiLCJwcmVzcyIsInJlbGVhc2UiLCJwcmVzc0FtdCIsInJldFZhbCIsInBvbHlnb24iLCJwb2x5IiwiaW5zaWRlUG9seSIsImoiLCJsZW5ndGgiLCJ4aSIsInlpIiwieGoiLCJ5aiIsInRyYW5zbGF0ZVBvaW50cyIsInRyYW5zbGF0aW9uIiwiYm9keUlkMSIsImJvZHlJZDIiLCJib2R5UG9pbnQxIiwiam9pbnRBdHRyaWJ1dGVzIiwicG9pbnRJblBvbHlnb24iLCJpc1J1bm5pbmciLCJjYW52YXNJZCIsIm1heFN0ZXAiLCJjb250ZXh0VHlwZSIsImhlaWdodCIsIndpZHRoIiwicmVzb3VyY2VNYW5hZ2VyIiwiaW5wdXRNYW5hZ2VyIiwibG9hZGluZ0ZvcmVncm91bmQiLCJsb2FkaW5nQmFja2dyb3VuZCIsImdhbWVBcmVhSWQiLCJjYW52YXNQZXJjZW50YWdlIiwibmV3SGVpZ2h0IiwiY2FudmFzIiwibmV3V2lkdGgiLCJpbml0IiwibG9hZFJlc291cmNlcyIsImluaXRJbnB1dCIsImxhdW5jaExvb3AiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGV4dCIsImdldENvbnRleHQiLCJzZXRIZWlnaHQiLCJzZXRXaWR0aCIsImdhbWVBcmVhIiwicmVzaXplIiwiYWxlcnQiLCJlbGFwc2VkVGltZSIsImN1cnJUaW1lIiwiZ2V0VGltZSIsIm1pbiIsInByZXZUaW1lIiwicmVzb3VyY2VzUmVhZHkiLCJ1cGRhdGVMb2FkaW5nU2NyZWVuIiwiZHJhd0xvYWRpbmdTY3JlZW4iLCJoYW5kbGVJbnB1dCIsInBhdXNlZCIsInVwZGF0ZSIsInN0YXJ0VGltZSIsImxvb3BSdW5uZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnYW1lTG9vcCIsImZvbnQiLCJmaWxsVGV4dCIsImZpbGxSZWN0IiwidGV4dFB4U2l6ZSIsImdldFBlcmNlbnRDb21wbGV0ZSIsInN0cm9rZVJlY3QiLCJIYW1tZXIiLCJHYW1lQWN0aW9uIiwiaW5zaWRlQ2FudmFzIiwib24iLCJlbGVtZW50IiwiaGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidG9QaXhlbCIsInBhcnNlRmxvYXQiLCJnZXRNYXJnaW5FeHRlbnRzIiwibm9kZSIsInN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJ3IiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJjbGVhbnVwIiwicmVtb3ZlIiwia2V5QWN0aW9ucyIsIm1vdXNlQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJoYW5kbGVNb3VzZSIsImhhbmRsZVRvdWNoIiwiaGFuZGxlS2V5cyIsImVtdWxhdGVNb3VzZSIsImhhbW1lciIsImJvZHkiLCJwcmV2ZW50X2RlZmF1bHQiLCJkcmFnX21heF90b3VjaGVzIiwiaG9sZCIsInB1c2hDbGVhbnVwIiwia2V5ZG93biIsImtleXVwIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm5vcm1hbGl6ZVBvaW50IiwiZ2VzdHVyZSIsInJlbW92ZUNsZWFudXAiLCJhcmdzIiwib2ZmIiwiYXBwbHkiLCJnYW1lQWN0aW9uIiwia2V5Q29kZSIsImluaXRpYWxQcmVzc09ubHkiLCJnYXMiLCJrYyIsImdhIiwiZGV0ZWN0SW5pdGlhbFByZXNzT25seSIsIm1hcFRvS2V5IiwiYWRkS2V5QWN0aW9uIiwiZSIsImN1cnJlbnRQb2ludCIsInBvc2l0aW9uIiwidG91Y2hlcyIsImN1cnJlbnRQb2ludHMiLCJwdXNoIiwic29tZSIsIm1vdXNlVXAiLCJwb3NpdGlvbnMiLCJzdGFydFBvc2l0aW9ucyIsInByZXZlbnREZWZhdWx0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZ2V0S2V5QWN0aW9uIiwiaXNQcmVzc2VkIiwiZXZ0IiwiY29vcmRzTSIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJ6b29tUmF0aW8iLCJjbGllbnRYIiwiY2xpZW50WSIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiYm9keU1hcmdpbnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ3aWR0aFRvSGVpZ2h0IiwibmV3V2lkdGhTdHlsZSIsIm5ld0hlaWdodFN0eWxlIiwiY2FudmFzUGVyY2VudGFnZVN0eWxlIiwiZGlzcGxheSIsImVuZFBvc2l0aW9ucyIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdGlvbiIsImhhcyIsIlNvdW5kIiwicmVzb3VyY2VMaXN0Iiwibm9ybWFsaXplUGF0aCIsImJhc2VEaXIiLCJwYXRoIiwiam9pbmVkUGF0aCIsImpvaW4iLCJyZXBsYWNlIiwiZmxpcFgiLCJpbWFnZSIsIm9mZnNjcmVlbkNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsIkltYWdlV3JhcHBlciIsImZpbGVuYW1lIiwic2VsZiIsImNvbXBsZXRlIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJhbGxMb2FkZWQiLCJpbWFnZURpciIsInNvdW5kRGlyIiwiZmlsZXMiLCJzaW5nbGVGaWxlIiwiZmlsZUxpc3QiLCJmaWxlIiwid3JhcHBlciIsImxvYWQiLCJzb3VuZCIsImZsaXBGbiIsImltZzIiLCJkb0ZsaXAiLCJmbGlwSW1hZ2UiLCJudW1Db21wbGV0ZSIsImdsb2JhbCIsImNoZWNrIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3BsaXQiLCJ1bmRlZmluZWQiLCJBdWRpb0NvbnRleHQiLCJkb2N1bWVudEVsZW1lbnQiLCJGdW5jdGlvbiIsImZvcm1hdHMiLCJhdWRpby9tcGVnIiwiYXVkaW8vd2VibSIsImF1ZGlvL29nZyIsImF1ZGlvL3dhdiIsImF1ZGlvL2FhYyIsImF1ZGlvL3gtbTRhIiwicHJvYmFibHkiLCJtYXliZSIsInZvbHVtZSIsImxvb3AiLCJjb2RlYyIsInJlc3VsdCIsImF1ZGlvIiwiQXVkaW8iLCJjYW5QbGF5VHlwZSIsInNoaWZ0IiwicmVtb3ZlRXh0ZW5zaW9uIiwiYXVkaW9Db250ZXh0IiwiaGFuZGxlU2hpdHR5Iiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJiYXNlbmFtZSIsIl9jaG9vc2VGb3JtYXQiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwiZGVjb2RlQXVkaW9EYXRhIiwidGFyZ2V0IiwicmVzcG9uc2UiLCJlcnIiLCJfbmV4dEZvcm1hdCIsInNlbmQiLCJfaW5pdEF1ZGlvIiwiZ2Fpbk5vZGUiLCJjcmVhdGVHYWluIiwiZ2FpbiIsImN1cnJGcmFtZUluZGV4IiwiYW5pbVRpbWUiLCJ0b3RhbER1cmF0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJmcmFtZXMiLCJmcmFtZUNvdW50IiwiZnJhbWVUaW1lcyIsInlTbG90IiwiYW5pbSIsImlzRlRBcnJheSIsImN1cnJlbnRGcmFtZVRpbWUiLCJhZGRGcmFtZSIsImR1cmF0aW9uIiwiaW1hZ2VTbG90WCIsImltYWdlU2xvdFkiLCJlbmRUaW1lIiwiaW1nU2xvdFgiLCJpbWdTbG90WSIsImNmIiwiZ2V0Q3VycmVudEZyYW1lIiwicmFkQ29uc3QiLCJkZWdyZWVzIiwiZGVnQ29uc3QiLCJyYWRpYW5zIiwicDEiLCJwMiIsInNxcnQiLCJkeCIsImR5IiwibWF4U3BlZWQiLCJjb2xsaXNpb25SYWRpdXMiLCJ2IiwiYWJzIiwiY2xvbmUiLCJDb250YWN0IiwiQm94MkQiLCJCMlZlYzIiLCJDb21tb24iLCJiMlZlYzIiLCJCMkJvZHlEZWYiLCJEeW5hbWljcyIsImIyQm9keURlZiIsIkIyQm9keSIsImIyQm9keSIsIkIyRml4dHVyZURlZiIsImIyRml4dHVyZURlZiIsIkIyV29ybGQiLCJiMkZpeHR1cmUiLCJiMldvcmxkIiwiQjJQb2x5Z29uU2hhcGUiLCJDb2xsaXNpb24iLCJTaGFwZXMiLCJiMlBvbHlnb25TaGFwZSIsIkIyQ2lyY2xlU2hhcGUiLCJiMkNpcmNsZVNoYXBlIiwiaW50ZXJ2YWxSYXRlIiwiYWRhcHRpdmUiLCJib2RpZXNNYXAiLCJmaXh0dXJlc01hcCIsImpvaW50c01hcCIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJhbGxvd1NsZWVwIiwicmVzb2x2ZUNvbGxpc2lvbnMiLCJjb250YWN0TGlzdGVuZXIiLCJjb2xsaXNpb25zIiwicGFyc2VJbnQiLCJhZGRDb250YWN0TGlzdGVuZXIiLCJtaWxsaXMiLCJTdGVwIiwiQ2xlYXJGb3JjZXMiLCJzdGVwUmF0ZSIsImxhc3RUaW1lc3RhbXAiLCJHZXRCb2R5TGlzdCIsIm1fbmV4dCIsIklzQWN0aXZlIiwiR2V0VXNlckRhdGEiLCJHZXRQb3NpdGlvbiIsIkdldEFuZ2xlIiwiR2V0V29ybGRDZW50ZXIiLCJtX2xpbmVhclZlbG9jaXR5IiwibV9hbmd1bGFyVmVsb2NpdHkiLCJib2RpZXNTdGF0ZSIsImdldFN0YXRlIiwiZW50aXR5IiwiYm9keUVudGl0aWVzIiwiYWRkQm9keSIsInJlYWR5IiwidmVjIiwidmVjcyIsImJvZHlEZWYiLCJmaXhEZWYiLCJmaWx0ZXIiLCJ0eXBlIiwiYjJfc3RhdGljQm9keSIsImIyX2R5bmFtaWNCb2R5IiwidXNlckRhdGEiLCJDcmVhdGVCb2R5Iiwic2hhcGUiLCJDcmVhdGVGaXh0dXJlIiwiU2V0IiwiU2V0QXNBcnJheSIsInBvbHlzIiwiU2V0QXNCb3giLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiYm9keUlkIiwiU2V0UG9zaXRpb24iLCJzZXRBbmdsZSIsIlNldExpbmVhclZlbG9jaXR5IiwidmVsb2NpdHkiLCJTZXRBbmd1bGFyVmVsb2NpdHkiLCJwb3dlciIsIkFwcGx5SW1wdWxzZSIsIkFwcGx5Rm9yY2UiLCJTZXRBbmdsZSIsIkFwcGx5VG9ycXVlIiwidmVjdG9yIiwiU2V0R3Jhdml0eSIsIkRlc3Ryb3lGaXh0dXJlIiwiRGVzdHJveUJvZHkiLCJTZXRBd2FrZSIsImxpc3RlbmVyIiwiYjJDb250YWN0TGlzdGVuZXIiLCJiZWdpbkNvbnRhY3QiLCJCZWdpbkNvbnRhY3QiLCJjb250YWN0IiwibV9maXh0dXJlQSIsIm1fYm9keSIsIm1fdXNlckRhdGEiLCJtX2ZpeHR1cmVCIiwiZW5kQ29udGFjdCIsIkVuZENvbnRhY3QiLCJwcmVTb2x2ZSIsIlByZVNvbHZlIiwib2xkTWFuaWZvbGQiLCJwb3N0U29sdmUiLCJQb3N0U29sdmUiLCJpbXB1bHNlIiwiU2V0Q29udGFjdExpc3RlbmVyIiwiam9pbnRJZCIsIkRlc3Ryb3lKb2ludCIsImpvaW50Iiwic2NhbGVKb2ludExvY2F0aW9uIiwiYjJKb2ludCIsImNyZWF0ZUIySm9pbnQiLCJ6b25lIiwiaGlkZGVuIiwid2FsbCIsImJhY2tJbWciLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImV4cG9ydE5hbWUiLCJWRU5ET1JfUFJFRklYRVMiLCJURVNUX0VMRU1FTlQiLCJUWVBFX0ZVTkNUSU9OIiwic2V0VGltZW91dENvbnRleHQiLCJmbiIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYmluZEZuIiwiaW52b2tlQXJyYXlBcmciLCJhcmciLCJlYWNoIiwib2JqIiwiaXRlcmF0b3IiLCJmb3JFYWNoIiwiZGVwcmVjYXRlIiwibWV0aG9kIiwibWVzc2FnZSIsImRlcHJlY2F0aW9uTWVzc2FnZSIsIkVycm9yIiwic3RhY2siLCJ3YXJuIiwiYXJndW1lbnRzIiwiVHlwZUVycm9yIiwib3V0cHV0IiwiaW5kZXgiLCJuZXh0S2V5IiwiZXh0ZW5kIiwiZGVzdCIsIm1lcmdlIiwiaW5oZXJpdCIsImNoaWxkIiwiYmFzZSIsInByb3BlcnRpZXMiLCJjaGlsZFAiLCJiYXNlUCIsImNvbnN0cnVjdG9yIiwiX3N1cGVyIiwiYm9vbE9yRm4iLCJ2YWwiLCJpZlVuZGVmaW5lZCIsInZhbDEiLCJ2YWwyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0eXBlcyIsInNwbGl0U3RyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYXNQYXJlbnQiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiaW5TdHIiLCJzdHIiLCJmaW5kIiwiaW5kZXhPZiIsInRyaW0iLCJpbkFycmF5IiwiZmluZEJ5S2V5IiwidG9BcnJheSIsInNsaWNlIiwidW5pcXVlQXJyYXkiLCJzb3J0IiwicmVzdWx0cyIsInZhbHVlcyIsInByZWZpeGVkIiwicHJlZml4IiwicHJvcCIsImNhbWVsUHJvcCIsInRvVXBwZXJDYXNlIiwiX3VuaXF1ZUlkIiwiZ2V0V2luZG93Rm9yRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsIlNVUFBPUlRfVE9VQ0giLCJTVVBQT1JUX1BPSU5URVJfRVZFTlRTIiwiU1VQUE9SVF9PTkxZX1RPVUNIIiwidGVzdCIsIkNPTVBVVEVfSU5URVJWQUwiLCJJTlBVVF9TVEFSVCIsIklOUFVUX01PVkUiLCJJTlBVVF9FTkQiLCJJTlBVVF9DQU5DRUwiLCJESVJFQ1RJT05fTk9ORSIsIkRJUkVDVElPTl9MRUZUIiwiRElSRUNUSU9OX1JJR0hUIiwiRElSRUNUSU9OX1VQIiwiRElSRUNUSU9OX0RPV04iLCJESVJFQ1RJT05fSE9SSVpPTlRBTCIsIkRJUkVDVElPTl9WRVJUSUNBTCIsIkRJUkVDVElPTl9BTEwiLCJQUk9QU19YWSIsIlBST1BTX0NMSUVOVF9YWSIsIklucHV0IiwibWFuYWdlciIsImNhbGxiYWNrIiwiaW5wdXRUYXJnZXQiLCJkb21IYW5kbGVyIiwiZXYiLCJlbmFibGUiLCJpbnB1dEhhbmRsZXIiLCJldmVudFR5cGUiLCJpbnB1dCIsInBvaW50ZXJzTGVuIiwicG9pbnRlcnMiLCJjaGFuZ2VkUG9pbnRlcnNMZW4iLCJjaGFuZ2VkUG9pbnRlcnMiLCJpc0ZpcnN0IiwiaXNGaW5hbCIsInNlc3Npb24iLCJwb2ludGVyc0xlbmd0aCIsImZpcnN0SW5wdXQiLCJzaW1wbGVDbG9uZUlucHV0RGF0YSIsImZpcnN0TXVsdGlwbGUiLCJvZmZzZXRDZW50ZXIiLCJnZXRDZW50ZXIiLCJ0aW1lU3RhbXAiLCJkZWx0YVRpbWUiLCJnZXRBbmdsZSIsImdldERpc3RhbmNlIiwib2Zmc2V0Iiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJwcmV2SW5wdXQiLCJkZWx0YVgiLCJkZWx0YVkiLCJjb21wdXRlRGVsdGFYWSIsIm9mZnNldERpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsIm92ZXJhbGxWZWxvY2l0eSIsImdldFZlbG9jaXR5Iiwib3ZlcmFsbFZlbG9jaXR5WCIsIm92ZXJhbGxWZWxvY2l0eVkiLCJlbmQiLCJyb3RhdGlvbiIsImdldFJvdGF0aW9uIiwibWF4UG9pbnRlcnMiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJkaXJlY3Rpb24iLCJsYXN0IiwibGFzdEludGVydmFsIiwiY29tcHV0ZUludGVydmFsSW5wdXREYXRhIiwic3JjRXZlbnQiLCJjb21wdXRlSW5wdXREYXRhIiwiZW1pdCIsInJlY29nbml6ZSIsInByb3BzIiwiYXRhbjIiLCJldkVsIiwiZXZUYXJnZXQiLCJldldpbiIsImRlc3Ryb3kiLCJNT1VTRV9JTlBVVF9NQVAiLCJNT1VTRV9FTEVNRU5UX0VWRU5UUyIsIk1PVVNFX1dJTkRPV19FVkVOVFMiLCJNb3VzZUlucHV0IiwicHJlc3NlZCIsImJ1dHRvbiIsIndoaWNoIiwicG9pbnRlclR5cGUiLCJQT0lOVEVSX0lOUFVUX01BUCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcm91dCIsIklFMTBfUE9JTlRFUl9UWVBFX0VOVU0iLCIyIiwiMyIsIjQiLCI1IiwiUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyIsIlBPSU5URVJfV0lORE9XX0VWRU5UUyIsIlBvaW50ZXJFdmVudElucHV0Iiwic3RvcmUiLCJwb2ludGVyRXZlbnRzIiwiTVNQb2ludGVyRXZlbnQiLCJQb2ludGVyRXZlbnQiLCJyZW1vdmVQb2ludGVyIiwiZXZlbnRUeXBlTm9ybWFsaXplZCIsInRvTG93ZXJDYXNlIiwiaXNUb3VjaCIsInN0b3JlSW5kZXgiLCJwb2ludGVySWQiLCJzcGxpY2UiLCJTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQIiwidG91Y2hjYW5jZWwiLCJTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyIsIlNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTIiwiU2luZ2xlVG91Y2hJbnB1dCIsInN0YXJ0ZWQiLCJhbGwiLCJjaGFuZ2VkIiwiY2hhbmdlZFRvdWNoZXMiLCJjb25jYXQiLCJUT1VDSF9JTlBVVF9NQVAiLCJUT1VDSF9UQVJHRVRfRVZFTlRTIiwiVG91Y2hJbnB1dCIsInRhcmdldElkcyIsImFsbFRvdWNoZXMiLCJpZGVudGlmaWVyIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUYXJnZXRUb3VjaGVzIiwidG91Y2giLCJERURVUF9USU1FT1VUIiwiREVEVVBfRElTVEFOQ0UiLCJUb3VjaE1vdXNlSW5wdXQiLCJtb3VzZSIsInByaW1hcnlUb3VjaCIsImxhc3RUb3VjaGVzIiwic2V0TGFzdFRvdWNoIiwiZXZlbnREYXRhIiwibGFzdFRvdWNoIiwibHRzIiwiaW5wdXRFdmVudCIsImlucHV0RGF0YSIsImlzTW91c2UiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwiUFJFRklYRURfVE9VQ0hfQUNUSU9OIiwiTkFUSVZFX1RPVUNIX0FDVElPTiIsIlRPVUNIX0FDVElPTl9BVVRPIiwiVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiIsIlRPVUNIX0FDVElPTl9OT05FIiwiVE9VQ0hfQUNUSU9OX1BBTl9YIiwiVE9VQ0hfQUNUSU9OX1BBTl9ZIiwiVE9VQ0hfQUNUSU9OX01BUCIsInRvdWNoTWFwIiwiY3NzU3VwcG9ydHMiLCJDU1MiLCJzdXBwb3J0cyIsImdldFRvdWNoQWN0aW9uUHJvcHMiLCJzZXQiLCJjb21wdXRlIiwiYWN0aW9ucyIsInJlY29nbml6ZXJzIiwicmVjb2duaXplciIsImdldFRvdWNoQWN0aW9uIiwiaGFzUGFuWCIsImhhc1BhblkiLCJjbGVhblRvdWNoQWN0aW9ucyIsInByZXZlbnREZWZhdWx0cyIsInByZXZlbnRlZCIsImhhc05vbmUiLCJpc1RhcFBvaW50ZXIiLCJpc1RhcE1vdmVtZW50IiwiaXNUYXBUb3VjaFRpbWUiLCJwcmV2ZW50U3JjIiwiU1RBVEVfUE9TU0lCTEUiLCJTVEFURV9CRUdBTiIsIlNUQVRFX0NIQU5HRUQiLCJTVEFURV9FTkRFRCIsIlNUQVRFX1JFQ09HTklaRUQiLCJTVEFURV9DQU5DRUxMRUQiLCJSZWNvZ25pemVyIiwiZGVmYXVsdHMiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiZGlyZWN0aW9uU3RyIiwiZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlciIsIm90aGVyUmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsImNvdW50IiwicHJlc2V0IiwiTWFuYWdlciIsInJlY29nbml6ZVdpdGgiLCJkcm9wUmVjb2duaXplV2l0aCIsInJlcXVpcmVGYWlsdXJlIiwiZHJvcFJlcXVpcmVGYWlsdXJlIiwiaGFzUmVxdWlyZUZhaWx1cmVzIiwiY2FuUmVjb2duaXplV2l0aCIsImV2ZW50IiwiYWRkaXRpb25hbEV2ZW50IiwidHJ5RW1pdCIsImNhbkVtaXQiLCJpbnB1dERhdGFDbG9uZSIsInByb2Nlc3MiLCJhdHRyVGVzdCIsIm9wdGlvblBvaW50ZXJzIiwiaXNSZWNvZ25pemVkIiwiaXNWYWxpZCIsInRocmVzaG9sZCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwiY2xlYXJUaW1lb3V0IiwidGFwcyIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwiZG9tRXZlbnRzIiwiaW5wdXRDbGFzcyIsImNzc1Byb3BzIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiaGFuZGxlcnMiLCJvbGRDc3NQcm9wcyIsInRvZ2dsZUNzc1Byb3BzIiwiaXRlbSIsImFkZCIsInN0b3AiLCJmb3JjZSIsInN0b3BwZWQiLCJjdXJSZWNvZ25pemVyIiwiZXhpc3RpbmciLCJldmVudHMiLCJkYXRhIiwiZ2VzdHVyZUV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwidHJpZ2dlckRvbUV2ZW50IiwiU1RBVEVfRkFJTEVEIiwiVGFwIiwiUGFuIiwiU3dpcGUiLCJQaW5jaCIsIlJvdGF0ZSIsIlByZXNzIiwidmVuZG9ycyIsImF2ZXJhZ2VQb2ludHMiLCJkZWdyZWVzVG9SYWRpYW5zIiwicmFkaWFuc1RvRGVncmVlcyIsImRlZ3JlZXNGcm9tQ2VudGVyIiwicmFkaWFuc0Zyb21DZW50ZXIiLCJyb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyIiwicm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciIsIkVBU1QiLCJTVEFURV9JRExFIiwid2Fsa2luZ0FuaW1zIiwiZHlpbmdBbmltcyIsImlkbGVBbmltcyIsIlNUQVRFX0RZSU5HIiwiTk9SVEgiLCJOT1JUSEVBU1QiLCJOT1JUSFdFU1QiLCJTT1VUSCIsIlNPVVRIRUFTVCIsIlNPVVRIV0VTVCIsIldFU1QiLCJTVEFURV9XQUxLSU5HIiwiYW5pbXMiLCJDaXJjbGUiLCJNdWx0aVBvbHlnb24iLCJQb2x5Z29uIiwiUmVjdGFuZ2xlIiwic3VwIiwiRGlzdGFuY2UiLCJQcmlzbWF0aWMiLCJSZXZvbHV0ZSIsIkpvaW50IiwiQjJEaXN0YW5jZUpvaW50RGVmIiwiSm9pbnRzIiwiYjJEaXN0YW5jZUpvaW50RGVmIiwiYm9keVBvaW50MiIsImJveCIsImJvZHkxIiwiYm9keTIiLCJ2ZWMxIiwidmVjMiIsIkluaXRpYWxpemUiLCJDcmVhdGVKb2ludCIsIkIyUHJpc21hdGljSm9pbnREZWYiLCJiMlByaXNtYXRpY0pvaW50RGVmIiwiYXhpc1NjYWxlIiwiYXhpcyIsIkIyUmV2b2x1dGVKb2ludERlZiIsImIyUmV2b2x1dGVKb2ludERlZiIsImlkQSIsImlkQiIsIm5vcm1hbEltcHVsc2VzIiwiYm94VXBkYXRpbmciLCJib3hPcHRpb25zIiwidXBkYXRlRXh0ZXJuYWxTdGF0ZSIsInJlbW92ZUJvZHkiLCJhZGRKb2ludCIsInJlbW92ZUpvaW50Iiwic3JjX2RyYXciLCJmdWxsVyIsImZ1bGxIIiwiaGV4U2lkZSIsInNpZGVXIiwic2ludDEiLCJhbmcxIiwic2ludDIiLCJhbmcyIiwibWVhc3VyZW1lbnRzIiwiY2xlYXJSZWN0IiwicGxheWVycyIsImNvbG9yIiwiZmFjZSIsImRlYWQiLCJwYWRkbGVzIiwiayIsImJhbGwiLCJwbGF5ZXJTcGVlZCIsIkJSSUNLX0RFQVRIX0FOSU0iLCJjZW50ZXJQb2ludCIsInJhbmRvbUFuZ2xlU3ByZWFkIiwiZXhwbG9kZUJyaWNrIiwiZ2FtZSIsImJyaWNrIiwicGllY2VzIiwicGxheVNvdW5kIiwibGlsT3BzIiwiYnJpY2tQaWVjZSIsImxpZmUiLCJwbGF5ZXJJZCIsImNvbG9yc19kZWZhdWx0IiwibGlsYk9wcyIsImxpbEIiLCJhcHBseUltcHVsc2UiLCJleHBsb3Npb25zIiwicGxheSIsInNyY191cGRhdGUiLCJ1cGRhdGVCb3giLCJlbnQiLCJldCIsImtpbmciLCJzY3JlYW0iLCJwYWQiLCJwYWRkbGUiLCJhbmNob3IiLCJoaXRQbGF5ZXIiLCJoaXRQYWRkbGUiLCJmaXJlUHJlc3NlZCIsImNhdWdodCIsImNhdWdodFBhZGRsZVBvc2l0aW9uIiwiY2F1Z2h0UGxheWVySWQiLCJjYXVnaHRQb3NpdGlvbiIsIndhbGxIaXRzIiwicHJldkxpbmVhclZlbG9jaXR5IiwiY2F1Z2h0UGxheWVyIiwicG9zaXRpb25EZWx0YSIsIm5ld0JhbGxMb2MiLCJicmlja3NMZWZ0IiwiZ2V0QnJpY2tzTGVmdCIsIm5ld1NwZWVkIiwiYmFsbFNwZWVkIiwicGFkZGxlQW5nbGUiLCJkZWx0YSIsImFwcGx5Rm9yY2UiLCJhbmdsZU9mZnNldCIsInBhZGRsZVNvdW5kIiwiaWR4IiwibmV3UGFkZGxlUHQiLCJkaXN0RnJvbUFuY2hvciIsInBhZGRsZU9wcyIsImNvbG9yQ29tcGxlbWVudCIsIm9wcHQiLCJmaXJzdCIsIm9yaWdpbiIsImJyaWNrcyIsInNyY19icmlja3MiLCJCcmlja19CcmljayIsIlBvbHlnb25fZGVmYXVsdCIsImxpbmVKb2luIiwiZ3JhZGllbnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsInByZXkiLCJhZGRDb2xvclN0b3AiLCJwcmV4IiwicHJlQW5nbGUiLCJGYWNlX0ZhY2UiLCJDaXJjbGVfZGVmYXVsdCIsInNjYWxlZFgiLCJzY2FsZWRZIiwiZGVhZEZpbGxTdHlsZSIsImxlZnRFeWUiLCJyaWdodEV5ZSIsInJhZHNMIiwicmFkaWFuc0Zyb21DZW50ZXJfZGVmYXVsdCIsInJhZHNSIiwibElyaXMiLCJyb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyX2RlZmF1bHQiLCJySXJpcyIsInNwZWVkIiwiaGFuZGxlRGlyZWN0aW9uIiwiZmlyZUtleSIsImxlZnRLZXkiLCJyaWdodEtleSIsImxQcmVzc2VkIiwic3JjX2hhbmRsZUlucHV0IiwiaW0iLCJrZXlzX2RlZmF1bHQiLCJhcHBseUltcHVsc2VEZWdyZWVzIiwiYXBwbHlUb3JxdWUiLCJnYW1lX2VudGl0aWVzIiwiZ2FtZV9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyIiwiZ2FtZV9kaXN0YW5jZSIsImFzaW4iLCJnYW1lX2NlbnRlclBvaW50IiwiZ2FtZV9nYW1lIiwicm0iLCJsb2FkU291bmQiLCJhZGRBcnJvd0tleUFjdGlvbnMiLCJyZWR1Y2UiLCJhY2MiLCJiYWxsUHJvcHMiLCJwdFJhZGl1cyIsInRhaWxEaXNydXB0aW9uIiwidGFpbERpc3QiLCJyYWRzIiwiYm94RGF0YV9kZWZhdWx0IiwicGN0IiwiYW5ncyIsImNwdCIsImdhbWVfb3JpZ2luIiwicHB0IiwibmV3RmFjZVB0IiwiY2lyIiwiY0pvaW50IiwicmIiLCJqZHgiLCJvcHMiLCJydW4iLCJhcHBseUZvcmNlRGVncmVlcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsb0JDbEZBaEMsRUFBQUQsUUFBQSxDQUNBa0MsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLFdBQUEsRUFDQUMsSUFBQSxFQUNBQyxNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsSUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsVUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxHQUFBLEdBQ0FDLE1BQUEsR0FDQUMsS0FBQSxHQUNBQyxZQUFBLEdBQ0FDLE9BQUEsR0FDQUMsT0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsYUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQUMsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFNBQUEsSUFDQUMsSUFBQSxJQUNBQyxVQUFBLElBQ0FDLFNBQUEsSUFDQUMsUUFBQSxJQUNBQyxPQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLFNBQUEsSUFDQUMsWUFBQSxJQUNBQyxRQUFBLElBQ0FDLFVBQUEsSUFDQUMsVUFBQSxJQUNBQyxXQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLFdBQUEsSUFDQUMsYUFBQSxJQUNBQyxXQUFBLElBQ0FDLGNBQUEsSUFDQUMsTUFBQSxJQUNBQyxLQUFBLG9CQzlFQXZKLEVBQUFELFFBeENBLFNBQUF5SixFQUFBLENBQXFDQyxFQUFBLEVBQUFDLEVBQUEsR0FBZUMsR0FHcEQsT0FBQUgsRUFBQUMsSUFBQUUsRUFBQUYsR0FBQUQsRUFBQUUsSUFBQUMsRUFBQUQsRUFDQSxFQUNHRixFQUFBQyxJQUFBRSxFQUFBRixFQUNIRCxFQUFBRSxFQUFBQyxFQUFBRCxF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SCxrQkE2TnFCSSxRQUNyQjJHLEVBQUl4RyxVQUdKOTNCLFFBQUFDLElBQVlxK0IsR0FDWi9nQyxPQUFBbTdCLEtBQWM0RixFQUdkQSxFQUFJdUIsTUFDSnZCLEVBQUl6SSxJQUFBaUssa0JBQUEsV0FBQTFpQyxLQUFBeUYsU0FBb0R5N0IsRUFBSXREIiwiZmlsZSI6ImhleG91dC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNDgpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIENBTkNFTDogMyxcbiAgSEVMUDogNixcbiAgQkFDS19TUEFDRTogOCxcbiAgVEFCOiA5LFxuICBDTEVBUjogMTIsXG4gIFJFVFVSTjogMTMsXG4gIEVOVEVSOiAxNCxcbiAgU0hJRlQ6IDE2LFxuICBDT05UUk9MOiAxNyxcbiAgQUxUOiAxOCxcbiAgUEFVU0U6IDE5LFxuICBDQVBTX0xPQ0s6IDIwLFxuICBFU0NBUEU6IDI3LFxuICBTUEFDRTogMzIsXG4gIFBBR0VfVVA6IDMzLFxuICBQQUdFX0RPV046IDM0LFxuICBFTkQ6IDM1LFxuICBIT01FOiAzNixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgUklHSFQ6IDM5LFxuICBET1dOOiA0MCxcbiAgUFJJTlRTQ1JFRU46IDQ0LFxuICBJTlNFUlQ6IDQ1LFxuICBERUxFVEU6IDQ2LFxuICBOVU0wOiA0OCxcbiAgTlVNMTogNDksXG4gIE5VTTI6IDUwLFxuICBOVU0zOiA1MSxcbiAgTlVNNDogNTIsXG4gIE5VTTU6IDUzLFxuICBOVU02OiA1NCxcbiAgTlVNNzogNTUsXG4gIE5VTTg6IDU2LFxuICBOVU05OiA1NyxcbiAgU0VNSUNPTE9OOiA1OSxcbiAgRVFVQUxTOiA2MSxcbiAgQTogNjUsXG4gIEI6IDY2LFxuICBDOiA2NyxcbiAgRDogNjgsXG4gIEU6IDY5LFxuICBGOiA3MCxcbiAgRzogNzEsXG4gIEg6IDcyLFxuICBJOiA3MyxcbiAgSjogNzQsXG4gIEs6IDc1LFxuICBMOiA3NixcbiAgTTogNzcsXG4gIE46IDc4LFxuICBPOiA3OSxcbiAgUDogODAsXG4gIFE6IDgxLFxuICBSOiA4MixcbiAgUzogODMsXG4gIFQ6IDg0LFxuICBVOiA4NSxcbiAgVjogODYsXG4gIFc6IDg3LFxuICBYOiA4OCxcbiAgWTogODksXG4gIFo6IDkwLFxuICBDT05URVhUX01FTlU6IDkzLFxuICBOVU1QQUQwOiA5NixcbiAgTlVNUEFEMTogOTcsXG4gIE5VTVBBRDI6IDk4LFxuICBOVU1QQUQzOiA5OSxcbiAgTlVNUEFENDogMTAwLFxuICBOVU1QQUQ1OiAxMDEsXG4gIE5VTVBBRDY6IDEwMixcbiAgTlVNUEFENzogMTAzLFxuICBOVU1QQUQ4OiAxMDQsXG4gIE5VTVBBRDk6IDEwNSxcbiAgTVVMVElQTFk6IDEwNixcbiAgQUREOiAxMDcsXG4gIFNFUEFSQVRPUjogMTA4LFxuICBTVUJUUkFDVDogMTA5LFxuICBERUNJTUFMOiAxMTAsXG4gIERJVklERTogMTExLFxuICBGMTogMTEyLFxuICBGMjogMTEzLFxuICBGMzogMTE0LFxuICBGNDogMTE1LFxuICBGNTogMTE2LFxuICBGNjogMTE3LFxuICBGNzogMTE4LFxuICBGODogMTE5LFxuICBGOTogMTIwLFxuICBGMTA6IDEyMSxcbiAgRjExOiAxMjIsXG4gIEYxMjogMTIzLFxuICBGMTM6IDEyNCxcbiAgRjE0OiAxMjUsXG4gIEYxNTogMTI2LFxuICBGMTY6IDEyNyxcbiAgRjE3OiAxMjgsXG4gIEYxODogMTI5LFxuICBGMTk6IDEzMCxcbiAgRjIwOiAxMzEsXG4gIEYyMTogMTMyLFxuICBGMjI6IDEzMyxcbiAgRjIzOiAxMzQsXG4gIEYyNDogMTM1LFxuICBOVU1fTE9DSzogMTQ0LFxuICBTQ1JPTExfTE9DSzogMTQ1LFxuICBVUF9EUEFEOiAxNzUsXG4gIERPV05fRFBBRDogMTc2LFxuICBMRUZUX0RQQUQ6IDE3NyxcbiAgUklHSFRfRFBBRDogMTc4LFxuICBDT01NQTogMTg4LFxuICBQRVJJT0Q6IDE5MCxcbiAgU0xBU0g6IDE5MSxcbiAgQkFDS19RVU9URTogMTkyLFxuICBPUEVOX0JSQUNLRVQ6IDIxOSxcbiAgQkFDS19TTEFTSDogMjIwLFxuICBDTE9TRV9CUkFDS0VUOiAyMjEsXG4gIFFVT1RFOiAyMjIsXG4gIE1FVEE6IDIyNFxufTtcbiIsIlxuZnVuY3Rpb24gcmFkaWFuc0Zyb21DZW50ZXIoY2VudGVyID0ge3g6IDAuMCwgeTogMC4wfSwgcHQpe1xuXG4gIC8vc2FtZSBwb2ludFxuICBpZigoY2VudGVyLnggPT09IHB0LngpICYmIChjZW50ZXIueSA9PT0gcHQueSkpe1xuICAgIHJldHVybiAwO1xuICB9ZWxzZSBpZihjZW50ZXIueCA9PT0gcHQueCl7XG4gICAgaWYoY2VudGVyLnkgPiBwdC55KXtcbiAgICAgIHJldHVybiAwO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIE1hdGguUEk7XG4gICAgfVxuICB9ZWxzZSBpZihjZW50ZXIueSA9PT0gcHQueSl7XG4gICAgaWYoY2VudGVyLnggPiBwdC54KXtcbiAgICAgIHJldHVybiAxLjUgKiBNYXRoLlBJO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIE1hdGguUEkgLyAyO1xuICAgIH1cbiAgfWVsc2UgaWYoKGNlbnRlci54IDwgcHQueCkgJiYgKGNlbnRlci55ID4gcHQueSkpe1xuICAgIC8vcXVhZHJhbnQgMVxuICAgIC8vY29uc29sZS5sb2coJ3F1YWQxJyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnksJ28nLHB0LnggLSBjZW50ZXIueCwnYScscHQueSAtIGNlbnRlci55KTtcbiAgICByZXR1cm4gTWF0aC5hdGFuKChwdC54IC0gY2VudGVyLngpLyhjZW50ZXIueSAtIHB0LnkpKTtcbiAgfVxuICBlbHNlIGlmKChjZW50ZXIueCA8IHB0LngpICYmIChjZW50ZXIueSA8IHB0LnkpKXtcbiAgICAvL3F1YWRyYW50IDJcbiAgICAvL2NvbnNvbGUubG9nKCdxdWFkMicsY2VudGVyLngsY2VudGVyLnkscHQueCxwdC55KTtcbiAgICByZXR1cm4gTWF0aC5QSSAvIDIgKyBNYXRoLmF0YW4oKHB0LnkgLSBjZW50ZXIueSkvKHB0LnggLSBjZW50ZXIueCkpO1xuICB9XG4gIGVsc2UgaWYoKGNlbnRlci54ID4gcHQueCkgJiYgKGNlbnRlci55IDwgcHQueSkpe1xuICAgIC8vcXVhZHJhbnQgM1xuICAgIC8vY29uc29sZS5sb2coJ3F1YWQzJyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnkpO1xuICAgIHJldHVybiBNYXRoLlBJICsgTWF0aC5hdGFuKChjZW50ZXIueCAtIHB0LngpLyhwdC55IC0gY2VudGVyLnkpKTtcbiAgfVxuICBlbHNle1xuICAgIC8vcXVhZHJhbnQgNFxuICAgIC8vY29uc29sZS5sb2coJ3F1YWQ0JyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnkpO1xuICAgIHJldHVybiAxLjUgKiBNYXRoLlBJICsgTWF0aC5hdGFuKChjZW50ZXIueSAtIHB0LnkpLyhjZW50ZXIueCAtIHB0LngpKTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmFkaWFuc0Zyb21DZW50ZXI7XG4iLCJcbndpbmRvdy5mcm96ZW5qcyA9IHtcbiAgR2FtZUNvcmUgOiByZXF1aXJlKCcuL0dhbWVDb3JlJyksXG4gIElucHV0TWFuYWdlciA6IHJlcXVpcmUoJy4vSW5wdXRNYW5hZ2VyJyksXG4gIFJlc291cmNlTWFuYWdlciA6IHJlcXVpcmUoJy4vUmVzb3VyY2VNYW5hZ2VyJyksXG4gIE1vdXNlQWN0aW9uIDogcmVxdWlyZSgnLi9Nb3VzZUFjdGlvbicpLFxuICBUb3VjaEFjdGlvbiA6IHJlcXVpcmUoJy4vVG91Y2hBY3Rpb24nKSxcbiAga2V5cyA6IHJlcXVpcmUoJy4va2V5cycpLFxuICBBbmltYXRpb246IHJlcXVpcmUoJy4vQW5pbWF0aW9uJyksXG4gIEFuaW1GcmFtZTogcmVxdWlyZSgnLi9BbmltRnJhbWUnKSxcbiAgdXRpbHMgOiByZXF1aXJlKCcuL3V0aWxzJyksXG4gIFNwcml0ZSA6IHJlcXVpcmUoJy4vU3ByaXRlJyksXG4gIHJlaW5lciA6IHtcbiAgICBDcmVhdHVyZSA6IHJlcXVpcmUoJy4vcmVpbmVyL0NyZWF0dXJlJylcbiAgfSxcbiAgc291bmRzIDoge1xuICAgIFdlYkF1ZGlvIDogcmVxdWlyZSgnLi9zb3VuZHMvV2ViQXVkaW8nKVxuICB9LFxuICBib3gyZCA6IHtcbiAgICBlbnRpdGllcyA6IHJlcXVpcmUoJy4vYm94MmQvZW50aXRpZXMnKSxcbiAgICBqb2ludHM6IHJlcXVpcmUoJy4vYm94MmQvam9pbnRzJyksXG4gICAgQm94IDogcmVxdWlyZSgnLi9ib3gyZC9Cb3gnKSxcbiAgICBCb3hHYW1lIDogcmVxdWlyZSgnLi9ib3gyZC9Cb3hHYW1lJylcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuZnJvemVuanM7XG4iLCJcbmZ1bmN0aW9uIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyID0ge3g6IDAuMCwgeTogMC4wfSwgcHQsIGFuZ2xlKXtcbiAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3QgbmV3UHQgPSB7fTtcblxuICAvLyB0cmFuc2xhdGUgcG9pbnQgYmFjayB0byBvcmlnaW46XG4gIG5ld1B0LnggPSBwdC54IC0gY2VudGVyLng7XG4gIG5ld1B0LnkgPSBwdC55IC0gY2VudGVyLnk7XG5cbiAgLy8gcm90YXRlIHBvaW50XG4gIGNvbnN0IHhuZXcgPSBuZXdQdC54ICogYyAtIG5ld1B0LnkgKiBzO1xuICBjb25zdCB5bmV3ID0gbmV3UHQueCAqIHMgKyBuZXdQdC55ICogYztcblxuICAvLyB0cmFuc2xhdGUgcG9pbnQgYmFjazpcbiAgbmV3UHQueCA9IHhuZXcgKyBjZW50ZXIueDtcbiAgbmV3UHQueSA9IHluZXcgKyBjZW50ZXIueTtcbiAgcmV0dXJuIG5ld1B0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXI7XG4iLCJcbmNvbnN0IGNvbG9ycyA9IFtcbiAgWzAsIDIyMSwgMF0sXG4gIFsyMjEsIDAsIDBdLFxuICAvLyBbMjM4LCAyMzgsIDIzOF0sXG4gIFsyMzgsIDAsIDIzOF0sXG4gIFsxNjAsIDgyLCA0NV0sXG4gIFswLCAwLCAyMjFdLFxuICBbMjU1LCAxNjUsIDBdLFxuXTtcblxuZnVuY3Rpb24gcmdiKGlkKSB7XG4gIGNvbnN0IGMgPSBjb2xvcnNbaWRdO1xuICBjb25zb2xlLmxvZygnY29sb3JzJywgYywgaWQpO1xuICByZXR1cm4gYHJnYigke2NbMF19LCR7Y1sxXX0sJHtjWzJdfSlgO1xufVxuXG5mdW5jdGlvbiByZ2JhKGlkLCBhKSB7XG4gIGNvbnN0IGMgPSBjb2xvcnNbaWRdO1xuICByZXR1cm4gYHJnYmEoJHtjWzBdfSwke2NbMV19LCR7Y1syXX0sJHthfSlgO1xufVxuXG5cbi8vIC8vIGNvbXBsZW1lbnRcbi8vIHRlbXByZ2I9dGhpc3JnYjtcbi8vIHRlbXBoc3Y9UkdCMkhTVih0ZW1wcmdiKTtcbi8vIHRlbXBoc3YuaHVlPUh1ZVNoaWZ0KHRlbXBoc3YuaHVlLDE4MC4wKTtcbi8vIHRlbXByZ2I9SFNWMlJHQih0ZW1waHN2KTtcblxuZnVuY3Rpb24gY29tcGxlbWVudChpZCkge1xuICBjb25zdCBjID0gY29sb3JzW2lkXTtcbiAgY29uc29sZS5sb2coJ2NvbG9yc2MnLCBjLCBpZCk7XG4gIGNvbnN0IHN0YXJ0ID0ge3I6IGNbMF0sIGc6IGNbMV0sIGI6IGNbMl19O1xuICBjb25zdCBoc3YgPSBSR0IySFNWKHN0YXJ0KTs7XG4gIGhzdi5odWU9SHVlU2hpZnQoaHN2Lmh1ZSwxODAuMCk7XG4gIGNvbnN0IHRlbXByZ2I9SFNWMlJHQihoc3YpO1xuICByZXR1cm4gYHJnYigke3RlbXByZ2Iucn0sJHt0ZW1wcmdiLmd9LCR7dGVtcHJnYi5ifSlgO1xufVxuXG5mdW5jdGlvbiBSR0IySFNWKHJnYikge1xuICAgIGhzdiA9IG5ldyBPYmplY3QoKTtcbiAgICBtYXg9bWF4MyhyZ2IucixyZ2IuZyxyZ2IuYik7XG4gICAgZGlmPW1heC1taW4zKHJnYi5yLHJnYi5nLHJnYi5iKTtcbiAgICBoc3Yuc2F0dXJhdGlvbj0obWF4PT0wLjApPzA6KDEwMCpkaWYvbWF4KTtcbiAgICBpZiAoaHN2LnNhdHVyYXRpb249PTApIGhzdi5odWU9MDtcbiAgICBlbHNlIGlmIChyZ2Iucj09bWF4KSBoc3YuaHVlPTYwLjAqKHJnYi5nLXJnYi5iKS9kaWY7XG4gICAgZWxzZSBpZiAocmdiLmc9PW1heCkgaHN2Lmh1ZT0xMjAuMCs2MC4wKihyZ2IuYi1yZ2IucikvZGlmO1xuICAgIGVsc2UgaWYgKHJnYi5iPT1tYXgpIGhzdi5odWU9MjQwLjArNjAuMCoocmdiLnItcmdiLmcpL2RpZjtcbiAgICBpZiAoaHN2Lmh1ZTwwLjApIGhzdi5odWUrPTM2MC4wO1xuICAgIGhzdi52YWx1ZT1NYXRoLnJvdW5kKG1heCoxMDAvMjU1KTtcbiAgICBoc3YuaHVlPU1hdGgucm91bmQoaHN2Lmh1ZSk7XG4gICAgaHN2LnNhdHVyYXRpb249TWF0aC5yb3VuZChoc3Yuc2F0dXJhdGlvbik7XG4gICAgcmV0dXJuIGhzdjtcbn1cblxuLy8gUkdCMkhTViBhbmQgSFNWMlJHQiBhcmUgYmFzZWQgb24gQ29sb3IgTWF0Y2ggUmVtaXggW2h0dHA6Ly9jb2xvci50d3lzdGVkLm5ldC9dXG4vLyB3aGljaCBpcyBiYXNlZCBvbiBvciBjb3BpZWQgZnJvbSBDb2xvck1hdGNoIDVLIFtodHRwOi8vY29sb3JtYXRjaC5kay9dXG5mdW5jdGlvbiBIU1YyUkdCKGhzdikge1xuICAgIHZhciByZ2I9bmV3IE9iamVjdCgpO1xuICAgIGlmIChoc3Yuc2F0dXJhdGlvbj09MCkge1xuICAgICAgICByZ2Iucj1yZ2IuZz1yZ2IuYj1NYXRoLnJvdW5kKGhzdi52YWx1ZSoyLjU1KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoc3YuaHVlLz02MDtcbiAgICAgICAgaHN2LnNhdHVyYXRpb24vPTEwMDtcbiAgICAgICAgaHN2LnZhbHVlLz0xMDA7XG4gICAgICAgIGk9TWF0aC5mbG9vcihoc3YuaHVlKTtcbiAgICAgICAgZj1oc3YuaHVlLWk7XG4gICAgICAgIHA9aHN2LnZhbHVlKigxLWhzdi5zYXR1cmF0aW9uKTtcbiAgICAgICAgcT1oc3YudmFsdWUqKDEtaHN2LnNhdHVyYXRpb24qZik7XG4gICAgICAgIHQ9aHN2LnZhbHVlKigxLWhzdi5zYXR1cmF0aW9uKigxLWYpKTtcbiAgICAgICAgc3dpdGNoKGkpIHtcbiAgICAgICAgY2FzZSAwOiByZ2Iucj1oc3YudmFsdWU7IHJnYi5nPXQ7IHJnYi5iPXA7IGJyZWFrO1xuICAgICAgICBjYXNlIDE6IHJnYi5yPXE7IHJnYi5nPWhzdi52YWx1ZTsgcmdiLmI9cDsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogcmdiLnI9cDsgcmdiLmc9aHN2LnZhbHVlOyByZ2IuYj10OyBicmVhaztcbiAgICAgICAgY2FzZSAzOiByZ2Iucj1wOyByZ2IuZz1xOyByZ2IuYj1oc3YudmFsdWU7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IHJnYi5yPXQ7IHJnYi5nPXA7IHJnYi5iPWhzdi52YWx1ZTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHJnYi5yPWhzdi52YWx1ZTsgcmdiLmc9cDsgcmdiLmI9cTtcbiAgICAgICAgfVxuICAgICAgICByZ2Iucj1NYXRoLnJvdW5kKHJnYi5yKjI1NSk7XG4gICAgICAgIHJnYi5nPU1hdGgucm91bmQocmdiLmcqMjU1KTtcbiAgICAgICAgcmdiLmI9TWF0aC5yb3VuZChyZ2IuYioyNTUpO1xuICAgIH1cbiAgICByZXR1cm4gcmdiO1xufVxuXG4vL0FkZGluZyBIdWVTaGlmdCB2aWEgSmFjb2IgKHNlZSBjb21tZW50cylcbmZ1bmN0aW9uIEh1ZVNoaWZ0KGgscykgeyBcbiAgICBoKz1zOyB3aGlsZSAoaD49MzYwLjApIGgtPTM2MC4wOyB3aGlsZSAoaDwwLjApIGgrPTM2MC4wOyByZXR1cm4gaDsgXG59XG5cbi8vbWluIG1heCB2aWEgSGFpcmdhbWlfTWFzdGVyIChzZWUgY29tbWVudHMpXG5mdW5jdGlvbiBtaW4zKGEsYixjKSB7IFxuICAgIHJldHVybiAoYTxiKT8oKGE8Yyk/YTpjKTooKGI8Yyk/YjpjKTsgXG59IFxuZnVuY3Rpb24gbWF4MyhhLGIsYykgeyBcbiAgICByZXR1cm4gKGE+Yik/KChhPmMpP2E6Yyk6KChiPmMpP2I6Yyk7IFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29sb3JzLFxuICByZ2IsXG4gIHJnYmEsXG4gIGNvbXBsZW1lbnRcbn07IiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBDaXJjbGUgYm9keSBhbmQgc2hhcGUgaW4gYSBCb3gyZCB3b3JsZFxuICogQG5hbWUgQ2lyY2xlXG4gKiBAY29uc3RydWN0b3IgQ2lyY2xlXG4gKiBAZXh0ZW5kcyBFbnRpdHlcbiAqL1xuXG5jb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xuY29uc3QgZGlzdGFuY2UgPSByZXF1aXJlKCcuLi8uLi91dGlscy9kaXN0YW5jZScpO1xuXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBFbnRpdHl7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmFkaXVzIG9mIHRoaXMgY2lyY2xlLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gMTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIENpcmNsZSBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgYXQgd2hpY2ggdG8gZHJhd1xuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUsIHRoaXMucmFkaXVzICogc2NhbGUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICBpZighdGhpcy5zdGF0aWNCb2R5KXtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgICAgY3R4LmxpbmVUbyh0aGlzLnggKiBzY2FsZSwgKHRoaXMueSAqIHNjYWxlKSAtICh0aGlzLnJhZGl1cyAqIHNjYWxlKSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG5cbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgc2hhcGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDaXJjbGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMucmFkaXVzID0gdGhpcy5yYWRpdXMgKiBzY2FsZTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBDaXJjbGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gKGRpc3RhbmNlKHBvaW50LCB0aGlzKSA8PSB0aGlzLnJhZGl1cyk7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENpcmNsZTtcbiIsIlxuZnVuY3Rpb24gc2NhbGVQb2ludHMocG9pbnRzLCBzY2FsZSl7XG4gIGlmKEFycmF5LmlzQXJyYXkocG9pbnRzKSl7XG4gICAgcG9pbnRzID0gcG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICByZXR1cm4gc2NhbGVQb2ludHMocG9pbnQsIHNjYWxlKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmKHR5cGVvZiBzY2FsZSA9PT0gJ29iamVjdCcpe1xuICAgIHBvaW50cyA9IHtcbiAgICAgIHg6IHBvaW50cy54ICogc2NhbGUueCxcbiAgICAgIHk6IHBvaW50cy55ICogc2NhbGUueVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0ge1xuICAgICAgeDogcG9pbnRzLnggKiBzY2FsZSxcbiAgICAgIHk6IHBvaW50cy55ICogc2NhbGVcbiAgICB9O1xuICB9XG4gIHJldHVybiBwb2ludHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2NhbGVQb2ludHM7XG4iLCJmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyAnXycgKyBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGJvZHkgYW5kIHNoYXBlIGluIGEgQm94MmQgd29ybGQgdXNpbmcgcG9zaXRpb25zIGFuZCBzaXplcyByZWxhdGl2ZSB0byB0aGUgQm94MmQgd29ybGQgaW5zdGFuY2UuXG4gKiBAbmFtZSBFbnRpdHlcbiAqIEBjb25zdHJ1Y3RvciBFbnRpdHlcbiAqL1xuXG5jbGFzcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIGluIHdoaWNoIHRvIHJlZmVyZW5jZSB0aGlzIG9iamVjdC4gQWxzbyB0aGUgdXNlckRhdGEgcHJvcGVydHkgZm9yIGJveDJkIGJvZGllcy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgZ2VuSWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgZW50aXR5J3MgbG9jYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy54ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgZW50aXR5J3MgbG9jYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy55ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBpbiBwaXhlbHMgcGVyIG1ldGVyIGluIHdoaWNoIHRvIHJlcHJlc2VudCB0aGlzIEVudGl0eSBpbiB0aGUgYm94MmQgd29ybGRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zY2FsZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhbmdsZSB0aGF0IHRoaXMgZW50aXR5IGlzIHJvdGF0ZWQgYXRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5hbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBhbmQgeSBsb2NhdGlvbnMgb2Ygd2hhdCBib3gyZCBjb25zaWRlcnMgdGhlIGVuaXR5J3MgY2VudGVyIG9mIG1hc3NcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmNlbnRlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRyYXcgdGhlIHgseSBsb2NhdGlvbiBvZiBhbiBlbnRpdHlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmRyYXdMb2NhdGlvbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRyYXcgdGhlIGNlbnRlciBwb2ludCBvZiBhbiBlbnRpdHlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICAgdGhpcy5kcmF3Q2VudGVyID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50YWdlIG9mIGZvcmNlIGluIHdoaWNoIHRoZSBlbnRpdHkgd2lsbCBib3VuY2UgYmFjayBmcm9tIGFub3RoZXIgYmFzZWQgb24gaXRzIGZvcmNlIHByZS1jb2xsaXNpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0d28tZGltZW5zaW9uYWwgZGVuc2l0eSBvZiB0aGUgZW50aXR5LiAgTWFzcyAvIGFyZWEuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuZGVuc2l0eSA9IDEuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZnJpY3Rpb24gb24gdGggc3VyZmFjZSBvZiB0aGlzIGVudGl0eVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmZyaWN0aW9uID0gMC45O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBsaW5lYXIgdmVsb2NpdHkgdGhlIGVudGl0eSBzaG91bGQgbG9zZSBvdmVyIHRpbWVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZWxvY2l0eSBpbiBtZXRlcnMvc2Vjb25kIGdpdmVuIHRvIHRoaXMgZW50aXR5IGJ5IGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmxpbmVhclZlbG9jaXR5ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmd1bGFyIHZlbG9jaXR5IGluIHJhZGlhbnMvc2Vjb25kIGdpdmVuIHRvIHRoaXMgZW50aXR5IGJ5IGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2YgYW1vdW50IG9mIGFuZ3VsYXIgdmVsb2NpdHkgYW4gZW50aXR5IHNob3VsZCBsb3NlIG92ZXIgdGltZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBlbnRpdHkgZG9lcyBjaGFuZ2UgaXRzIHBvc2l0aW9uIGFuZCBhbmdsZSBhcyB0aGUgcmVzdWx0IG9mIGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zdGF0aWNCb2R5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmlsbFN0eWxlIHRvIHVzZSBmb3IgdGhlIGVudGl0eSdzIGRlZmF1bHQgcmVuZGVyZXJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5maWxsU3R5bGUgPSAncmdiYSgxMjgsMTI4LDEyOCwwLjUpJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJva2VTdHlsZSB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZSB3aWR0aCB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMubGluZVdpZHRoID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSAxNiBiaXQgaW50ZWdlciB1c2VkIGluIGRldGVybWluaW5nIHdoaWNoIG90aGVyIHR5cGVzIG9mIGVudGl0aWVzIHRoaXMgYm9keSB3aWxsIGNvbGxpZGUgd2l0aC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5tYXNrQml0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBkZXNjcmliaW5nIHRoZSB0eXBlIHRoYXQgdGhpcyBlbml0aXR5IGlzIGZvciBjb2xsaXNpb25zLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmNhdGVnb3J5Qml0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBvdmVyaWRpbmcgbWFza0JpdHMgYW5kIGNhdGVnb3J5Qml0cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5ncm91cEluZGV4ID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoaXMgZW50aXR5IHdpdGggdGhlIHN0YXRlIHBhc3NlZCBpblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFN0YXRlIHRvIG1lcmdlIHdpdGggdGhpcyBvYmplY3RcbiAgICovXG4gIHVwZGF0ZShzdGF0ZSl7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIEVudGl0eSBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgSFRNTDUgMmQgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgdG8gZHJhdyB0aGUgZW50aXR5IGF0XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuXG4gICAgLy8gYmxhY2sgY2lyY2xlIGluIGVudGl0eSdzIGxvY2F0aW9uXG4gICAgaWYodGhpcy5kcmF3TG9jYXRpb24pIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUsIDQsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIHllbGxvdyBjaXJjbGUgaW4gZW50aXR5J3MgZ2VvbWV0cmljIGNlbnRlclxuICAgIGlmKHRoaXMuY2VudGVyICYmIHRoaXMuZHJhd0NlbnRlcil7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jZW50ZXJTdHlsZSB8fCAneWVsbG93JztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmModGhpcy5jZW50ZXIueCAqIHNjYWxlLCB0aGlzLmNlbnRlci55ICogc2NhbGUsIDIsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuXG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcG9zaXRpb24gYW5kIGRpbWVuc2lvbnMgb2YgdGhpcyBzaGFwZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgdG8gbXVsdGlwbHkgdGhlIGRpbWVudGlvbnMgYnlcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMueCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIHRoaXMueSA9IHRoaXMueSAqIHNjYWxlO1xuICAgIHRoaXMuYWxyZWFkeVNjYWxlZCA9IHRydWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFbnRpdHk7XG5cbiIsIi8qKlxuICogVGhlIEdhbWVBY3Rpb24gaGFuZGxlcyBET00gZXZlbnRzIGZvciB1c2UgaW4gZ2FtZXMuXG4gKiBAbmFtZSBHYW1lQWN0aW9uXG4gKiBAY29uc3RydWN0b3IgR2FtZUFjdGlvblxuICovXG5cbi8qKlxuICogQSBtYXAgb2Ygc3RhdGljIGNvbnN0YW50cyBmb3IgaW50ZXJuYWwgdXNlXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gKiBAcHJvcGVydHkge051bWJlcn0gTk9STUFMIE5vcm1hbCBiZWhhdmlvci4gVGhlIGlzUHJlc3NlZCgpIG1ldGhvZCByZXR1cm5zIHRydWUgYXMgbG9uZyBhcyB0aGUga2V5IGlzIGhlbGQgZG93bi5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkgSW5pdGlhbCBwcmVzcyBiZWhhdmlvci4gVGhlIGlzUHJlc3NlZCgpIG1ldGhvZCByZXR1cm5zIHRydWUgb25seSBhZnRlciB0aGUga2V5IGlzIGZpcnN0IHByZXNzZWQsIGFuZCBub3QgYWdhaW4gdW50aWwgdGhlIGtleSBpcyByZWxlYXNlZCBhbmQgcHJlc3NlZCBhZ2Fpbi5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9SRUxFQVNFRCBWYWx1ZSBmb3IgcmVsZWFzZWQgc3RhdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9QUkVTU0VEIFZhbHVlIGZvciBwcmVzc2VkIHN0YXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRSBWYWx1ZSBmb3Igd2FpdGluZyBmb3IgcmVsZWFzZSBzdGF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX01PVkVEIFZhbHVlIGZvciBtb3ZlZCBzdGF0ZVxuICovXG5jb25zdCBzdGF0aWNzID0ge1xuICBOT1JNQUw6IDAsXG4gIERFVEVDVF9JTklUQUxfUFJFU1NfT05MWTogMSxcbiAgU1RBVEVfUkVMRUFTRUQ6IDAsXG4gIFNUQVRFX1BSRVNTRUQ6IDEsXG4gIFNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0U6IDIsXG4gIFNUQVRFX01PVkVEOiAzXG59O1xuXG5jbGFzcyBHYW1lQWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICAvKipcbiAgICAgKiBBIG5hbWUgdG8gcmVmZXJlbmNlIHRoZSBHYW1lQWN0aW9uIHdpdGhcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGRldGVjdCBvbmx5IHRoZSBpbnRpYWwgcHJlc3Mgb2YgdGhlIGdhbWUgYWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYmVoYXZpb3IgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSG93IG1hbnkgdGltZXMgdGhlIEdhbWVBY3Rpb24gaGFzIGJlZW4gcHJlc3NlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFtb3VudCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgR2FtZUFjdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gMDtcblxuICAgIHRoaXMuc3RhdGljcyA9IHN0YXRpY3M7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGlzIEdhbWVBY3Rpb24gc28gdGhhdCBpdCBhcHBlYXJzIGxpa2UgaXQgaGFzbid0IGJlZW4gcHJlc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfUkVMRUFTRUQ7XG4gICAgdGhpcy5hbW91bnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRhcHMgdGhpcyBHYW1lQWN0aW9uLiBTYW1lIGFzIGNhbGxpbmcgcHJlc3MoKSBmb2xsb3dlZCBieSByZWxlYXNlKCkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHRhcCgpIHtcbiAgICB0aGlzLnByZXNzKCk7XG4gICAgdGhpcy5yZWxlYXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBrZXkgd2FzIHByZXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHByZXNzKCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1BSRVNTRUQ7XG4gICAgaWYodGhpcy5iZWhhdmlvciA9PT0gc3RhdGljcy5ERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkpe1xuICAgICAgdGhpcy5wcmVzc0FtdCgxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBrZXkgd2FzIHByZXNzZWQgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLCBvciB0aGF0IHRoZSBtb3VzZSBtb3ZlIGEgc3BlY2lmaWVkIGRpc3RhbmNlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbW91bnQgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IGlzIHByZXNzZWRcbiAgICovXG4gIHByZXNzQW10KGFtb3VudCkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBzdGF0aWNzLlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0UpIHtcbiAgICAgIHRoaXMuYW1vdW50ICs9IGFtb3VudDtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUga2V5IHdhcyByZWxlYXNlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1JFTEVBU0VEO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUga2V5IHdhcyBwcmVzc2VkIG9yIG5vdCBzaW5jZSBsYXN0IGNoZWNrZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUga2V5IGlzIHByZXNzZWQsIGVsc2UgZmFsc2VcbiAgICovXG4gIGlzUHJlc3NlZCgpIHtcbiAgICBpZih0aGlzLnN0YXRlID09PSBzdGF0aWNzLlNUQVRFX1BSRVNTRUQpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9yIGtleXMsIHRoaXMgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyBwcmVzc2VkIHNpbmNlIGl0IHdhcyBsYXN0IGNoZWNrZWQuXG4gICAqIEZvciBtb3VzZSBtb3ZlbWVudCwgdGhpcyBpcyB0aGUgZGlzdGFuY2UgbW92ZWQuXG4gICAqXG4gICAqIFRoaXMgUmVzZXRzIHRoZSBhbW91bnQgdG8gemVybyBhZnRlciBiZWluZyBjaGVja2VkIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqIEByZXR1cm4ge051bWJlcn0gTnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHByZXNzZWQgb3IgZGlzdGFuY2UgbW91c2Ugd2FzIG1vdmVkXG4gICAqL1xuICBnZXRBbW91bnQoKSB7XG4gICAgdmFyIHJldFZhbCA9IHRoaXMuYW1vdW50O1xuICAgIGlmIChyZXRWYWwgIT09IDApIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBzdGF0aWNzLlNUQVRFX1JFTEVBU0VEKSB7XG4gICAgICAgIHRoaXMuYW1vdW50ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5iZWhhdmlvciA9PT0gc3RhdGljcy5ERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRTtcbiAgICAgICAgdGhpcy5hbW91bnQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gR2FtZUFjdGlvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gVXNpbmcgUmF5LUNhc3RpbmcgZm9ybXVsYSBiYXNlZCBvblxuLy8gaHR0cDovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuLy8gYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL1xuLy8gUmUtd3JpdHRlbiBmb3IgbW9zdCByZWFkYWJpbGl0eSBhbmQgZm9yIHVzZSB3aXRoIHBvaW50IG9iamVjdHMgaW5zdGVhZCBvZiBhcnJheXNcblxuZnVuY3Rpb24gcG9pbnRJblBvbHkocG9pbnQsIHBvbHlnb24pe1xuICBpZighcG9pbnQgfHwgIXBvbHlnb24pe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwb2x5ID0gcG9seWdvbi5wb2ludHMgfHwgcG9seWdvbjtcblxuICB2YXIgaW5zaWRlUG9seSA9IGZhbHNlO1xuICB2YXIgaiA9IHBvbHkubGVuZ3RoIC0gMTtcblxuICBmb3IodmFyIGkgPSAwOyBpIDwgcG9seS5sZW5ndGg7IGogPSBpKyspe1xuICAgIHZhciB4aSA9IHBvbHlbaV0ueDtcbiAgICB2YXIgeWkgPSBwb2x5W2ldLnk7XG4gICAgdmFyIHhqID0gcG9seVtqXS54O1xuICAgIHZhciB5aiA9IHBvbHlbal0ueTtcblxuICAgIGlmKHlpID4gcG9pbnQueSAhPT0geWogPiBwb2ludC55KXtcbiAgICAgIGlmKHBvaW50LnggPCAoeGogLSB4aSkgKiAocG9pbnQueSAtIHlpKSAvICh5aiAtIHlpKSArIHhpKXtcbiAgICAgICAgaW5zaWRlUG9seSA9ICFpbnNpZGVQb2x5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbnNpZGVQb2x5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBvaW50SW5Qb2x5O1xuIiwiXG5mdW5jdGlvbiB0cmFuc2xhdGVQb2ludHMocG9pbnRzLCB0cmFuc2xhdGlvbil7XG4gIGlmKEFycmF5LmlzQXJyYXkocG9pbnRzKSl7XG4gICAgcG9pbnRzID0gcG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlUG9pbnRzKHBvaW50LCB0cmFuc2xhdGlvbik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0ge1xuICAgICAgeDogcG9pbnRzLngsXG4gICAgICB5OiBwb2ludHMueVxuICAgIH07XG5cbiAgICBpZih0cmFuc2xhdGlvbi54ICE9IG51bGwpe1xuICAgICAgcG9pbnRzLnggKz0gdHJhbnNsYXRpb24ueDtcbiAgICB9XG5cbiAgICBpZih0cmFuc2xhdGlvbi55ICE9IG51bGwpe1xuICAgICAgcG9pbnRzLnkgKz0gdHJhbnNsYXRpb24ueTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGVQb2ludHM7XG4iLCJmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyAnXycgKyBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIEBuYW1lIEpvaW50XG4gKiBAY29uc3RydWN0b3IgSm9pbnRcbiAqL1xuXG5cbmNsYXNzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBpbiB3aGljaCB0byByZWZlcmVuY2UgdGhpcyBvYmplY3QuIEFsc28gdGhlIHVzZXJEYXRhIHByb3BlcnR5IGZvciBib3gyZCBib2RpZXMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgZ2VuSWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgZmlyc3QgZW50aXR5IHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGlzIGpvaW50XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlJZDEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBzZWNvbmQgZW50aXR5IHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGlzIGpvaW50XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlJZDIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBwb2ludCBvbiB0aGUgZmlyc3QgZW50aXR5IHdoZXJlIGJlIGF0dGFjaGVkIHRvIHRoZSBzZWNvbmQgYm9keS4gSWYgbm8gcG9pbnQgaXMgc3BlY2lmaWVkLCB0aGUgZmlyc3QgYm9keSB3aWxsIGJlIGF0dGFjaGVkIGF0IGl0cyBjZW50ZXIgcG9pbnQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlQb2ludDEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHdpdGggYW55IG90aGVyIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgbWl4ZWQgaW50byB0aGUgYm94MmQgam9pbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuam9pbnRBdHRyaWJ1dGVzID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGVzIHRoZSBwb3NpdGlvbiB0aGF0IG9uIHRoZSBmaXJzdCBib2R5IHRoYXQgdGhlIGpvaW50IGlzIGNvbm5lY3RlZCBhdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBzY2FsZSB0byBtdWx0aXBseSB0aGUgZGltZW50aW9ucyBieVxuICAgKi9cbiAgc2NhbGVKb2ludExvY2F0aW9uKHNjYWxlKXtcbiAgICBpZihzY2FsZSAmJiB0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgdGhpcy5ib2R5UG9pbnQxLnggPSB0aGlzLmJvZHlQb2ludDEueCAqIHNjYWxlO1xuICAgICAgdGhpcy5ib2R5UG9pbnQxLnkgPSB0aGlzLmJvZHlQb2ludDEueSAqIHNjYWxlO1xuICAgICAgdGhpcy5hbHJlYWR5U2NhbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBKb2ludDtcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgcmVwcmVzZW50cyBhIHBvbHlnb24gd2hpY2ggaXMgYnVpbGQgZnJvbSBhbiBhcnJheSBvZiBwb2ludHMuXG4gKiBAbmFtZSBQb2x5Z29uXG4gKiBAY29uc3RydWN0b3IgUG9seWdvblxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvc2NhbGVQb2ludHMnKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IHRyYW5zbGF0ZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3RyYW5zbGF0ZVBvaW50cycpO1xuXG5jbGFzcyBQb2x5Z29uIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIG9iamVjdHMgdGhhdCBoYXZlIHggYW5kIHkgdmFsdWVzLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgUG9seWdvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBQb2x5Z29uIGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgYXQgd2hpY2ggdG8gZHJhd1xuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKCh0aGlzLnggKyB0aGlzLnBvaW50c1swXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2ludHNbMF0ueSkgKiBzY2FsZSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgIGN0eC5saW5lVG8oKHRoaXMucG9pbnRzW2ldLnggKyB0aGlzLngpICogc2NhbGUsICh0aGlzLnBvaW50c1tpXS55ICsgdGhpcy55KSAqIHNjYWxlKTtcbiAgICB9XG4gICAgY3R4LmxpbmVUbygodGhpcy54ICsgdGhpcy5wb2ludHNbMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9pbnRzWzBdLnkpICogc2NhbGUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFBvbHlnb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMucG9pbnRzID0gc2NhbGVQb2ludHModGhpcy5wb2ludHMsIHNjYWxlKTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgUG9seWdvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gcG9pbnRJblBvbHlnb24ocG9pbnQsIHRyYW5zbGF0ZVBvaW50cyh0aGlzLnBvaW50cywgdGhpcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUG9seWdvbjtcbiIsIi8qKlxuICogVGhlIEdhbWVDb3JlIGNsYXNzIHByb3ZpZGVzIHRoZSBiYXNlIHRvIGJ1aWxkIGdhbWVzIG9uLlxuICogQG5hbWUgR2FtZUNvcmVcbiAqIEBjb25zdHJ1Y3RvciBHYW1lQ29yZVxuICogQGV4YW1wbGVcbiAqIHZhciBteUdhbWUgPSBuZXcgR2FtZUNvcmUoe1xuICogICBjYW52YXNJZDogJ215Q2FudmFzJyxcbiAqICAgdXBkYXRlOiBmdW5jdGlvbihtaWxsaXMpe1xuICogICAgIC8vIGRvIHVwZGF0aW5nIG9mIGdhbWUgc3RhdGVcbiAqICAgfSxcbiAqICAgZHJhdzogZnVuY3Rpb24oY29udGV4dCl7XG4gKiAgICAgLy8gZG8gZHJhd2luZyBvZiB0aGUgZ2FtZVxuICogICB9XG4gKiB9KTtcbiAqXG4gKiAvL3N0YXJ0IHRoZSBnYW1lXG4gKiBteUdhbWUucnVuKCk7XG4gKi9cblxuY29uc3QgSW5wdXRNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnB1dE1hbmFnZXInKTtcbmNvbnN0IFJlc291cmNlTWFuYWdlciA9IHJlcXVpcmUoJy4vUmVzb3VyY2VNYW5hZ2VyJyk7XG5cbmNsYXNzIEdhbWVDb3JlIHtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGdhbWUgc2hvdWxkIGJlIHJ1bm5pbmcgaXRzIGxvb3BcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBjYW52YXMgZWxlbWVudCB0byB1c2UgcmVuZGVyIHRoZSBnYW1lIG9uXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc0lkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1heCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy4gKGluIGNhc2UgdXNlciBzd2l0Y2hlcyB0YWJzIGFuZCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcGF1c2VzKVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tYXhTdGVwID0gNDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBjb250ZXh0IHRvIHJlcXVlc3QgZnJvbSB0aGUgY2FudmFzLiAgMmQgb3IgM2RcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dFR5cGUgPSAnMmQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgR2FtZSBhbmQgY2FudmFzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIEdhbWUgYW5kIGNhbnZhc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUmVzb3VyY2VNYW5hZ2VyIHRvIGJlIHVzZWQgZm9yIGdhbWVcbiAgICAgKiBAdHlwZSB7UmVzb3VyY2VNYW5hZ2VyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmVzb3VyY2VNYW5hZ2VyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBJbnB1dE1hbmFnZXIgdG8gYmUgdXNlZCBmb3IgZ2FtZVxuICAgICAqIEB0eXBlIHtJbnB1dE1hbmFnZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIHRvIGJlIHVzZWQgZm9yIHRoZSBmb3JlZ3JvdW5kIHdoaWxlIGdhbWUgcmVzb3VyY2VzIGFyZSBsb2FkaW5nXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmdGb3JlZ3JvdW5kID0gJyMwMEYnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIHRvIGJlIHVzZWQgZm9yIHRoZSBiYWNrZ3JvdW5kIHdoaWxlIGdhbWUgcmVzb3VyY2VzIGFyZSBsb2FkaW5nXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmdCYWNrZ3JvdW5kID0gJyNGRkYnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIGEgRE9NIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgZ2FtZSdzIGNhbnZhc1xuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5nYW1lQXJlYUlkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50YWdlICgwIHRvIDEuMCkgb2YgdGhlIGhlaWdodCBhbmQgd2lkdGggdGhlIGNhbnZhcyBzaG91bGQgdXNlIHRvIGZpbGwgaW4gaXRzIGNvbnRhaW5lciBET00gZWxlbWVudFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNQZXJjZW50YWdlID0gMDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICBpZighdGhpcy5yZXNvdXJjZU1hbmFnZXIpe1xuICAgICAgdGhpcy5yZXNvdXJjZU1hbmFnZXIgPSBuZXcgUmVzb3VyY2VNYW5hZ2VyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGhlaWdodCBvbiB5b3VyIEdhbWVDb3JlIGluc3RhbmNlIGFuZCBvbiB5b3VyIGNhbnZhcyByZWZlcmVuY2VcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5ld0hlaWdodCBUaGUgbmV3IGhlaWdodCBkZXNpcmVkXG4gICAqL1xuICBzZXRIZWlnaHQobmV3SGVpZ2h0KXtcbiAgICB0aGlzLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgd2lkdGggb24geW91ciBHYW1lQ29yZSBpbnN0YW5jZSBhbmQgb24geW91ciBjYW52YXMgcmVmZXJlbmNlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuZXdXaWR0aCBUaGUgbmV3IHdpZHRoIGRlc2lyZWRcbiAgICovXG4gIHNldFdpZHRoKG5ld1dpZHRoKXtcbiAgICB0aGlzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSBuZXdXaWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoZSBnYW1lIGxvb3AgdGhhdCBpdCdzIHRpbWUgdG8gcXVpdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExhdW5jaGVzIHRoZSBnYW1lLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgcnVuKCkge1xuICAgIGlmKCF0aGlzLmlzUnVubmluZyl7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICAgIHRoaXMubG9hZFJlc291cmNlcyh0aGlzLnJlc291cmNlTWFuYWdlcik7XG4gICAgICB0aGlzLmluaXRJbnB1dCh0aGlzLmlucHV0TWFuYWdlcik7XG4gICAgICB0aGlzLmxhdW5jaExvb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJpZGRlbiBpbiBHYW1lQ29yZSBzdWJjbGFzc2VzIHRvIGxvYWQgaW1hZ2VzIGFuZCBzb3VuZHNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtSZXNvdXJjZU1hbmFnZXJ9IHJlc291cmNlTWFuYWdlclxuICAgKi9cbiAgbG9hZFJlc291cmNlcyhyZXNvdXJjZU1hbmFnZXIpe1xuXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2NyZWVuIG1vZGUgYW5kIGluaXRpYXRlcyBhbmQgb2JqZWN0cy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIGluaXQoKSB7XG4gICAgaWYoIXRoaXMuY2FudmFzKXtcbiAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jYW52YXNJZCk7XG4gICAgfVxuICAgIGlmKCF0aGlzLmNhbnZhcyl7XG4gICAgICBcbiAgICAgIGFsZXJ0KCdTb3JyeSwgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY2FudmFzLiAgSSByZWNvbW1lbmQgYW55IGJyb3dzZXIgYnV0IEludGVybmV0IEV4cGxvcmVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKCF0aGlzLmNvbnRleHQpe1xuICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCh0aGlzLmNvbnRleHRUeXBlKTtcbiAgICB9XG4gICAgaWYoIXRoaXMuY29udGV4dCl7XG4gICAgICBhbGVydCgnU29ycnksIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGEgJyArIHRoaXMuY29udGV4dFR5cGUgKyAnIGRyYXdpbmcgc3VyZmFjZSBvbiBjYW52YXMuICBJIHJlY29tbWVuZCBhbnkgYnJvd3NlciBidXQgSW50ZXJuZXQgRXhwbG9yZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldEhlaWdodCh0aGlzLmhlaWdodCB8fCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIHRoaXMuc2V0V2lkdGgodGhpcy53aWR0aCB8fCB0aGlzLmNhbnZhcy53aWR0aCk7XG5cbiAgICBpZighdGhpcy5pbnB1dE1hbmFnZXIpe1xuICAgICAgLy9oYW5kbGUgcmVzaXppbmcgaWYgZ2FtZUFyZWEgYW5kIGNhbnZhc1BlcmNlbnRhZ2UgYXJlIHNwZWNpZmllZFxuICAgICAgaWYodGhpcy5nYW1lQXJlYUlkICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSl7XG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcih7XG4gICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcyxcbiAgICAgICAgICBnYW1lQXJlYTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5nYW1lQXJlYUlkKSxcbiAgICAgICAgICBjYW52YXNQZXJjZW50YWdlOiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHtcbiAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnJlc2l6ZSgpO1xuXG4gICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbiBiZSBvdmVyaWRkZW4gaW4gdGhlIHN1YmNsYXNzZXMgdG8gbWFwIHVzZXIgaW5wdXQgdG8gYWN0aW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0lucHV0TWFuYWdlcn0gaW5wdXRNYW5hZ2VyXG4gICAqL1xuICBpbml0SW5wdXQoaW5wdXRNYW5hZ2VyKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcmlkZGVuIGluIHRoZSBzdWJjbGFzc2VzIHRvIGRlYWwgd2l0aCB1c2VyIGlucHV0IGJlZm9yZSB1cGRhdGluZyB0aGUgZ2FtZSBzdGF0ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0lucHV0TWFuYWdlcn0gaW5wdXRNYW5hZ2VyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICBoYW5kbGVJbnB1dChpbnB1dE1hbmFnZXIsZWxhcHNlZFRpbWUpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhyb3VnaCB0aGUgZ2FtZSBsb29wIHVudGlsIHN0b3AoKSBpcyBjYWxsZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBnYW1lTG9vcCgpIHtcbiAgICB0aGlzLmN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdGhpcy5lbGFwc2VkVGltZSA9IE1hdGgubWluKHRoaXMuY3VyclRpbWUgLSB0aGlzLnByZXZUaW1lLCB0aGlzLm1heFN0ZXApO1xuICAgIHRoaXMucHJldlRpbWUgPSB0aGlzLmN1cnJUaW1lO1xuXG4gICAgLy9pdCdzIHVzaW5nIGEgcmVzb3VyY2UgbWFuYWdlciwgYnV0IHJlc291cmNlcyBoYXZlbid0IGZpbmlzaGVkXG4gICAgaWYodGhpcy5yZXNvdXJjZU1hbmFnZXIgJiYgIXRoaXMucmVzb3VyY2VNYW5hZ2VyLnJlc291cmNlc1JlYWR5KCkpe1xuICAgICAgdGhpcy51cGRhdGVMb2FkaW5nU2NyZWVuKHRoaXMuZWxhcHNlZFRpbWUpO1xuICAgICAgdGhpcy5kcmF3TG9hZGluZ1NjcmVlbih0aGlzLmNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZUlucHV0KHRoaXMuaW5wdXRNYW5hZ2VyLHRoaXMuZWxhcHNlZFRpbWUpO1xuICAgICAgaWYoIXRoaXMucGF1c2VkKXtcbiAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgIHRoaXMudXBkYXRlKHRoaXMuZWxhcHNlZFRpbWUpO1xuICAgICAgfVxuICAgICAgLy8gZHJhdyB0aGUgc2NyZWVuXG4gICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgdGhpcy5kcmF3KHRoaXMuY29udGV4dCk7XG4gICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMYXVuY2hlcyB0aGUgZ2FtZSBsb29wLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgbGF1bmNoTG9vcCgpe1xuICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY3VyclRpbWUgPSBzdGFydFRpbWU7XG4gICAgdGhpcy5wcmV2VGltZSA9IHN0YXJ0VGltZTtcblxuICAgIC8vbmVlZCB0byBrZWVwIHRoZSBjb250ZXh0IGRlZmluZWQgaGVyZSBzbyB0aGUgZ2FtZSBsb29wIGhhcyBhY2Nlc3MgdG8gaXRcbiAgICB0aGlzLmxvb3BSdW5uZXIgPSB0aGlzLmxvb3BSdW5uZXIuYmluZCh0aGlzKTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubG9vcFJ1bm5lcik7XG4gIH1cblxuICBsb29wUnVubmVyKCl7XG4gICAgdGhpcy5nYW1lTG9vcCgpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wUnVubmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG91bGQgYmUgb3ZlcnJpZGRlbiB0byB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSBnYW1lL2FuaW1hdGlvbiBiYXNlZCBvbiB0aGUgYW1vdW50IG9mIGVsYXBzZWQgdGltZSB0aGF0IGhhcyBwYXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGUoZWxhcHNlZFRpbWUpIHtcblxuXG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJyaWRkZW4gdG8gdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgZ2FtZS9hbmltYXRpb24gd2hpbGUgYSBjdXN0b20gbG9hZGluZyBzY3JlZW4gaXMgZGlzcGxheWVkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlTG9hZGluZ1NjcmVlbihlbGFwc2VkVGltZSkge1xuXG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdG8gdGhlIHNjcmVlbi4gU3ViY2xhc3NlcyBvciBpbnN0YW5jZXMgbXVzdCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwYWludCBpdGVtcyB0byB0aGUgc2NyZWVuLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgQW4gSFRNTDUgY2FudmFzIGRyYXdpbmcgY29udGV4dC5cbiAgICovXG4gIGRyYXcoY29udGV4dCl7XG4gICAgaWYodGhpcy5jb250ZXh0VHlwZSA9PT0gJzJkJyl7XG4gICAgICBjb250ZXh0LmZvbnQgPSBcIjE0cHggc2Fucy1zZXJpZlwiO1xuICAgICAgY29udGV4dC5maWxsVGV4dChcIlRoaXMgZ2FtZSBkb2VzIG5vdCBoYXZlIGl0cyBvd24gZHJhdyBmdW5jdGlvbiFcIiwgMTAsIDUwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHByb2dyZXNzIG9mIHRoZSByZXNvdXJjZSBtYW5nZXIgdG8gdGhlIHNjcmVlbiB3aGlsZSBsb2FkaW5nLlxuICAgKiBTdWJjbGFzc2VzIG9yIGluc3RhbmNlcyBtYXkgb3ZlcnJpZGUgZm9yIGN1c3RvbSBsb2FkaW5nIGFuaW1hdGlvbnMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dCBBbiBIVE1MNSBjYW52YXMgZHJhd2luZyBjb250ZXh0LlxuICAgKi9cbiAgZHJhd0xvYWRpbmdTY3JlZW4oY29udGV4dCl7XG4gICAgaWYodGhpcy5yZXNvdXJjZU1hbmFnZXIgJiYgKHRoaXMuY29udGV4dFR5cGUgPT09ICcyZCcpKXtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5sb2FkaW5nQmFja2dyb3VuZDtcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwwLCB0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtcblxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmxvYWRpbmdGb3JlZ3JvdW5kO1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMubG9hZGluZ0ZvcmVncm91bmQ7XG5cbiAgICAgIHZhciB0ZXh0UHhTaXplID0gTWF0aC5mbG9vcih0aGlzLmhlaWdodC8xMik7XG5cbiAgICAgIGNvbnRleHQuZm9udCA9IFwiYm9sZCBcIiArIHRleHRQeFNpemUgKyBcInB4IHNhbnMtc2VyaWZcIjtcblxuICAgICAgY29udGV4dC5maWxsVGV4dChcIkxvYWRpbmcuLi4gXCIgKyB0aGlzLnJlc291cmNlTWFuYWdlci5nZXRQZXJjZW50Q29tcGxldGUoKSArIFwiJVwiLCB0aGlzLndpZHRoICogMC4xLCB0aGlzLmhlaWdodCAqIDAuNTUpO1xuXG4gICAgICBjb250ZXh0LnN0cm9rZVJlY3QodGhpcy53aWR0aCAqIDAuMSwgdGhpcy5oZWlnaHQgKiAwLjcsIHRoaXMud2lkdGggKiAwLjgsIHRoaXMuaGVpZ2h0ICogMC4xKTtcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QodGhpcy53aWR0aCAqIDAuMSwgdGhpcy5oZWlnaHQgKiAwLjcsICh0aGlzLndpZHRoICogMC44KSAqIHRoaXMucmVzb3VyY2VNYW5hZ2VyLmdldFBlcmNlbnRDb21wbGV0ZSgpLzEwMCwgdGhpcy5oZWlnaHQgKiAwLjEpO1xuXG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDQ7XG4gICAgfVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lQ29yZTtcbiIsIi8qKlxuICogVGhlIElucHV0TWFuYWdlciBoYW5kbGVzIERPTSBldmVudHMgZm9yIHVzZSBpbiBnYW1lcy5cbiAqIEBuYW1lIElucHV0TWFuYWdlclxuICogQGNvbnN0cnVjdG9yIElucHV0TWFuYWdlclxuICovXG5cbmNvbnN0IEhhbW1lciA9IHJlcXVpcmUoJ2hhbW1lcmpzJyk7XG5cbmNvbnN0IEdhbWVBY3Rpb24gPSByZXF1aXJlKCcuL0dhbWVBY3Rpb24nKTtcbmNvbnN0IFRvdWNoQWN0aW9uID0gcmVxdWlyZSgnLi9Ub3VjaEFjdGlvbicpO1xuY29uc3QgTW91c2VBY3Rpb24gPSByZXF1aXJlKCcuL01vdXNlQWN0aW9uJyk7XG5jb25zdCBpbnNpZGVDYW52YXMgPSByZXF1aXJlKCcuL3V0aWxzL2luc2lkZUNhbnZhcycpO1xuY29uc3Qga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG5mdW5jdGlvbiBvbiAoZWxlbWVudCwgbmFtZSwgaGFuZGxlcikge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG4gIHJldHVybiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc2l0aW9uKG5vZGUpe1xuICB2YXIgYm91bmRpbmdSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZGluZ1JlY3QubGVmdCxcbiAgICB5OiBib3VuZGluZ1JlY3QudG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUobm9kZSl7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKSB8fCB7fTtcbn1cblxuZnVuY3Rpb24gdG9QaXhlbCh2YWx1ZSl7XG4gIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBnZXRNYXJnaW5FeHRlbnRzKG5vZGUpe1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICB2YXIgbCA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luTGVmdCk7XG4gIHZhciB0ID0gdG9QaXhlbChzdHlsZS5tYXJnaW5Ub3ApO1xuICB2YXIgciA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luUmlnaHQpO1xuICB2YXIgYiA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luQm90dG9tKTtcbiAgcmV0dXJuIHtcbiAgICB3OiBsICsgcixcbiAgICBoOiB0ICsgYlxuICB9O1xufVxuXG5jbGFzcyBJbnB1dE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IG9mIGtleUFjdGlvbnMgYmVpbmcgbGlzdGVuZWQgZm9yXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmtleUFjdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIE1vdXNlQWN0aW9uIHRvIGtlZXAgdHJhY2sgb2YgdGhlIG1vdXNlJ3Mgc3RhdGVcbiAgICAgKiBAdHlwZSB7TW91c2VBY3Rpb259XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubW91c2VBY3Rpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFRvdWNoQWN0aW9uIHRvIGtlZXAgdHJhY2sgb2YgdG91Y2ggZXZlbnRzXG4gICAgICogQHR5cGUge1RvdWNoQWN0aW9ufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBIVE1MNSBjYW52YXMgb24gd2hpY2ggdG8gbGlzdGVuIGZvciBldmVudHNcbiAgICAgKiBAdHlwZSB7Q2FudmFzfVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBsaXN0ZW4gZm9yIG1vdXNlIGV2ZW50c1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAZGVwcmVjYXRlZCBNb3VzZSBpcyBhbHdheXMgaGFuZGxlZCwgdXNlIGVtdWxhdGVNb3VzZSB0byBzcGVjaWZ5IGhvdyB0byBoYW5kbGUgaXRcbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZU1vdXNlID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGxpc3RlbiBmb3IgdG91Y2ggZXZlbnRzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqIEBkZXByZWNhdGVkIFRvdWNoIGlzIGFsd2F5cyBoYW5kbGVkLCB1c2UgZW11bGF0ZU1vdXNlIHRvIHNwZWNpZnkgaG93IHRvIGhhbmRsZSBpdFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxlVG91Y2ggPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gbGlzdGVuIGZvciBrZXlib2FyZCBldmVudHNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oYW5kbGVLZXlzID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBnYW1lJ3MgY2FudmFzXG4gICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ2FtZUFyZWEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBlcmNlbnRhZ2UgKDAgdG8gMS4wKSBvZiB0aGUgaGVpZ2h0IGFuZCB3aWR0aCB0aGUgY2FudmFzIHNob3VsZCB1c2UgdG8gZmlsbCBpbiBpdHMgY29udGFpbmVyIERPTSBlbGVtZW50XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNQZXJjZW50YWdlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgbW91c2UgZXZlbnRzIHdoZW4gdXNpbmcgdG91Y2hcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbXVsYXRlTW91c2UgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSW5zdGFuY2Ugb2YgSGFtbWVyLmpzIC0gWW91IGNhbiBwYXNzIGluIGEgSGFtbWVyKCkgY29uc3RydWN0b3Igd2l0aCBvcHRpb25zIHRvIGN1c3RvbWl6ZSB5b3VyIEhhbW1lciBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdCBIYW1tZXIgaW5zdGFuY2UsIGJvdW5kIHRvIGRvY3VtZW50LCB3aXRoIHByZXZlbnRfZGVmYXVsdDogdHJ1ZSwgZHJhZ19tYXhfdG91Y2hlczogMCwgYW5kIGhvbGQ6IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5oYW1tZXIgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLmhhbW1lcil7XG4gICAgICB0aGlzLmhhbW1lciA9IG5ldyBIYW1tZXIoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICBwcmV2ZW50X2RlZmF1bHQ6IHRydWUsXG4gICAgICAgIGRyYWdfbWF4X3RvdWNoZXM6IDAsXG4gICAgICAgIC8vIEhvbGQgdXNlcyBzZXRUaW1lb3V0IHdoaWNoIGlzIHZlcnkgYmFkIGZvciBwZXJmb3JtYW5jZVxuICAgICAgICAvLyBUT0RPOiBEbyB3ZSB3YW50IHRvIGFsbG93IHRoaXMgdG8gYmUgb3ZlcnJpZGRlbj9cbiAgICAgICAgaG9sZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKCF0aGlzLmtleUFjdGlvbnMpe1xuICAgICAgdGhpcy5rZXlBY3Rpb25zID0ge307XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW51cChoYW5kbGVyKXtcbiAgICAgIGhhbmRsZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5oYW5kbGVLZXlzKXtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdrZXl1cCcsIHRoaXMua2V5dXAuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgIH1cblxuICAgIGlmKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50KXtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICd0b3VjaHN0YXJ0JywgdGhpcy50b3VjaHN0YXJ0LmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLnRvdWNobW92ZS5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLnRvdWNoZW5kLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcblxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ21vdXNlZG93bicsIHRoaXMubW91c2Vkb3duLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlbW92ZS5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMubW91c2V1cC5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgfVxuXG5cbiAgICBpZighdGhpcy5tb3VzZUFjdGlvbil7XG4gICAgICB0aGlzLm1vdXNlQWN0aW9uID0gbmV3IE1vdXNlQWN0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMudG91Y2hBY3Rpb24pe1xuICAgICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbigpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZW11bGF0ZU1vdXNlKXtcblxuICAgICAgLy9kYSBoZWxsIGhhbW1lciwgZ290dGEgZG8gdGhpcyBvdXJzZXZsZXMgbm93P1xuXG4gICAgICAvLyB0aGlzLm9uKCd0b3VjaCcsIHRoaXMubW91c2Vkb3duLmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbignZHJhZycsIHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbigncmVsZWFzZScsIHRoaXMubW91c2V1cC5iaW5kKHRoaXMpKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vZGEgaGVsbCBoYW1tZXIsIGdvdHRhIGRvIHRoaXMgb3Vyc2V2bGVzIG5vdz9cbiAgICAgIC8vIHRoaXMub24oJ3RvdWNoJywgdGhpcy50b3VjaHN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbignZHJhZycsIHRoaXMudG91Y2htb3ZlLmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbigncmVsZWFzZScsIHRoaXMudG91Y2hlbmQuYmluZCh0aGlzKSk7XG5cbiAgICB9XG5cbiAgICBpZih0aGlzLmdhbWVBcmVhICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSl7XG4gICAgICB2YXIgaGFuZGxlciA9IHRoaXMucmVzaXplLmJpbmQodGhpcyk7XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgcmVzaXplIGNoYW5nZXNcblxuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbih3aW5kb3csICdyZXNpemUnLCBoYW5kbGVyKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKHdpbmRvdywgJ29yaWVudGF0aW9uY2hhbmdlJywgaGFuZGxlciksIGNsZWFudXApO1xuICAgIH1cblxuICAgIHRoaXMubm9ybWFsaXplUG9pbnQgPSB0aGlzLm5vcm1hbGl6ZVBvaW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSB0aGlzLmluc2lkZUNhbnZhcy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gYmluZCBvdGhlciBIYW1tZXIuanMgZXZlbnRzIChzdWNoIGFzIFN3aXBlIG9yIERvdWJsZXRhcCk7XG4gICAqIFdhcm5pbmc6IE9ubHkgc2V0IGZsYWdzIG9yIHZhcmlhYmxlcyBpbiB0aGlzIGhhbmRsZXIsIG90aGVyd2lzZSB5b3VyIGdhbWUgbWlnaHQgYmVjb21lIHNsb3dcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZ2VzdHVyZSBUaGUgZ2VzdHVyZSB0byBiaW5kXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIgY2FsbGJhY2tcbiAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgcmVtb3ZlIGZ1bmN0aW9uIGZvciByZW1vdmluZyB0aGUgZXZlbnQuXG4gICAqL1xuICBvbihnZXN0dXJlLCBoYW5kbGVyKXtcbiAgICB2YXIgaGFtbWVyID0gdGhpcy5oYW1tZXI7XG4gICAgdmFyIHJlbW92ZUNsZWFudXAgPSB0aGlzLnJlbW92ZUNsZWFudXA7XG5cbiAgICBoYW1tZXIub24oZ2VzdHVyZSwgaGFuZGxlcik7XG4gICAgdmFyIGNsZWFudXAgPSB0aGlzLnB1c2hDbGVhbnVwKFtnZXN0dXJlLCBoYW5kbGVyXSwgZnVuY3Rpb24oYXJncyl7XG4gICAgICBoYW1tZXIub2ZmLmFwcGx5KGhhbW1lciwgYXJncyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpe1xuICAgICAgICByZW1vdmVDbGVhbnVwKGNsZWFudXApO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBhIHBvaW50IGlzIHdpdGhpbiB0aGUgSW5wdXRNYW5hZ2VyJ3MgY2FudmFzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtQb2ludH0gcG9pbnQgUG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoaXMgSW5wdXRNYW5hZ2VyJ3MgY2FudmFzXG4gICAqL1xuICBpbnNpZGVDYW52YXMocG9pbnQpe1xuICAgIHJldHVybiBpbnNpZGVDYW52YXMocG9pbnQsIHRoaXMuY2FudmFzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXBzIGEgR2FtZUFjdGlvbiB0byBhIHNwZWNpZmljIGtleS4gVGhlIGtleSBjb2RlcyBhcmUgZGVmaW5lZCBpbiBkb2pvLmtleXMuXG4gICAqIElmIHRoZSBrZXkgYWxyZWFkeSBoYXMgYSBHYW1lQWN0aW9uIG1hcHBlZCB0byBpdCwgdGhlIG5ldyBHYW1lQWN0aW9uIG92ZXJ3cml0ZXMgaXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0ge0dhbWVBY3Rpb259IGdhbWVBY3Rpb24gdGhlIEdhbWVBY3Rpb24gdG8gbWFwXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlDb2RlIGRvam8ua2V5cyBrZXkgY29kZSwgb3IgY2hhcmFjdGVyXG4gICAqL1xuICBtYXBUb0tleShnYW1lQWN0aW9uLCBrZXlDb2RlKXtcbiAgICB0aGlzLmtleUFjdGlvbnNba2V5Q29kZV0gPSBnYW1lQWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBHYW1lQWN0aW9uIHRvIGEga2V5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0ge09iamVjdHx8QXJyYXl9IGtleUNvZGUgS2V5IGNoYXJhY3RlciBvciBkb2pvL2tleXMga2V5IGNvZGVcbiAgICogQHBhcmFtIHtCb29sZWFufSBpbml0aWFsUHJlc3NPbmx5IERvIG9ubHkgb25lIGZpcmUgb2YgdGhlIGFjdGlvbiBwZXIga2V5cHJlc3NcbiAgICogQHJldHVybiB7R2FtZUFjdGlvbn0gR2FtZUFjdGlvbiB0aGF0IGlzIG1hcHBlZCB0byBrZXlDb2RlXG4gICAqL1xuICBhZGRLZXlBY3Rpb24oa2V5Q29kZSwgaW5pdGlhbFByZXNzT25seSl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoa2V5Q29kZSkpIHtcbiAgICAgIGtleUNvZGUgPSBba2V5Q29kZV07XG4gICAgfVxuICAgIGNvbnN0IGdhcyA9IGtleUNvZGUubWFwKChrYykgPT4ge1xuICAgICAgY29uc3QgZ2EgPSBuZXcgR2FtZUFjdGlvbigpO1xuICAgICAgaWYoaW5pdGlhbFByZXNzT25seSl7XG4gICAgICAgIGdhLmJlaGF2aW9yID0gZ2EuZGV0ZWN0SW5pdGlhbFByZXNzT25seTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWFwVG9LZXkoZ2EsIGtjKTtcbiAgICAgIHJldHVybiBnYTtcbiAgICB9KTtcbiAgICBcbiAgICBpZihnYXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIGdhcztcbiAgICB9XG5cbiAgICByZXR1cm4gZ2FzWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYXJyb3cga2V5IEdhbWVBY3Rpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKi9cbiAgYWRkQXJyb3dLZXlBY3Rpb25zKCl7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5VUCk7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5ET1dOKTtcbiAgICB0aGlzLmFkZEtleUFjdGlvbihrZXlzLkxFRlQpO1xuICAgIHRoaXMuYWRkS2V5QWN0aW9uKGtleXMuUklHSFQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNldXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlVXAoZSkge1xuICAgIHRoaXMubW91c2V1cChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdXNldXAoZSl7XG4gICAgdGhpcy5tb3VzZUFjdGlvbi5yZWxlYXNlKHRoaXMubm9ybWFsaXplUG9pbnQoZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgbW91c2VEb3duKGUpe1xuICAgIHRoaXMubW91c2Vkb3duKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3VzZWRvd24oZSl7XG4gICAgLy8gRW5zdXJlIG1vdXNlIGhhcyBiZWVuIHJlbGVhc2VkXG4gICAgdGhpcy5tb3VzZUFjdGlvbi5yZWxlYXNlKG51bGwpO1xuICAgIHZhciBjdXJyZW50UG9pbnQgPSB0aGlzLm5vcm1hbGl6ZVBvaW50KGUpO1xuICAgIHRoaXMubW91c2VBY3Rpb24uaW5zaWRlQ2FudmFzID0gdGhpcy5pbnNpZGVDYW52YXMoY3VycmVudFBvaW50KTtcbiAgICB0aGlzLm1vdXNlQWN0aW9uLnByZXNzKGN1cnJlbnRQb2ludCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlTW92ZShlKXtcbiAgICB0aGlzLm1vdXNlbW92ZShlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW91c2Vtb3ZlKGUpe1xuICAgIHRoaXMubW91c2VBY3Rpb24ucG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZVBvaW50KGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoc3RhcnQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIHRvdWNoU3RhcnQoZSl7XG4gICAgdGhpcy50b3VjaHN0YXJ0KGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoc3RhcnQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgdG91Y2hzdGFydChlKXtcbiAgICAvLyBFbnN1cmUgdG91Y2ggaGFzIGJlZW4gcmVsZWFzZWRcbiAgICB0aGlzLnRvdWNoQWN0aW9uLnJlbGVhc2UobnVsbCk7XG4gICAgY29uc29sZS5sb2coZS50b3VjaGVzLCBlKTtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLmluc2lkZUNhbnZhcyA9IGN1cnJlbnRQb2ludHMuc29tZSh0aGlzLmluc2lkZUNhbnZhcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbi5wcmVzcyhjdXJyZW50UG9pbnRzKTtcbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlZG93bihlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaGVuZCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hFbmQoZSl7XG4gICAgdGhpcy50b3VjaGVuZChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaGVuZCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaGVuZChlKXtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLnJlbGVhc2UoY3VycmVudFBvaW50cyk7XG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuICAgICAgdGhpcy5tb3VzZVVwKGUudG91Y2hlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNobW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hNb3ZlKGUpe1xuICAgIHRoaXMudG91Y2htb3ZlKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNobW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaG1vdmUoZSl7XG4gICAgLy9Ub3VjaExpc3QgZG9lc24ndCBpbXBsZW1lbnQgLm1hcCgpXG4gICAgY29uc3QgY3VycmVudFBvaW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50UG9pbnRzLnB1c2godGhpcy5ub3JtYWxpemVQb2ludChlLnRvdWNoZXNbaV0pKTtcbiAgICB9XG4gICAgdGhpcy50b3VjaEFjdGlvbi5wb3NpdGlvbnMgPSBjdXJyZW50UG9pbnRzO1xuICAgIGlmKHRoaXMudG91Y2hBY3Rpb24uc3RhcnRQb3NpdGlvbnMpe1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlbW92ZShlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIEdhbWVBY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXlDb2RlIG9uIHRoZSBldmVudCBvYmplY3RcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtHYW1lQWN0aW9ufG51bGx9IFRoZSBHYW1lQWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5Q29kZSBlbHNlIG51bGxcbiAgICovXG4gIGdldEtleUFjdGlvbihlKSB7XG4gICAgaWYgKHRoaXMua2V5QWN0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMua2V5QWN0aW9uc1tlLmtleUNvZGVdIHx8IHRoaXMua2V5QWN0aW9uc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5cHJlc3MgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2Uga2V5ZG93biBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBrZXlQcmVzc2VkKGUpIHtcbiAgICB0aGlzLmtleWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5ZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAga2V5RG93bihlKXtcbiAgICB0aGlzLmtleWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5ZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBrZXlkb3duKGUpIHtcbiAgICB2YXIgZ2FtZUFjdGlvbiA9IHRoaXMuZ2V0S2V5QWN0aW9uKGUpO1xuICAgIGlmIChnYW1lQWN0aW9uICYmICFnYW1lQWN0aW9uLmlzUHJlc3NlZCgpKSB7XG4gICAgICBnYW1lQWN0aW9uLnByZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGtleXVwIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIGtleVJlbGVhc2VkKGUpe1xuICAgIHRoaXMua2V5dXAoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5dXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAga2V5dXAoZSkge1xuICAgIHZhciBnYW1lQWN0aW9uID0gdGhpcy5nZXRLZXlBY3Rpb24oZSk7XG4gICAgaWYgKGdhbWVBY3Rpb24pIHtcbiAgICAgIGdhbWVBY3Rpb24ucmVsZWFzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGdldCBhIG5vcm1hbGl6ZWQgcG9pbnQgb3V0IG9mIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGV2dCBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7UG9pbnR9IE5vcm1hbGl6ZWQgcG9pbnRcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBub3JtYWxpemVQb2ludCBmdW5jdGlvbiAoU2FtZSBmdW5jdGlvbmFsaXR5LCBkaWZmZXJlbnQgbmFtZSlcbiAgICovXG4gIGdldE1vdXNlTG9jKGV2dCl7XG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplUG9pbnQoZXZ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGdldCBhIG5vcm1hbGl6ZWQgcG9pbnQgb3V0IG9mIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGV2dCBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7UG9pbnR9IE5vcm1hbGl6ZWQgcG9pbnRcbiAgICovXG4gIG5vcm1hbGl6ZVBvaW50KGV2dCl7XG4gICAgaWYoZXZ0KXtcbiAgICAgIHZhciBjb29yZHNNID0gcG9zaXRpb24odGhpcy5jYW52YXMpO1xuICAgICAgaWYodGhpcy56b29tUmF0aW8pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQoKGV2dC5jbGllbnRYIC0gY29vcmRzTS54KSAvIHRoaXMuem9vbVJhdGlvKSxcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKChldnQuY2xpZW50WSAtIGNvb3Jkc00ueSkgLyB0aGlzLnpvb21SYXRpbylcbiAgICAgICAgfTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQoZXZ0LmNsaWVudFggLSBjb29yZHNNLngpLFxuICAgICAgICAgIHk6IE1hdGgucm91bmQoZXZ0LmNsaWVudFkgLSBjb29yZHNNLnkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVzaXplIHRoZSBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqL1xuICByZXNpemUoKXtcbiAgICBpZih0aGlzLmdhbWVBcmVhICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSAmJiB0aGlzLmNhbnZhcyl7XG4gICAgICB2YXIgY2FudmFzV2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgIHZhciBjYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgIHZhciBib2R5TWFyZ2lucyA9IGdldE1hcmdpbkV4dGVudHMoZG9jdW1lbnQuYm9keSk7XG5cbiAgICAgIHZhciBuZXdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gYm9keU1hcmdpbnMudztcbiAgICAgIHZhciBuZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBib2R5TWFyZ2lucy5oO1xuXG4gICAgICB2YXIgd2lkdGhUb0hlaWdodCA9IGNhbnZhc1dpZHRoIC8gY2FudmFzSGVpZ2h0O1xuICAgICAgdmFyIG5ld1dpZHRoVG9IZWlnaHQgPSBuZXdXaWR0aCAvIG5ld0hlaWdodDtcblxuICAgICAgdmFyIG5ld1dpZHRoU3R5bGUgPSAnJztcbiAgICAgIHZhciBuZXdIZWlnaHRTdHlsZSA9ICcnO1xuICAgICAgaWYgKG5ld1dpZHRoVG9IZWlnaHQgPiB3aWR0aFRvSGVpZ2h0KSB7XG4gICAgICAgIG5ld1dpZHRoID0gbmV3SGVpZ2h0ICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgbmV3V2lkdGhTdHlsZSA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgbmV3SGVpZ2h0U3R5bGUgPSBuZXdIZWlnaHQgKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3V2lkdGhTdHlsZSA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgbmV3SGVpZ2h0U3R5bGUgPSBNYXRoLnJvdW5kKG5ld1dpZHRoIC8gd2lkdGhUb0hlaWdodCkgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvb21SYXRpbyA9IG5ld1dpZHRoIC8gY2FudmFzV2lkdGggKiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2U7XG5cbiAgICAgIHRoaXMuZ2FtZUFyZWEuc3R5bGUud2lkdGggPSBuZXdXaWR0aFN0eWxlO1xuICAgICAgdGhpcy5nYW1lQXJlYS5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHRTdHlsZTtcblxuICAgICAgdmFyIGNhbnZhc1BlcmNlbnRhZ2VTdHlsZSA9IE1hdGguZmxvb3IodGhpcy5jYW52YXNQZXJjZW50YWdlICogMTAwKSArICclJztcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzUGVyY2VudGFnZVN0eWxlO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzUGVyY2VudGFnZVN0eWxlO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5tYXJnaW5MZWZ0ID0gJ2F1dG8nO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUubWFyZ2luUmlnaHQgPSAnYXV0byc7XG4gICAgfVxuICB9XG5cbiAgcHVzaENsZWFudXAoYSwgYil7XG4gICAgLy8gY29uc29sZS5sb2coJ3B1c2hDbGVhbnVwJywgYSwgYik7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IElucHV0TWFuYWdlcjtcbiIsIi8qKlxuICogQSBHYW1lQWN0aW9uIHRoYXQgaGFuZGxlcyBUb3VjaCBldmVudHNcbiAqIEBuYW1lIFRvdWNoQWN0aW9uXG4gKiBAY29uc3RydWN0b3IgVG91Y2hBY3Rpb25cbiAqIEBleHRlbmRzIHtHYW1lQWN0aW9ufVxuICovXG5cbmNvbnN0IEdhbWVBY3Rpb24gPSByZXF1aXJlKCcuL0dhbWVBY3Rpb24nKTtcblxuY2xhc3MgVG91Y2hBY3Rpb24gZXh0ZW5kcyBHYW1lQWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaHN0YXJ0IGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcG9zaXRpb25zIHdoZXJlIHRvdWNoZW5kIGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW5kUG9zaXRpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaG1vdmUgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2V0aGVyIGFueSBvZiB0aGUgdG91Y2ggYWN0aW9ucyBvcmlnaW5hdGVkIGluc2lkZSB0aGUgY2FudmFzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgdG91Y2ggd2FzIGluaXRpYXRlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICogQHBhcmFtIHtBcnJheX0gc3RhcnRQb3NpdGlvbnMgQXJyYXkgb2YgcG9pbnRzIHdoZXJlIHRvdWNoIHdhcyBwcmVzc2VkXG4gICAqL1xuICBwcmVzcyhzdGFydFBvc2l0aW9ucyl7XG4gICAgdGhpcy5zdGFydFBvc2l0aW9ucyA9IHN0YXJ0UG9zaXRpb25zO1xuICAgIHRoaXMucG9zaXRpb25zID0gc3RhcnRQb3NpdGlvbnM7XG4gICAgc3VwZXIucHJlc3Moc3RhcnRQb3NpdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgdG91Y2ggd2FzIHJlbGVhc2VkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAqIEBwYXJhbSB7QXJyYXl9IGVuZFBvc2l0aW9ucyBBcnJheSBvZiBwb2ludHMgd2hlcmUgdG91Y2ggd2FzIHJlbGVhc2VkXG4gICAqL1xuICByZWxlYXNlKGVuZFBvc2l0aW9ucyl7XG4gICAgdGhpcy5lbmRQb3NpdGlvbnMgPSBlbmRQb3NpdGlvbnM7XG4gICAgc3VwZXIucmVsZWFzZShlbmRQb3NpdGlvbnMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hBY3Rpb247XG4iLCIvKipcbiAqIEEgR2FtZUFjdGlvbiB0aGF0IGhhbmRsZXMgTW91c2UgZXZlbnRzXG4gKiBAbmFtZSBNb3VzZUFjdGlvblxuICogQGNvbnN0cnVjdG9yIE1vdXNlQWN0aW9uXG4gKiBAZXh0ZW5kcyB7R2FtZUFjdGlvbn1cbiAqL1xuXG5jb25zdCBHYW1lQWN0aW9uID0gcmVxdWlyZSgnLi9HYW1lQWN0aW9uJyk7XG5cbmNsYXNzIE1vdXNlQWN0aW9uIGV4dGVuZHMgR2FtZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZWRvd24gaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zdGFydFBvc2l0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIHdoZXJlIG1vdXNldXAgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbmRQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZW1vdmUgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXZXRoZXIgdGhlIG1vdXNlIGFjdGlvbiBvcmlnaW5hdGVkIGluc2lkZSB0aGUgY2FudmFzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgbW91c2Ugd2FzIHByZXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHByZXNzKHN0YXJ0UG9zaXRpb24pe1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgdGhpcy5wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgc3VwZXIucHJlc3Moc3RhcnRQb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBtb3VzZSB3YXMgcmVsZWFzZWRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICogQHBhcmFtICB7UG9pbnR9IGVuZFBvc2l0aW9uIFRoZSBwb2ludCB3aGVyZSBtb3VzZSB3YXMgcmVsZWFzZWRcbiAgICovXG4gIHJlbGVhc2UoZW5kUG9zaXRpb24pe1xuICAgIHRoaXMuZW5kUG9zaXRpb24gPSBlbmRQb3NpdGlvbiB8fCB0aGlzLnBvc2l0aW9uO1xuICAgIHN1cGVyLnJlbGVhc2UoZW5kUG9zaXRpb24pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW91c2VBY3Rpb247XG4iLCJmdW5jdGlvbiBpbnNpZGVDYW52YXMocHQsIGNhbnZhcyl7XG4gIGlmKChwdC54IDwgMCkgfHwgKHB0LnggPiAgY2FudmFzLndpZHRoKSB8fCAocHQueSA8IDApIHx8IChwdC55ID4gY2FudmFzLmhlaWdodCkpe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2lkZUNhbnZhcztcbiIsIi8qKlxuICogVGhlIFJlc291cmNlTWFuYWdlciBoYW5kbGVzIGxvYWRpbmcgaW1hZ2VzIGFuZCBzb3VuZHMgZm9yIHVzZSBpbiBnYW1lcy5cbiAqIEBuYW1lIFJlc291cmNlTWFuYWdlclxuICogQGNvbnN0cnVjdG9yIFJlc291cmNlTWFuYWdlclxuICovXG5cbiAndXNlIHN0cmljdCc7XG5cbmNvbnN0IGhhcyA9IHJlcXVpcmUoJy4vaGFzJyk7XG5jb25zdCBTb3VuZCA9IHJlcXVpcmUoJy4vc291bmRzL1NvdW5kJyk7XG5jb25zdCBXZWJBdWRpbyA9IHJlcXVpcmUoJy4vc291bmRzL1dlYkF1ZGlvJyk7XG5cbnZhciByZXNvdXJjZUxpc3QgPSB7fTtcblxuLy9UT0RPOiBtb3ZlIHRoZXNlIHRvIGl0cyBvd24gbW9kdWxlIGZvciB1bml0IHRlc3Rpbmc/XG5mdW5jdGlvbiBub3JtYWxpemVQYXRoKGJhc2VEaXIsIHBhdGgpe1xuICB2YXIgam9pbmVkUGF0aCA9IHBhdGg7XG4gIGlmKGJhc2VEaXIpe1xuICAgIGpvaW5lZFBhdGggPSBbYmFzZURpciwgcGF0aF0uam9pbignLycpO1xuICB9XG4gIHJldHVybiBqb2luZWRQYXRoLnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKTtcbn1cblxuZnVuY3Rpb24gZmxpcFgoaW1hZ2Upe1xuICB2YXIgb2Zmc2NyZWVuQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gIG9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICB2YXIgY3R4ID0gb2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgY3R4LnRyYW5zbGF0ZShvZmZzY3JlZW5DYW52YXMud2lkdGgsIDApO1xuICBjdHguc2NhbGUoLTEsIDEpO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgcmV0dXJuIG9mZnNjcmVlbkNhbnZhcy50b0RhdGFVUkwoKTtcbn1cblxuZnVuY3Rpb24gZmxpcFkoaW1hZ2Upe1xuICB2YXIgb2Zmc2NyZWVuQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gIG9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICB2YXIgY3R4ID0gb2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgY3R4LnRyYW5zbGF0ZSgwLCBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0KTtcbiAgY3R4LnNjYWxlKDEsIC0xKTtcbiAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gIHJldHVybiBvZmZzY3JlZW5DYW52YXMudG9EYXRhVVJMKCk7XG59XG5cbmNsYXNzIEltYWdlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKGZpbGVuYW1lKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5uYW1lID0gZmlsZW5hbWU7XG4gICAgc2VsZi5jb21wbGV0ZSA9IGZhbHNlO1xuICAgIHNlbGYuaW1nID0gbmV3IEltYWdlKCk7XG4gICAgc2VsZi5pbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5jb21wbGV0ZSA9IHRydWU7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgbG9hZCgpe1xuICAgIHRoaXMuaW1nLnNyYyA9IHRoaXMubmFtZTtcbiAgfVxufVxuXG5cbmNsYXNzIFJlc291cmNlTWFuYWdlciB7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgYWxsIHRoZSByZXNvdXJjZXMgaGF2ZSBiZWVuIGxvYWRlZFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgZGlyZWN0b3J5IHRvIGxvYWQgaW1hZ2VzIGZyb21cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltYWdlRGlyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGRpcmVjdG9yeSB0byBsb2FkIHNvdW5kcyBmcm9tXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zb3VuZERpciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBhbGwgdGhlIHJlc291cmNlcyBieSB0aGVpciBVUkxzXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5yZXNvdXJjZUxpc3QgPSByZXNvdXJjZUxpc3Q7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgLy8gVE9ETyBub3Qgc3VyZSBhIGJldHRlciB3YXlcbiAgICBpZighdGhpcy5Tb3VuZCl7XG4gICAgICBpZihoYXMoJ1dlYkF1ZGlvJykpe1xuICAgICAgICB0aGlzLlNvdW5kID0gV2ViQXVkaW87XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICB0aGlzLlNvdW5kID0gU291bmQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGFuIGltYWdlIChvciBhIGNvbGxlY3Rpb24gb2YgaW1hZ2VzKSwgYW5kIHRyYWNrcyBpZiBpdCBoYXMgZmluaXNoZWQgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGZpbGVzIEZpbGVuYW1lIG9mIHRoZSBpbWFnZSByZWxhdGl2ZSB0aGUgR2FtZSdzIEhUTUwgcGFnZS5cbiAgICogQHJldHVybnMge0ltYWdlfEFycmF5fSBSZXR1cm4gdHlwZSBiYXNlZCBvbiBhcmd1bWVudDogSW1hZ2UgaWYgU3RyaW5nIG9yIEFycmF5IG9mIEltYWdlcyBpZiBBcnJheVxuICAgKi9cbiAgbG9hZEltYWdlKGZpbGVzKXtcbiAgICBsZXQgc2luZ2xlRmlsZSA9IGZhbHNlO1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgc2luZ2xlRmlsZSA9IHRydWU7XG4gICAgICBmaWxlcyA9IFtmaWxlc107XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZUxpc3QgPSBmaWxlcy5tYXAoKGZpbGUpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gbm9ybWFsaXplUGF0aCh0aGlzLmltYWdlRGlyLCBmaWxlKTtcbiAgICAgIC8vaWYgd2UgYWxyZWFkeSBoYXZlIHRoZSBpbWFnZSwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmKHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSl7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0uaW1nO1xuICAgICAgfVxuICAgICAgdGhpcy5hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgY29uc3Qgd3JhcHBlciA9IG5ldyBJbWFnZVdyYXBwZXIoZmlsZW5hbWUpO1xuICAgICAgLy8gTmVlZCB0byBleHBsaWNpdGx5IGNhbGwgbG9hZCBiZWNhdXNlIGZsaXBJbWFnZSBhbHNvIHVzZXMgdGhpcyBvYmplY3RcbiAgICAgIC8vIHdoaWNoIGlzIHByb2JhYmx5IGEgYmFkIGlkZWEgYW5kIHNob3VsZCBjaGFuZ2UgaW4gZnV0dXJlXG4gICAgICAvLyBUT0RPOiBkaWZmZXJlbnQgb2JqZWN0cyBmb3IgZmxpcHBlZCBpbWFnZSBhbmQgcmVndWxhciBpbWFnZVxuICAgICAgd3JhcHBlci5sb2FkKCk7XG4gICAgICB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0gPSB3cmFwcGVyO1xuICAgICAgcmV0dXJuIHdyYXBwZXIuaW1nO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNpbmdsZUZpbGUgPyBmaWxlTGlzdFswXSA6IGZpbGVMaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGEgc291bmQgZmlsZSAob3IgYSBjb2xsZWN0aW9uIG9mIHNvdW5kIGZpbGVzKSwgYW5kIHRyYWNrcyBpZiBpdCBoYXMgZmluaXNoZWQgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGZpbGVuYW1lIEZpbGVuYW1lIG9mIHRoZSBzb3VuZCByZWxhdGl2ZSB0aGUgR2FtZSdzIEhUTUwgcGFnZS5cbiAgICogQHJldHVybnMge1NvdW5kfEFycmF5fSBSZXR1cm4gdHlwZSBiYXNlZCBvbiBhcmd1bWVudDogU291bmQgT2JqZWN0IGlmIFN0cmluZyBvciBBcnJheSBvZiBTb3VuZCBPYmplY3RzIGlmIEFycmF5XG4gICAqL1xuICBsb2FkU291bmQoZmlsZXMpe1xuICAgIGxldCBzaW5nbGVGaWxlID0gZmFsc2U7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoZmlsZXMpKSB7XG4gICAgICBzaW5nbGVGaWxlID0gdHJ1ZTtcbiAgICAgIGZpbGVzID0gW2ZpbGVzXTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlTGlzdCA9IGZpbGVzLm1hcCgoZmlsZSkgPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBub3JtYWxpemVQYXRoKHRoaXMuc291bmREaXIsIGZpbGUpO1xuICAgICAgLy9pZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHNvdW5kLCBqdXN0IHJldHVybiBpdFxuICAgICAgaWYodGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHNvdW5kID0gbmV3IHRoaXMuU291bmQoZmlsZW5hbWUpO1xuICAgICAgdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdID0gc291bmQ7XG4gICAgICByZXR1cm4gc291bmQ7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2luZ2xlRmlsZSA/IGZpbGVMaXN0WzBdIDogZmlsZUxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogRmxpcHMgYW4gaW1hZ2UgdXNpbmcgdGhlIGxvZ2ljIGluIGEgZmxpcCBmdW5jdGlvbiBwYXNzZWQgYW5kIGF0dGFjaGVzIHRvIHJlc291cmNlIG1hbmFnZXIgd2l0aCBuYW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBuYW1lIE5hbWUgZm9yIGNhY2hpbmcgZmxpcHBlZCBpbWFnZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1hZ2UgSW1hZ2UgdG8gYmUgZmxpcHBlZFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZmxpcEZuIEZ1bmN0aW9uIGNvbnRhaW5pbmcgbG9naWMgdG8gZmxpcCBpbWFnZVxuICAgKiBAcmV0dXJuIHtJbWFnZX0gRmxpcHBlZCBpbWFnZVxuICAgKi9cbiAgZmxpcEltYWdlKG5hbWUsIGltYWdlLCBmbGlwRm4pe1xuICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICBjb25zdCB3cmFwcGVyID0gbmV3IEltYWdlV3JhcHBlcihuYW1lKTtcbiAgICB0aGlzLnJlc291cmNlTGlzdFtuYW1lXSA9IHdyYXBwZXI7XG4gICAgY29uc3QgaW1nMiA9IG5ldyBJbWFnZSgpO1xuICAgIGZ1bmN0aW9uIGRvRmxpcCgpIHtcbiAgICAgIHdyYXBwZXIuaW1nLnNyYyA9IGZsaXBGbihpbWcyKTtcbiAgICAgIGltZzIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvRmxpcCk7XG4gICAgfVxuICAgIGltZzIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvRmxpcCk7XG4gICAgaW1nMi5zcmMgPSBpbWFnZS5zcmM7XG5cbiAgICByZXR1cm4gd3JhcHBlci5pbWc7XG4gIH1cblxuICAvKipcbiAgICogRmxpcCBpbWFnZSBhbG9uZyB4LWF4aXMgdXNpbmcgZGVmYXVsdCBmbGlwIGxvZ2ljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBuYW1lIE5hbWUgZm9yIGNhY2hpbmcgZmxpcHBlZCBpbWFnZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1hZ2UgSW1hZ2UgdG8gYmUgZmxpcHBlZFxuICAgKiBAcmV0dXJuIHtJbWFnZX0gRmxpcHBlZCBpbWFnZVxuICAgKi9cbiAgZmxpcEltYWdlWChuYW1lLCBpbWFnZSl7XG4gICAgcmV0dXJuIHRoaXMuZmxpcEltYWdlKG5hbWUsIGltYWdlLCBmbGlwWCk7XG4gIH1cblxuICAvKipcbiAgICogRmxpcCBpbWFnZSBhbG9uZyB0aGUgeS1heGlzIHVzaW5nIGRlZmF1bHQgZmxpcCBsb2dpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbmFtZSBOYW1lIGZvciBjYWNoaW5nIGZsaXBwZWQgaW1hZ2VcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltYWdlIEltYWdlIHRvIGJlIGZsaXBwZWRcbiAgICogQHJldHVybiB7SW1hZ2V9IEZsaXBwZWQgaW1hZ2VcbiAgICovXG4gIGZsaXBJbWFnZVkobmFtZSwgaW1hZ2Upe1xuICAgIHJldHVybiB0aGlzLmZsaXBJbWFnZShuYW1lLCBpbWFnZSwgZmxpcFkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSByZXNvdXJjZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKi9cbiAgcmVzb3VyY2VzUmVhZHkoKXtcbiAgICBpZih0aGlzLmFsbExvYWRlZCl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yKHZhciBmaWxlbmFtZSBpbiB0aGlzLnJlc291cmNlTGlzdCl7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXTtcbiAgICAgICAgaWYoIXJlc291cmNlLmNvbXBsZXRlKXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsTG9hZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwZXJjZW50IG9mIHJlc291cmNlcyBsb2FkZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBwZXJjZW50IG9mIHJlc291cmNlcyBsb2FkZWRcbiAgICovXG4gIGdldFBlcmNlbnRDb21wbGV0ZSgpe1xuICAgIHZhciBudW1Db21wbGV0ZSA9IDAuMDtcbiAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICBmb3IodmFyIGZpbGVuYW1lIGluIHRoaXMucmVzb3VyY2VMaXN0KXtcbiAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXTtcbiAgICAgIGxlbmd0aCsrO1xuICAgICAgaWYocmVzb3VyY2UuY29tcGxldGUpe1xuICAgICAgICBudW1Db21wbGV0ZSA9IG51bUNvbXBsZXRlICsgMS4wO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihsZW5ndGggPT09IDApe1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKChudW1Db21wbGV0ZSAvIGxlbmd0aCkgKiAxMDAuMCk7XG4gICAgfVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZXNvdXJjZU1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGhhY2t5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiBoYXNcblxuY29uc3QgZ2xvYmFsQXVkaW9Db250ZXh0ID0gcmVxdWlyZSgnLi9zaGltcy9BdWRpb0NvbnRleHQnKTtcblxuXG5mdW5jdGlvbiBoYXMoY2hlY2spe1xuXG4gIGlmKGNoZWNrID09ICdzaGl0dHlTb3VuZCcpe1xuICAgIHJldHVybiAhISgoaGFzKCdhbmRyb2lkJykgfHwgaGFzKCdpb3MnKSkgJiYgaGFzKCd3ZWJraXQnKSk7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnYW5kcm9pZCcpe1xuICAgIHJldHVybiAocGFyc2VGbG9hdChuYXZpZ2F0b3IudXNlckFnZW50LnNwbGl0KFwiQW5kcm9pZCBcIilbMV0pIHx8IHVuZGVmaW5lZCk7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnaW9zJyl7XG4gICAgLy9UT0RPIG5lZWQgc29tZXRoaW5nIGZvciB0aGlzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ3dlYmtpdCcpe1xuICAgIHJldHVybiAocGFyc2VGbG9hdChuYXZpZ2F0b3IudXNlckFnZW50LnNwbGl0KFwiV2ViS2l0L1wiKVsxXSkgfHwgdW5kZWZpbmVkKTtcbiAgfVxuICBlbHNlIGlmKGNoZWNrID09ICdXZWJBdWRpbycpe1xuICAgIHJldHVybiAhIWdsb2JhbC5BdWRpb0NvbnRleHQ7XG4gIH1cbiAgZWxzZSBpZiAoY2hlY2sgPT09ICd0b3VjaCcpIHtcbiAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhcztcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qKlxuICogQW4gQXVkaW8gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBhIGdlbmVyaWMgQVBJXG4gKiBAbmFtZSBTb3VuZFxuICogQGNvbnN0cnVjdG9yIFNvdW5kXG4gKi9cblxuXG4vKipcbiAqIE1hcCBvZiBhdWRpbyB0eXBlcyBhbmQgY29kZWNzIHVzZWQgaW4gZmFsbGJhY2sgbG9hZGluZyBvZiBzb3VuZHMgPGJyPlxuICogUmVmZXJlbmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0hUTUwvU3VwcG9ydGVkX21lZGlhX2Zvcm1hdHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyT2YgU291bmQjXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL21wZWcnICcubXAzJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby93ZWJtJyAnLndlYm0nXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL29nZycgJy5vZ2cnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL3dhdicgJy53YXYnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL2FhYycgJy5hYWMnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL3gtbTRhJyAnLm00YSdcbiAqIEBleGFtcGxlXG4gKiAvLyBUbyBvdmVycmlkZSB0aGUgZGVmYXVsdCBmb3JtYXRzOlxuICogLy8gRG8gdGhpcyBiZWZvcmUgbG9hZGluZyBhbnkgc291bmRzXG4gKiByZXF1aXJlKFtcbiAqICAgJ2Zyb3plbi9zb3VuZHMvU291bmQnXG4gKiBdLCBmdW5jdGlvbihTb3VuZCl7XG4gKiAgIFNvdW5kLnByb3RvdHlwZS5mb3JtYXRzID0ge1xuICogICAgICdhdWRpby9tcGVnJzogJy5tcDMnLFxuICogICAgICdhdWRpby93ZWJtJzogJy53ZWJtJ1xuICogICB9O1xuICogfSk7XG4gKi9cbmNvbnN0IGZvcm1hdHMgPSB7XG4gICdhdWRpby9tcGVnJzogJy5tcDMnLFxuICAnYXVkaW8vd2VibSc6ICcud2VibScsXG4gICdhdWRpby9vZ2cnOiAnLm9nZycsXG4gICdhdWRpby93YXYnOiAnLndhdicsXG4gICdhdWRpby9hYWMnOiAnLmFhYycsXG4gICdhdWRpby94LW00YSc6ICcubTRhJ1xufTtcblxuXG5cbmNsYXNzIFNvdW5kIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBBdWRpbyBvYmplY3QgLSB0eXBpY2FsbHkgdGhlIGZpbGVuYW1lXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2lnbmFscyBpZiB0aGUgQXVkaW8gb2JqZWN0IGhhcyBjb21wbGV0ZWQgbG9hZGluZ1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGV4dGVuc2lvbnMgdGhlIGJyb3dzZXIgXCJwcm9iYWJseVwiIGNhbiBwbGF5XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucHJvYmFibHkgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGV4dGVuc2lvbnMgdGhlIGJyb3dzZXIgXCJtYXliZVwiIGNhbiBwbGF5XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubWF5YmUgPSBbXTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmZvcm1hdHMgPSBmb3JtYXRzO1xuXG4gICAgaWYodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKXtcbiAgICAgIHRoaXMubG9hZChvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgc291bmQgYnkgZmlsZW5hbWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBmaWxlbmFtZSBUaGUgZmlsZW5hbWUgb2YgdGhlIGZpbGUgdG8gbG9hZFxuICAgKi9cbiAgbG9hZChmaWxlbmFtZSl7XG4gICAgdGhpcy5uYW1lID0gZmlsZW5hbWU7XG4gICAgdGhpcy5jb21wbGV0ZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogTG9vcCB0aGUgc291bmQgYXQgYSBjZXJ0YWluIHZvbHVtZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSBWYWx1ZSBvZiB2b2x1bWUgLSBiZXR3ZWVuIDAgYW5kIDFcbiAgICovXG4gIGxvb3Aodm9sdW1lKXt9XG5cbiAgLyoqXG4gICAqIFBsYXkgdGhlIHNvdW5kIGF0IGEgY2VydGFpbiB2b2x1bWUgYW5kIHN0YXJ0IHRpbWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgICAgVmFsdWUgb2Ygdm9sdW1lIC0gYmV0d2VlbiAwIGFuZCAxXG4gICAqIEBwYXJhbSAge051bWJlcn0gc3RhcnRUaW1lIFZhbHVlIG9mIG1pbGxpc2Vjb25kcyBpbnRvIHRoZSB0cmFjayB0byBzdGFydFxuICAgKi9cbiAgcGxheSh2b2x1bWUsIHN0YXJ0VGltZSl7fVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdXNlZCB0byBjb25zdHJ1Y3QgQXVkaW8gb2JqZWN0cyBpbnRlcm5hbGx5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge051bWJlcn0gdm9sdW1lIFZhbHVlIG9mIHZvbHVtZSAtIGJldHdlZW4gMCBhbmQgMVxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBsb29wIFdoZXRoZXIgb3Igbm90IHRvIGxvb3AgYXVkaW9cbiAgICogQHJldHVybiB7QXVkaW99IEF1ZGlvIG9iamVjdCB0aGF0IHdhcyBjb25zdHJ1Y3RlZFxuICAgKi9cbiAgX2luaXRBdWRpbyh2b2x1bWUsIGxvb3Ape31cblxuICAvKipcbiAgICogTWV0aG9kIHVzZWQgdG8gZ2VuZXJhdGUgYSBjYWNoZSBvZiBleHRlbnNpb25zIChwcm9iYWJseS9tYXliZSBhcnJheXMpIHRvIHRyeSBsb2FkaW5nXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1N0cmluZ30gRmlyc3QgZXh0ZW5zaW9uIHRvIHRyeSBsb2FkaW5nXG4gICAqL1xuICBfY2hvb3NlRm9ybWF0KCl7XG4gICAgaWYoIXRoaXMucHJvYmFibHkubGVuZ3RoICYmICF0aGlzLm1heWJlLmxlbmd0aCl7XG4gICAgICAvLyBGaWd1cmUgb3V0IHRoZSBiZXN0IGV4dGVuc2lvbiBpZiB3ZSBoYXZlIG5vIGNhY2hlXG4gICAgICB2YXIgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgIHZhciBjb2RlYztcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBmb3IoY29kZWMgaW4gdGhpcy5mb3JtYXRzKXtcbiAgICAgICAgcmVzdWx0ID0gYXVkaW8uY2FuUGxheVR5cGUoY29kZWMpO1xuICAgICAgICBpZihyZXN1bHQgPT09ICdwcm9iYWJseScpe1xuICAgICAgICAgIHRoaXMucHJvYmFibHkucHVzaCh0aGlzLmZvcm1hdHNbY29kZWNdKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHJlc3VsdCA9PT0gJ21heWJlJyl7XG4gICAgICAgICAgdGhpcy5tYXliZS5wdXNoKHRoaXMuZm9ybWF0c1tjb2RlY10pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9iYWJseS5sZW5ndGgpe1xuICAgICAgcmV0dXJuIHRoaXMucHJvYmFibHlbMF07XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXliZS5sZW5ndGgpe1xuICAgICAgcmV0dXJuIHRoaXMubWF5YmVbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIHRvIHJlbW92ZSBhIGV4dGVuc2lvbiB0aGF0IGRpZG4ndCB3b3JrIGFuZCByZXR1cm4gdGhlIG5leHQgdmlhYmxlIGV4dGVuc2lvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IE5leHQgZXh0ZW5zaW9uIHRvIHRyeSBsb2FkaW5nXG4gICAqL1xuICBfbmV4dEZvcm1hdCgpe1xuICAgIGlmKHRoaXMucHJvYmFibHkubGVuZ3RoID4gMSl7XG4gICAgICB0aGlzLnByb2JhYmx5LnNoaWZ0KCk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9iYWJseVswXTtcbiAgICB9XG5cbiAgICBpZih0aGlzLnByb2JhYmx5Lmxlbmd0aCA9PT0gMSl7XG4gICAgICB0aGlzLnByb2JhYmx5Lmxlbmd0aCA9IDA7XG4gICAgICBpZih0aGlzLm1heWJlLmxlbmd0aCl7XG4gICAgICAgIHJldHVybiB0aGlzLm1heWJlWzBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMubWF5YmUubGVuZ3RoID4gMSl7XG4gICAgICB0aGlzLm1heWJlLnNoaWZ0KCk7XG4gICAgICByZXR1cm4gdGhpcy5tYXliZVswXTtcbiAgICB9XG5cbiAgICBpZih0aGlzLm1heWJlLmxlbmd0aCA9PT0gMSl7XG4gICAgICB0aGlzLm1heWJlLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTb3VuZDtcbiIsIi8qKlxuICogQW4gQXVkaW8gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBXZWJBdWRpbyBpbnRvIGEgZ2VuZXJpYyBBUElcbiAqIEBuYW1lIFdlYkF1ZGlvXG4gKiBAY29uc3RydWN0b3IgV2ViQXVkaW9cbiAqIEBleHRlbmRzIFNvdW5kXG4gKi9cblxuY29uc3QgU291bmQgPSByZXF1aXJlKCcuL1NvdW5kJyk7XG5jb25zdCByZW1vdmVFeHRlbnNpb24gPSByZXF1aXJlKCcuLi91dGlscy9yZW1vdmVFeHRlbnNpb24nKTtcbmNvbnN0IGhhcyA9IHJlcXVpcmUoJy4uL2hhcycpO1xuXG52YXIgYXVkaW9Db250ZXh0ID0gbnVsbDtcblxuXG5pZihoYXMoJ1dlYkF1ZGlvJykpe1xuICBhdWRpb0NvbnRleHQgPSBuZXcgd2luZG93LkF1ZGlvQ29udGV4dCgpO1xufVxuXG5pZihoYXMoJ3NoaXR0eVNvdW5kJykpe1xuICAvLyBTaW1pbGFyIHN0cmF0ZWd5IHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9DcmVhdGVKUy9Tb3VuZEpTXG4gIGZ1bmN0aW9uIGhhbmRsZVNoaXR0eSgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgc291cmNlLmJ1ZmZlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuICAgIHNvdXJjZS5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgc291cmNlLnN0YXJ0KDApO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVTaGl0dHkpO1xuICB9XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVTaGl0dHkpO1xufVxuXG5jbGFzcyBXZWJBdWRpbyBleHRlbmRzIFNvdW5kIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBXZWJBdWRpbyBBdWRpb0NvbnRleHQgLSB1c2VkIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBhIHNvdW5kXG4gICAgICogQHR5cGUge0F1ZGlvQ29udGV4dH1cbiAgICAgKiBAbWVtYmVyT2YgV2ViQXVkaW8jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IGF1ZGlvQ29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb3VuZCBidWZmZXJcbiAgICAgKiBAdHlwZSB7QnVmZmVyfVxuICAgICAqIEBtZW1iZXJPZiBXZWJBdWRpbyNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICBsb2FkKGZpbGVuYW1lKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLm5hbWUgPSBmaWxlbmFtZTtcblxuICAgIHZhciBiYXNlbmFtZSA9IHJlbW92ZUV4dGVuc2lvbihmaWxlbmFtZSk7XG4gICAgaWYoYmFzZW5hbWUgPT09IGZpbGVuYW1lKXtcbiAgICAgIGZpbGVuYW1lID0gYmFzZW5hbWUgKyB0aGlzLl9jaG9vc2VGb3JtYXQoKTtcbiAgICB9XG4gICAgLy8gZmlsZW5hbWUgPSByZXEudG9VcmwoZmlsZW5hbWUpO1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlQXVkaW9EYXRhKGUpe1xuICAgICAgLy8gRGVjb2RlIGFzeW5jaHJvbm91c2x5XG4gICAgICBzZWxmLmF1ZGlvQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoZS50YXJnZXQucmVzcG9uc2UsXG4gICAgICAgIGZ1bmN0aW9uKGJ1ZmZlcil7XG4gICAgICAgICAgc2VsZi5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgICAgc2VsZi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgdmFyIGZvcm1hdCA9IHNlbGYuX25leHRGb3JtYXQoKTtcbiAgICAgICAgICBpZihmb3JtYXQpe1xuICAgICAgICAgICAgc2VsZi5sb2FkKHNlbGYubmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYnJvd3NlciBoYXMgQXVkaW9Db250ZXh0LCBpdCdzIG5ldyBlbm91Z2ggZm9yIFhNTEh0dHBSZXF1ZXN0XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIGZpbGVuYW1lLCB0cnVlKTtcbiAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICByZXF1ZXN0Lm9ubG9hZCA9IGRlY29kZUF1ZGlvRGF0YTtcbiAgICByZXF1ZXN0LnNlbmQoKTtcbiAgfVxuXG4gIGxvb3Aodm9sdW1lKXtcbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBhIGJ1ZmZlciB0byBwcm90ZWN0IGZyb20gdW5sb2FkZWQgcmVzb3VyY2VzXG4gICAgaWYoIXRoaXMuYnVmZmVyKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXVkaW8gPSB0aGlzLl9pbml0QXVkaW8odm9sdW1lLCB0cnVlKTtcbiAgICBhdWRpby5zdGFydCgwKTtcbiAgfVxuXG4gIHBsYXkodm9sdW1lLCBzdGFydFRpbWUpe1xuICAgIC8vIFJldHVybiBlYXJseSBpZiB3ZSBkb24ndCBoYXZlIGEgYnVmZmVyIHRvIHByb3RlY3QgZnJvbSB1bmxvYWRlZCByZXNvdXJjZXNcbiAgICBpZighdGhpcy5idWZmZXIpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0YXJ0VGltZSA9IHN0YXJ0VGltZSB8fCAwO1xuXG4gICAgdmFyIGF1ZGlvID0gdGhpcy5faW5pdEF1ZGlvKHZvbHVtZSwgZmFsc2UpO1xuICAgIGF1ZGlvLnN0YXJ0KHN0YXJ0VGltZSk7XG4gIH1cblxuICBfaW5pdEF1ZGlvKHZvbHVtZSwgbG9vcCl7XG4gICAgbG9vcCA9IHR5cGVvZiBsb29wID09PSAnYm9vbGVhbicgPyBsb29wIDogZmFsc2U7XG5cbiAgICB2YXIgc291cmNlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgc291cmNlLmJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgIHNvdXJjZS5sb29wID0gbG9vcDtcbiAgICBpZih2b2x1bWUpe1xuICAgICAgdmFyIGdhaW5Ob2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcbiAgICAgIHNvdXJjZS5jb25uZWN0KGdhaW5Ob2RlKTtcbiAgICAgIGdhaW5Ob2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2UuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBXZWJBdWRpbztcbiIsIi8qKlxuICogUmVwcmVzZW50cyBhIHNlcmllcyBvZiBmcmFtZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYXMgYW4gYW5pbWF0aW9uLlxuICogQG5hbWUgQW5pbWF0aW9uXG4gKiBAY29uc3RydWN0b3IgQW5pbWF0aW9uXG4gKi9cblxuY29uc3QgQW5pbUZyYW1lID0gcmVxdWlyZSgnLi9BbmltRnJhbWUnKTtcblxuXG5jbGFzcyBBbmltYXRpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGZyYW1lIGJlaW5nIHVzZWQgdG8gcmVuZGVyIHRoaXMgQW5pbWF0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jdXJyRnJhbWVJbmRleCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgdGhpcyBhbmltYXRpb24gaGFzIGJlZW4gcnVubmluZ1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYW5pbVRpbWUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZm9yIGEgY29tcGxldGUgY3ljbGVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnRvdGFsRHVyYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDY0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSA2NDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSB0byByZW5kZXJcbiAgICAgKiBAdHlwZSB7SW1hZ2V9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgb2YgcGl4ZWxzIGluIHRoZSB4IHNsb3QgZnJvbSB0aGUgc291cmNlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5vZmZzZXRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIG9mIHBpeGVscyBpbiB0aGUgeSBzbG90IGZyb20gdGhlIHNvdXJjZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0WSA9IDA7XG5cbiAgICB0aGlzLmZyYW1lcyA9IHVuZGVmaW5lZDtcblxuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuc3RhcnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGNyZWF0ZSBhbiBhbmltYXRpb24gZnJvbSBhIHNoZWV0IG9mIHRpbGVzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyYW1lQ291bnQgTnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgYW5pbWF0aW9uXG4gICAqIEBwYXJhbSAge051bWJlcnxBcnJheX0gZnJhbWVUaW1lcyBWYWx1ZSBvciBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBhbW91bnQgb2YgdGltZSBwZXIgZnJhbWVcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltZyBJbWFnZSBzaGVldCB0byBjcmVhdGUgYW5pbWF0aW9uIGZyb21cbiAgICogQHBhcmFtICB7TnVtYmVyfSB3IFdpZHRoIG9mIGVhY2ggdGlsZSBpbiBwaXhlbHNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBoIEhlaWdodCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0geVNsb3QgU2xvdCBvbiBZIGF4aXMgdG8gc3RhcnQgY3JlYXRpbmcgdGlsZXNcbiAgICogQHJldHVybiB7QW5pbWF0aW9ufSBBbmltYXRpb24gZ2VuZXJhdGVkIHVzaW5nIHBhcmFtZXRlcnNcbiAgICovXG4gIGNyZWF0ZUZyb21TaGVldChmcmFtZUNvdW50LCBmcmFtZVRpbWVzLCBpbWcsIHcsIGgsIHlTbG90KXtcbiAgICB2YXIgYW5pbSA9IG5ldyBBbmltYXRpb24oe1xuICAgICAgaW1hZ2U6IGltZyxcbiAgICAgIGhlaWdodDogaCxcbiAgICAgIHdpZHRoOiB3XG4gICAgfSk7XG5cbiAgICB2YXIgaXNGVEFycmF5ID0gQXJyYXkuaXNBcnJheShmcmFtZVRpbWVzKTtcblxuICAgIHZhciBjdXJyZW50RnJhbWVUaW1lID0gMTtcbiAgICBpZigheVNsb3Qpe1xuICAgICAgeVNsb3QgPSAwO1xuICAgIH1cbiAgICBmb3IodmFyIGogPSAwOyBqIDwgZnJhbWVDb3VudDsgaisrKXtcbiAgICAgIGlmKGlzRlRBcnJheSl7XG4gICAgICAgIGN1cnJlbnRGcmFtZVRpbWUgPSBmcmFtZVRpbWVzW2pdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXM7XG4gICAgICB9XG4gICAgICBhbmltLmFkZEZyYW1lKGN1cnJlbnRGcmFtZVRpbWUsIGosIHlTbG90KTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZSBvZiB0aGlzIGFuaW1hdGlvbi4gVGhlIGxpc3Qgb2YgZnJhbWVzXG4gICAqIGFyZSBzaGFyZWQgYmV0d2VlbiB0aGUgdHdvIEFuaW1hdGlvbnMsIGJ1dCBlYWNoIEFuaW1hdGlvblxuICAgKiBjYW4gYmUgYW5pbWF0ZWQgaW5kZXBlbmRlbnRseS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqL1xuICBjbG9uZSgpe1xuICAgIHJldHVybiBuZXcgQW5pbWF0aW9uKHtcbiAgICAgIGltYWdlOiB0aGlzLmltYWdlLFxuICAgICAgZnJhbWVzOiB0aGlzLmZyYW1lcyxcbiAgICAgIHRvdGFsRHVyYXRpb246IHRoaXMudG90YWxEdXJhdGlvblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gaW1hZ2UgdG8gdGhlIGFuaW1hdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gKHRpbWUgdG8gZGlzcGxheSB0aGUgaW1hZ2UpLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uIER1cmF0aW9uIG9mIHRoZSBmcmFtZVxuICAgKiBAcGFyYW0ge051bWJlcn0gaW1hZ2VTbG90WCBTbG90IG9uIHRoZSBYIGF4aXMgZm9yIHRoZSBmcmFtZVxuICAgKiBAcGFyYW0ge051bWJlcn0gaW1hZ2VTbG90WSBTbG90IG9uIHRoZSBZIGF4aXMgZm9yIHRoZSBmcmFtZVxuICAgKi9cbiAgYWRkRnJhbWUoZHVyYXRpb24sIGltYWdlU2xvdFgsIGltYWdlU2xvdFkpe1xuICAgIGlmKCF0aGlzLmZyYW1lcyl7XG4gICAgICB0aGlzLmZyYW1lcyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLnRvdGFsRHVyYXRpb24gKz0gZHVyYXRpb247XG4gICAgdGhpcy5mcmFtZXMucHVzaChuZXcgQW5pbUZyYW1lKHtcbiAgICAgIGVuZFRpbWU6IHRoaXMudG90YWxEdXJhdGlvbixcbiAgICAgIGltYWdlOiB0aGlzLmltYWdlLFxuICAgICAgaW1nU2xvdFg6IGltYWdlU2xvdFgsXG4gICAgICBpbWdTbG90WTogaW1hZ2VTbG90WVxuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhpcyBhbmltYXRpb24gb3ZlciBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKi9cbiAgc3RhcnQoKXtcbiAgICB0aGlzLmFuaW1UaW1lID0gMDtcbiAgICB0aGlzLmN1cnJGcmFtZUluZGV4ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgYW5pbWF0aW9uJ3MgY3VycmVudCBpbWFnZSAoZnJhbWUpLCBpZiBuZWNjZXNhcnkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlKGVsYXBzZWRUaW1lKXtcbiAgICBpZiAodGhpcy5mcmFtZXMubGVuZ3RoID4gMSkge1xuICAgICAgdGhpcy5hbmltVGltZSArPSBlbGFwc2VkVGltZTtcblxuICAgICAgaWYgKHRoaXMuYW5pbVRpbWUgPj0gdGhpcy50b3RhbER1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuYW5pbVRpbWUgPSB0aGlzLmFuaW1UaW1lICUgdGhpcy50b3RhbER1cmF0aW9uO1xuICAgICAgICB0aGlzLmN1cnJGcmFtZUluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRoaXMuYW5pbVRpbWUgPiB0aGlzLmZyYW1lc1t0aGlzLmN1cnJGcmFtZUluZGV4XS5lbmRUaW1lKSB7XG4gICAgICAgIHRoaXMuY3VyckZyYW1lSW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGlzIEFuaW1hdGlvbidzIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLiBSZXR1cm5zIG51bGwgaWYgdGhpcyBhbmltYXRpb24gaGFzIG5vIGZyYW1lcy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEByZXR1cm4ge0FuaW1hdGlvbkZyYW1lfG51bGx9IFRoZSBhbmltYXRpb24gZnJhbWUgYXQgdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXggb3IgbnVsbCBpZiBubyBmcmFtZXMgYXJlIGF2YWlsYWJsZVxuICAgKi9cbiAgZ2V0Q3VycmVudEZyYW1lKCl7XG4gICAgaWYgKHRoaXMuZnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmZyYW1lc1t0aGlzLmN1cnJGcmFtZUluZGV4XTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIGN1cnJlbnQgZnJhbWUgaW50byBhIDJkIGNvbnRleHQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgVGhlIEhUTUw1IGRyYXdpbmcgY2FudmFzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgaW4gdGhlIGdyYXBoaWNzIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZSBpbiB0aGUgZ3JhcGhpY3MgY29udGV4dFxuICAgKi9cbiAgZHJhdyhjb250ZXh0LCB4LCB5KXtcbiAgICB2YXIgY2YgPSB0aGlzLmdldEN1cnJlbnRGcmFtZSgpO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIGNmLmltZ1Nsb3RYICogdGhpcy53aWR0aCArIHRoaXMub2Zmc2V0WCwgY2YuaW1nU2xvdFkgKiB0aGlzLmhlaWdodCArIHRoaXMub2Zmc2V0WSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHgsIHksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFuaW1hdGlvbjtcbiIsIi8qKlxuICogUmVwcmVzZW50cyBhIGEgc2luZ2xlIGZyYW1lIGluIGFuIGFuaW1hdGlvbi5cbiAqIEBuYW1lIEFuaW1hdGlvbkZyYW1lXG4gKiBAY29uc3RydWN0b3IgQW5pbWF0aW9uRnJhbWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtaXhpbiBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIG1peGluXG4gKi9cblxuY2xhc3MgQW5pbUZyYW1lIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbmRpbmcgdGltZSBpbiBtaWxsaXNlY29uZHMgb2YgdGhpcyBmcmFtZSByZWxhdGl2ZSB0byBpdHMgQW5pbWF0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVuZFRpbWUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIGdyb3VwIG9mIGZyYW1lcyBjb250YWluZWQgaW4gYSBzaW5nbGUgaW1hZ2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb25GcmFtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1nU2xvdFggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBncm91cCBvZiBmcmFtZXMgY29udGFpbmVkIGluIGEgc2luZ2xlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltZ1Nsb3RZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSB0byByZW5kZXJcbiAgICAgKiBAdHlwZSB7SW1hZ2V9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWFnZSA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltRnJhbWU7XG4iLCJjb25zdCByYWRDb25zdCA9IE1hdGguUEkgLyAxODAuMDtcblxuZnVuY3Rpb24gZGVncmVlc1RvUmFkaWFucyhkZWdyZWVzKXtcbiAgcmV0dXJuIGRlZ3JlZXMgKiByYWRDb25zdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWdyZWVzVG9SYWRpYW5zO1xuIiwiXG5jb25zdCBkZWdDb25zdCA9IDE4MC4wIC8gTWF0aC5QSTtcblxuZnVuY3Rpb24gcmFkaWFuc1RvRGVncmVlcyhyYWRpYW5zKXtcbiAgcmV0dXJuIHJhZGlhbnMgKiBkZWdDb25zdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByYWRpYW5zVG9EZWdyZWVzO1xuIiwiZnVuY3Rpb24gZGlzdGFuY2UocDEsIHAyKXtcbiAgcmV0dXJuIE1hdGguc3FydCggKChwMi54IC0gcDEueCkgKiAocDIueCAtIHAxLngpKSArICgocDIueSAtIHAxLnkpICogKHAyLnkgLSBwMS55KSkgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkaXN0YW5jZTtcbiIsIi8qKlxuICogVGhlIFNwcml0ZSBjbGFzcyByZXByZXNlbnRzIGEgc2ltcGxlIGFuaW1hdGVkIGNoYXJhY3RlciBmb3IgYSBnYW1lXG4gKiBAbmFtZSBTcHJpdGVcbiAqIEBjb25zdHJ1Y3RvciBTcHJpdGVcbiAqL1xuXG5jbGFzcyBTcHJpdGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIHggcG9zaXRpb24gb2YgdGhlIHNwcml0ZSBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnggPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgc3ByaXRlIGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMueSA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHkgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmR4ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eSBpbiBwaXhlbHMgcGVyIHNlY29uZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZHkgPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHNwZWVkIGEgc3ByaXRlIGNhbiBtb3ZlIGluIGVpdGhlciBkaXJlY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1heFNwZWVkID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhpcyBTcHJpdGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIHNwcml0ZSBpbiBwaXhlbHMgZm9yIHNpbXBsZSBjb2xsaXNpb24gZGV0ZWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25SYWRpdXMgPSA0MDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGlzIFNwcml0ZSdzIEFuaW1hdGlvbiBhbmQgaXRzIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSB2ZWxvY2l0eS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBUaGUgZWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgcHJldmlvdXMgdXBkYXRlXG4gICAqL1xuICB1cGRhdGUoZWxhcHNlZFRpbWUpe1xuICAgIHRoaXMueCArPSB0aGlzLmR4ICogZWxhcHNlZFRpbWU7XG4gICAgdGhpcy55ICs9IHRoaXMuZHkgKiBlbGFwc2VkVGltZTtcbiAgICB0aGlzLmFuaW0udXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXhTcGVlZCB1cCB0byB0aGUgc3BlZWQgbGltaXRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2IFNwZWVkIGxpbWl0XG4gICAqIEByZXR1cm4ge051bWJlcn0gbWF4U3BlZWQgdXAgdG8gc3BlZWQgbGltaXRcbiAgICovXG4gIGxpbWl0U3BlZWQodil7XG4gICAgaWYodGhpcy5tYXhTcGVlZCl7XG4gICAgICBpZihNYXRoLmFicyh2KSA+IHRoaXMubWF4U3BlZWQpe1xuICAgICAgICBpZih2ID4gMCl7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWF4U3BlZWQ7XG4gICAgICAgIH1lbHNlIGlmKHYgPCAwKXtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXhTcGVlZDtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuICAwO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gdjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGlzIFNwcml0ZSdzIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHJldHVybiB7QW5pbWF0aW9uRnJhbWV9IFRoZSBjdXJyZW50IGZyYW1lIG9mIHRoZSBBbmltYXRpb25cbiAgICovXG4gIGdldEN1cnJlbnRGcmFtZSgpe1xuICAgIGlmKHRoaXMuYW5pbSl7XG4gICAgICByZXR1cm4gdGhpcy5hbmltLmdldEN1cnJlbnRGcmFtZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgc3ByaXRlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgVGhlIEhUTUw1IGRyYXdpbmcgY29udGV4dFxuICAgKi9cbiAgZHJhdyhjb250ZXh0KXtcbiAgICBpZih0aGlzLmFuaW0pe1xuICAgICAgdGhpcy5hbmltLmRyYXcoY29udGV4dCwgdGhpcy54LCB0aGlzLnkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIGluc3RhbmNlIG9mIFNwcml0ZSBpdCBpcyBjYWxsZWQgdXBvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHJldHVybiB7U3ByaXRlfSBBIGNsb25lIG9mIHRoZSBTcHJpdGVcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgU3ByaXRlKHtcbiAgICAgIGFuaW06IHRoaXMuYW5pbS5jbG9uZSgpXG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTcHJpdGU7XG5cbiIsIi8qKlxuICogVGhpcyB3cmFwcyB0aGUgYm94MmQgd29ybGQgdGhhdCBjb250YWlucyBib2RpZXMsIHNoYXBlcywgYW5kIHBlcmZvcm1zIHRoZSBwaHlzaWNzIGNhbGN1bGF0aW9ucy5cbiAqIEBuYW1lIEJveFxuICogQGNvbnN0cnVjdG9yIEJveFxuICovXG5cbmNvbnN0IENvbnRhY3QgPSByZXF1aXJlKCcuL2xpc3RlbmVycy9Db250YWN0Jyk7XG5cblxuY29uc29sZS5sb2coQm94MkQsICdCb3gyRCcsIGdsb2JhbCwgd2luZG93KTtcblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJCb2R5RGVmID0gQm94MkQuRHluYW1pY3MuYjJCb2R5RGVmO1xuY29uc3QgQjJCb2R5ID0gQm94MkQuRHluYW1pY3MuYjJCb2R5O1xuY29uc3QgQjJGaXh0dXJlRGVmID0gQm94MkQuRHluYW1pY3MuYjJGaXh0dXJlRGVmO1xuY29uc3QgQjJGaXh0dXJlID0gQm94MkQuRHluYW1pY3MuYjJGaXh0dXJlO1xuY29uc3QgQjJXb3JsZCA9IEJveDJELkR5bmFtaWNzLmIyV29ybGQ7XG5jb25zdCBCMlBvbHlnb25TaGFwZSA9IEJveDJELkNvbGxpc2lvbi5TaGFwZXMuYjJQb2x5Z29uU2hhcGU7XG5jb25zdCBCMkNpcmNsZVNoYXBlID0gQm94MkQuQ29sbGlzaW9uLlNoYXBlcy5iMkNpcmNsZVNoYXBlO1xuXG5jbGFzcyBCb3gge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBjeWNsZXMgcGVyIHNlY29uZCBleHBlY3RlZCBpbiB1cGRhdGUgY2FsY3VhdGlvbnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmludGVydmFsUmF0ZSA9IDYwO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gdHJ5IHRvIGNvbXBlbnNhdGUgY2FsY3VsYXRpb25zIGJhc2VkIG9uIHBlcmZvcm1hbmNlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYWRhcHRpdmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRoZSBib2RpZXMgaW4gdGhlIGJveDJkIHdvcmxkIHJlZmVyZW5jZWQgYnkgdGhlaXIgZ2l2ZW4gdXNlckRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZGllc01hcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0aGUgZml4dHVyZXMgaW4gdGhlIGJveDJkIHdvcmxkIHJlZmVyZW5jZWQgYnkgdGhlaXIgZ2l2ZW4gdXNlckRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmZpeHR1cmVzTWFwID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRoZSBqb2ludHMgaW4gdGhlIGJveDJkIHdvcmxkIHJlZmVyZW5jZWQgYnkgdGhlaXIgZ2l2ZW4gdXNlckRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmpvaW50c01hcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5zdGFuY2Ugb2YgdGhlIEJveDJELkR5bmFtaWNzLmIyV29ybGQgd29ybGQgY2xhc3MgdGhhdCB0aGUgYm9kaWVzLCBmaXh0dXJlcywgYW5kIGpvaW50cyBhcmUgdXNlZCBpbi5cbiAgICAgKiBAdHlwZSB7QjJXb3JsZH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5iMldvcmxkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgYjJXb3JsZCdzIGdyYXZpdHkgaW4gbWV0ZXJzL3NlY29uZCBzcXVhcmVkXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ncmF2aXR5WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeSBjb21wb25lbnQgb2YgdGhlIGIyV29ybGQncyBncmF2aXR5IGluIG1ldGVycy9zZWNvbmQgc3F1YXJlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ3Jhdml0eVkgPSA5Ljg7XG5cbiAgICAvKipcbiAgICAgKiBBbGxvdyBib3gyZCB0byBza2lwIHBoeXNpY3MgY2FsY3VsYXRpb25zIG9uIGJvZGllcyBhdCByZXN0IGZvciBwZXJmb3JtYW5jZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFsbG93U2xlZXAgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBhZGQgYSBsaXN0ZW5lciB0byBjb2xsaXNpb24gZXZlbnRzLiBEZWZhdWx0IGJlaGF2aW9yIGFkZHMgY29sbGlzaW9uIGRhdGEgdG8gZW50aXRpZXMgb24gdXBkYXRlIGN5Y2xlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmVzb2x2ZUNvbGxpc2lvbnMgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEEgY29udGFjdCBsaXN0ZW5lciBmb3IgY2FsbGJhY2tzIG9uIGNvbGxpc2lvbiBldmVudHMuIERlZmF1bHQgaXMgdGhpcyBib3ggaXRzZWxmLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29udGFjdExpc3RlbmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBjb2xsaXNpb25zLiBJbnN0YW50aWF0ZWQgaW4gdXBkYXRlIGlmIHJlc29sdmVDb2xsaXNpb25zIGlzIHRydWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbGxpc2lvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCByZXByZXNudCBvbmUgbWV0ZXIgaW4gdGhlIGJveDJkIHdvcmxkLiAoMzAgcGl4ZWxzIH4gMSBtZXRlciBpbiBib3gyZClcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlID0gMzA7XG5cbiAgICB0aGlzLmJvZGllc01hcCA9IHt9O1xuICAgIHRoaXMuZml4dHVyZXNNYXAgPSB7fTtcbiAgICB0aGlzLmpvaW50c01hcCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmIyV29ybGQgPSBuZXcgQjJXb3JsZChuZXcgQjJWZWMyKHRoaXMuZ3Jhdml0eVgsIHRoaXMuZ3Jhdml0eVkpLCB0aGlzLmFsbG93U2xlZXApO1xuXG4gICAgaWYodGhpcy5pbnRlcnZhbFJhdGUpe1xuICAgICAgdGhpcy5pbnRlcnZhbFJhdGUgPSBwYXJzZUludCh0aGlzLmludGVydmFsUmF0ZSwgMTApO1xuICAgIH1cblxuXG4gICAgaWYodGhpcy5yZXNvbHZlQ29sbGlzaW9ucyl7XG4gICAgICB0aGlzLmNvbnRhY3RMaXN0ZW5lciA9IG5ldyBDb250YWN0KCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5jb250YWN0TGlzdGVuZXIpe1xuICAgICAgdGhpcy5hZGRDb250YWN0TGlzdGVuZXIodGhpcy5jb250YWN0TGlzdGVuZXIpO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYm94MmQgcGh5c2ljcyBjYWxjdWxhdGlvbnNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWlsbGlzIFRoZSBtaWxsaXNlY29uZHMgdXNlZCB0byBkZXRlcm1pbmUgZnJhbWVyYXRlIGZvciBib3gyZCBzdGVwXG4gICAqIEByZXR1cm4ge051bWJlcn0gVGhlIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgdGhlIHVwZGF0ZSB0b29rXG4gICAqL1xuICB1cGRhdGUobWlsbGlzKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ3VwZGF0ZSBtaWxsaXMnLCBtaWxsaXMpO1xuXG4gICAgaWYodGhpcy5jb250YWN0TGlzdGVuZXIgJiYgdGhpcy5jb250YWN0TGlzdGVuZXIucmVzZXQpe1xuICAgICAgdGhpcy5jb250YWN0TGlzdGVuZXIucmVzZXQoKTtcbiAgICB9XG5cbiAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIGlmKG1pbGxpcyl7XG4gICAgICB0aGlzLmIyV29ybGQuU3RlcChtaWxsaXMgLyAxMDAwIC8qIGZyYW1lLXJhdGUgKi8sIDEwIC8qIHZlbG9jaXR5IGl0ZXJhdGlvbnMgKi8sIDEwIC8qcG9zaXRpb24gaXRlcmF0aW9ucyovKTtcbiAgICAgIHRoaXMuYjJXb3JsZC5DbGVhckZvcmNlcygpO1xuICAgIH1lbHNle1xuICAgICAgdmFyIHN0ZXBSYXRlID0gKHRoaXMuYWRhcHRpdmUpID8gKHN0YXJ0IC0gdGhpcy5sYXN0VGltZXN0YW1wKSAvIDEwMDAgOiAoMSAvIHRoaXMuaW50ZXJ2YWxSYXRlKTtcbiAgICAgIHRoaXMuYjJXb3JsZC5TdGVwKHN0ZXBSYXRlIC8qIGZyYW1lLXJhdGUgKi8sIDEwIC8qIHZlbG9jaXR5IGl0ZXJhdGlvbnMgKi8sIDEwIC8qcG9zaXRpb24gaXRlcmF0aW9ucyovKTtcbiAgICAgIHRoaXMuYjJXb3JsZC5DbGVhckZvcmNlcygpO1xuICAgIH1cblxuICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIHN0YXJ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBvYmplY3RzIGluIHRoZSBib3gyZCB3b3JsZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlIG9mIHRoZSBib3gyZCB3b3JsZFxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgdmFyIHN0YXRlID0ge307XG4gICAgICBmb3IgKHZhciBiID0gdGhpcy5iMldvcmxkLkdldEJvZHlMaXN0KCk7IGI7IGIgPSBiLm1fbmV4dCkge1xuICAgICAgICBpZiAoYi5Jc0FjdGl2ZSgpICYmIHR5cGVvZiBiLkdldFVzZXJEYXRhKCkgIT09ICd1bmRlZmluZWQnICYmIGIuR2V0VXNlckRhdGEoKSAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlW2IuR2V0VXNlckRhdGEoKV0gPSB7XG4gICAgICAgICAgICB4OiBiLkdldFBvc2l0aW9uKCkueCxcbiAgICAgICAgICAgIHk6IGIuR2V0UG9zaXRpb24oKS55LFxuICAgICAgICAgICAgYW5nbGU6IGIuR2V0QW5nbGUoKSxcbiAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICB4OiBiLkdldFdvcmxkQ2VudGVyKCkueCxcbiAgICAgICAgICAgICAgeTogYi5HZXRXb3JsZENlbnRlcigpLnlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lYXJWZWxvY2l0eTogYi5tX2xpbmVhclZlbG9jaXR5LFxuICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiBiLm1fYW5ndWxhclZlbG9jaXR5XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZih0aGlzLmNvbnRhY3RMaXN0ZW5lciAmJiB0aGlzLmNvbnRhY3RMaXN0ZW5lci5jb2xsaXNpb25zKXtcbiAgICAgICAgICAgIHN0YXRlW2IuR2V0VXNlckRhdGEoKV0uY29sbGlzaW9ucyA9IHRoaXMuY29udGFjdExpc3RlbmVyLmNvbGxpc2lvbnNbYi5HZXRVc2VyRGF0YSgpXSB8fCBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHN0YXRlIGluIHRoZSBFbnRpdHkgb2JqZWN0cyB0aGF0IGFyZSBtb2RpZmllZCBieSBib3gyZCBjYWxjdWxhdGlvbnMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gZW50aXRpZXMgQW4gYXJyYXkgb3IgbWFwIG9mIEVudGl0eSBvYmplY3RzXG4gICAqL1xuICB1cGRhdGVFeHRlcm5hbFN0YXRlKGVudGl0aWVzKXtcbiAgICAvL3VwZGF0ZSB0aGUgZHlhbm1pYyBzaGFwZXMgd2l0aCBib3gyZCBjYWxjdWxhdGlvbnNcbiAgICB2YXIgYm9kaWVzU3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgZm9yICh2YXIgaWQgaW4gYm9kaWVzU3RhdGUpIHtcbiAgICAgIHZhciBlbnRpdHkgPSBlbnRpdGllc1tpZF07XG4gICAgICAvL3VwZGF0ZSBhbnkgZHluYW1pYyBib2RpZXNcbiAgICAgIGlmIChlbnRpdHkgJiYgIWVudGl0eS5zdGF0aWNCb2R5KXtcbiAgICAgICAgZW50aXR5LnVwZGF0ZShib2RpZXNTdGF0ZVtpZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBtYXAgb2YgZW50aXRpZXMgdG8gdGhlIEJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvZHlFbnRpdGllcyBNYXAgb2YgZW50aXRpZXNcbiAgICovXG4gIHNldEJvZGllcyhib2R5RW50aXRpZXMpIHtcbiAgICBmb3IodmFyIGlkIGluIGJvZHlFbnRpdGllcykge1xuICAgICAgdmFyIGVudGl0eSA9IGJvZHlFbnRpdGllc1tpZF07XG4gICAgICB0aGlzLmFkZEJvZHkoZW50aXR5KTtcbiAgICB9XG4gICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIEVudGl0eSB0byB0aGUgYm94MmQgd29ybGQgd2hpY2ggd2lsbCBpbnRlcm5hbGx5IGJlIGNvbnZlcnRlZCB0byBhIGJveDJkIGJvZHkgYW5kIGZpeHR1cmUgKGF1dG8gc2NhbGVkIHdpdGggQm94J3Mgc2NhbGUgcHJvcGVydHkgaWYgdGhlIGVudGl0eSBoYXNuJ3QgYmVlbiBzY2FsZWQgeWV0KVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBBbnkgRW50aXR5IG9iamVjdFxuICAgKi9cbiAgYWRkQm9keShlbnRpdHkpIHtcbiAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXG4gICAgaWYoIWVudGl0eS5hbHJlYWR5U2NhbGVkKXtcbiAgICAgIGVudGl0eS5zY2FsZVNoYXBlKDEgLyB0aGlzLnNjYWxlKTtcbiAgICAgIGVudGl0eS5zY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgfVxuXG4gICAgdmFyIGJvZHlEZWYgPSBuZXcgQjJCb2R5RGVmKCk7XG4gICAgdmFyIGZpeERlZiA9IG5ldyBCMkZpeHR1cmVEZWYoKTtcbiAgICB2YXIgaSxqLHBvaW50cyx2ZWMsdmVjcztcbiAgICBmaXhEZWYucmVzdGl0dXRpb24gPSBlbnRpdHkucmVzdGl0dXRpb247XG4gICAgZml4RGVmLmRlbnNpdHkgPSBlbnRpdHkuZGVuc2l0eTtcbiAgICBmaXhEZWYuZnJpY3Rpb24gPSBlbnRpdHkuZnJpY3Rpb247XG5cblxuICAgIC8vdGhlc2UgdGhyZWUgcHJvcHMgYXJlIGZvciBjdXN0b20gY29sbGlzaW9uIGZpbHRlcmluZ1xuICAgIGlmKGVudGl0eS5tYXNrQml0cyAhPSBudWxsKXtcbiAgICAgIGZpeERlZi5maWx0ZXIubWFza0JpdHMgPSBlbnRpdHkubWFza0JpdHM7XG4gICAgfVxuICAgIGlmKGVudGl0eS5jYXRlZ29yeUJpdHMgIT0gbnVsbCl7XG4gICAgICBmaXhEZWYuZmlsdGVyLmNhdGVnb3J5Qml0cyA9IGVudGl0eS5jYXRlZ29yeUJpdHM7XG4gICAgfVxuICAgIGlmKGVudGl0eS5ncm91cEluZGV4ICE9IG51bGwpe1xuICAgICAgZml4RGVmLmZpbHRlci5ncm91cEluZGV4ID0gZW50aXR5Lmdyb3VwSW5kZXg7XG4gICAgfVxuXG4gICAgaWYoZW50aXR5LnN0YXRpY0JvZHkpe1xuICAgICAgYm9keURlZi50eXBlID0gIEIyQm9keS5iMl9zdGF0aWNCb2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5RGVmLnR5cGUgPSBCMkJvZHkuYjJfZHluYW1pY0JvZHk7XG4gICAgfVxuXG4gICAgYm9keURlZi5wb3NpdGlvbi54ID0gZW50aXR5Lng7XG4gICAgYm9keURlZi5wb3NpdGlvbi55ID0gZW50aXR5Lnk7XG4gICAgYm9keURlZi51c2VyRGF0YSA9IGVudGl0eS5pZDtcbiAgICBib2R5RGVmLmFuZ2xlID0gZW50aXR5LmFuZ2xlO1xuICAgIGJvZHlEZWYubGluZWFyRGFtcGluZyA9IGVudGl0eS5saW5lYXJEYW1waW5nO1xuICAgIGJvZHlEZWYuYW5ndWxhckRhbXBpbmcgPSBlbnRpdHkuYW5ndWxhckRhbXBpbmc7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmIyV29ybGQuQ3JlYXRlQm9keShib2R5RGVmKTtcblxuXG4gICAgaWYgKGVudGl0eS5yYWRpdXMpIHsgLy9jaXJjbGVcbiAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMkNpcmNsZVNoYXBlKGVudGl0eS5yYWRpdXMpO1xuICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgfSBlbHNlIGlmIChlbnRpdHkucG9pbnRzKSB7IC8vcG9seWdvblxuICAgICAgcG9pbnRzID0gW107XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZW50aXR5LnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2ZWMgPSBuZXcgQjJWZWMyKCk7XG4gICAgICAgIHZlYy5TZXQoZW50aXR5LnBvaW50c1tpXS54LCBlbnRpdHkucG9pbnRzW2ldLnkpO1xuICAgICAgICBwb2ludHNbaV0gPSB2ZWM7XG4gICAgICB9XG4gICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJQb2x5Z29uU2hhcGUoKTtcbiAgICAgIGZpeERlZi5zaGFwZS5TZXRBc0FycmF5KHBvaW50cywgcG9pbnRzLmxlbmd0aCk7XG4gICAgICBib2R5LkNyZWF0ZUZpeHR1cmUoZml4RGVmKTtcbiAgICB9IGVsc2UgaWYoZW50aXR5LnBvbHlzKSB7IC8vY29tcGxleCBvYmplY3RcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGVudGl0eS5wb2x5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcG9pbnRzID0gZW50aXR5LnBvbHlzW2pdO1xuICAgICAgICAgICAgdmVjcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlYyA9IG5ldyBCMlZlYzIoKTtcbiAgICAgICAgICAgICAgICB2ZWMuU2V0KHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICAgICAgdmVjc1tpXSA9IHZlYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMlBvbHlnb25TaGFwZSgpO1xuICAgICAgICAgICAgZml4RGVmLnNoYXBlLlNldEFzQXJyYXkodmVjcywgdmVjcy5sZW5ndGgpO1xuICAgICAgICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgeyAvL3JlY3RhbmdsZVxuICAgICAgZml4RGVmLnNoYXBlID0gbmV3IEIyUG9seWdvblNoYXBlKCk7XG4gICAgICBmaXhEZWYuc2hhcGUuU2V0QXNCb3goZW50aXR5LmhhbGZXaWR0aCwgZW50aXR5LmhhbGZIZWlnaHQpO1xuICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgfVxuXG5cbiAgICB0aGlzLmJvZGllc01hcFtlbnRpdHkuaWRdID0gYm9keTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHBvc2l0aW9uIG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSBuZXcgeCBjb29yZGluYXRlIGluIGJveDJkIHNwYWNlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSBuZXcgeSBjb29yZGluYXRlIGluIGJveDJkIHNwYWNlXG4gICAqL1xuICBzZXRQb3NpdGlvbihib2R5SWQsIHgsIHkpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldFBvc2l0aW9uKG5ldyBCMlZlYzIoeCwgeSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5nbGUgb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIFRoZSBuZXcgYW5nbGUgb2YgdGhlIGJvZHkgaW4gcmFkaWFuc1xuICAgKi9cbiAgc2V0QW5nbGUoYm9keUlkLCBhbmdsZSl7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGNvbnNvbGUubG9nKCdzZXQgYW5nbGUnLCBib2R5LnNldEFuZ2xlLCBib2R5KTtcbiAgICBib2R5LnNldEFuZ2xlKGFuZ2xlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpbmVhciB2ZWxvY2l0eSBvZiBhbiBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgbmV3IHggY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eVxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgbmV3IHkgY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eVxuICAgKi9cbiAgc2V0TGluZWFyVmVsb2NpdHkoYm9keUlkLCB4LCB5KXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRMaW5lYXJWZWxvY2l0eShuZXcgQjJWZWMyKHgsIHkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlbG9jaXR5IFRoZSBhbmd1bGFyIHZlbG9jaXR5IGZvciB0aGUgYm9keVxuICAgKi9cbiAgc2V0QW5ndWxhclZlbG9jaXR5KGJvZHlJZCwgdmVsb2NpdHkpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldEFuZ3VsYXJWZWxvY2l0eSh2ZWxvY2l0eSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYW4gaW1wdWxzZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gZGVncmVlc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBpbXB1bHNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIGltcHVsc2UgcG93ZXIuXG4gICAqL1xuICBhcHBseUltcHVsc2VEZWdyZWVzKGJvZHlJZCwgZGVncmVlcywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUltcHVsc2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhIGZvcmNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlcyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGZvcmNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIHBvd2VyIG9mIHRoZSBmb3JjZS4gKFRoZSBhYmlsaXR5IHRvIGRlc3Ryb3kgYSBwbGFuZXQgaXMgaW5zaWduaWZpY2FudCBuZXh0IHRvIHRoaXMpXG4gICAqL1xuICBhcHBseUZvcmNlRGVncmVlcyhib2R5SWQsIGRlZ3JlZXMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlGb3JjZShcbiAgICAgIG5ldyBCMlZlYzIoTWF0aC5zaW4oZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKSkgKiBwb3dlcixcbiAgICAgIE1hdGguY29zKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIgKiAtMSksXG4gICAgICBib2R5LkdldFdvcmxkQ2VudGVyKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGFuIGltcHVsc2UgdG8gYSBib2R5IGF0IGFuIGFuZ2xlIGluIHJhZGlhbnNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIFRoZSBhbmdsZSBpbiB3aGljaCB0byBhcHBseSB0aGUgaW1wdWxzZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBpbXB1bHNlIHBvd2VyLlxuICAgKi9cbiAgYXBwbHlJbXB1bHNlKGJvZHlJZCwgcmFkaWFucywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUltcHVsc2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKHJhZGlhbnMpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhyYWRpYW5zKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhIGZvcmNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGZvcmNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIHBvd2VyIG9mIHRoZSBmb3JjZS4gKFRoZSBhYmlsaXR5IHRvIGRlc3Ryb3kgYSBwbGFuZXQgaXMgaW5zaWduaWZpY2FudCBuZXh0IHRvIHRoaXMpXG4gICAqL1xuICBhcHBseUZvcmNlKGJvZHlJZCwgcmFkaWFucywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUZvcmNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihyYWRpYW5zKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MocmFkaWFucykgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmdsZSBvZiBhIGR5bmFtaWMgYm9keSBpbiByYWRpYW5zXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgdG8gc2V0IHRoZSBib2R5IHRvLlxuICAgKi9cbiAgc2V0QW5nbGUoYm9keUlkLCByYWRpYW5zKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0QW5nbGUocmFkaWFucyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmd1bGFyeSB2ZWxvY2l0eSBvZiBhIGR5bmFtaWMgYm9keVxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlbG9jaXR5IFRoZSB2ZWxvY2l0eSB0byBzZXQgdGhlIGJvZHkgdG8uXG4gICAqL1xuICBzZXRBbmdsdWxhclZlbG9jaXR5KGJvZHlJZCwgdmVsb2NpdHkpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRBbmd1bGFyVmVsb2NpdHkodmVsb2NpdHkpO1xuICB9XG5cblxuICAvKipcbiAgICogQXBwbHkgdG9ycXVlIChyb3RhdGlvbiBmb3JjZSkgdG8gYSBib2R5LlxuICAgKiBQb3NpdGl2ZSB2YWx1ZXMgYXJlIGNsb2Nrd2lzZSwgbmVnYXRpdmUgdmFsdWVzIGFyZSBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgcG93ZXIgb2YgdGhlIHRvcnF1ZS5cbiAgICovXG4gIGFwcGx5VG9ycXVlKGJvZHlJZCwgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseVRvcnF1ZShwb3dlcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgd29ybGQncyBncmF2aXR5XG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2ZWN0b3IgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMgaW4gbWV0ZXJzIHBlciBzZWNvbmQgc3F1YXJlZC5cbiAgICovXG4gIHNldEdyYXZpdHkodmVjdG9yKSB7XG4gICAgdGhpcy5iMldvcmxkLlNldEdyYXZpdHkobmV3IEIyVmVjMih2ZWN0b3IueCwgdmVjdG9yLnkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBib2R5IGZyb20gdGhlIGJveDJkIHdvcmxkXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKi9cbiAgcmVtb3ZlQm9keShpZCkge1xuICAgIGlmKHRoaXMuYm9kaWVzTWFwW2lkXSl7XG4gICAgICBpZih0aGlzLmZpeHR1cmVzTWFwW2lkXSl7XG4gICAgICAgIHRoaXMuYm9kaWVzTWFwW2lkXS5EZXN0cm95Rml4dHVyZSh0aGlzLmZpeHR1cmVzTWFwW2lkXSk7XG4gICAgICB9XG4gICAgICB0aGlzLmIyV29ybGQuRGVzdHJveUJvZHkodGhpcy5ib2RpZXNNYXBbaWRdKTtcbiAgICAgIC8vZGVsZXRlIHRoaXMuZml4dHVyZXNNYXBbaWRdO1xuICAgICAgZGVsZXRlIHRoaXMuYm9kaWVzTWFwW2lkXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2FrZSB1cCBhIGJvZHkgaW4gdGhlIGJveDJkIHdvcmxkIHNvIHRoYXQgYm94MmQgd2lsbCBjb250aW51ZSB0byBydW4gY2FsY3VsYXRpb25zIG9uIGl0LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICovXG4gIHdha2VVcEJvZHkoaWQpIHtcbiAgICBpZih0aGlzLmJvZGllc01hcFtpZF0pe1xuICAgICAgdGhpcy5ib2RpZXNNYXBbaWRdLlNldEF3YWtlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjb250YWN0TGlzdGVuZXIgdG8gdGhlIGIyV29ybGRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3MgT2JqZWN0IGNvbnRhaW5pbmcgYSBiZWdpbkNvbnRhbnQsIGVuZENvbnRhY3QgYW5kL29yIHByZVNvbHZlL3Bvc3RTb2x2ZSBrZXlzIGFuZCBjYWxsYmFja3NcbiAgICovXG4gIGFkZENvbnRhY3RMaXN0ZW5lcihjb250YWN0TGlzdGVuZXIpe1xuICAgIHZhciBsaXN0ZW5lciA9IG5ldyBCb3gyRC5EeW5hbWljcy5iMkNvbnRhY3RMaXN0ZW5lcigpO1xuICAgIGlmKGNvbnRhY3RMaXN0ZW5lci5iZWdpbkNvbnRhY3Qpe1xuICAgICAgbGlzdGVuZXIuQmVnaW5Db250YWN0ID0gZnVuY3Rpb24oY29udGFjdCl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5iZWdpbkNvbnRhY3QoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYoY29udGFjdExpc3RlbmVyLmVuZENvbnRhY3Qpe1xuICAgICAgbGlzdGVuZXIuRW5kQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3Qpe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIuZW5kQ29udGFjdChjb250YWN0Lm1fZml4dHVyZUEubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QubV9maXh0dXJlQi5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZihjb250YWN0TGlzdGVuZXIucHJlU29sdmUpe1xuICAgICAgbGlzdGVuZXIuUHJlU29sdmUgPSBmdW5jdGlvbihjb250YWN0LCBvbGRNYW5pZm9sZCl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5wcmVTb2x2ZShjb250YWN0Lm1fZml4dHVyZUEubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QubV9maXh0dXJlQi5tX2JvZHkubV91c2VyRGF0YSwgb2xkTWFuaWZvbGQsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbnRhY3RMaXN0ZW5lci5wb3N0U29sdmUpe1xuICAgICAgbGlzdGVuZXIuUG9zdFNvbHZlID0gZnVuY3Rpb24oY29udGFjdCwgaW1wdWxzZSl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5wb3N0U29sdmUoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIGltcHVsc2UsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5iMldvcmxkLlNldENvbnRhY3RMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgam9pbnQgZnJvbSB0aGUgd29ybGQuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiwgYW5kIEJFRk9SRSBhbnkgYm9kaWVzIGNvbm5lY3RlZCB0byB0aGUgam9pbnQgYXJlIHJlbW92ZWQhXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gam9pbnRJZCBUaGUgaWQgb2Ygam9pbnQgdG8gYmUgZGVzdHJveWVkLlxuICAgKi9cbiAgcmVtb3ZlSm9pbnQoam9pbnRJZCkge1xuICAgIGlmKHRoaXMuam9pbnRzTWFwW2pvaW50SWRdKXtcbiAgICAgIHRoaXMuYjJXb3JsZC5EZXN0cm95Sm9pbnQodGhpcy5qb2ludHNNYXBbam9pbnRJZF0pO1xuICAgICAgZGVsZXRlIHRoaXMuam9pbnRzTWFwW2pvaW50SWRdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBqb2ludCB0byB0aGUgYm94MmQgd29ybGQuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7Sm9pbnR9IEEgam9pbnQgZGVmaW5pdGlvbi5cbiAgICovXG4gIGFkZEpvaW50KGpvaW50KSB7XG4gICAgaWYoam9pbnQgJiYgam9pbnQuaWQgJiYgIXRoaXMuam9pbnRzTWFwW2pvaW50LmlkXSl7XG5cbiAgICAgIGlmKCFqb2ludC5hbHJlYWR5U2NhbGVkICYmIGpvaW50LnNjYWxlSm9pbnRMb2NhdGlvbil7XG4gICAgICAgIGpvaW50LnNjYWxlSm9pbnRMb2NhdGlvbigxIC8gdGhpcy5zY2FsZSk7XG4gICAgICAgIGpvaW50LnNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGIySm9pbnQgPSBqb2ludC5jcmVhdGVCMkpvaW50KHRoaXMpO1xuICAgICAgaWYoYjJKb2ludCl7XG4gICAgICAgIHRoaXMuam9pbnRzTWFwW2pvaW50LmlkXSA9IGIySm9pbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQm94O1xuXG4iLCJjb25zdCB3YWxsUmVzdGl0dXRpb24gPSAxO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJlbnRpdGllc1wiOiBbXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiA1NjguMTAxMTMsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiA1NjguMTAxMTMsXG4gICAgICAgICAgXCJ5XCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAtMTAwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBcInhcIjogMCxcbiAgICAgIFwieVwiOiAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJQb2x5Z29uXCIsXG4gICAgICBcImlkXCI6IFwidWxlZnR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvblxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDU2OC4xMDExMyxcbiAgICAgICAgICBcInlcIjogMTA4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDU2OC4xMDExMyxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IDExODBcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBcInhcIjogMCxcbiAgICAgIFwieVwiOiAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJQb2x5Z29uXCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICAgIFwiaWRcIjogXCJsbGVmdHdcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMjAyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTkyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJpZFwiOiBcInVyaWdodHR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBcInBvaW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMTA4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDE5MjAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDIwMjAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDIwMjAsXG4gICAgICAgICAgXCJ5XCI6IDExODBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxMzUxLjg5ODg3LFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgXCJ4XCI6IDAsXG4gICAgICBcInlcIjogMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb24sXG4gICAgICBcImlkXCI6IFwibHJpZ2h0dHdcIixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIFwieFwiOiA5NjAsXG4gICAgICBcInlcIjogMTE4MCxcbiAgICAgIFwiaGFsZldpZHRoXCI6IDEwMDAsXG4gICAgICBcImhhbGZIZWlnaHRcIjogMTAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJSZWN0YW5nbGVcIixcbiAgICAgIFwiaWRcIjogXCJib3R0b213XCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIFwieFwiOiA5NjAsXG4gICAgICBcInlcIjogLTEwMCxcbiAgICAgIFwiaGFsZldpZHRoXCI6IDEwMDAsXG4gICAgICBcImhhbGZIZWlnaHRcIjogMTAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJSZWN0YW5nbGVcIixcbiAgICAgIFwiaWRcIjogXCJ0b3B3XCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICBdLFxuICBcImpvaW50c1wiOiBbXG4gIF0sXG4gIFwiY2FudmFzXCI6IHtcbiAgICBcImhlaWdodFwiOiA2MDAsXG4gICAgXCJ3aWR0aFwiOiA4MDBcbiAgfSxcbiAgXCJiYWNrSW1nXCI6IG51bGxcbn07IiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5BdWRpb0NvbnRleHQ7ICsreCkge1xuICB3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93W3ZlbmRvcnNbeF0rJ0F1ZGlvQ29udGV4dCddO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5BdWRpb0NvbnRleHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlbW92ZUV4dGVuc2lvbihwYXRoKXtcbiAgLy8gb25seSBzdHJpcHMgb2ZmIGV4dGVuc2lvbnMgdGhhdCBoYXZlIGxlbmd0aCBvZiA0IG9yIGxlc3NcbiAgLy8gcmVnZXggZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTgzMTAvcmVndWxhci1leHByZXNzaW9uLXRvLXJlbW92ZS1hLWZpbGVzLWV4dGVuc2lvblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKC8oLiopXFwuW14uXXsxLDR9JC8sICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVFeHRlbnNpb247XG4iLCJjb25zdCBhdmVyYWdlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy9hdmVyYWdlUG9pbnRzJyk7XG5jb25zdCBkZWdyZWVzVG9SYWRpYW5zID0gcmVxdWlyZSgnLi91dGlscy9kZWdyZWVzVG9SYWRpYW5zJyk7XG5jb25zdCByYWRpYW5zVG9EZWdyZWVzID0gcmVxdWlyZSgnLi91dGlscy9yYWRpYW5zVG9EZWdyZWVzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IGRpc3RhbmNlID0gcmVxdWlyZSgnLi91dGlscy9kaXN0YW5jZScpO1xuY29uc3QgZGVncmVlc0Zyb21DZW50ZXIgPSByZXF1aXJlKCcuL3V0aWxzL2RlZ3JlZXNGcm9tQ2VudGVyJyk7XG5jb25zdCByYWRpYW5zRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy9zY2FsZVBvaW50cycpO1xuY29uc3QgdHJhbnNsYXRlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcbmNvbnN0IGluc2lkZUNhbnZhcyA9IHJlcXVpcmUoJy4vdXRpbHMvaW5zaWRlQ2FudmFzJyk7XG5jb25zdCByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyJyk7XG5jb25zdCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyJyk7XG5cblxuLyoqXG4gKiBNYXRoIHV0aWxpdHkgbGlicmFyaWVzXG4gKiBAZXhwb3J0cyB1dGlsc1xuICovXG5jb25zdCB1dGlscyA9IHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIGF2ZXJhZ2UgcG9pbnQgdmFsdWUgaW4gYW4gYXJyYXkgb2YgcG9pbnRzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXNcbiAgICovXG4gIGF2ZXJhZ2VQb2ludHMsXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgZGVncmVlcyB0byByYWlkYW5zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlc1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gcmFkaWFuc1xuICAgKi9cbiAgZGVncmVlc1RvUmFkaWFucyxcblxuICAvKipcbiAgICogQ29udmVydCByYWRpYW5zIHRvIGRlZ3JlZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiBkZWdyZWVzXG4gICAqL1xuICByYWRpYW5zVG9EZWdyZWVzLFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbiBhIHBvbHlnb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvbHlnb24gQXJyYXkgb2YgcG9pbnRzXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvblxuICAgKi9cbiAgcG9pbnRJblBvbHlnb24sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludDEgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgZGlzdGFuY2VcbiAgICovXG4gIGRpc3RhbmNlLFxuXG4gIC8qKlxuICAgKiBEZWdyZWVzIGEgcG9pbnQgaXMgb2Zmc2V0IGZyb20gYSBjZW50ZXIgcG9pbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjZW50ZXIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gZGVncmVlc1xuICAgKi9cbiAgZGVncmVlc0Zyb21DZW50ZXIsXG5cbiAgLyoqXG4gICAqIFJhZGlhbnMgYSBwb2ludCBpcyBvZmZzZXQgZnJvbSBhIGNlbnRlciBwb2ludFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiByYWRpYW5zXG4gICAqL1xuICByYWRpYW5zRnJvbUNlbnRlcixcblxuICAvKipcbiAgICogU2NhbGUgYSBwb2ludCBvciBhcnJheSBvZiBwb2ludHMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcG9pbnRzIEEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzY2FsZSBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdHxBcnJheX0gQSBzY2FsZWQgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqL1xuICBzY2FsZVBvaW50cyxcblxuICAvKipcbiAgICogVHJhbnNsYXRlIGEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcG9pbnRzIEEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvZmZzZXQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtPYmplY3R8QXJyYXl9IEEgdHJhbnNsYXRlZCBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICovXG4gIHRyYW5zbGF0ZVBvaW50cyxcblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBhIHBvaW50IGlzIGluc2lkZSBhIGNhbnZhc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEEgcG9pbnQgdG8gdGVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzIE9iamVjdCB3aXRoIGhlaWdodCBhbmQgd2lkdGggcHJvcGVydGllc1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIGluc2lkZSBjYW52YXMgZWxzZSBmYWxzZVxuICAgKi9cbiAgaW5zaWRlQ2FudmFzLFxuXG4gIC8qKlxuICAgKiBHZXQgYSBwb2ludCBiYXNlZCBhcm91bmQgdGhlIHJvdGF0aW9uIGluIHJhZGlhbnMgb2Ygb25lIHBvaW50IGFyb3VuZCBhIGNlbnRlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgcG9pbnQgdGhhdCBoYXMgYmVlbiByb3RhdGVkXG4gICAqL1xuICByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLFxuXG4gIC8qKlxuICAgKiBHZXQgYSBwb2ludCBiYXNlZCBhcm91bmQgdGhlIHJvdGF0aW9uIGluIGRlZ3JlZXMgb2Ygb25lIHBvaW50IGFyb3VuZCBhIGNlbnRlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgcG9pbnQgdGhhdCBoYXMgYmVlbiByb3RhdGVkXG4gICAqL1xuICByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlscztcbiIsIlxuZnVuY3Rpb24gYXZlcmFnZVBvaW50cyhwb2ludHMpe1xuICB2YXIgcmV0VmFsID0ge3g6IDAsIHk6IDB9O1xuICBwb2ludHMuZm9yRWFjaChwb2ludHMsIGZ1bmN0aW9uKHBvaW50KXtcbiAgICByZXRWYWwueCs9IHBvaW50Lng7XG4gICAgcmV0VmFsLnkrPSBwb2ludC55O1xuICB9KTtcbiAgcmV0VmFsLnggPSByZXRWYWwueCAvIHBvaW50cy5sZW5ndGg7XG4gIHJldFZhbC55ID0gcmV0VmFsLnkgLyBwb2ludHMubGVuZ3RoO1xuICByZXR1cm4gcmV0VmFsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGF2ZXJhZ2VQb2ludHM7XG4iLCJjb25zdCByYWRpYW5zVG9EZWdyZWVzID0gcmVxdWlyZSgnLi9yYWRpYW5zVG9EZWdyZWVzJyk7XG5jb25zdCByYWRpYW5zRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vcmFkaWFuc0Zyb21DZW50ZXInKTtcblxuZnVuY3Rpb24gZGVncmVlc0Zyb21DZW50ZXIoY2VudGVyLCBwdCl7XG4gIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnNGcm9tQ2VudGVyKGNlbnRlciwgcHQpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWdyZWVzRnJvbUNlbnRlcjtcbiIsImNvbnN0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgPSByZXF1aXJlKCcuL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInKTtcbmNvbnN0IGRlZ3JlZXNUb1JhZGlhbnMgPSByZXF1aXJlKCcuL2RlZ3JlZXNUb1JhZGlhbnMnKTsgXG5cbmZ1bmN0aW9uIHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIoY2VudGVyLCBwdCwgYW5nbGUpIHtcbiAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyLCBwdCwgZGVncmVlc1RvUmFkaWFucyhhbmdsZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXI7IiwiLyoqXG4gKiBUaGlzIHR5cGUgb2Ygc3ByaXRlIGlzIGJhc2VkIG9mZiBvZiB0aGUgZXhjZWxsZW50IGltYWdlcyBmcm9tIFJlaW5lcidzIHRpbGVzZXRzOiBodHRwOi8vd3d3LnJlaW5lcnN0aWxlc2V0cy5kZS9cbiAqIDxicj5cbiAqIGNyZWF0dXJlcyBoYXZlIHdhbGtpbmcsIGlkbGUsIGFuZCBkeWluZyBhbmltYXRpb25zIGluIDggaXNvbWV0cmljIGRpcmVjdGlvbnNcbiAqIFRoZSBhbmltYXRpb25zIGRpcmVjdGlvbnMgYXJlIGluIEUsTixORSxOVyxTLFNFLFNXLFcgKGFscGhhYmV0aWNhbCkgb3JkZXIgc2ltcGx5IGJlY2F1c2UgdGhhdCdzXG4gKiBob3cgdGhleSB3ZXJlIHN0aXRjaGVkIHRvZ2V0aGVyIHVzaW5nIEltYWdlTWFnaWNrLlxuICpcbiAqIEBuYW1lIENyZWF0dXJlXG4gKiBAY29uc3RydWN0b3IgQ3JlYXR1cmVcbiAqIEBleHRlbmRzIFNwcml0ZVxuICovXG5cbmNvbnN0IFNwcml0ZSA9IHJlcXVpcmUoJy4uL1Nwcml0ZScpO1xuY29uc3QgQW5pbWF0aW9uID0gcmVxdWlyZSgnLi4vQW5pbWF0aW9uJyk7XG5cblxuLyoqXG4qIEEgbWFwIG9mIHN0YXRpYyBjb25zdGFudHMgZm9yIGludGVybmFsIHVzZVxuKiBAdHlwZSB7T2JqZWN0fVxuKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBFQVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gTk9SVEggYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSEVBU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTT1VUSCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIRUFTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIV0VTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9XQUxLSU5HIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfRFlJTkcgYSBzdGF0ZSB0aGUgY3JlYXR1cmUgY2FuIGJlIGluXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9JRExFIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKi9cbmNvbnN0IEVBU1QgPSAwO1xuY29uc3QgTk9SVEggPSAxO1xuY29uc3QgTk9SVEhFQVNUID0gMjtcbmNvbnN0IE5PUlRIV0VTVCA9IDM7XG5jb25zdCBTT1VUSCA9IDQ7XG5jb25zdCBTT1VUSEVBU1QgPSA1O1xuY29uc3QgU09VVEhXRVNUID0gNjtcbmNvbnN0IFdFU1QgPSA3O1xuY29uc3QgU1RBVEVfV0FMS0lORyA9IDA7XG5jb25zdCBTVEFURV9EWUlORyA9IDE7XG5jb25zdCBTVEFURV9JRExFID0gMjtcblxuXG5jbGFzcyBDcmVhdHVyZSBleHRlbmRzIFNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjcmVhdHVyZS4gV2lsbCBiZSBhIHZhbHVlIGZyb20gdGhlIHN0YXRpYyBjb25zdGFudHMuXG4gICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9JRExFO1xuXG4gICAgLyoqXG4gICAgKiBBbiBhcnJheSBvZiBBbmltYXRpb24gb2JqZWN0cyAob25lIGZvciBlYWNoIGRpcmVjdGlvbikgdG8gZGlzcGxheSB0aGUgY3JlYXR1cmUgaW4gYSB3YWxraW5nIHN0YXRlXG4gICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy53YWxraW5nQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGEgZHlpbmcgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmR5aW5nQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGFuIGlkbGUgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmlkbGVBbmltcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY3VycmVudCBkaXJlY3Rpb24gdGhhdCB0aGUgY3JlYXR1cmUgaXMgcG9pbnRlZC4gV2lsbCBiZSBhIHZhbHVlIGZyb20gdGhlIHN0YXRpYyBjb25zdGFuc3RzLlxuICAgICogQHR5cGUge051bWJlcn1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmRpcmVjdGlvbiA9IEVBU1Q7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBjcmVhdHVyZSdzIGN1cnJlbnQgZGlyZWN0aW9uIChmcmFtZSksIGFuZCBjaGFuZ2VzIHdoaWNoIGFuaW1hdGlvbiBpdCBzaG91bGQgYmUgdXNpbmcgaWYgbmVjY2VzYXJ5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlRGlyZWN0aW9uKGVsYXBzZWRUaW1lKXtcbiAgICB0aGlzLnggKz0gdGhpcy5keCAqIGVsYXBzZWRUaW1lO1xuICAgIHRoaXMueSArPSB0aGlzLmR5ICogZWxhcHNlZFRpbWU7XG5cbiAgICBpZih0aGlzLnN0YXRlICE9PSB0aGlzLnN0YXRpY3MuU1RBVEVfRFlJTkcpe1xuICAgICAgaWYodGhpcy5keCA+IDAgJiYgdGhpcy5keSA9PT0gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLkVBU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5IDwgMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLk5PUlRIO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPiAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEhFQVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPCAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEhXRVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPT09IDAgJiYgdGhpcy5keSA+IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5TT1VUSDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4ID4gMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIRUFTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIV0VTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuV0VTVDtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGljcy5TVEFURV9JRExFO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGljcy5TVEFURV9XQUxLSU5HO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgY3JlYXR1cmUncyBjdXJyZW50IGFuaW1hdGlvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZUFuaW1hdGlvbnMoZWxhcHNlZFRpbWUpe1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IHRoaXMuc3RhdGljcy5TVEFURV9XQUxLSU5HKXtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMud2Fsa2luZ0FuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9IGVsc2UgaWYodGhpcy5zdGF0ZSA9PT0gdGhpcy5zdGF0aWNzLlNUQVRFX0RZSU5HKXtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMuZHlpbmdBbmltc1t0aGlzLmRpcmVjdGlvbl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMuaWRsZUFuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9XG4gICAgdGhpcy5hbmltLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBjcmVhdGUgYW5pbWF0aW9ucyBmcm9tIGEgc2hlZXQgb2YgdGlsZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUNvdW50IE51bWJlciBvZiBmcmFtZXMgaW4gdGhlIGFuaW1hdGlvblxuICAgKiBAcGFyYW0gIHtOdW1iZXJ8QXJyYXl9IGZyYW1lVGltZXMgVmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYW1vdW50IG9mIHRpbWUgcGVyIGZyYW1lXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWcgSW1hZ2Ugc2hlZXQgdG8gY3JlYXRlIGFuaW1hdGlvbiBmcm9tXG4gICAqIEBwYXJhbSAge051bWJlcn0gdyBXaWR0aCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0gaCBIZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlTbG90IFNsb3Qgb24gWSBheGlzIHRvIHN0YXJ0IGNyZWF0aW5nIHRpbGVzXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBBbmltYXRpb25zIGdlbmVyYXRlZCB1c2luZyBwYXJhbWV0ZXJzXG4gICAqL1xuICBjcmVhdGVBbmltYXRpb25zKGZyYW1lQ291bnQsIGZyYW1lVGltZXMsIGltZywgaCwgdywgeVNsb3Qpe1xuICAgIHZhciBhbmltcyA9IFtdO1xuICAgIHZhciBpc0ZUQXJyYXkgPSBBcnJheS5pc0FycmF5KGZyYW1lVGltZXMpO1xuICAgIHZhciBjdXJyZW50RnJhbWVUaW1lID0gMTtcbiAgICBpZigheVNsb3Qpe1xuICAgICAgeVNsb3QgPSAwO1xuICAgIH1cbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgODsgaSsrKXtcbiAgICAgIGFuaW1zW2ldID0gbmV3IEFuaW1hdGlvbih7XG4gICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgd2lkdGg6IHcsXG4gICAgICAgIGltYWdlOiBpbWdcbiAgICAgIH0pO1xuICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGZyYW1lQ291bnQ7IGorKyl7XG4gICAgICAgIGlmKGlzRlRBcnJheSl7XG4gICAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXNbal07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXM7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbXNbaV0uYWRkRnJhbWUoY3VycmVudEZyYW1lVGltZSwgaiArIGZyYW1lQ291bnQgKiBpLCB5U2xvdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmltcztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENyZWF0dXJlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBDaXJjbGUgPSByZXF1aXJlKCcuL2VudGl0aWVzL0NpcmNsZScpO1xuY29uc3QgTXVsdGlQb2x5Z29uID0gcmVxdWlyZSgnLi9lbnRpdGllcy9NdWx0aVBvbHlnb24nKTtcbmNvbnN0IFBvbHlnb24gPSByZXF1aXJlKCcuL2VudGl0aWVzL1BvbHlnb24nKTtcbmNvbnN0IFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vZW50aXRpZXMvUmVjdGFuZ2xlJyk7XG5cbnZhciBlbnRpdGllcyA9IHtcbiAgQ2lyY2xlLFxuICBNdWx0aVBvbHlnb24sXG4gIFBvbHlnb24sXG4gIFJlY3RhbmdsZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRpdGllcztcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgaXMgZm9yIGJ1aWxkaW5nIGNvbXBsZXggYW5kIHBvc3NpYmx5IGNvbmNhdmUgc2hhcGVzXG4gKiBAbmFtZSBNdWx0aVBvbHlnb25cbiAqIEBjb25zdHJ1Y3RvciBNdWx0aVBvbHlnb25cbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5jb25zdCBzY2FsZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3NjYWxlUG9pbnRzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3BvaW50SW5Qb2x5Z29uJyk7XG5jb25zdCB0cmFuc2xhdGVQb2ludHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcblxuY2xhc3MgTXVsdGlQb2x5Z29uIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHBvbHlnb25zXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnBvbHlzID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGVhY2ggcG9seWdvbiBpbiB0aGUgZW50aXR5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgTXVsdGlQb2x5Z29uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCB0aGUgSFRNTDUgMmQgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgc2NhbGUgdG8gZHJhdyB0aGUgZW50aXR5IGF0XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IHRoaXMucG9seXMubGVuZ3RoOyBqKyspe1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygodGhpcy54ICsgdGhpcy5wb2x5c1tqXVswXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2x5c1tqXVswXS55KSAqIHNjYWxlKTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2x5c1tqXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgY3R4LmxpbmVUbygodGhpcy5wb2x5c1tqXVtpXS54ICsgdGhpcy54KSAqIHNjYWxlLCAodGhpcy5wb2x5c1tqXVtpXS55ICsgdGhpcy55KSAqIHNjYWxlKTtcbiAgICAgIH1cbiAgICAgIGN0eC5saW5lVG8oKHRoaXMueCArIHRoaXMucG9seXNbal1bMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9seXNbal1bMF0ueSkgKiBzY2FsZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIE11bHRpUG9seWdvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5wb2x5cyA9IHNjYWxlUG9pbnRzKHRoaXMucG9seXMsIHNjYWxlKTtcbiAgICBzdXAuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIE11bHRpUG9seWdvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb2ludCBpcyBpbiBzaGFwZSBlbHNlIGZhbHNlXG4gICAqL1xuICBwb2ludEluU2hhcGUocG9pbnQpe1xuICAgIGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLnBvbHlzLmxlbmd0aDsgaisrKXtcbiAgICAgIGlmKHBvaW50SW5Qb2x5Z29uKHBvaW50LCB0cmFuc2xhdGVQb2ludHModGhpcy5wb2x5c1tqXSwgdGhpcykpKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gTXVsdGlQb2x5Z29uO1xuIiwiLyoqXG4gKiBUaGlzIEVudGl0eSByZXByZXNlbnRzIGEgUmVjdGFuZ2xlXG4gKiBAbmFtZSBSZWN0YW5nbGVcbiAqIEBjb25zdHJ1Y3RvciBSZWN0YW5nbGVcbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5cbmNsYXNzIFJlY3RhbmdsZSBleHRlbmRzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBIYWxmIG9mIHRoZSBSZWN0YW5nbGUncyB0b3RhbCB3aWR0aFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGFsZldpZHRoID0gMTtcbiAgICAvKipcbiAgICAgKiBIYWxmIG9mIHRoZSBSZWN0YW5nbGUncyB0b3RhbCB3aWR0aFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGFsZkhlaWdodCA9IDE7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBSZWN0YW5nbGUgYXQgYSBnaXZlbiBzY2FsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggVGhlIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIGF0IHdoaWNoIHRvIGRyYXdcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgKHRoaXMueC10aGlzLmhhbGZXaWR0aCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLnktdGhpcy5oYWxmSGVpZ2h0KSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZldpZHRoKjIpICogc2NhbGUsXG4gICAgICAodGhpcy5oYWxmSGVpZ2h0KjIpICogc2NhbGVcbiAgICApO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgKHRoaXMueC10aGlzLmhhbGZXaWR0aCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLnktdGhpcy5oYWxmSGVpZ2h0KSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZldpZHRoKjIpICogc2NhbGUsXG4gICAgICAodGhpcy5oYWxmSGVpZ2h0KjIpICogc2NhbGVcbiAgICApO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5oYWxmSGVpZ2h0ID0gdGhpcy5oYWxmSGVpZ2h0ICogc2NhbGU7XG4gICAgdGhpcy5oYWxmV2lkdGggPSB0aGlzLmhhbGZXaWR0aCAqIHNjYWxlO1xuICAgIHN1cGVyLnNjYWxlU2hhcGUoc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVjdGFuZ2xlI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gKChwb2ludC54ID49ICh0aGlzLnggLSB0aGlzLmhhbGZXaWR0aCkpICYmIChwb2ludC54IDw9ICh0aGlzLnggKyB0aGlzLmhhbGZXaWR0aCkpICYmIChwb2ludC55ID49ICh0aGlzLnkgLSB0aGlzLmhhbGZIZWlnaHQpKSAmJiAocG9pbnQueSA8PSAodGhpcy55ICsgdGhpcy5oYWxmSGVpZ2h0KSkpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjdGFuZ2xlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEaXN0YW5jZSA9IHJlcXVpcmUoJy4vam9pbnRzL0Rpc3RhbmNlJyk7XG5jb25zdCBQcmlzbWF0aWMgPSByZXF1aXJlKCcuL2pvaW50cy9QcmlzbWF0aWMnKTtcbmNvbnN0IFJldm9sdXRlID0gcmVxdWlyZSgnLi9qb2ludHMvUmV2b2x1dGUnKTtcblxudmFyIGpvaW50cyA9IHtcbiAgRGlzdGFuY2UsXG4gIFByaXNtYXRpYyxcbiAgUmV2b2x1dGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gam9pbnRzO1xuIiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBkaXN0YW5jZSBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIHR5cGUgb2Ygam9pbnQgZm9yY2VzIHR3byBib2RpZXMgdG8ga2VlcCBhIGNvbnN0YW50IGRpc3RhbmNlIGZvciBlYWNoIG90aGVyLlxuICogQG5hbWUgRGlzdGFuY2VcbiAqIEBjb25zdHJ1Y3RvciBEaXN0YW5jZVxuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMkRpc3RhbmNlSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJEaXN0YW5jZUpvaW50RGVmO1xuXG5jbGFzcyBEaXN0YW5jZSBleHRlbmRzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEEgcG9pbnQgb24gdGhlIHNlY29uZCBlbnRpdHkgd2hlcmUgdGhlIGpvaW50IHdpbGwgYmUgYXR0YWNoZWQuIElmIG5vIHBvaW50IGlzIHNwZWNpZmllZCwgdGhlIHNlY29uZCBib2R5IHdpbGwgYmUgYXR0YWNoZWQgYXQgaXRzIGNlbnRlciBwb2ludC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBEaXN0YW5jZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9keVBvaW50MiA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcG9zaXRpb25zIGJvZGllcyB0aGF0IHRoZSBqb2ludCBhcmUgY29ubmVjdGVkIGF0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIERpc3RhbmNlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIHNjYWxlIHRvIG11bHRpcGx5IHRoZSBkaW1lbnRpb25zIGJ5XG4gICAqL1xuICBzY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpe1xuICAgIGlmKHNjYWxlICYmIHRoaXMuYm9keVBvaW50Mil7XG4gICAgICB0aGlzLmJvZHlQb2ludDIueCA9IHRoaXMuYm9keVBvaW50Mi54ICogc2NhbGU7XG4gICAgICB0aGlzLmJvZHlQb2ludDIueSA9IHRoaXMuYm9keVBvaW50Mi55ICogc2NhbGU7XG4gICAgICB0aGlzLmFscmVhZHlTY2FsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzdXBlci5zY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRGlzdGFuY2UjXG4gICAqIEBwYXJhbSB7Qm94fSB0aGUgYm94IGluIHdoaWNoIHRvIGNyZWF0ZSB0aGUgam9pbnQuXG4gICAqIEByZXR1cm4ge2IySm9pbnR9IEpvaW50IGNyZWF0ZWQgYnkgYm94MmRcbiAgICovXG4gIGNyZWF0ZUIySm9pbnQoYm94KXtcbiAgICBpZihib3ggJiYgYm94LmJvZGllc01hcCAmJiBib3guYjJXb3JsZCAmJiBib3guam9pbnRzTWFwICYmICFib3guam9pbnRzTWFwW3RoaXMuaWRdKXtcbiAgICAgIGNvbnN0IGJvZHkxID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDFdO1xuICAgICAgY29uc3QgYm9keTIgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMl07XG4gICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgIGxldCB2ZWMxLCB2ZWMyO1xuICAgICAgICBpZih0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQyKXtcbiAgICAgICAgICB2ZWMyID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDIueCwgdGhpcy5ib2R5UG9pbnQyLnkpO1xuICAgICAgICB9XG4gICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIHZlYzIgPSB2ZWMyIHx8IGJvZHkyLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGpvaW50ID0gbmV3IEIyRGlzdGFuY2VKb2ludERlZigpO1xuICAgICAgICBqb2ludC5Jbml0aWFsaXplKGJvZHkxLCBib2R5MiwgdmVjMSwgdmVjMik7XG5cbiAgICAgICAgaWYgKHRoaXMuam9pbnRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3guYjJXb3JsZC5DcmVhdGVKb2ludChqb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGlzdGFuY2U7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIHByaXNtYXRpYyBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIHR5cGUgb2Ygam9pbnQgZm9yY2VzIGEgYm9keSB0byBrZWVwIGl0cyBhbmdsZSByb3RhdGlvbiBjb25zaXRlbnQgd2l0aCBhbm90aGVyIGJvZHlcbiAqIEBuYW1lIFByaXNtYXRpY1xuICogQGNvbnN0cnVjdG9yIFByaXNtYXRpY1xuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJQcmlzbWF0aWNKb2ludERlZiA9IEJveDJELkR5bmFtaWNzLkpvaW50cy5iMlByaXNtYXRpY0pvaW50RGVmO1xuXG5jbGFzcyBQcmlzbWF0aWMgZXh0ZW5kcyBKb2ludCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IG51bWVyaWMgY29tcG9uZW50cyByZXByZXNlbnRpbmcgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGVudGl0aWVzIGNhbiBtb3ZlIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBQcmlzbWF0aWMjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmF4aXNTY2FsZSA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUHJpc21hdGljI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICBjb25zdCBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgIGNvbnN0IGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgaWYoYm9keTEgJiYgYm9keTIpe1xuICAgICAgICBsZXQgdmVjMTtcbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICB2ZWMxID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDEueCwgdGhpcy5ib2R5UG9pbnQxLnkpO1xuICAgICAgICB9XG4gICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIHZhciBqb2ludCA9IG5ldyBCMlByaXNtYXRpY0pvaW50RGVmKCk7XG4gICAgICAgIHZhciBheGlzO1xuICAgICAgICBpZih0aGlzLmF4aXNTY2FsZSl7XG4gICAgICAgICAgYXhpcyA9IG5ldyBCMlZlYzIodGhpcy5heGlzU2NhbGUueCwgdGhpcy5heGlzU2NhbGUueSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGF4aXMgPSBuZXcgQjJWZWMyKDEsIDApO1xuICAgICAgICB9XG4gICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCBheGlzKTtcblxuICAgICAgICBpZiAodGhpcy5qb2ludEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGpvaW50LCB0aGlzLmpvaW50QXR0cmlidXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJveC5iMldvcmxkLkNyZWF0ZUpvaW50KGpvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcmlzbWF0aWM7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIHJldm9sdXRlIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIFRoaXMgYWxsb3cgZm9yIHJvdGF0aW9uIG9mIG9uZSBib2R5IGFyb3VuZCBhIHBvaW50IG9mIGFub3RoZXIuXG4gKiBAbmFtZSBSZXZvbHV0ZVxuICogQGNvbnN0cnVjdG9yIFJldm9sdXRlXG4gKiBAZXh0ZW5kcyBKb2ludFxuICovXG5cbmNvbnN0IEpvaW50ID0gcmVxdWlyZSgnLi9Kb2ludCcpO1xuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMlJldm9sdXRlSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJSZXZvbHV0ZUpvaW50RGVmO1xuXG5cbmNsYXNzIFJldm9sdXRlIGV4dGVuZHMgSm9pbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBhZGRzIHRoaXMgam9pbnQgaW4gdGhlIEJveDJkIHdvcmxkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJldm9sdXRlI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICAgIHZhciBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgICAgdmFyIGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgICAgdmFyIHZlYzE7XG4gICAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgICAgdmFyIGpvaW50ID0gbmV3IEIyUmV2b2x1dGVKb2ludERlZigpO1xuICAgICAgICAgIHZhciBheGlzO1xuICAgICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCBheGlzKTtcblxuICAgICAgICAgIGlmICh0aGlzLmpvaW50QXR0cmlidXRlcykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYm94LmIyV29ybGQuQ3JlYXRlSm9pbnQoam9pbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJldm9sdXRlO1xuIiwiLyoqXG4gKiBUaGlzIGNvbnRhY3QgbGlzdGVuZXIgZm9yIHRoZSBCb3gyZCB3b3JsZCBhc3NpZ25zIGNvbGxpc2lvbiBvYmplY3RzIHRvIGVudGl0aWVzIHdoZW4gdGhleSBjb2xsaWRlLlxuICogQG5hbWUgQ29udGFjdFxuICogQGNvbnN0cnVjdG9yIENvbnRhY3RcbiAqL1xuXG5jbGFzcyBDb250YWN0IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmNvbGxpc2lvbnMgPSB0aGlzLmNvbGxpc2lvbnMgfHwge307XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBzdGF0ZSBvZiB0aGUgY29udGFjdCBsaXN0ZW5lciBwZXIgaXRlcmF0aW9uIG9mIHRoZSBib3ggd29ybGQgY2FsY3VsYXRpb25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqL1xuICByZXNldCgpe1xuICAgIHRoaXMuY29sbGlzaW9ucyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgYm94MmQgY29sbGlzb24gYmVnaW5zXG4gICAqIEBmdW5jdGlvbiBiZWdpbkNvbnRhY3RcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7YjJDb250YWNudH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGJveDJkIGNvbGxpc29uIGVuZHNcbiAgICogQGZ1bmN0aW9uIGVuZENvbnRhY3RcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7YjJDb250YWN0fSBjb250YWN0IFRoZSBib3gyZCBjb250YWN0IG9iamVjdC5cbiAgKi9cblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBhIGJveDJkIGNvbGxpc29uIGlzIHJlc29sdmVkXG4gICAqIEBmdW5jdGlvbiBwcmVTb2x2ZVxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQSBJZCBvZiBib2R5IEFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQiBJZCBvZiBib2R5IEJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9sZE1hbmlmb2xkIE9sZCBtYW5pZm9sZCBvYmplY3QgcGFzc2VkIGludG8gcHJlU29sdmUgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtiMkNvbnRhY3R9IGNvbnRhY3QgVGhlIGJveDJkIGNvbnRhY3Qgb2JqZWN0LlxuICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYWZ0ZXIgYSBib3gyZCBjb2xsaXNvbiBpcyByZXNvbHZlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbXB1bHNlIEltcHVsc2Ugb2JqZWN0IHBhc3NlZCBpbnRvIHBvc3RTb2x2ZSBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge2IyQ29udGFjdH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICovXG4gIHBvc3RTb2x2ZShpZEEsIGlkQiwgaW1wdWxzZSwgY29udGFjdCl7XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQV0gPSB0aGlzLmNvbGxpc2lvbnNbaWRBXSB8fCBbXTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRBXS5wdXNoKHtpZDogaWRCLCBpbXB1bHNlOiBpbXB1bHNlLm5vcm1hbEltcHVsc2VzWzBdfSk7XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQl0gPSB0aGlzLmNvbGxpc2lvbnNbaWRCXSB8fCBbXTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRCXS5wdXNoKHtpZDogaWRBLCBpbXB1bHNlOiBpbXB1bHNlLm5vcm1hbEltcHVsc2VzWzBdfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0O1xuIiwiLyoqXG4gKiBUaGlzIGlzIGEgY29udmVuaWVuY2Ugb2JqZWN0IHRoYXQgYWxsb3dzIGZvciBxdWlja2x5IGNyZWF0aW5nIGEgYm94MmQgYmFzZWQgZ2FtZS5cbiAqIEBuYW1lIEJveEdhbWVcbiAqIEBjb25zdHJ1Y3RvciBCb3hHYW1lXG4gKiBAZXh0ZW5kcyBHYW1lQ29yZVxuICovXG5cbmNvbnN0IEdhbWVDb3JlID0gcmVxdWlyZSgnLi4vR2FtZUNvcmUnKTtcbmNvbnN0IEJveCA9IHJlcXVpcmUoJy4vQm94Jyk7XG5cbmNsYXNzIEJveEdhbWUgZXh0ZW5kcyBHYW1lQ29yZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ2JveGdhbWUgb3B0aW9ucycsIG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnN0YW5jZSBvZiBCb3ggdXNlZCBmb3IgdGhpcyBnYW1lLlxuICAgICAqIEB0eXBlIHtCb3h9XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJveCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBib3ggc2hvdWxkIHBlcmZvcm0gY2FsY3VsYXRpb25zIGR1cmluZyBpdHMgdXBkYXRlIGN5Y2xlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJveFVwZGF0aW5nID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIEVudGl0eSBvYmplY3RzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBCb3hcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbnRpdGllcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBKb2ludCBvYmplY3RzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBCb3hcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5qb2ludHMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLmJveCl7XG4gICAgICB0aGlzLmJveCA9IG5ldyBCb3gob3B0aW9ucy5ib3hPcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5lbnRpdGllcyl7XG4gICAgICB0aGlzLmVudGl0aWVzID0ge307XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuam9pbnRzKXtcbiAgICAgIHRoaXMuam9pbnRzID0ge307XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYWxsIHBoeXNpY3MgY2FsY3VsYXRpb25zIGluIHRoZSBCb3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1pbGxpcyBUaGUgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBwYXNzZWQgc2luY2UgbGFzdCBpdGVyYXRpb24gb2YgZ2FtZUxvb3BcbiAgICovXG4gIHVwZGF0ZUJveChtaWxsaXMpe1xuICAgIGlmKHRoaXMuYm94VXBkYXRpbmcpe1xuICAgICAgdGhpcy5ib3gudXBkYXRlKG1pbGxpcyk7XG4gICAgICB0aGlzLmJveC51cGRhdGVFeHRlcm5hbFN0YXRlKHRoaXMuZW50aXRpZXMpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gRW50aXR5IG9iamVjdCB0byBlbnRpdGllcyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgdG8gYWRkXG4gICAqL1xuICBhZGRCb2R5KGVudGl0eSl7XG4gICAgdGhpcy5lbnRpdGllc1tlbnRpdHkuaWRdID0gZW50aXR5O1xuICAgIHRoaXMuYm94LmFkZEJvZHkoZW50aXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2VyaWVzIG9mIEVudGl0eSBvYmplY3RzIHRvIGVudGl0aWVzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEVudGl0eX0gZW50aXRpZXMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgRW50aXR5IG9iamVjdHMgb3IgYW55IG51bWJlciBvZiBFbnRpdHkgb2JqZWN0c1xuICAgKi9cbiAgYWRkQm9kaWVzKGVudGl0aWVzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcbiAgICAgIGVudGl0aWVzID0gW2VudGl0aWVzXTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGVudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgdGhpcy5hZGRCb2R5KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBFbnRpdHkgb2JqZWN0IGZyb20gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSAge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUJvZHkoZW50aXR5KXtcbiAgICB0aGlzLmJveC5yZW1vdmVCb2R5KGVudGl0eS5pZCk7XG4gICAgZGVsZXRlIHRoaXMuZW50aXRpZXNbZW50aXR5LmlkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgc2VyaWVzIG9mIEVudGl0eSBvYmplY3RzIGZyb20gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7QXJyYXl8RW50aXR5fSBlbnRpdGllcyBDYW4gdGFrZSBhbiBhcnJheSBvZiBFbnRpdHkgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEVudGl0eSBvYmplY3RzXG4gICAqL1xuICByZW1vdmVCb2RpZXMoZW50aXRpZXMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBbZW50aXRpZXNdO1xuICAgIH1cbiAgICBlbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlQm9keShlbnRpdHkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBKb2ludCB0byBqb2ludHMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7Sm9pbnR9IGpvaW50IEpvaW50IHRvIGFkZFxuICAgKi9cbiAgYWRkSm9pbnQoam9pbnQpe1xuICAgIHRoaXMuam9pbnRzW2pvaW50LmlkXSA9IGpvaW50O1xuICAgIHRoaXMuYm94LmFkZEpvaW50KGpvaW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2VyaWVzIG9mIEpvaW50IG9iamVjdHMgdG8gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEpvaW50fSBqb2ludHMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgSm9pbnQgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEpvaW50IG9iamVjdHNcbiAgICovXG4gIGFkZEpvaW50cyhqb2ludHMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGpvaW50cykpIHtcbiAgICAgIGpvaW50cyA9IFtqb2ludHNdO1xuICAgIH1cbiAgICBqb2ludHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLmFkZEpvaW50KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIEpvaW50IGZyb20gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtKb2ludH0gam9pbnQgSm9pbnQgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVKb2ludChqb2ludCl7XG4gICAgdGhpcy5ib3gucmVtb3ZlSm9pbnQoam9pbnQuaWQpO1xuICAgIGRlbGV0ZSB0aGlzLmpvaW50c1tqb2ludC5pZF07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHNlcmllcyBvZiBKb2ludCBvYmplY3RzIGZyb20gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEpvaW50fSBqb2ludHMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgSm9pbnQgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEpvaW50IG9iamVjdHNcbiAgICovXG4gIHJlbW92ZUpvaW50cyhqb2ludHMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGpvaW50cykpIHtcbiAgICAgIGpvaW50cyA9IFtqb2ludHNdO1xuICAgIH1cbiAgICBqb2ludHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUpvaW50KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCb3hHYW1lO1xuXG4iLCJcbmZ1bmN0aW9uIGRyYXcoY3R4LCBzY2FsZSkge1xuICBjb25zdCB7ZnVsbFcsIGZ1bGxILCBoZXhTaWRlLCBzaWRlVywgc2ludDEsIGFuZzEsIHNpbnQyLCBhbmcyfSA9IHRoaXMubWVhc3VyZW1lbnRzO1xuICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1swXS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHNpZGVXLCAxKTtcbiAgY3R4LmxpbmVUbyhmdWxsVyAtIHNpZGVXLCAxKTtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1szXS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHNpZGVXLCBmdWxsSCk7XG4gIGN0eC5saW5lVG8oZnVsbFcgLSBzaWRlVywgZnVsbEgpO1xuICBjdHguc3Ryb2tlKCk7XG5cbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzFdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oZnVsbFcgLSBzaWRlVywgMCk7XG4gIGN0eC5saW5lVG8oZnVsbFcsIGZ1bGxILzIpO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbMl0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhmdWxsVywgZnVsbEgvMik7XG4gIGN0eC5saW5lVG8oZnVsbFcgLSBzaWRlVywgZnVsbEgpO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbNF0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhzaWRlVywgZnVsbEgpO1xuICBjdHgubGluZVRvKDAsIGZ1bGxILzIpO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbNV0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbygwLCBmdWxsSC8yKTtcbiAgY3R4LmxpbmVUbyhzaWRlVywgMCk7XG4gIGN0eC5zdHJva2UoKTtcblxuICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocCkgPT4ge1xuICAgIGlmKCFwLmZhY2UuZGVhZCkge1xuICAgICAgcC5wYWRkbGVzWzBdLmRyYXcoY3R4LCBzY2FsZSk7XG4gICAgfVxuICAgIHAuZmFjZS5kcmF3KGN0eCwgc2NhbGUpO1xuICB9KTtcblxuICBPYmplY3Qua2V5cyh0aGlzLmVudGl0aWVzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgaWYoIXRoaXMuZW50aXRpZXNba10uaGlkZGVuKSB7XG4gICAgICB0aGlzLmVudGl0aWVzW2tdLmRyYXcoY3R4KTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuYmFsbC5kcmF3KGN0eCwgc2NhbGUpO1xuXG4gIFxufVxuXG5leHBvcnQgZGVmYXVsdCBkcmF3OyIsImltcG9ydCB7IGJveDJkLCB1dGlscyB9IGZyb20gJ2Zyb3plbmpzJztcbmltcG9ydCBjb2xvcnMgZnJvbSAnLi9jb2xvcnMnO1xuXG5jb25zdCB7IGVudGl0aWVzIH0gPSBib3gyZDtcbmNvbnN0IHsgcmFkaWFuc0Zyb21DZW50ZXIsIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIsIGRpc3RhbmNlIH0gPSB1dGlscztcblxuXG5jb25zdCBwbGF5ZXJTcGVlZCA9IDAuMDAyNztcbmNvbnN0IEJSSUNLX0RFQVRIX0FOSU0gPSAyNTAwO1xuXG5jb25zdCBjZW50ZXJQb2ludCA9IHt4OiAwLCB5OiAwfTtcblxuY29uc3QgcmFuZG9tQW5nbGVTcHJlYWQgPSAoKE1hdGguUEkgKiAyKSAvIDM2MCkgKiAxLjc1O1xuXG5mdW5jdGlvbiBnZXRSYW5kb21BbmdsZU9mZnNldCgpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSkgPyAtKE1hdGgucmFuZG9tKCkgKiByYW5kb21BbmdsZVNwcmVhZCkgOiBNYXRoLnJhbmRvbSgpICogcmFuZG9tQW5nbGVTcHJlYWQ7XG59XG5cblxuZnVuY3Rpb24gZXhwbG9kZUJyaWNrKGdhbWUsIGJyaWNrLCBwaWVjZXMsIHBsYXlTb3VuZCkge1xuICBjb25zdCBsaWxPcHMgPSB7XG4gICAgeDogYnJpY2sueCAqIDMwLFxuICAgIHk6IGJyaWNrLnkgKiAzMCxcbiAgICBicmlja1BpZWNlOiB0cnVlLFxuICAgIGxpZmU6IEJSSUNLX0RFQVRIX0FOSU0sXG4gICAgc3RhdGljQm9keTogZmFsc2UsXG4gICAgZGVuc2l0eTogMC4wMDEsXG4gICAgcGxheWVySWQ6IGJyaWNrLnBsYXllcklkLFxuICAgIGZpbGxTdHlsZTogY29sb3JzLnJnYihicmljay5wbGF5ZXJJZCksXG4gICAgZHJhd0NlbnRlcjogZmFsc2UsXG4gICAgZHJhd0xvY2F0aW9uOiBmYWxzZVxuICB9O1xuICBmb3IobGV0IGkgPSAwOyBpIDwgcGllY2VzOyBpKyspe1xuICAgIGNvbnN0IGxpbGJPcHMgPSB7XG4gICAgICBoYWxmSGVpZ2h0OiBicmljay5oYWxmSGVpZ2h0IC8gKChNYXRoLnJhbmRvbSgpICogMikgKyAyLjUpLFxuICAgICAgaGFsZldpZHRoOiBicmljay5oYWxmV2lkdGggLyAoKE1hdGgucmFuZG9tKCkgKiAyKSArIDIuNSksXG4gICAgfTtcbiAgICBjb25zdCBsaWxCID0gbmV3IGVudGl0aWVzLlJlY3RhbmdsZShPYmplY3QuYXNzaWduKHt9LCBsaWxPcHMsIGxpbGJPcHMpKTtcbiAgICBnYW1lLmFkZEJvZHkobGlsQik7XG4gICAgZ2FtZS5ib3guc2V0QW5nbGUobGlsQi5pZCwgTWF0aC5yYW5kb20oKSAqIChNYXRoLlBJICogMikpO1xuICAgIGdhbWUuYm94LmFwcGx5SW1wdWxzZShsaWxCLmlkLCBNYXRoLnJhbmRvbSgpICogKE1hdGguUEkgKiAyKSwgMzApO1xuICB9XG4gIGlmKHBsYXlTb3VuZCkge1xuICAgIGNvbnN0IHJhbmRFeHBsb3Npb24gPSBnYW1lLmV4cGxvc2lvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZ2FtZS5leHBsb3Npb25zLmxlbmd0aCldO1xuICAgIHJhbmRFeHBsb3Npb24ucGxheSgpO1xuICB9XG4gIFxufVxuXG5mdW5jdGlvbiB1cGRhdGUobWlsbGlzKSB7XG4gIHRoaXMudXBkYXRlQm94KG1pbGxpcyk7XG5cbiAgT2JqZWN0LmtleXModGhpcy5lbnRpdGllcykuZm9yRWFjaCgoaykgPT4ge1xuICAgIGNvbnN0IGVudCA9IHRoaXMuZW50aXRpZXNba107XG4gICAgaWYoZW50LmJyaWNrUGllY2UpIHtcbiAgICAgIGVudC5saWZlID0gZW50LmxpZmUgLSBtaWxsaXM7XG4gICAgICBpZihlbnQubGlmZSA8IDApIHtcbiAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnQuZmlsbFN0eWxlID0gY29sb3JzLnJnYmEoZW50LnBsYXllcklkLCBlbnQubGlmZSAvIEJSSUNLX0RFQVRIX0FOSU0gKiAwLjYpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBpZih0aGlzLmJhbGwpIHtcbiAgICBcbiAgICBpZih0aGlzLmJhbGwuY29sbGlzaW9ucyAmJiB0aGlzLmJhbGwuY29sbGlzaW9ucy5sZW5ndGgpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ2JhbGwnLCB0aGlzLmJhbGwuY29sbGlzaW9ucyk7XG4gICAgICB0aGlzLmJhbGwuY29sbGlzaW9ucy5mb3JFYWNoKChldCkgPT4ge1xuICAgICAgICBjb25zdCBlbnQgPSB0aGlzLmVudGl0aWVzW2V0LmlkXTtcbiAgICAgICAgaWYoZW50KSB7XG4gICAgICAgICAgaWYoZW50LmJyaWNrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoZXQpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnYnJpY2sga2lsbCcsIGVudCk7XG4gICAgICAgICAgICBleHBsb2RlQnJpY2sodGhpcywgZW50LCA2LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoZW50LmtpbmcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdraW5nIGtpbGwnLCBlbnQpO1xuICAgICAgICAgICAgdGhpcy5zY3JlYW0ucGxheSgpO1xuICAgICAgICAgICAgZW50LmRlYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmVudGl0aWVzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGJyaWNrID0gdGhpcy5lbnRpdGllc1trXTtcbiAgICAgICAgICAgICAgaWYoYnJpY2suYnJpY2sgJiYgYnJpY2sucGxheWVySWQgPT09IGVudC5wbGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShicmljayk7XG4gICAgICAgICAgICAgICAgZXhwbG9kZUJyaWNrKHRoaXMsIGJyaWNrLCAzLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tlbnQucGxheWVySWRdLnBhZGRsZXMuZm9yRWFjaCgocGFkKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShwYWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShlbnQpOyAvL3JlbW92ZSBmYWNlLCBidXQgd2lsbCBzdGlsbCBkcmF3IGl0XG5cbiAgICAgICAgICAgIFxuICAgICAgICAgIH0gZWxzZSBpZiAoZW50LnBhZGRsZSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5wbGF5ZXJzW2VudC5wbGF5ZXJJZF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGJhbGxmcm9tQW5jaG9yID0gZGlzdGFuY2UocC5hbmNob3IsIHRoaXMuYmFsbCk7XG4gICAgICAgICAgICBjb25zdCBwYWRkbGVGcm9tQW5jaG9yID0gZGlzdGFuY2UocC5hbmNob3IsIGVudCk7XG5cbiAgICAgICAgICAgIC8vaWdub3JlIGhpdHMgdG8gYm90dG9tIG9mIHBhZGRsZVxuICAgICAgICAgICAgaWYoYmFsbGZyb21BbmNob3IgPiBwYWRkbGVGcm9tQW5jaG9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuYmFsbC5oaXRQbGF5ZXIgPSBwO1xuICAgICAgICAgICAgICB0aGlzLmJhbGwuaGl0UGFkZGxlID0gZW50O1xuICAgICAgICAgICAgICBpZihwLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBhZGRsZVBvc2l0aW9uID0gcC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY2F1Z2h0UGxheWVySWQgPSBlbnQucGxheWVySWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBvc2l0aW9uID0ge3g6IHRoaXMuYmFsbC54LCB5OiB0aGlzLmJhbGwueX07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJyVjIE9oIG15IGhlYXZlbnMhICcsICdiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogI2JhZGE1NScpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnJWNwYWRkbGVoaXQgJyArIGVudC5wbGF5ZXJJZCwgJ2ZvbnQtc2l6ZTogMS41ZW07IGJhY2tncm91bmQ6ICMyMjI7IGNvbG9yOiAnICsgdGhpcy5wbGF5ZXJzW2VudC5wbGF5ZXJJZF0uY29sb3IpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbnQud2FsbCkge1xuICAgICAgICAgICAgdGhpcy5iYWxsLndhbGxIaXRzKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFsbC53YWxsSGl0cyA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSk7XG4gICAgICBcblxuICAgICAgdGhpcy5yZW1vdmVCb2R5KHRoaXMuYmFsbCk7XG4gICAgICB0aGlzLmJhbGwuYW5ndWxhclZlbG9jaXR5ID0gbnVsbDtcbiAgICAgIHRoaXMuYmFsbC5wcmV2TGluZWFyVmVsb2NpdHkgPSB0aGlzLmJhbGwubGluZWFyVmVsb2NpdHk7XG4gICAgICB0aGlzLmJhbGwubGluZWFyVmVsb2NpdHkgPSBudWxsO1xuICAgICAgaWYodGhpcy5iYWxsLmNhdWdodCkge1xuICAgICAgICBjb25zdCBjYXVnaHRQbGF5ZXIgPSB0aGlzLnBsYXllcnNbdGhpcy5iYWxsLmNhdWdodFBsYXllcklkXTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25EZWx0YSA9IGNhdWdodFBsYXllci5wb3NpdGlvbiAtIHRoaXMuYmFsbC5jYXVnaHRQYWRkbGVQb3NpdGlvbiArIChNYXRoLlBJICogMik7XG4gICAgICAgIGNvbnN0IG5ld0JhbGxMb2MgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNhdWdodFBsYXllci5hbmNob3IsIHRoaXMuYmFsbC5jYXVnaHRQb3NpdGlvbiwgcG9zaXRpb25EZWx0YSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYXVnaHQnLCBwb3NpdGlvbkRlbHRhLCBuZXdCYWxsTG9jKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYmFsbC54ID0gbmV3QmFsbExvYy54O1xuICAgICAgICB0aGlzLmJhbGwueSA9IG5ld0JhbGxMb2MueTtcbiAgICAgICAgaWYoY2F1Z2h0UGxheWVyLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgICAgLy9zdGlsbCBjYXVnaHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmJhbGwuY2F1Z2h0ID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgYnJpY2tzTGVmdCA9IHRoaXMuZ2V0QnJpY2tzTGVmdCgpO1xuICAgICAgICAgIGNvbnN0IG5ld1NwZWVkID0gdGhpcy5iYWxsU3BlZWQgKyAoMzMwIC0gYnJpY2tzTGVmdCk7IC8vIHNwZWVkIHVwIGFzIGJyaWNrcyBnbyBhd2F5XG4gICAgICAgICAgdGhpcy5hZGRCb2R5KHRoaXMuYmFsbCk7XG4gICAgICAgICAgY29uc3QgcGFkZGxlQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsLmhpdFBsYXllci5wYWRkbGVzWzBdKTtcbiAgICAgICAgICBjb25zdCBiYWxsQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsKTtcbiAgICAgICAgICBjb25zdCBkZWx0YSA9IHBhZGRsZUFuZ2xlIC0gYmFsbEFuZ2xlO1xuICAgICAgICAgIHRoaXMuYm94LmFwcGx5Rm9yY2UodGhpcy5iYWxsLmlkLCBwYWRkbGVBbmdsZSAtIChkZWx0YSAqIDUpLCBuZXdTcGVlZCk7XG4gICAgICAgICAgdGhpcy5iYWxsLmhpdFBhZGRsZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJyaWNrc0xlZnQgPSB0aGlzLmdldEJyaWNrc0xlZnQoKTtcbiAgICAgICAgY29uc3QgbmV3U3BlZWQgPSB0aGlzLmJhbGxTcGVlZCArICgzMzAgLSBicmlja3NMZWZ0KTsgLy8gc3BlZWQgdXAgYXMgYnJpY2tzIGdvIGF3YXlcbiAgICAgICAgY29uc3QgYW5nbGVPZmZzZXQgPSBnZXRSYW5kb21BbmdsZU9mZnNldCgpO1xuICAgICAgICB0aGlzLmFkZEJvZHkodGhpcy5iYWxsKTtcbiAgICAgICAgaWYodGhpcy5iYWxsLmhpdFBhZGRsZSkge1xuICAgICAgICAgIGNvbnN0IHBhZGRsZUFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5iYWxsLmhpdFBsYXllci5hbmNob3IsIHRoaXMuYmFsbC5oaXRQbGF5ZXIucGFkZGxlc1swXSk7XG4gICAgICAgICAgY29uc3QgYmFsbEFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5iYWxsLmhpdFBsYXllci5hbmNob3IsIHRoaXMuYmFsbCk7XG4gICAgICAgICAgY29uc3QgZGVsdGEgPSBwYWRkbGVBbmdsZSAtIGJhbGxBbmdsZTtcbiAgICAgICAgICB0aGlzLmJveC5hcHBseUZvcmNlKHRoaXMuYmFsbC5pZCwgcGFkZGxlQW5nbGUgLSAoZGVsdGEgKiA1KSArIGFuZ2xlT2Zmc2V0LCBuZXdTcGVlZCk7XG4gICAgICAgICAgdGhpcy5iYWxsLmhpdFBhZGRsZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5wYWRkbGVTb3VuZC5wbGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2JhbGxoaXRzJywgdGhpcy5iYWxsLndhbGxIaXRzLCBhbmdsZU9mZnNldCwgYW5nbGVPZmZzZXQgKiB0aGlzLmJhbGwud2FsbEhpdHMpO1xuICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHJhZGlhbnNGcm9tQ2VudGVyKGNlbnRlclBvaW50LCB0aGlzLmJhbGwucHJldkxpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICB0aGlzLmJveC5hcHBseUZvcmNlKHRoaXMuYmFsbC5pZCwgZGlyZWN0aW9uICsgYW5nbGVPZmZzZXQgKyAoYW5nbGVPZmZzZXQgKiB0aGlzLmJhbGwud2FsbEhpdHMpLCBuZXdTcGVlZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy9yZWd1bGF0ZSBiYWxsIHNwZWVkO1xuICBcbiAgICB9XG4gIH1cbiAgXG5cblxuICBnYW1lLnBsYXllcnMuZm9yRWFjaCgocCwgaWR4KSA9PiB7XG4gICAgaWYoIXAuZmFjZS5kZWFkKSB7XG4gICAgICBpZihwLmRpcmVjdGlvbiA+IDAgJiYgcC5wb3NpdGlvbiA8IE1hdGguUEkpIHtcbiAgICAgICAgcC5wb3NpdGlvbiArPSAocGxheWVyU3BlZWQgKiBtaWxsaXMpO1xuICAgICAgICBwLnBvc2l0aW9uID0gTWF0aC5taW4ocC5wb3NpdGlvbiwgTWF0aC5QSSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKHAuZGlyZWN0aW9uIDwgMCAmJiBwLnBvc2l0aW9uID4gMCkge1xuICAgICAgICBwLnBvc2l0aW9uIC09IChwbGF5ZXJTcGVlZCAqIG1pbGxpcyk7XG4gICAgICAgIHAucG9zaXRpb24gPSBNYXRoLm1heChwLnBvc2l0aW9uLCAwKTtcbiAgICAgIH1cblxuICAgICAgLy9jb25zdCBuZXdQYWRkbGVQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIocC5hbmNob3IsIHt4OiBwLmFuY2hvci54LCB5OiBwLmFuY2hvci55ICsgKGRpc3RGcm9tQW5jaG9yIC8gMzApfSwgcC5hbmdsZSArIHAucG9zaXRpb24gLSAoTWF0aC5QSSAvIDIpKTtcbiAgICAgIGNvbnN0IG5ld1BhZGRsZVB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwLnB0LCB7eDogcC5wdC54LCB5OiBwLnB0LnkgKyB0aGlzLmRpc3RGcm9tQW5jaG9yfSwgcC5hbmdsZSArIHAucG9zaXRpb24gLSAoTWF0aC5QSSAvIDIpKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGFkZGxlT3BzID0gcC5wYWRkbGVPcHM7IC8vIE9iamVjdC5hc3NpZ24oe30sIHAucGFkZGxlT3BzLCBuZXdQYWRkbGVQdCk7XG4gICAgICBwYWRkbGVPcHMueCA9IG5ld1BhZGRsZVB0Lng7XG4gICAgICBwYWRkbGVPcHMueSA9IG5ld1BhZGRsZVB0Lnk7XG4gICAgICBcblxuICAgICAgcGFkZGxlT3BzLnBvaW50cyA9IFtcbiAgICAgICAge3g6IHBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IC1wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICAgIHt4OiBwYWRkbGVPcHMuaGFsZldpZHRoICogMC43LCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodCAvIDJ9LFxuICAgICAgICB7eDogcGFkZGxlT3BzLmhhbGZXaWR0aCAqIDAuNCwgeTogcGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgICAgICB7eDogLXBhZGRsZU9wcy5oYWxmV2lkdGggKiAwLjQsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgICAge3g6IC1wYWRkbGVPcHMuaGFsZldpZHRoICogMC43LCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodCAvIDJ9LFxuICAgICAgICB7eDogLXBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IC1wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICBdO1xuXG4gICAgICBpZihwLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgIHBhZGRsZU9wcy5zdHJva2VTdHlsZSA9IHAuY29sb3JDb21wbGVtZW50O1xuICAgICAgICBwYWRkbGVPcHMubGluZVdpZHRoID0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZGRsZU9wcy5zdHJva2VTdHlsZSA9IHAuY29sb3I7XG4gICAgICAgIHBhZGRsZU9wcy5saW5lV2lkdGggPSAxO1xuICAgICAgfVxuICAgICAgXG4gICAgXG4gICAgICBwYWRkbGVPcHMucG9pbnRzID0gcC5wYWRkbGVPcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgICAgICByZXR1cm4gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXJQb2ludCwgb3BwdCwgcC5hbmdsZSArIHAucG9zaXRpb24gLSAoTWF0aC5QSSAvIDIpKTtcbiAgICAgIH0pO1xuICAgICAgcC51cGRhdGUrKztcbiAgICAgIHBhZGRsZU9wcy5pZCA9IGlkeCArICdwYWRkbGUnICsgcC51cGRhdGU7IFxuICAgICAgY29uc3QgcGFkZGxlID0gbmV3IGVudGl0aWVzLlBvbHlnb24ocGFkZGxlT3BzKTtcbiAgICAgIC8vY29uc3QgcGFkZGxlMiA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKE9iamVjdC5hc3NpZ24oe30sIHBhZGRsZU9wcywge2lkOiBwLnBhZGRsZTIuaWR9KSk7XG4gICAgICAvL2dhbWUucmVtb3ZlQm9keShwLnBhZGRsZSk7XG4gICAgICAvL2dhbWUucmVtb3ZlQm9keShwLnBhZGRsZTIpO1xuICAgICAgZ2FtZS5hZGRCb2R5KHBhZGRsZSk7XG4gICAgICAvL2dhbWUuYWRkQm9keShwYWRkbGUyKTtcbiAgICAgIHAucGFkZGxlcy5wdXNoKHBhZGRsZSk7XG4gICAgICBpZihwLnBhZGRsZXMubGVuZ3RoID4gMykge1xuICAgICAgICBjb25zdCBmaXJzdCA9IHAucGFkZGxlcy5zaGlmdCgpO1xuICAgICAgICBnYW1lLnJlbW92ZUJvZHkoZmlyc3QpO1xuICAgICAgfVxuICAgICAgXG5cbiAgICB9XG4gIH0pO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVwZGF0ZTsiLCJpbXBvcnQgQ2lyY2xlIGZyb20gJ2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZSc7XG5pbXBvcnQgcmFkaWFuc0Zyb21DZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInO1xuaW1wb3J0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcic7XG5cbmNvbnN0IG9yaWdpbiA9IHt4OiAwLCB5OiAwfTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFsbCBleHRlbmRzIENpcmNsZSB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIC8vIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIC8vIGN0eC5zYXZlKCk7XG4gICAgLy8gY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIC8vIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgLy8gY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIC8vIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIHRoaXMueCAqIHNjYWxlIC0gKHRoaXMuaW1nLndpZHRoIC8gMiksIHRoaXMueSAqIHNjYWxlIC0gKHRoaXMuaW1nLmhlaWdodCAvIDIpKTtcbiAgICAvLyBjdHgucmVzdG9yZSgpO1xuXG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgY29uc3QgeCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgKiBzY2FsZTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLnB0UmFkaXVzOyAvLyAvIHNjYWxlO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTI3LDAsMC42NiknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgaWYodGhpcy5saW5lYXJWZWxvY2l0eSkge1xuICAgICAgY29uc3QgdGFpbERpc3J1cHRpb24gPSAwLjA2O1xuICAgICAgY29uc3QgdGFpbERpc3QgPSAwLjg1O1xuXG4gICAgICBjb25zdCByYWRzID0gcmFkaWFuc0Zyb21DZW50ZXIob3JpZ2luLCB0aGlzLmxpbmVhclZlbG9jaXR5KTtcbiAgICAgIGNvbnN0IGNlbnRlciA9IHt4LCB5fTtcbiAgICAgIGNvbnN0IHRhaWxTZWdtZW50cyA9IHRoaXMuY2F1Z2h0ID8gWzEsIDJdIDogWzEsIDIsIDMsIDQsIDVdO1xuICAgICAgY29uc3QgdGFpbHMgPSB0YWlsU2VnbWVudHMubWFwKCh0LCBpZHgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyLCB7eCwgeTogeSAtIChyYWRpdXMgKiAodGFpbERpc3QgKiB0KSl9LCByYWRzICsgTWF0aC5QSSArICh0ICUgMiA/IHRhaWxEaXNydXB0aW9uIDogLXRhaWxEaXNydXB0aW9uKSk7XG4gICAgICB9KTtcblxuICAgICAgXG4gICAgICB0YWlscy5mb3JFYWNoKCh0LCBpZHgpID0+IHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMCwwLjUpJztcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHQueCwgdC55LCByYWRpdXMgLSAocmFkaXVzICogKChpZHggKyAxKSAqIDAuMTUpKSwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9KTtcbiAgICAgIFxuXG5cbiAgICB9XG5cbiAgICBcblxuXG4gICAgXG4gICAgXG5cbiAgfVxufVxuIiwiXG5jb25zb2xlLmxvZygnd3RmIHRvbyBtYW55IGJyaWNrcz8nKTtcblxubGV0IGJyaWNrcyA9IFtcbiAgWzYsMV0sWzEwLDFdLFsxNCwxXSxbMzQsMV0sWzM4LDFdLFs0MiwxXSxcbiAgWzgsM10sWzEyLDNdLFsxNiwzXSxbMzIsM10sWzM2LDNdLFs0MCwzXSxcbiAgWzYsNV0sWzEwLDVdLFsxNCw1XSxbMzQsNV0sWzM4LDVdLFs0Miw1XSxcbiAgWzgsN10sWzEyLDddLFsxNiw3XSxbMzIsN10sWzM2LDddLFs0MCw3XSxcbiAgWzEwLDldLFsxNCw5XSxbMTgsOV0sWzMwLDldLFszNCw5XSxbMzgsOV0sXG4gIFsxMiwxMV0sWzE2LDExXSxbMjAsMTFdLFsyNCwxMV0sWzI4LDExXSxbMzIsMTFdLFszNiwxMV0sXG4gIFsxNCwxM10sWzE4LDEzXSxbMjIsMTNdLFsyNiwxM10sWzMwLDEzXSxbMzQsMTNdLFxuICBbMTIsMTVdLFsxNiwxNV0sWzIwLDE1XSxbMjQsMTVdLFsyOCwxNV0sWzMyLDE1XSxbMzYsMTVdLFxuICBbMTgsMTddLFsyMiwxN10sWzI2LDE3XSxbMzAsMTddLFxuICBbMjQsMTldXG5dO1xuXG5cbmJyaWNrcyA9IGJyaWNrcy5tYXAoKGIpID0+IHtcbiAgYiA9IFtiWzBdICogMTIuNSwgYlsxXSAqIDEyLjVdO1xuICBiWzBdID0gYlswXSAtIDMwMDtcbiAgcmV0dXJuIGI7XG59KTtcblxuXG5leHBvcnQgZGVmYXVsdCBicmlja3M7XG4iLCJpbXBvcnQgUG9seWdvbiBmcm9tICdmcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9Qb2x5Z29uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJpY2sgZXh0ZW5kcyBQb2x5Z29uIHtcbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgY29uc3Qgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIFxuICAgIGN0eC5zYXZlKCk7XG4gICAgLy9jdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgY3R4LmxpbmVKb2luID0gXCJyb3VuZFwiO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCx0aGlzLnByZXksIDAsIHRoaXMucHJleSArIHRoaXMuaGFsZkhlaWdodCAqIDIpO1xuXG4gICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBjdHguZmlsbFN0eWxlKTtcbiAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICcjNDQ0Jyk7XG5cbiAgICBjdHgudHJhbnNsYXRlKHRoaXMucHJleCwgdGhpcy5wcmV5KTtcbiAgICBjdHgucm90YXRlKHRoaXMucHJlQW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLnByZXgpLCAtKHRoaXMucHJleSkpO1xuICAgIC8vXG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgdGhpcy5wcmV4LXRoaXMuaGFsZldpZHRoLFxuICAgICAgdGhpcy5wcmV5LXRoaXMuaGFsZkhlaWdodCxcbiAgICAgIHRoaXMuaGFsZldpZHRoKjIsXG4gICAgICB0aGlzLmhhbGZIZWlnaHQqMlxuICAgICk7XG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICB0aGlzLnByZXgtdGhpcy5oYWxmV2lkdGgsXG4gICAgICB0aGlzLnByZXktdGhpcy5oYWxmSGVpZ2h0LFxuICAgICAgdGhpcy5oYWxmV2lkdGgqMixcbiAgICAgIHRoaXMuaGFsZkhlaWdodCoyXG4gICAgKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgICAvL3N1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cbn1cbiIsImltcG9ydCBDaXJjbGUgZnJvbSAnZnJvemVuanMvYm94MmQvZW50aXRpZXMvQ2lyY2xlJztcblxuaW1wb3J0IHJhZGlhbnNGcm9tQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyJztcbmltcG9ydCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWNlIGV4dGVuZHMgQ2lyY2xlIHtcbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgY29uc3Qgc2NhbGVkWCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZFkgPSB0aGlzLnkgKiBzY2FsZTtcbiAgICBjb25zdCBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZGVhZCA/IHRoaXMuZGVhZEZpbGxTdHlsZSA6IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZGVhZCA/IHRoaXMuZmlsbFN0eWxlIDogdGhpcy5zdHJva2VTdHlsZTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhzY2FsZWRYLCBzY2FsZWRZLCB0aGlzLnJhZGl1cyAqIHNjYWxlLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgY29uc3QgbGVmdEV5ZSA9IHt4OiBzY2FsZWRYIC0gMTcsIHk6IHNjYWxlZFkgLSAxNX07XG4gICAgY29uc3QgcmlnaHRFeWUgPSB7eDogc2NhbGVkWCArIDE3LCB5OiBzY2FsZWRZIC0gMTV9O1xuXG4gICAgaWYoIXRoaXMuZGVhZCkge1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkYnO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhzY2FsZWRYIC0gMTcsIHNjYWxlZFkgLSAxNSwgMTAsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoc2NhbGVkWCArIDE3LCBzY2FsZWRZIC0gMTUsIDEwLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjb25zdCByYWRzTCA9IHJhZGlhbnNGcm9tQ2VudGVyKGxlZnRFeWUsIHt4OiB0aGlzLmJhbGwueCAqIHNjYWxlLCB5OiB0aGlzLmJhbGwueSAqIHNjYWxlfSk7XG4gICAgICBjb25zdCByYWRzUiA9IHJhZGlhbnNGcm9tQ2VudGVyKHJpZ2h0RXllLCB7eDogdGhpcy5iYWxsLnggKiBzY2FsZSwgeTogdGhpcy5iYWxsLnkgKiBzY2FsZX0pO1xuXG4gICAgICBjb25zdCBsSXJpcyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIobGVmdEV5ZSwge3g6IHNjYWxlZFggLSAxNywgeTogc2NhbGVkWSAtIDIwfSwgcmFkc0wpO1xuICAgICAgY29uc3QgcklyaXMgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHJpZ2h0RXllLCB7eDogc2NhbGVkWCArIDE3LCB5OiBzY2FsZWRZIC0gMjB9LCByYWRzUik7XG5cbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhsSXJpcy54LCBsSXJpcy55LCA2LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHJJcmlzLngsIHJJcmlzLnksIDYsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG5cbiAgICAgIC8vIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8obGVmdEV5ZS54IC0gMTAsIGxlZnRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8obGVmdEV5ZS54ICsgMTAsIGxlZnRFeWUueSArIDEwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhsZWZ0RXllLnggKyAxMCwgbGVmdEV5ZS55IC0gMTApO1xuICAgICAgY3R4LmxpbmVUbyhsZWZ0RXllLnggLSAxMCwgbGVmdEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHJpZ2h0RXllLnggLSAxMCwgcmlnaHRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8ocmlnaHRFeWUueCArIDEwLCByaWdodEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHJpZ2h0RXllLnggKyAxMCwgcmlnaHRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8ocmlnaHRFeWUueCAtIDEwLCByaWdodEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIFxuXG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuXG4gIH1cbn1cbiIsImltcG9ydCBrZXlzIGZyb20gJ2Zyb3plbmpzL2tleXMnO1xuaW1wb3J0IHJhZGlhbnNGcm9tQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyJztcbmltcG9ydCBzY2FsZVBvaW50cyBmcm9tICdmcm96ZW5qcy91dGlscy9zY2FsZVBvaW50cyc7XG5cbmNvbnN0IHNwZWVkID0gMTA7XG5cbmZ1bmN0aW9uIGhhbmRsZURpcmVjdGlvbihnYW1lLCBmaXJlS2V5ICxsZWZ0S2V5LCByaWdodEtleSwgcGxheWVySWQpIHtcbiAgbGV0IGxQcmVzc2VkID0gZ2FtZS5pbnB1dE1hbmFnZXIua2V5QWN0aW9uc1tsZWZ0S2V5XS5pc1ByZXNzZWQoKTtcbiAgaWYoZ2FtZS5pbnB1dE1hbmFnZXIua2V5QWN0aW9uc1tmaXJlS2V5XS5pc1ByZXNzZWQoKSkge1xuICAgIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZmlyZVByZXNzZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZmlyZVByZXNzZWQgPSBmYWxzZTtcbiAgfVxuICBpZihsUHJlc3NlZCB8fCBnYW1lLmlucHV0TWFuYWdlci5rZXlBY3Rpb25zW3JpZ2h0S2V5XS5pc1ByZXNzZWQoKSkge1xuICAgIGlmKGxQcmVzc2VkKSB7XG4gICAgICByZXR1cm4gZ2FtZS5wbGF5ZXJzW3BsYXllcklkXS5kaXJlY3Rpb24gPSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZGlyZWN0aW9uID0gMTtcbiAgfSBcblxuICBnYW1lLnBsYXllcnNbcGxheWVySWRdLmRpcmVjdGlvbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUlucHV0KGltKSB7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCBrZXlzLlNMQVNILCBrZXlzLkxFRlQsIGtleXMuUklHSFQsIDIpO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ1EnLCAnVycsICdFJywgNSk7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnWCcsICdDJywgJ1YnLCA0KTtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsICdCJywgJ04nLCAnTScsIDMpO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ1QnLCAnWScsICdVJywgMCk7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnTycsICdQJywga2V5cy5PUEVOX0JSQUNLRVQsIDEpO1xuXG5cbiAgaWYoaW0ua2V5QWN0aW9uc1trZXlzLlVQXS5pc1ByZXNzZWQoKSl7XG4gICAgdGhpcy5ib3guYXBwbHlJbXB1bHNlRGVncmVlcygnYmFsbCcsIDAsIHNwZWVkKTtcbiAgfVxuXG4gIGlmKGltLmtleUFjdGlvbnNba2V5cy5ET1dOXS5pc1ByZXNzZWQoKSl7XG4gICAgdGhpcy5ib3guYXBwbHlJbXB1bHNlRGVncmVlcygnYmFsbCcsIDE4MCwgc3BlZWQpO1xuICB9XG5cbiAgaWYoaW0ua2V5QWN0aW9ucy5BLmlzUHJlc3NlZCgpKXtcbiAgICB0aGlzLmJveC5hcHBseVRvcnF1ZSgnYmFsbCcsIC1zcGVlZCAqIDEwMCk7XG4gIH1cblxuICBpZihpbS5rZXlBY3Rpb25zLkQuaXNQcmVzc2VkKCkpe1xuICAgIHRoaXMuYm94LmFwcGx5VG9ycXVlKCdiYWxsJywgc3BlZWQgICogMTAwKTtcbiAgfVxuXG4gIC8vIGlmKGltLm1vdXNlQWN0aW9uLmlzUHJlc3NlZCgpKXtcbiAgLy8gICB0aGlzLmJveC5hcHBseUltcHVsc2UoJ2JhbGwnLCByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmVudGl0aWVzLmJhbGwsIHNjYWxlUG9pbnRzKGltLm1vdXNlQWN0aW9uLnBvc2l0aW9uLCAxL3RoaXMuYm94LnNjYWxlKSksIHNwZWVkKTtcbiAgLy8gfVxufVxuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVJbnB1dDsiLCJpbXBvcnQgeyBib3gyZCwgdXRpbHMsIGtleXMgfSBmcm9tICdmcm96ZW5qcyc7XG5cbmltcG9ydCBib3hEYXRhIGZyb20gJy4vYm94RGF0YSc7XG5pbXBvcnQgZHJhdyBmcm9tICcuL2RyYXcnO1xuaW1wb3J0IHVwZGF0ZSBmcm9tICcuL3VwZGF0ZSc7XG5pbXBvcnQgQmFsbCBmcm9tICcuL0JhbGwnO1xuaW1wb3J0IHJhd0JyaWNrcyBmcm9tICcuL2JyaWNrcyc7XG5pbXBvcnQgY29sb3JzIGZyb20gJy4vY29sb3JzJztcbmltcG9ydCBCcmljayBmcm9tICcuL0JyaWNrJztcbmltcG9ydCBGYWNlIGZyb20gJy4vRmFjZSc7XG5pbXBvcnQgaGFuZGxlSW5wdXQgZnJvbSAnLi9oYW5kbGVJbnB1dCc7XG5cbmNvbnN0IHsgQm94R2FtZSwgZW50aXRpZXMsIGpvaW50cyB9ID0gYm94MmQ7XG5jb25zdCB7IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIsIGRpc3RhbmNlIH0gPSB1dGlscztcblxuY29uc29sZS5sb2coJ3VwZGF0ZScsIHVwZGF0ZSk7XG5cbi8vIEZ1bGwgSEQgR2FtZSAhXG5jb25zdCBmdWxsVyA9IDE5MjA7XG5jb25zdCBmdWxsSCA9IDEwODA7XG5jb25zdCBoZXhTaWRlID0gNzgzLjc5NzczODQ0NDEzO1xuY29uc3Qgc2lkZVcgPSA1NjguMTAxMTMwNzc3Njk7XG5jb25zdCBzaW50MSA9IDU0MCAvIGhleFNpZGU7XG5jb25zdCBhbmcxID0gTWF0aC5hc2luKHNpbnQxKTtcbmNvbnN0IHNpbnQyID0gc2lkZVcgLyBoZXhTaWRlO1xuY29uc3QgYW5nMiA9IE1hdGguYXNpbihzaW50MilcbmNvbnNvbGUubG9nKCdhbmdsZSBpbiByYWRpYW5zJywgYW5nMSwgYW5nMik7XG5jb25zdCBjZW50ZXJQb2ludCA9IHt4OiAwLCB5OiAwfTtcblxuXG4vL3NldHVwIGEgR2FtZUNvcmUgaW5zdGFuY2VcbmNvbnN0IGdhbWUgPSBuZXcgQm94R2FtZSh7XG4gIGNhbnZhc0lkOiAnY2FudmFzJyxcbiAgZ2FtZUFyZWFJZDogJ2dhbWVBcmVhJyxcbiAgY2FudmFzUGVyY2VudGFnZTogMSxcbiAgYm94T3B0aW9uczoge3Jlc29sdmVDb2xsaXNpb25zOiB0cnVlLCBncmF2aXR5WTogMH0sXG4gIGRyYXcsXG4gIHVwZGF0ZSxcbiAgbG9hZFJlc291cmNlczogZnVuY3Rpb24ocm0pIHtcbiAgICB0aGlzLmV4cGxvc2lvbnMgPSBbXTtcbiAgICB0aGlzLmV4cGxvc2lvbnMucHVzaChybS5sb2FkU291bmQoJ3NvdW5kcy9leHBsb3Npb241JykpO1xuICAgIHRoaXMuZXhwbG9zaW9ucy5wdXNoKHJtLmxvYWRTb3VuZCgnc291bmRzL2V4cGxvc2lvbjcnKSk7XG4gICAgdGhpcy5leHBsb3Npb25zLnB1c2gocm0ubG9hZFNvdW5kKCdzb3VuZHMvZXhwbG9zaW9uOCcpKTtcbiAgICB0aGlzLnNjcmVhbSA9IHJtLmxvYWRTb3VuZCgnc291bmRzL3NjcmVhbScpO1xuICAgIHRoaXMucGFkZGxlU291bmQgPSBybS5sb2FkU291bmQoJ3NvdW5kcy9wYWRkbGUnKTtcbiAgfSxcbiAgaW5pdElucHV0OiBmdW5jdGlvbihpbSl7XG4gICAgaW0uYWRkQXJyb3dLZXlBY3Rpb25zKCk7XG4gICAgaW0uYWRkS2V5QWN0aW9uKFsnQScsJ0QnLCBcbiAgICAgICdRJywnVycsJ0UnLFxuICAgICAgJ1gnLCdDJywnVicsXG4gICAgICAnQicsJ04nLCdNJyxcbiAgICAgICdUJywnWScsJ1UnLFxuICAgICAgJ08nLCdQJywga2V5cy5PUEVOX0JSQUNLRVQsXG4gICAgICBrZXlzLlNMQVNIXSk7XG4gIH0sXG4gIGhhbmRsZUlucHV0LFxuICBnZXRCcmlja3NMZWZ0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5lbnRpdGllcykucmVkdWNlKChhY2MsIGspID0+IHtcbiAgICAgIGlmKHRoaXMuZW50aXRpZXNba10uYnJpY2spIHtcbiAgICAgICAgICByZXR1cm4gYWNjICsgMTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCAwKTtcbiAgfSxcbiAgZGlzdEZyb21BbmNob3I6IDI5NSxcbiAgYmFsbFNwZWVkOiA0MDAsXG59KTtcblxuY29uc3QgYmFsbFByb3BzID0ge1xuICB4OiBmdWxsVyAvIDIsXG4gIHk6IGZ1bGxIIC8gMixcbiAgcHRSYWRpdXM6IDEwLFxuICByYWRpdXM6IDEwLFxuICBwb2ludHM6IFswLDEsMiwzLDQsNSw2LDcsOF0sXG4gIGlkOiAnYmFsbCcsXG4gIHdhbGxIaXRzOiAwLFxuICBoaWRkZW46IHRydWVcbn07XG5cbmJhbGxQcm9wcy5wb2ludHMgPSBiYWxsUHJvcHMucG9pbnRzLm1hcCgocCwgaWR4KSA9PiB7XG4gIGNvbnN0IG5ld1B0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXJQb2ludCwge3g6IDAsIHk6IGJhbGxQcm9wcy5wdFJhZGl1c30sICgoTWF0aC5QSSAqIDIpIC8gYmFsbFByb3BzLnBvaW50cy5sZW5ndGgpICogaWR4KTtcbiAgcmV0dXJuIG5ld1B0XG59KTtcblxuZ2FtZS5iYWxsID0gbmV3IEJhbGwoYmFsbFByb3BzKTtcbmdhbWUuYWRkQm9keShnYW1lLmJhbGwpO1xuXG4gIC8vYWRkIGV2ZXJ5dGhpbmcgdG8gYm94IGZyb20gdGhlIGJveERhdGFcbmJveERhdGEuZW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wcyl7XG4gIGNvbnN0IEVudGl0eSA9IGVudGl0aWVzW3Byb3BzLnR5cGVdO1xuICBpZihFbnRpdHkpe1xuICAgIHByb3BzLmRyYXdDZW50ZXIgPSBmYWxzZTtcbiAgICBnYW1lLmFkZEJvZHkobmV3IEVudGl0eShwcm9wcykpO1xuICB9XG59KTtcblxuXG5jb25zdCBwY3QgPSAwLjYwNDMxMjIzODk1NDc5MTg1ODM7IFxuXG5jb25zdCBhbmdzID0gW1xuICAwLFxuICBhbmcxLFxuICBhbmcyICsgKE1hdGguUEkvMiksXG4gIE1hdGguUEksXG4gIE1hdGguUEkgKyBhbmcxLFxuICAoTWF0aC5QSSAqIDEuNSkgKyBhbmcyXG5dO1xuXG5sZXQgYyA9IFtcbiAgW2Z1bGxXIC8gMiwgMF0sXG4gIFtmdWxsVyAtIChzaWRlVyAqIHBjdCksIChmdWxsSCAvIDIpICogKDEgLSBwY3QpXSxcbiAgW2Z1bGxXIC0gKHNpZGVXICogcGN0KSwgKGZ1bGxIIC8gMikgKyAoKGZ1bGxIIC8gMikgKiBwY3QpXSxcbiAgW2Z1bGxXIC8gMiwgZnVsbEhdLFxuICBbc2lkZVcgKiBwY3QsIChmdWxsSCAvIDIpICsgKChmdWxsSCAvIDIpICogcGN0KV0sXG4gIFtzaWRlVyAqIHBjdCwgKGZ1bGxIIC8gMikgKiAoMSAtIHBjdCldLFxuXTtcblxuY29uc3QgcGxheWVycyA9IGMubWFwKChjcHQsIGlkeCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHB0OiB7eDogY3B0WzBdLCB5OiBjcHRbMV19LFxuICAgIGNvbG9yOiBjb2xvcnMucmdiKGlkeCksXG4gICAgY29sb3JDb21wbGVtZW50OiBjb2xvcnMuY29tcGxlbWVudChpZHgpLFxuICAgIGFuZ2xlOiBhbmdzW2lkeF0sXG4gICAgZGlyZWN0aW9uOiAwLFxuICAgIHBvc2l0aW9uOiBNYXRoLlBJIC8gMixcbiAgICB1cGRhdGU6IDBcbiAgfVxufSk7XG5cbmNvbnNvbGUubG9nKCdwbGF5ZXJzJywgcGxheWVycyk7XG5cbmNvbnN0IG9yaWdpbiA9IHBsYXllcnNbMF0ucHQ7XG5cbnBsYXllcnMuZm9yRWFjaCgocCwgaWR4KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdjcmVhdGluZyBwbGF5ZXInLCBwKTtcbiAgY29uc3QgcHB0ID0gcC5wdDtcblxuICBjb25zdCBuZXdGYWNlUHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHBwdCwge3g6IHBwdC54LCB5OiBwcHQueSArIDU1fSwgcC5hbmdsZSk7XG4gIGNvbnN0IGNpciA9IG5ldyBGYWNlKHtcbiAgICB4OiBuZXdGYWNlUHQueCxcbiAgICB5OiBuZXdGYWNlUHQueSxcbiAgICByYWRpdXM6IDUwLFxuICAgIHN0YXRpY0JvZHk6IHRydWUsXG4gICAgcmVzdGl0dXRpb246IDIsXG4gICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgIGRlYWRGaWxsU3R5bGU6IGNvbG9ycy5yZ2JhKGlkeCwgMC4yNSksXG4gICAga2luZzogdHJ1ZSxcbiAgICBiYWxsOiBnYW1lLmJhbGwsXG4gICAgcGxheWVySWQ6IGlkeCxcbiAgfSk7XG4gIGdhbWUuYWRkQm9keShjaXIpO1xuICBwLmZhY2UgPSBjaXI7XG5cbiAgY29uc3QgbmV3UGFkZGxlUHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHBwdCwge3g6IHBwdC54LCB5OiBwcHQueSArIGdhbWUuZGlzdEZyb21BbmNob3J9LCBwLmFuZ2xlKTtcbiAgcC5wYWRkbGVPcHMgPSB7XG4gICAgeDogbmV3UGFkZGxlUHQueCxcbiAgICB5OiBuZXdQYWRkbGVQdC55LFxuICAgIGhhbGZXaWR0aDogNTUsXG4gICAgaGFsZkhlaWdodDogMTIsXG4gICAgcmVzdGl0dXRpb246IDEsXG4gICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgIHN0cm9rZVN0eWxlOiBwLmNvbG9yLFxuICAgIHBhZGRsZTogdHJ1ZSxcbiAgICBkcmF3Q2VudGVyOiBmYWxzZSxcbiAgICBwbGF5ZXJJZDogaWR4LFxuICAgIGRlbnNpdHk6IDEwMCxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIGlkOiBpZHggKyAncGFkZGxlMCcsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIGRyYXdMb2NhdGlvbjogZmFsc2UsXG4gIH07XG4gIHAucGFkZGxlT3BzLnBvaW50cyA9IFtcbiAgICB7eDogcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IHAucGFkZGxlT3BzLmhhbGZXaWR0aCwgeTogcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IC1wLnBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IHAucGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgIHt4OiAtcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gIF07XG5cbiAgcC5wYWRkbGVPcHMucG9pbnRzID0gcC5wYWRkbGVPcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgIHJldHVybiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlclBvaW50LCBvcHB0LCBwLmFuZ2xlKTtcbiAgfSk7XG4gIGNvbnN0IHBhZGRsZSA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKHAucGFkZGxlT3BzKTtcbiAgZ2FtZS5hZGRCb2R5KHBhZGRsZSk7XG4gIHAucGFkZGxlcyA9IFtwYWRkbGVdO1xuXG4gIHAuYW5jaG9yID0gbmV3IGVudGl0aWVzLkNpcmNsZSh7XG4gICAgeDogcC5wdC54LFxuICAgIHk6IHAucHQueSxcbiAgICByYWRpdXM6IDAuMSxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIHBsYXllcklkOiBpZHgsXG4gICAgaGlkZGVuOiB0cnVlXG4gIH0pO1xuICBnYW1lLmFkZEJvZHkocC5hbmNob3IpO1xuXG4gIHBhZGRsZS5kaXN0YW5jZSA9IGRpc3RhbmNlKHAuYW5jaG9yLCBwYWRkbGUpO1xuXG4gIGNvbnN0IGNKb2ludCA9IG5ldyBqb2ludHMuRGlzdGFuY2Uoe2JvZHlJZDE6IHAuYW5jaG9yLmlkLCBib2R5SWQyOiBwYWRkbGUuaWQsIGlkOiBNYXRoLnJhbmRvbSgpICsgJ2onfSk7XG4gIGdhbWUuYWRkSm9pbnQoY0pvaW50KTtcblxuICByYXdCcmlja3MuZm9yRWFjaCgocmIsIGpkeCkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IHtcbiAgICAgIHg6IHJiWzBdICsgKGZ1bGxXIC8gMiksXG4gICAgICB5OiByYlsxXSxcbiAgICAgIGhhbGZXaWR0aDogMjUsXG4gICAgICBoYWxmSGVpZ2h0OiAxMi41LFxuICAgICAgc3RhdGljQm9keTogdHJ1ZSxcbiAgICAgIHJlc3RpdHV0aW9uOiAxLjUsXG4gICAgICBwbGF5ZXJJZDogaWR4LFxuICAgICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgICAgYnJpY2s6IHRydWUsXG4gICAgICBwcmVBbmdsZTogcC5hbmdsZSxcbiAgICB9O1xuICBcbiAgICBjb25zdCBwdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIob3JpZ2luLCBvcHMsIHAuYW5nbGUpO1xuICAgIFxuICAgIG9wcy54ID0gcHQueDtcbiAgICBvcHMueSA9IHB0Lnk7XG4gIFxuICBcbiAgICBvcHMueCArPSAocHB0LnggLSBwbGF5ZXJzWzBdLnB0LngpO1xuICAgIG9wcy55ICs9IChwcHQueSAtIHBsYXllcnNbMF0ucHQueSk7XG5cbiAgICBvcHMucG9pbnRzID0gW1xuICAgICAge3g6IG9wcy5oYWxmV2lkdGgsIHk6IC1vcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogb3BzLmhhbGZXaWR0aCwgeTogb3BzLmhhbGZIZWlnaHR9LFxuICAgICAge3g6IC1vcHMuaGFsZldpZHRoLCB5OiBvcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogLW9wcy5oYWxmV2lkdGgsIHk6IC1vcHMuaGFsZkhlaWdodH0sXG4gICAgXTtcblxuICAgIG9wcy5wb2ludHMgPSBvcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyUG9pbnQsIG9wcHQsIHAuYW5nbGUpO1xuICAgIH0pO1xuXG4gICAgb3BzLnByZXggPSBvcHMueDtcbiAgICBvcHMucHJleSA9IG9wcy55O1xuICBcbiAgICBjb25zdCBiID0gbmV3IEJyaWNrKG9wcyk7XG4gICAgZ2FtZS5hZGRCb2R5KGIpO1xuXG4gIH0pO1xuXG59KTtcblxuZ2FtZS5tZWFzdXJlbWVudHMgPSB7ZnVsbFcsIGZ1bGxILCBoZXhTaWRlLCBzaWRlVywgc2ludDEsIGFuZzEsIHNpbnQyLCBhbmcyfTtcbmdhbWUucGxheWVycyA9IHBsYXllcnM7XG5cbi8vaWYgeW91IHdhbnQgdG8gdGFrZSBhIGxvb2sgYXQgdGhlIGdhbWUgb2JqZWN0IGluIGRldiB0b29sc1xuY29uc29sZS5sb2coZ2FtZSk7XG53aW5kb3cuZ2FtZSA9IGdhbWU7XG5cbi8vbGF1bmNoIHRoZSBnYW1lIVxuZ2FtZS5ydW4oKTtcbmdhbWUuYm94LmFwcGx5Rm9yY2VEZWdyZWVzKCdiYWxsJywgTWF0aC5yYW5kb20oKSAqIDM2MCwgZ2FtZS5iYWxsU3BlZWQpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==