!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=48)}([function(t,e){t.exports={CANCEL:3,HELP:6,BACK_SPACE:8,TAB:9,CLEAR:12,RETURN:13,ENTER:14,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINTSCREEN:44,INSERT:45,DELETE:46,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,SEMICOLON:59,EQUALS:61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}},function(t,e){t.exports=function(t={x:0,y:0},e){return t.x===e.x&&t.y===e.y?0:t.x===e.x?t.y>e.y?0:Math.PI:t.y===e.y?t.x>e.x?1.5*Math.PI:Math.PI/2:t.x<e.x&&t.y>e.y?Math.atan((e.x-t.x)/(t.y-e.y)):t.x<e.x&&t.y<e.y?Math.PI/2+Math.atan((e.y-t.y)/(e.x-t.x)):t.x>e.x&&t.y<e.y?Math.PI+Math.atan((t.x-e.x)/(e.y-t.y)):1.5*Math.PI+Math.atan((t.y-e.y)/(t.x-e.x))}},function(t,e){t.exports=function(t={x:0,y:0},e,i){const s=Math.sin(i),n=Math.cos(i),o={};o.x=e.x-t.x,o.y=e.y-t.y;const a=o.x*n-o.y*s,r=o.x*s+o.y*n;return o.x=a+t.x,o.y=r+t.y,o}},function(e,s){const n=[[0,221,0],[221,0,0],[238,0,238],[160,82,45],[0,0,221],[255,165,0]];function o(t){var e,i,s;return hsv=new Object,max=(e=t.r,i=t.g,s=t.b,e>i?e>s?e:s:i>s?i:s),dif=max-function(t,e,i){return t<e?t<i?t:i:e<i?e:i}(t.r,t.g,t.b),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:t.r==max?hsv.hue=60*(t.g-t.b)/dif:t.g==max?hsv.hue=120+60*(t.b-t.r)/dif:t.b==max&&(hsv.hue=240+60*(t.r-t.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}e.exports={colors:n,rgb:function(t){const e=n[t];return console.log("colors",e,t),`rgb(${e[0]},${e[1]},${e[2]})`},rgba:function(t,e){const i=n[t];return`rgba(${i[0]},${i[1]},${i[2]},${e})`},complement:function(e){const s=n[e];console.log("colorsc",s,e);const a=o({r:s[0],g:s[1],b:s[2]});a.hue=function(t,e){for(t+=e;t>=360;)t-=360;for(;t<0;)t+=360;return t}(a.hue,180);const r=function(e){var s=new Object;if(0==e.saturation)s.r=s.g=s.b=Math.round(2.55*e.value);else{switch(e.hue/=60,e.saturation/=100,e.value/=100,i=Math.floor(e.hue),f=e.hue-i,p=e.value*(1-e.saturation),q=e.value*(1-e.saturation*f),t=e.value*(1-e.saturation*(1-f)),i){case 0:s.r=e.value,s.g=t,s.b=p;break;case 1:s.r=q,s.g=e.value,s.b=p;break;case 2:s.r=p,s.g=e.value,s.b=t;break;case 3:s.r=p,s.g=q,s.b=e.value;break;case 4:s.r=t,s.g=p,s.b=e.value;break;default:s.r=e.value,s.g=p,s.b=q}s.r=Math.round(255*s.r),s.g=Math.round(255*s.g),s.b=Math.round(255*s.b)}return s}(a);return`rgb(${r.r},${r.g},${r.b})`}}},function(t,e,i){const s=i(7),n=i(27);t.exports=class extends s{constructor(t={}){super(t),this.radius=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),this.staticBody||(t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.beginPath(),t.moveTo(this.x*e,this.y*e),t.lineTo(this.x*e,this.y*e-this.radius*e),t.closePath(),t.stroke(),t.restore()),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.radius=this.radius*t,super.scaleShape(t)}pointInShape(t){return n(t,this)<=this.radius}}},function(t,e,i){window.frozenjs={GameCore:i(13),InputManager:i(14),ResourceManager:i(18),MouseAction:i(16),TouchAction:i(15),keys:i(0),Animation:i(23),AnimFrame:i(24),utils:i(34),Sprite:i(28),reiner:{Creature:i(38)},sounds:{WebAudio:i(22)},box2d:{entities:i(39),joints:i(42),Box:i(29),BoxGame:i(47)}},t.exports=window.frozenjs},function(t,e){t.exports=function t(e,i){return e=Array.isArray(e)?e.map(function(e){return t(e,i)}):"object"==typeof i?{x:e.x*i.x,y:e.y*i.y}:{x:e.x*i,y:e.y*i}}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.x=0,this.y=0,this.scale=null,this.angle=0,this.center=null,this.drawLocation=!0,this.drawCenter=!0,this.restitution=.3,this.density=1,this.friction=.9,this.linearDamping=0,this.linearVelocity=null,this.angularVelocity=0,this.angularDamping=0,this.staticBody=!1,this.fillStyle="rgba(128,128,128,0.5)",this.strokeStyle="#000",this.lineWidth=1,this.maskBits=null,this.categoryBits=null,this.groupIndex=null,Object.assign(this,t)}update(t){Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,this.drawLocation&&(t.fillStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,4,0,2*Math.PI,!0),t.closePath(),t.fill()),this.center&&this.drawCenter&&(t.fillStyle=this.centerStyle||"yellow",t.beginPath(),t.arc(this.center.x*e,this.center.y*e,2,0,2*Math.PI,!0),t.closePath(),t.fill()),t.lineWidth=i}scaleShape(t){this.x=this.x*t,this.y=this.y*t,this.alreadyScaled=!0}}},function(t,e){const i={NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3};t.exports=class{constructor(t={}){this.name=null,this.behavior=0,this.amount=0,this.state=0,this.statics=i,Object.assign(this,t),this.reset()}reset(){this.state=i.STATE_RELEASED,this.amount=0}tap(){this.press(),this.release()}press(){this.state=i.STATE_PRESSED,this.behavior===i.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)}pressAmt(t){this.state!==i.STATE_WAITING_FOR_RELEASE&&(this.amount+=t,this.state=i.STATE_WAITING_FOR_RELEASE)}release(){this.state=i.STATE_RELEASED}isPressed(){return this.state===i.STATE_PRESSED}getAmount(){var t=this.amount;return 0!==t&&(this.state===i.STATE_RELEASED?this.amount=0:this.behavior===i.DETECT_INITAL_PRESS_ONLY&&(this.state=i.STATE_WAITING_FOR_RELEASE,this.amount=0)),t}}},function(t,e,i){"use strict";t.exports=function(t,e){if(!t||!e)return!1;for(var i=e.points||e,s=!1,n=i.length-1,o=0;o<i.length;n=o++){var a=i[o].x,r=i[o].y,h=i[n].x,l=i[n].y;r>t.y!=l>t.y&&t.x<(h-a)*(t.y-r)/(l-r)+a&&(s=!s)}return s}},function(t,e){t.exports=function t(e,i){return Array.isArray(e)?e=e.map(function(e){return t(e,i)}):(e={x:e.x,y:e.y},null!=i.x&&(e.x+=i.x),null!=i.y&&(e.y+=i.y)),e}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.bodyId1=null,this.bodyId2=null,this.bodyPoint1=null,this.jointAttributes=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint1&&(this.bodyPoint1.x=this.bodyPoint1.x*t,this.bodyPoint1.y=this.bodyPoint1.y*t,this.alreadyScaled=!0)}}},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.points=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var s=1;s<this.points.length;s++)t.lineTo((this.points[s].x+this.x)*e,(this.points[s].y+this.y)*e);t.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e),t.closePath(),t.fill(),t.stroke(),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.points=n(this.points,t),super.scaleShape(t)}pointInShape(t){return o(t,a(this.points,this))}}},function(t,e,i){const s=i(14),n=i(18);t.exports=class{constructor(t={}){this.isRunning=!1,this.canvasId=null,this.maxStep=40,this.contextType="2d",this.height=0,this.width=0,this.resourceManager=null,this.inputManager=null,this.loadingForeground="#00F",this.loadingBackground="#FFF",this.gameAreaId=null,this.canvasPercentage=0,Object.assign(this,t),this.resourceManager||(this.resourceManager=new n)}setHeight(t){this.height=t,this.canvas.height=t}setWidth(t){this.width=t,this.canvas.width=t}stop(){this.isRunning=!1}run(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())}loadResources(t){}init(){this.canvas||(this.canvas=document.getElementById(this.canvasId)),this.canvas?(this.context||(this.context=this.canvas.getContext(this.contextType)),this.context?(this.setHeight(this.height||this.canvas.height),this.setWidth(this.width||this.canvas.width),this.inputManager||(this.gameAreaId&&this.canvasPercentage?this.inputManager=new s({canvas:this.canvas,gameArea:document.getElementById(this.gameAreaId),canvasPercentage:this.canvasPercentage}):this.inputManager=new s({canvas:this.canvas})),this.inputManager.resize(),this.isRunning=!0):alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")):alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")}initInput(t){}handleInput(t,e){}gameLoop(){this.currTime=(new Date).getTime(),this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep),this.prevTime=this.currTime,this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())}launchLoop(){this.elapsedTime=0;var t=Date.now();this.currTime=t,this.prevTime=t,this.loopRunner=this.loopRunner.bind(this),window.requestAnimationFrame(this.loopRunner)}loopRunner(){this.gameLoop(),window.requestAnimationFrame(this.loopRunner)}update(t){}updateLoadingScreen(t){}draw(t){"2d"===this.contextType&&(t.font="14px sans-serif",t.fillText("This game does not have its own draw function!",10,50))}drawLoadingScreen(t){if(this.resourceManager&&"2d"===this.contextType){t.fillStyle=this.loadingBackground,t.fillRect(0,0,this.width,this.height),t.fillStyle=this.loadingForeground,t.strokeStyle=this.loadingForeground;var e=Math.floor(this.height/12);t.font="bold "+e+"px sans-serif",t.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",.1*this.width,.55*this.height),t.strokeRect(.1*this.width,.7*this.height,.8*this.width,.1*this.height),t.fillRect(.1*this.width,.7*this.height,.8*this.width*this.resourceManager.getPercentComplete()/100,.1*this.height),t.lineWidth=4}}}},function(t,e,i){const s=i(31),n=i(8),o=i(15),a=i(16),r=i(17),h=i(0);function l(t,e,i){return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function c(t){return parseFloat(t)||0}function u(t){var e=function(t){return window.getComputedStyle(t,null)||{}}(t),i=c(e.marginLeft),s=c(e.marginTop);return{w:i+c(e.marginRight),h:s+c(e.marginBottom)}}t.exports=class{constructor(t={}){function e(t){t.remove()}if(this.keyActions=null,this.mouseAction=null,this.touchAction=null,this.canvas=null,this.handleMouse=!0,this.handleTouch=!0,this.handleKeys=!0,this.gameArea=null,this.canvasPercentage=null,this.emulateMouse=!0,this.hammer=null,Object.assign(this,t),this.hammer||(this.hammer=new s(document.body,{prevent_default:!0,drag_max_touches:0,hold:!1})),this.keyActions||(this.keyActions={}),this.handleKeys&&(this.pushCleanup(l(document,"keydown",this.keydown.bind(this)),e),this.pushCleanup(l(document,"keyup",this.keyup.bind(this)),e)),"ontouchstart"in document?(this.pushCleanup(l(document,"touchstart",this.touchstart.bind(this)),e),this.pushCleanup(l(document,"touchmove",this.touchmove.bind(this)),e),this.pushCleanup(l(document,"touchend",this.touchend.bind(this)),e)):(this.pushCleanup(l(document,"mousedown",this.mousedown.bind(this)),e),this.pushCleanup(l(document,"mousemove",this.mousemove.bind(this)),e),this.pushCleanup(l(document,"mouseup",this.mouseup.bind(this)),e)),this.mouseAction||(this.mouseAction=new a),this.touchAction||(this.touchAction=new o),this.emulateMouse,this.gameArea&&this.canvasPercentage){var i=this.resize.bind(this);this.pushCleanup(l(window,"resize",i),e),this.pushCleanup(l(window,"orientationchange",i),e)}this.normalizePoint=this.normalizePoint.bind(this),this.insideCanvas=this.insideCanvas.bind(this)}on(t,e){var i=this.hammer,s=this.removeCleanup;i.on(t,e);var n=this.pushCleanup([t,e],function(t){i.off.apply(i,t)});return{remove:function(){s(n),n()}}}insideCanvas(t){return r(t,this.canvas)}mapToKey(t,e){this.keyActions[e]=t}addKeyAction(t,e){Array.isArray(t)||(t=[t]);const i=t.map(t=>{const i=new n;return e&&(i.behavior=i.detectInitialPressOnly),this.mapToKey(i,t),i});return i.length>1?i:i[0]}addArrowKeyActions(){this.addKeyAction(h.UP),this.addKeyAction(h.DOWN),this.addKeyAction(h.LEFT),this.addKeyAction(h.RIGHT)}mouseUp(t){this.mouseup(t)}mouseup(t){this.mouseAction.release(this.normalizePoint(t))}mouseDown(t){this.mousedown(t)}mousedown(t){this.mouseAction.release(null);var e=this.normalizePoint(t);this.mouseAction.insideCanvas=this.insideCanvas(e),this.mouseAction.press(e)}mouseMove(t){this.mousemove(t)}mousemove(t){this.mouseAction.position=this.normalizePoint(t)}touchStart(t){this.touchstart(t)}touchstart(t){this.touchAction.release(null),console.log(t.touches,t);const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.insideCanvas=e.some(this.insideCanvas),this.touchAction.press(e),this.emulateMouse&&this.mousedown(t.touches[0])}touchEnd(t){this.touchend(t)}touchend(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.release(e),this.emulateMouse&&this.mouseUp(t.touches[0])}touchMove(t){this.touchmove(t)}touchmove(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.positions=e,this.touchAction.startPositions&&t.preventDefault(),this.emulateMouse&&this.mousemove(t.touches[0])}getKeyAction(t){return this.keyActions?this.keyActions[t.keyCode]||this.keyActions[String.fromCharCode(t.keyCode)]:null}keyPressed(t){this.keydown(t)}keyDown(t){this.keydown(t)}keydown(t){var e=this.getKeyAction(t);e&&!e.isPressed()&&e.press()}keyReleased(t){this.keyup(t)}keyup(t){var e=this.getKeyAction(t);e&&e.release()}getMouseLoc(t){return this.normalizePoint(t)}normalizePoint(t){if(t){var e=(i=this.canvas,{x:(s=i.getBoundingClientRect()).left,y:s.top});return this.zoomRatio?{x:Math.round((t.clientX-e.x)/this.zoomRatio),y:Math.round((t.clientY-e.y)/this.zoomRatio)}:{x:Math.round(t.clientX-e.x),y:Math.round(t.clientY-e.y)}}var i,s}resize(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var t=this.canvas.width,e=this.canvas.height,i=u(document.body),s=window.innerWidth-i.w,n=window.innerHeight-i.h,o=t/e,a="",r="";s/n>o?(a=(s=n*o)+"px",r=n+"px"):(a=s+"px",r=Math.round(s/o)+"px"),this.zoomRatio=s/t*this.canvasPercentage,this.gameArea.style.width=a,this.gameArea.style.height=r;var h=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.width=h,this.canvas.style.height=h,this.canvas.style.display="block",this.canvas.style.marginLeft="auto",this.canvas.style.marginRight="auto"}}pushCleanup(t,e){}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPositions=null,this.endPositions=null,this.positions=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPositions=t,this.positions=t,super.press(t)}release(t){this.endPositions=t,super.release(t)}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPosition=null,this.endPosition=null,this.position=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPosition=t,this.position=t,super.press(t)}release(t){this.endPosition=t||this.position,super.release(t)}}},function(t,e){t.exports=function(t,e){return!(t.x<0||t.x>e.width||t.y<0||t.y>e.height)}},function(t,e,i){"use strict";const s=i(19),n=i(21),o=i(22);var a={};function r(t,e){var i=e;return t&&(i=[t,e].join("/")),i.replace(/\/{2,}/g,"/")}function h(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(e.width,0),i.scale(-1,1),i.drawImage(t,0,0),e.toDataURL()}function l(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(0,e.height),i.scale(1,-1),i.drawImage(t,0,0),e.toDataURL()}class c{constructor(t){var e=this;e.name=t,e.complete=!1,e.img=new Image,e.img.addEventListener("load",function(){e.complete=!0},!1)}load(){this.img.src=this.name}}t.exports=class{constructor(t={}){this.allLoaded=!1,this.imageDir=null,this.soundDir=null,this.resourceList=a,Object.assign(this,t),this.Sound||(s("WebAudio")?this.Sound=o:this.Sound=n)}loadImage(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.imageDir,t);if(this.resourceList[e])return this.resourceList[e].img;this.allLoaded=!1;const i=new c(e);return i.load(),this.resourceList[e]=i,i.img});return e?i[0]:i}loadSound(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.soundDir,t);if(this.resourceList[e])return this.resourceList[e];this.allLoaded=!1;const i=new this.Sound(e);return this.resourceList[e]=i,i});return e?i[0]:i}flipImage(t,e,i){this.allLoaded=!1;const s=new c(t);this.resourceList[t]=s;const n=new Image;return n.addEventListener("load",function t(){s.img.src=i(n),n.removeEventListener("load",t)}),n.src=e.src,s.img}flipImageX(t,e){return this.flipImage(t,e,h)}flipImageY(t,e){return this.flipImage(t,e,l)}resourcesReady(){if(this.allLoaded)return!0;for(var t in this.resourceList)if(!this.resourceList[t].complete)return!1;return this.allLoaded=!0,!0}getPercentComplete(){var t=0,e=0;for(var i in this.resourceList)e++,this.resourceList[i].complete&&(t+=1);return 0===e?0:Math.round(t/e*100)}}},function(t,e,i){"use strict";(function(e){i(32);t.exports=function t(i){return"shittySound"==i?!(!t("android")&&!t("ios")||!t("webkit")):"android"==i?parseFloat(navigator.userAgent.split("Android ")[1])||void 0:"ios"!=i&&("webkit"==i?parseFloat(navigator.userAgent.split("WebKit/")[1])||void 0:"WebAudio"==i?!!e.AudioContext:"touch"===i&&"ontouchstart"in document.documentElement)}}).call(this,i(20))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){const i={"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"};t.exports=class{constructor(t={}){this.name=null,this.complete=!1,this.probably=[],this.maybe=[],Object.assign(this,t),this.formats=i,"string"==typeof t&&this.load(t)}load(t){this.name=t,this.complete=!0}loop(t){}play(t,e){}_initAudio(t,e){}_chooseFormat(){if(!this.probably.length&&!this.maybe.length){var t,e,i=new Audio;for(t in this.formats)"probably"!==(e=i.canPlayType(t))?"maybe"!==e||this.maybe.push(this.formats[t]):this.probably.push(this.formats[t])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""}_nextFormat(){return this.probably.length>1?(this.probably.shift(),this.probably[0]):1===this.probably.length&&(this.probably.length=0,this.maybe.length)?this.maybe[0]:this.maybe.length>1?(this.maybe.shift(),this.maybe[0]):(1===this.maybe.length&&(this.maybe.length=0),"")}}},function(t,e,i){const s=i(21),n=i(33),o=i(19);var a=null;if(o("WebAudio")&&(a=new window.AudioContext),o("shittySound")){document.addEventListener("touchstart",function t(){const e=a.createBufferSource();e.buffer=a.createBuffer(1,1,22050),e.connect(a.destination),e.start(0),document.removeEventListener("touchstart",t)})}t.exports=class extends s{constructor(t={}){super(t),this.audioContext=a,this.buffer=null,Object.assign(this,t)}load(t){var e=this;this.name=t;var i=n(t);i===t&&(t=i+this._chooseFormat());var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(t){e.audioContext.decodeAudioData(t.target.response,function(t){e.buffer=t,e.complete=!0},function(t){e._nextFormat()?e.load(e.name):e.complete=!0})},s.send()}loop(t){this.buffer&&this._initAudio(t,!0).start(0)}play(t,e){this.buffer&&(e=e||0,this._initAudio(t,!1).start(e))}_initAudio(t,e){e="boolean"==typeof e&&e;var i=this.audioContext.createBufferSource();if(i.buffer=this.buffer,i.loop=e,t){var s=this.audioContext.createGain();s.gain.value=t,i.connect(s),s.connect(this.audioContext.destination)}else i.connect(this.audioContext.destination);return i}}},function(t,e,i){const s=i(24);class n{constructor(t={}){this.currFrameIndex=0,this.animTime=0,this.totalDuration=0,this.height=64,this.width=64,this.image=null,this.offsetX=0,this.offsetY=0,this.frames=void 0,Object.assign(this,t),this.start()}createFromSheet(t,e,i,s,o,a){var r=new n({image:i,height:o,width:s}),h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<t;c++)l=h?e[c]:e,r.addFrame(l,c,a);return r}clone(){return new n({image:this.image,frames:this.frames,totalDuration:this.totalDuration})}addFrame(t,e,i){this.frames||(this.frames=[]),this.totalDuration+=t,this.frames.push(new s({endTime:this.totalDuration,image:this.image,imgSlotX:e,imgSlotY:i}))}start(){this.animTime=0,this.currFrameIndex=0}update(t){if(this.frames.length>1)for(this.animTime+=t,this.animTime>=this.totalDuration&&(this.animTime=this.animTime%this.totalDuration,this.currFrameIndex=0);this.animTime>this.frames[this.currFrameIndex].endTime;)this.currFrameIndex++}getCurrentFrame(){return 0===this.frames.length?null:this.frames[this.currFrameIndex]}draw(t,e,i){var s=this.getCurrentFrame();t.drawImage(this.image,s.imgSlotX*this.width+this.offsetX,s.imgSlotY*this.height+this.offsetY,this.width,this.height,e,i,this.width,this.height)}}t.exports=n},function(t,e){t.exports=class{constructor(t={}){this.endTime=0,this.imgSlotX=0,this.imgSlotY=0,this.image=null,Object.assign(this,t)}}},function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e){const i=180/Math.PI;t.exports=function(t){return t*i}},function(t,e){t.exports=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}},function(t,e){class i{constructor(t={}){this.x=0,this.y=0,this.dx=0,this.dy=0,this.maxSpeed=0,this.name=null,this.collisionRadius=40,Object.assign(this,t)}update(t){this.x+=this.dx*t,this.y+=this.dy*t,this.anim.update(t)}limitSpeed(t){return this.maxSpeed&&Math.abs(t)>this.maxSpeed?t>0?this.maxSpeed:t<0?this.maxSpeed:0:t}getCurrentFrame(){if(this.anim)return this.anim.getCurrentFrame()}draw(t){this.anim&&this.anim.draw(t,this.x,this.y)}clone(){return new i({anim:this.anim.clone()})}}t.exports=i},function(t,e,i){(function(e){const s=i(46);console.log(Box2D,"Box2D",e,window);const n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.b2BodyDef,a=Box2D.Dynamics.b2Body,r=Box2D.Dynamics.b2FixtureDef,h=(Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2World),l=Box2D.Collision.Shapes.b2PolygonShape,c=Box2D.Collision.Shapes.b2CircleShape;t.exports=class{constructor(t={}){this.intervalRate=60,this.adaptive=!1,this.bodiesMap=null,this.fixturesMap=null,this.jointsMap=null,this.b2World=null,this.gravityX=0,this.gravityY=9.8,this.allowSleep=!0,this.resolveCollisions=!1,this.contactListener=null,this.collisions=null,this.scale=30,this.bodiesMap={},this.fixturesMap={},this.jointsMap={},Object.assign(this,t),this.b2World=new h(new n(this.gravityX,this.gravityY),this.allowSleep),this.intervalRate&&(this.intervalRate=parseInt(this.intervalRate,10)),this.resolveCollisions&&(this.contactListener=new s),this.contactListener&&this.addContactListener(this.contactListener)}update(t){this.contactListener&&this.contactListener.reset&&this.contactListener.reset();var e=Date.now();if(t)this.b2World.Step(t/1e3,10,10),this.b2World.ClearForces();else{var i=this.adaptive?(e-this.lastTimestamp)/1e3:1/this.intervalRate;this.b2World.Step(i,10,10),this.b2World.ClearForces()}return Date.now()-e}getState(){for(var t={},e=this.b2World.GetBodyList();e;e=e.m_next)e.IsActive()&&void 0!==e.GetUserData()&&null!==e.GetUserData()&&(t[e.GetUserData()]={x:e.GetPosition().x,y:e.GetPosition().y,angle:e.GetAngle(),center:{x:e.GetWorldCenter().x,y:e.GetWorldCenter().y},linearVelocity:e.m_linearVelocity,angularVelocity:e.m_angularVelocity},this.contactListener&&this.contactListener.collisions&&(t[e.GetUserData()].collisions=this.contactListener.collisions[e.GetUserData()]||null));return t}updateExternalState(t){var e=this.getState();for(var i in e){var s=t[i];s&&!s.staticBody&&s.update(e[i])}}setBodies(t){for(var e in t){var i=t[e];this.addBody(i)}this.ready=!0}addBody(t){t.alreadyScaled||(t.scaleShape(1/this.scale),t.scale=this.scale);var e,i,s,h,u,d=new o,p=new r;p.restitution=t.restitution,p.density=t.density,p.friction=t.friction,null!=t.maskBits&&(p.filter.maskBits=t.maskBits),null!=t.categoryBits&&(p.filter.categoryBits=t.categoryBits),null!=t.groupIndex&&(p.filter.groupIndex=t.groupIndex),t.staticBody?d.type=a.b2_staticBody:d.type=a.b2_dynamicBody,d.position.x=t.x,d.position.y=t.y,d.userData=t.id,d.angle=t.angle,d.linearDamping=t.linearDamping,d.angularDamping=t.angularDamping;var y=this.b2World.CreateBody(d);if(t.radius)p.shape=new c(t.radius),y.CreateFixture(p);else if(t.points){for(s=[],e=0;e<t.points.length;e++)(h=new n).Set(t.points[e].x,t.points[e].y),s[e]=h;p.shape=new l,p.shape.SetAsArray(s,s.length),y.CreateFixture(p)}else if(t.polys)for(i=0;i<t.polys.length;i++){for(s=t.polys[i],u=[],e=0;e<s.length;e++)(h=new n).Set(s[e].x,s[e].y),u[e]=h;p.shape=new l,p.shape.SetAsArray(u,u.length),y.CreateFixture(p)}else p.shape=new l,p.shape.SetAsBox(t.halfWidth,t.halfHeight),y.CreateFixture(p);this.bodiesMap[t.id]=y}setPosition(t,e,i){this.bodiesMap[t].SetPosition(new n(e,i))}setAngle(t,e){var i=this.bodiesMap[t];console.log("set angle",i.setAngle,i),i.setAngle(e)}setLinearVelocity(t,e,i){this.bodiesMap[t].SetLinearVelocity(new n(e,i))}setAngularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyImpulseDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyForceDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyImpulse(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}applyForce(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}setAngle(t,e){this.bodiesMap[t].SetAngle(e)}setAnglularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyTorque(t,e){this.bodiesMap[t].ApplyTorque(e)}setGravity(t){this.b2World.SetGravity(new n(t.x,t.y))}removeBody(t){this.bodiesMap[t]&&(this.fixturesMap[t]&&this.bodiesMap[t].DestroyFixture(this.fixturesMap[t]),this.b2World.DestroyBody(this.bodiesMap[t]),delete this.bodiesMap[t])}wakeUpBody(t){this.bodiesMap[t]&&this.bodiesMap[t].SetAwake(!0)}addContactListener(t){var e=new Box2D.Dynamics.b2ContactListener;t.beginContact&&(e.BeginContact=function(e){t.beginContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.endContact&&(e.EndContact=function(e){t.endContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.preSolve&&(e.PreSolve=function(e,i){t.preSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),t.postSolve&&(e.PostSolve=function(e,i){t.postSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),this.b2World.SetContactListener(e)}removeJoint(t){this.jointsMap[t]&&(this.b2World.DestroyJoint(this.jointsMap[t]),delete this.jointsMap[t])}addJoint(t){if(t&&t.id&&!this.jointsMap[t.id]){!t.alreadyScaled&&t.scaleJointLocation&&(t.scaleJointLocation(1/this.scale),t.scale=this.scale);var e=t.createB2Joint(this);e&&(this.jointsMap[t.id]=e)}}}}).call(this,i(20))},function(t,e){t.exports={entities:[{points:[{x:-100,y:-100},{x:568.10113,y:-100},{x:568.10113,y:0},{x:0,y:540},{x:-100,y:540}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",id:"uleftw",hidden:!0,wall:!0,restitution:1},{points:[{x:-100,y:540},{x:0,y:540},{x:568.10113,y:1080},{x:568.10113,y:1180},{x:-100,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,hidden:!0,wall:!0,id:"lleftw"},{points:[{x:1351.89887,y:-100},{x:2020,y:-100},{x:2020,y:540},{x:1920,y:540},{x:1351.89887,y:0}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"urighttw",hidden:!0,wall:!0},{points:[{x:1351.89887,y:1080},{x:1920,y:540},{x:2020,y:540},{x:2020,y:1180},{x:1351.89887,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"lrighttw",hidden:!0,wall:!0},{x:960,y:1180,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"bottomw",restitution:1,hidden:!0,wall:!0},{x:960,y:-100,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"topw",restitution:1,hidden:!0,wall:!0}],joints:[],canvas:{height:600,width:800},backImg:null}},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(n,o,a,r){"use strict";var h,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),u="function",d=Math.round,p=Math.abs,y=Date.now;function f(t,e,i){return setTimeout(A(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function v(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=n.console&&(n.console.warn||n.console.log);return o&&o.call(n.console,s,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==r&&null!==s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign;var x=v(function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&t[s[n]]===r)&&(t[s[n]]=e[s[n]]),n++;return t},"extend","Use `assign`."),b=v(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function T(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&h(s,i)}function A(t,e){return function(){return t.apply(e,arguments)}}function P(t,e){return typeof t==u?t.apply(e&&e[0]||r,e):t}function S(t,e){return t===r?e:t}function w(t,e,i){g(C(e),function(e){t.addEventListener(e,i,!1)})}function M(t,e,i){g(C(e),function(e){t.removeEventListener(e,i,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function D(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function W(t){return Array.prototype.slice.call(t,0)}function _(t,e,i){for(var s=[],n=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];D(n,a)<0&&s.push(t[o]),n[o]=a,o++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s}function k(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((s=(i=l[o])?i+n:e)in t)return s;o++}return r}var O=1;function L(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var R="ontouchstart"in n,B=k(n,"PointerEvent")!==r,F=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=25,j=1,H=2,U=4,z=8,G=1,Y=2,X=4,V=8,J=16,K=Y|X,q=V|J,$=K|q,Q=["x","y"],Z=["clientX","clientY"];function tt(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){P(t.options.enable,[t])&&i.handler(e)},this.init()}function et(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&j&&s-n==0,a=e&(U|z)&&s-n==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=it(e));n>1&&!i.firstMultiple?i.firstMultiple=it(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,h=a?a.center:o.center,l=e.center=st(s);e.timeStamp=y(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(h,l),e.distance=at(h,l),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};e.eventType!==j&&o.eventType!==U||(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=a?(u=a.pointers,d=s,at(d[0],d[1],Z)/at(u[0],u[1],Z)):1,e.rotation=a?function(t,e){return rt(e[1],e[0],Z)+rt(t[1],t[0],Z)}(a.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=z&&(h>N||a.velocity===r)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,u=nt(h,l,c);s=u.x,n=u.y,i=p(u.x)>p(u.y)?u.x:u.y,o=ot(l,c),t.lastInterval=e}else i=a.velocity,s=a.velocityX,n=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=o}(i,e);var u,d;var f=t.element;E(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function it(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:y(),pointers:e,center:st(e),deltaX:t.deltaX,deltaY:t.deltaY}}function st(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:d(i/e),y:d(s/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?Y:X:e<0?V:J}function at(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function rt(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(L(this.element),this.evWin,this.domHandler)}};var ht={mousedown:j,mousemove:H,mouseup:U},lt="mousedown",ct="mousemove mouseup";function ut(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}T(ut,tt,{handler:function(t){var e=ht[t.type];e&j&&0===t.button&&(this.pressed=!0),e&H&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:j,pointermove:H,pointerup:U,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},yt="pointerdown",ft="pointermove pointerup pointercancel";function mt(){this.evEl=yt,this.evWin=ft,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(yt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),T(mt,tt,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=dt[s],o=pt[t.pointerType]||t.pointerType,a="touch"==o,r=D(e,t.pointerId,"pointerId");n&j&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):n&(U|z)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var gt={touchstart:j,touchmove:H,touchend:U,touchcancel:z},vt="touchstart",xt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}T(bt,tt,{handler:function(t){var e=gt[t.type];if(e===j&&(this.started=!0),this.started){var i=function(t,e){var i=W(t.touches),s=W(t.changedTouches);e&(U|z)&&(i=_(i.concat(s),"identifier",!0));return[i,s]}.call(this,t,e);e&(U|z)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Tt={touchstart:j,touchmove:H,touchend:U,touchcancel:z},At="touchstart touchmove touchend touchcancel";function Pt(){this.evTarget=At,this.targetIds={},tt.apply(this,arguments)}T(Pt,tt,{handler:function(t){var e=Tt[t.type],i=function(t,e){var i=W(t.touches),s=this.targetIds;if(e&(j|H)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,a=W(t.changedTouches),r=[],h=this.target;if(o=i.filter(function(t){return E(t.target,h)}),e===j)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;n=0;for(;n<a.length;)s[a[n].identifier]&&r.push(a[n]),e&(U|z)&&delete s[a[n].identifier],n++;if(!r.length)return;return[_(o.concat(r),"identifier",!0),r]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var St=2500,wt=25;function Mt(){tt.apply(this,arguments);var t=A(this.handler,this);this.touch=new Pt(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout(function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)},St)}}T(Mt,tt,{handler:function(t,e,i){var s="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)(function(t,e){t&j?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|z)&&Et.call(this,e)}).call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],o=Math.abs(e-n.x),a=Math.abs(i-n.y);if(o<=wt&&a<=wt)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=k(c.style,"touchAction"),Ct=It!==r,Dt="auto",Wt="manipulation",_t="none",kt="pan-x",Ot="pan-y",Lt=function(){if(!Ct)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)}),t}();function Rt(t,e){this.manager=t,this.set(e)}Rt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&this.manager.element.style&&Lt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){P(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(I(t,_t))return _t;var e=I(t,kt),i=I(t,Ot);if(e&&i)return _t;if(e||i)return e?kt:Ot;if(I(t,Wt))return Wt;return Dt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=I(s,_t)&&!Lt[_t],o=I(s,Ot)&&!Lt[Ot],a=I(s,kt)&&!Lt[kt];if(n){var r=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(r&&h&&l)return}if(!a||!o)return n||o&&i&K||a&&i&q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Bt=1,Ft=2,Nt=4,jt=8,Ht=jt,Ut=16;function zt(t){this.options=h({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Bt,this.simultaneous={},this.requireFail=[]}function Gt(t){return t&Ut?"cancel":t&jt?"end":t&Nt?"move":t&Ft?"start":""}function Yt(t){return t==J?"down":t==V?"up":t==Y?"left":t==X?"right":""}function Xt(t,e){var i=e.manager;return i?i.get(t):t}function Vt(){zt.apply(this,arguments)}function Jt(){Vt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Vt.apply(this,arguments)}function qt(){zt.apply(this,arguments),this._timer=null,this._input=null}function $t(){Vt.apply(this,arguments)}function Qt(){Vt.apply(this,arguments)}function Zt(){zt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=S(e.recognizers,te.defaults.preset),new ee(t,e)}zt.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===D(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=D(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<jt&&s(e.options.event+Gt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=jt&&s(e.options.event+Gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Bt)))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!P(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ht|Ut|32)&&(this.state=Bt),this.state=this.process(e),this.state&(Ft|Nt|jt|Ut)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},T(Vt,zt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Ft|Nt),n=this.attrTest(t);return s&&(i&z||!n)?e|Ut:s||n?i&U?e|jt:e&Ft?e|Nt:Ft:32}}),T(Jt,Vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Ot),t&q&&e.push(kt),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&K?(n=0===o?G:o<0?Y:X,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===a?G:a<0?V:J,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return Vt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(Kt,Vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),T(qt,zt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(U|z)&&!n)this.reset();else if(t.eventType&j)this.reset(),this._timer=f(function(){this.state=Ht,this.tryEmit()},e.time,this);else if(t.eventType&U)return Ht;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ht&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}}),T($t,Vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),T(Qt,Vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|q,pointers:1},getTouchAction:function(){return Jt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(K|q)?e=t.overallVelocity:i&K?e=t.overallVelocityX:i&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T(Zt,zt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&j&&0===this.count)return this.failTimeout();if(s&&n&&i){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Ht,this.tryEmit()},e.interval,this),Ft):Ht}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$t,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Qt,{direction:K}],[Jt,{direction:K},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var i;this.options=h({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(B?mt:F?Pt:R?Mt:ut))(i,et),this.touchAction=new Rt(this,this.options.touchAction),ie(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ie(t,e){var i,s=t.element;s.style&&(g(t.options.cssProps,function(n,o){i=k(s.style,o),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Ht)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Ft|Nt|jt)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof zt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=D(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return g(C(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return g(C(t),function(t){e?i[t]&&i[t].splice(D(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(te,{INPUT_START:j,INPUT_MOVE:H,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:Bt,STATE_BEGAN:Ft,STATE_CHANGED:Nt,STATE_ENDED:jt,STATE_RECOGNIZED:Ht,STATE_CANCELLED:Ut,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:X,DIRECTION_UP:V,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:q,DIRECTION_ALL:$,Manager:ee,Input:tt,TouchAction:Rt,TouchInput:Pt,MouseInput:ut,PointerEventInput:mt,TouchMouseInput:Mt,SingleTouchInput:bt,Recognizer:zt,AttrRecognizer:Vt,Tap:Zt,Pan:Jt,Swipe:Qt,Pinch:Kt,Rotate:$t,Press:qt,on:w,off:M,each:g,merge:b,extend:x,assign:h,inherit:T,bindFn:A,prefixed:k}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=te,(s=function(){return te}.call(e,i,e,t))===r||(t.exports=s)}(window,document)},function(t,e,i){"use strict";for(var s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.AudioContext;++n)window.AudioContext=window[s[n]+"AudioContext"];t.exports=window.AudioContext},function(t,e,i){"use strict";t.exports=function(t){return t.replace(/(.*)\.[^.]{1,4}$/,"")}},function(t,e,i){const s=i(35),n=i(25),o=i(26),a=i(9),r=i(27),h=i(36),l=i(1),c=i(6),u=i(10),d=i(17),p=i(37),y={averagePoints:s,degreesToRadians:n,radiansToDegrees:o,pointInPolygon:a,distance:r,degreesFromCenter:h,radiansFromCenter:l,scalePoints:c,translatePoints:u,insideCanvas:d,rotateRadiansAroundCenter:i(2),rotateDegreesAroundCenter:p};t.exports=y},function(t,e){t.exports=function(t){var e={x:0,y:0};return t.forEach(t,function(t){e.x+=t.x,e.y+=t.y}),e.x=e.x/t.length,e.y=e.y/t.length,e}},function(t,e,i){const s=i(26),n=i(1);t.exports=function(t,e){return s(n(t,e))}},function(t,e,i){const s=i(2),n=i(25);t.exports=function(t,e,i){return s(t,e,n(i))}},function(t,e,i){const s=i(28),n=i(23),o=0,a=2;t.exports=class extends s{constructor(t={}){super(t),this.state=a,this.walkingAnims=[],this.dyingAnims=[],this.idleAnims=[],this.direction=o,Object.assign(this,t)}updateDirection(t){this.x+=this.dx*t,this.y+=this.dy*t,this.state!==this.statics.STATE_DYING&&(this.dx>0&&0===this.dy?this.direction=this.statics.EAST:0===this.dx&&this.dy<0?this.direction=this.statics.NORTH:this.dx>0&&this.dy<0?this.direction=this.statics.NORTHEAST:this.dx<0&&this.dy<0?this.direction=this.statics.NORTHWEST:0===this.dx&&this.dy>0?this.direction=this.statics.SOUTH:this.dx>0&&this.dy>0?this.direction=this.statics.SOUTHEAST:this.dx<0&&this.dy>0?this.direction=this.statics.SOUTHWEST:this.dx<0&&0===this.dy&&(this.direction=this.statics.WEST),0===this.dx&&0===this.dy?this.state=this.statics.STATE_IDLE:this.state=this.statics.STATE_WALKING)}updateAnimations(t){this.state===this.statics.STATE_WALKING?this.anim=this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?this.anim=this.dyingAnims[this.direction]:this.anim=this.idleAnims[this.direction],this.anim.update(t)}createAnimations(t,e,i,s,o,a){var r=[],h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<8;c++){r[c]=new n({height:s,width:o,image:i});for(var u=0;u<t;u++)l=h?e[u]:e,r[c].addFrame(l,u+t*c,a)}return r}}},function(t,e,i){"use strict";var s={Circle:i(4),MultiPolygon:i(40),Polygon:i(12),Rectangle:i(41)};t.exports=s},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.polys=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle;for(var s=0;s<this.polys.length;s++){t.beginPath(),t.moveTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e);for(var n=1;n<this.polys[s].length;n++)t.lineTo((this.polys[s][n].x+this.x)*e,(this.polys[s][n].y+this.y)*e);t.lineTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e),t.closePath(),t.fill(),t.stroke()}t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.polys=n(this.polys,t),sup.scaleShape(t)}pointInShape(t){for(var e=0;e<this.polys.length;e++)if(o(t,a(this.polys[e],this)))return!0;return!1}}},function(t,e,i){const s=i(7);t.exports=class extends s{constructor(t={}){super(t),this.halfWidth=1,this.halfHeight=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.fillRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.strokeRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.halfHeight=this.halfHeight*t,this.halfWidth=this.halfWidth*t,super.scaleShape(t)}pointInShape(t){return t.x>=this.x-this.halfWidth&&t.x<=this.x+this.halfWidth&&t.y>=this.y-this.halfHeight&&t.y<=this.y+this.halfHeight}}},function(t,e,i){"use strict";var s={Distance:i(43),Prismatic:i(44),Revolute:i(45)};t.exports=s},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2DistanceJointDef;t.exports=class extends s{constructor(t={}){super(t),this.bodyPoint2=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint2&&(this.bodyPoint2.x=this.bodyPoint2.x*t,this.bodyPoint2.y=this.bodyPoint2.y*t,this.alreadyScaled=!0),super.scaleJointLocation(t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){let s,a;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),this.bodyPoint2&&(a=new n(this.bodyPoint2.x,this.bodyPoint2.y)),s=s||e.GetWorldCenter(),a=a||i.GetWorldCenter();const r=new o;return r.Initialize(e,i,s,a),this.jointAttributes&&Object.assign(r,this.jointAttributes),t.b2World.CreateJoint(r)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2PrismaticJointDef;t.exports=class extends s{constructor(t={}){super(t),this.axisScale=null,Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const s=t.bodiesMap[this.bodyId1],a=t.bodiesMap[this.bodyId2];if(s&&a){let r;this.bodyPoint1&&(r=new n(this.bodyPoint1.x,this.bodyPoint1.y)),r=r||s.GetWorldCenter();var e,i=new o;return e=this.axisScale?new n(this.axisScale.x,this.axisScale.y):new n(1,0),i.Initialize(s,a,r,e),this.jointAttributes&&Object.assign(i,this.jointAttributes),t.b2World.CreateJoint(i)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2RevoluteJointDef;t.exports=class extends s{constructor(t={}){super(t),Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){var e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){var s;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),s=s||e.GetWorldCenter();var a=new o;return a.Initialize(e,i,s,void 0),this.jointAttributes&&Object.assign(a,this.jointAttributes),t.b2World.CreateJoint(a)}}}}},function(t,e){t.exports=class{constructor(t={}){Object.assign(this,t),this.collisions=this.collisions||{}}reset(){this.collisions={}}postSolve(t,e,i,s){this.collisions[t]=this.collisions[t]||[],this.collisions[t].push({id:e,impulse:i.normalImpulses[0]}),this.collisions[e]=this.collisions[e]||[],this.collisions[e].push({id:t,impulse:i.normalImpulses[0]})}}},function(t,e,i){const s=i(13),n=i(29);t.exports=class extends s{constructor(t={}){super(t),console.log("boxgame options",t),this.box=null,this.boxUpdating=!0,this.entities=null,this.joints=null,Object.assign(this,t),this.box||(this.box=new n(t.boxOptions)),this.entities||(this.entities={}),this.joints||(this.joints={})}updateBox(t){this.boxUpdating&&(this.box.update(t),this.box.updateExternalState(this.entities))}addBody(t){this.entities[t.id]=t,this.box.addBody(t)}addBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addBody(t)})}removeBody(t){this.box.removeBody(t.id),delete this.entities[t.id]}removeBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeBody(t)})}addJoint(t){this.joints[t.id]=t,this.box.addJoint(t)}addJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addJoint(t)})}removeJoint(t){this.box.removeJoint(t.id),delete this.joints[t.id]}removeJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeJoint(t)})}}},function(t,e,i){"use strict";i.r(e);var s=i(5),n=i(30),o=i.n(n);var a=function(t,e){const{fullW:i,fullH:s,hexSide:n,sideW:o,sint1:a,ang1:r,sint2:h,ang2:l}=this.measurements;t.clearRect(0,0,this.width,this.height),t.strokeStyle=this.players[0].color,t.beginPath(),t.moveTo(o,1),t.lineTo(i-o,1),t.stroke(),t.strokeStyle=this.players[3].color,t.beginPath(),t.moveTo(o,s),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[1].color,t.beginPath(),t.moveTo(i-o,0),t.lineTo(i,s/2),t.stroke(),t.strokeStyle=this.players[2].color,t.beginPath(),t.moveTo(i,s/2),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[4].color,t.beginPath(),t.moveTo(o,s),t.lineTo(0,s/2),t.stroke(),t.strokeStyle=this.players[5].color,t.beginPath(),t.moveTo(0,s/2),t.lineTo(o,0),t.stroke(),this.players.forEach(i=>{i.face.dead||i.paddles[0].draw(t,e),i.face.draw(t,e)}),Object.keys(this.entities).forEach(e=>{this.entities[e].hidden||this.entities[e].draw(t)}),this.ball.draw(t,e)},r=i(4),h=i.n(r),l=i(1),c=i.n(l),u=i(2),d=i.n(u);const p={x:0,y:0};console.log("wtf too many bricks?");let y=[[6,1],[10,1],[14,1],[34,1],[38,1],[42,1],[8,3],[12,3],[16,3],[32,3],[36,3],[40,3],[6,5],[10,5],[14,5],[34,5],[38,5],[42,5],[8,7],[12,7],[16,7],[32,7],[36,7],[40,7],[10,9],[14,9],[18,9],[30,9],[34,9],[38,9],[12,11],[16,11],[20,11],[24,11],[28,11],[32,11],[36,11],[14,13],[18,13],[22,13],[26,13],[30,13],[34,13],[12,15],[16,15],[20,15],[24,15],[28,15],[32,15],[36,15],[18,17],[22,17],[26,17],[30,17],[24,19]];var f=y=y.map(t=>((t=[12.5*t[0],12.5*t[1]])[0]=t[0]-300,t)),m=i(3),g=i.n(m),v=i(12),x=i.n(v);class b extends x.a{draw(t,e){const i=t.lineWidth;t.save(),t.lineWidth=1,t.lineJoin="round",t.fillStyle=this.fillStyle;const s=t.createLinearGradient(0,this.prey,0,this.prey+2*this.halfHeight);s.addColorStop(0,t.fillStyle),s.addColorStop(1,"#444"),t.translate(this.prex,this.prey),t.rotate(this.preAngle),t.translate(-this.prex,-this.prey),t.fillStyle=s,t.strokeStyle=this.strokeStyle,t.fillRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.strokeRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.restore(),t.lineWidth=i}}class T extends h.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=t.lineWidth;t.lineWidth=2,t.fillStyle=this.dead?this.deadFillStyle:this.fillStyle,t.strokeStyle=this.dead?this.fillStyle:this.strokeStyle,t.beginPath(),t.arc(i,s,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const o={x:i-17,y:s-15},a={x:i+17,y:s-15};if(this.dead)t.lineWidth=2,t.strokeStyle=this.fillStyle,t.beginPath(),t.moveTo(o.x-10,o.y-10),t.lineTo(o.x+10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(o.x+10,o.y-10),t.lineTo(o.x-10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x-10,a.y-10),t.lineTo(a.x+10,a.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x+10,a.y-10),t.lineTo(a.x-10,a.y+10),t.stroke();else{t.lineWidth=1,t.fillStyle="#FFF",t.beginPath(),t.arc(i-17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.beginPath(),t.arc(i+17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const n=c()(o,{x:this.ball.x*e,y:this.ball.y*e}),r=c()(a,{x:this.ball.x*e,y:this.ball.y*e}),h=d()(o,{x:i-17,y:s-20},n),l=d()(a,{x:i+17,y:s-20},r);t.fillStyle="black",t.beginPath(),t.arc(h.x,h.y,6,0,2*Math.PI,!0),t.closePath(),t.fill(),t.beginPath(),t.arc(l.x,l.y,6,0,2*Math.PI,!0),t.closePath(),t.fill()}t.lineWidth=n}}var A=i(0),P=i.n(A);i(6);const S=10;function w(t,e,i,s,n){let o=t.inputManager.keyActions[i].isPressed();if(t.inputManager.keyActions[e].isPressed()?t.players[n].firePressed=!0:t.players[n].firePressed=!1,o||t.inputManager.keyActions[s].isPressed())return t.players[n].direction=o?-1:1;t.players[n].direction=0}var M=function(t){w(this,P.a.SLASH,P.a.LEFT,P.a.RIGHT,2),w(this,"Q","W","E",5),w(this,"X","C","V",4),w(this,"B","N","M",3),w(this,"T","Y","U",0),w(this,"O","P",P.a.OPEN_BRACKET,1),t.keyActions[P.a.UP].isPressed()&&this.box.applyImpulseDegrees("ball",0,S),t.keyActions[P.a.DOWN].isPressed()&&this.box.applyImpulseDegrees("ball",180,S),t.keyActions.A.isPressed()&&this.box.applyTorque("ball",100*-S),t.keyActions.D.isPressed()&&this.box.applyTorque("ball",100*S)};const{BoxGame:E,entities:I,joints:C}=s.box2d,{radiansFromCenter:D,scalePoints:W,rotateRadiansAroundCenter:_,distance:k,radiansToDegrees:O}=s.utils,L=2*Math.PI/360*1.75;const R=568.10113077769,B=Math.asin(.6889532509648748),F=Math.asin(.7248057794927981);console.log("angle in radians",B,F);const N={x:0,y:0},j=new E({canvasId:"canvas",gameAreaId:"gameArea",canvasPercentage:1,boxOptions:{resolveCollisions:!0,gravityY:0},draw:a,loadResources:function(t){this.explosions=[],this.explosions.push(t.loadSound("sounds/explosion5")),this.explosions.push(t.loadSound("sounds/explosion7")),this.explosions.push(t.loadSound("sounds/explosion8")),this.scream=t.loadSound("sounds/scream")},initInput:function(t){t.addArrowKeyActions(),t.addKeyAction(["A","D","Q","W","E","X","C","V","B","N","M","T","Y","U","O","P",s.keys.OPEN_BRACKET,s.keys.SLASH])},handleInput:M,getBricksLeft:function(){return Object.keys(this.entities).reduce((t,e)=>this.entities[e].brick?t+1:t,0)},update:function(t){if(this.updateBox(t),Object.keys(this.entities).forEach(e=>{const i=this.entities[e];i.brickPiece&&(i.life=i.life-t,i.life<0?this.removeBody(i):i.fillStyle=g.a.rgba(i.playerId,i.life/2500*.6))}),this.ball&&this.ball.collisions&&this.ball.collisions.length){if(this.ball.collisions.forEach(t=>{const e=this.entities[t.id];if(e){if(e.brick){this.removeBody(t),console.log("brick kill",e);const i={x:30*e.x,y:30*e.y,brickPiece:!0,life:2500,staticBody:!1,density:.001,playerId:e.playerId,fillStyle:g.a.rgb(e.playerId),drawCenter:!1,drawLocation:!1};[0,1,2,3,4,5].forEach(t=>{const s={halfHeight:e.halfHeight/(2*Math.random()+2.5),halfWidth:e.halfWidth/(2*Math.random()+2.5)},n=new I.Rectangle(Object.assign({},i,s));this.addBody(n),this.box.setAngle(n.id,Math.random()*(2*Math.PI)),this.box.applyImpulse(n.id,Math.random()*(2*Math.PI),30)}),this.explosions[Math.floor(Math.random()*this.explosions.length)].play()}else if(e.king)console.log("king kill",e),this.scream.play(),e.dead=!0,Object.keys(this.entities).forEach(t=>{const i=this.entities[t];i.brick&&i.playerId===e.playerId&&this.removeBody(i)}),this.players[e.playerId].paddles.forEach(t=>{this.removeBody(t)}),this.removeBody(e);else if(e.paddle){const t=this.players[e.playerId];k(t.anchor,this.ball)>k(t.anchor,e)&&(this.ball.hitPlayer=t,this.ball.hitPaddle=e,t.firePressed&&(this.ball.caught=!0,this.ball.caughtPaddlePosition=t.position,this.ball.caughtPlayerId=e.playerId,this.ball.caughtPosition={x:this.ball.x,y:this.ball.y})),console.log("%cpaddlehit "+e.playerId,"font-size: 1.5em; background: #222; color: "+G[e.playerId].color)}e.wall?this.ball.wallHits++:this.ball.wallHits=0}}),this.removeBody(this.ball),this.ball.angularVelocity=null,this.ball.prevLinearVelocity=this.ball.linearVelocity,this.ball.linearVelocity=null,this.ball.caught){const t=this.players[this.ball.caughtPlayerId],e=t.position-this.ball.caughtPaddlePosition+2*Math.PI,i=_(t.anchor,this.ball.caughtPosition,e);if(console.log("caught",e,i),this.ball.x=i.x,this.ball.y=i.y,t.firePressed);else{this.ball.caught=!1;const t=330-this.getBricksLeft()+400;this.addBody(this.ball);const e=D(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),i=e-D(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,e-5*i,t),this.ball.hitPaddle=null}}else{const t=330-this.getBricksLeft()+400,e=Math.round(Math.random())?-Math.random()*L:Math.random()*L;if(this.addBody(this.ball),this.ball.hitPaddle){const i=D(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),s=i-D(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,i-5*s+e,t),this.ball.hitPaddle=null}else{const i=D(N,this.ball.prevLinearVelocity);this.box.applyForce(this.ball.id,i+e+e*this.ball.wallHits,t)}}}j.players.forEach((e,i)=>{if(!e.face.dead){e.direction>0&&e.position<Math.PI?(e.position+=.0027*t,e.position=Math.min(e.position,Math.PI)):e.direction<0&&e.position>0&&(e.position-=.0027*t,e.position=Math.max(e.position,0));const s=_(e.pt,{x:e.pt.x,y:e.pt.y+295},e.angle+e.position-Math.PI/2),n=e.paddleOps;n.x=s.x,n.y=s.y,n.points=[{x:n.halfWidth,y:-n.halfHeight},{x:.7*n.halfWidth,y:n.halfHeight/2},{x:.4*n.halfWidth,y:n.halfHeight},{x:.4*-n.halfWidth,y:n.halfHeight},{x:.7*-n.halfWidth,y:n.halfHeight/2},{x:-n.halfWidth,y:-n.halfHeight}],e.firePressed?(n.strokeStyle=e.colorComplement,n.lineWidth=5):(n.strokeStyle=e.color,n.lineWidth=1),n.points=e.paddleOps.points.map(t=>_(N,t,e.angle+e.position-Math.PI/2)),e.update++,n.id=i+"paddle"+e.update;const o=new I.Polygon(n);if(j.addBody(o),e.paddles.push(o),e.paddles.length>3){const t=e.paddles.shift();j.removeBody(t)}}})}}),H={x:960,y:540,ptRadius:10,radius:10,points:[0,1,2,3,4,5,6,7,8],id:"ball",wallHits:0,hidden:!0};H.points=H.points.map((t,e)=>{return _(N,{x:0,y:H.ptRadius},2*Math.PI/H.points.length*e)}),j.ball=new class extends h.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=this.ptRadius;if(t.fillStyle="rgba(255,127,0,0.66)",t.beginPath(),t.arc(i,s,n,0,2*Math.PI,!0),t.closePath(),t.fill(),this.linearVelocity){const e=.06,o=.85,a=c()(p,this.linearVelocity),r={x:i,y:s};(this.caught?[1,2]:[1,2,3,4,5]).map((t,h)=>d()(r,{x:i,y:s-n*(o*t)},a+Math.PI+(t%2?e:-e))).forEach((e,i)=>{t.fillStyle="rgba(255,255,0,0.5)",t.beginPath(),t.arc(e.x,e.y,n-n*(.15*(i+1)),0,2*Math.PI,!0),t.closePath(),t.fill()})}}}(H),j.addBody(j.ball),o.a.entities.forEach(function(t){const e=I[t.type];e&&(t.drawCenter=!1,j.addBody(new e(t)))});const U=.6043122389547919,z=[0,B,F+Math.PI/2,Math.PI,Math.PI+B,1.5*Math.PI+F];const G=[[960,0],[1920-R*U,540*(1-U)],[1920-R*U,540+540*U],[960,1080],[R*U,540+540*U],[R*U,540*(1-U)]].map((t,e)=>({pt:{x:t[0],y:t[1]},color:g.a.rgb(e),colorComplement:g.a.complement(e),angle:z[e],direction:0,position:Math.PI/2,update:0}));console.log("players",G);const Y=G[0].pt;G.forEach((t,e)=>{console.log("creating player",t);const i=t.pt,s=_(i,{x:i.x,y:i.y+55},t.angle),n=new T({x:s.x,y:s.y,radius:50,staticBody:!0,restitution:2,fillStyle:t.color,deadFillStyle:g.a.rgba(e,.25),king:!0,ball:j.ball,playerId:e});j.addBody(n),t.face=n;const o=_(i,{x:i.x,y:i.y+295},t.angle);t.paddleOps={x:o.x,y:o.y,halfWidth:55,halfHeight:12,restitution:1,fillStyle:t.color,strokeStyle:t.color,paddle:!0,drawCenter:!1,playerId:e,density:100,staticBody:!0,id:e+"paddle0",hidden:!0,drawLocation:!1},t.paddleOps.points=[{x:t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight},{x:t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight}],t.paddleOps.points=t.paddleOps.points.map(e=>_(N,e,t.angle));const a=new I.Polygon(t.paddleOps);j.addBody(a),t.paddles=[a],t.anchor=new I.Circle({x:t.pt.x,y:t.pt.y,radius:.1,staticBody:!0,playerId:e,hidden:!0}),j.addBody(t.anchor),a.distance=k(t.anchor,a);const r=new C.Distance({bodyId1:t.anchor.id,bodyId2:a.id,id:Math.random()+"j"});j.addJoint(r),f.forEach((s,n)=>{const o={x:s[0]+960,y:s[1],halfWidth:25,halfHeight:12.5,staticBody:!0,restitution:1.5,playerId:e,fillStyle:t.color,brick:!0,preAngle:t.angle},a=_(Y,o,t.angle);o.x=a.x,o.y=a.y,o.x+=i.x-G[0].pt.x,o.y+=i.y-G[0].pt.y,o.points=[{x:o.halfWidth,y:-o.halfHeight},{x:o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:-o.halfHeight}],o.points=o.points.map(e=>_(N,e,t.angle)),o.prex=o.x,o.prey=o.y;const r=new b(o);j.addBody(r)})}),j.measurements={fullW:1920,fullH:1080,hexSide:783.79773844413,sideW:R,sint1:.6889532509648748,ang1:B,sint2:.7248057794927981,ang2:F},j.players=G,console.log(j),window.game=j,j.run(),j.box.applyForceDegrees("ball",360*Math.random(),400)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3NjYWxlUG9pbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0dhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3BvaW50SW5Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy90cmFuc2xhdGVQb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9Kb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvR2FtZUNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvVG91Y2hBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL01vdXNlQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9pbnNpZGVDYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL1Jlc291cmNlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvaGFzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3NvdW5kcy9Tb3VuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvc291bmRzL1dlYkF1ZGlvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9BbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0FuaW1GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGVncmVlc1RvUmFkaWFucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcmFkaWFuc1RvRGVncmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGlzdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94LmpzIiwid2VicGFjazovLy8uL3NyYy9ib3hEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3NoaW1zL0F1ZGlvQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcmVtb3ZlRXh0ZW5zaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvYXZlcmFnZVBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGVncmVlc0Zyb21DZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3JlaW5lci9DcmVhdHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL011bHRpUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9qb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9EaXN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1ByaXNtYXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1Jldm9sdXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9saXN0ZW5lcnMvQ29udGFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94R2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQmFsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJpY2tzLmpzIiwid2VicGFjazovLy8uL3NyYy9Ccmljay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGFuZGxlSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDQU5DRUwiLCJIRUxQIiwiQkFDS19TUEFDRSIsIlRBQiIsIkNMRUFSIiwiUkVUVVJOIiwiRU5URVIiLCJTSElGVCIsIkNPTlRST0wiLCJBTFQiLCJQQVVTRSIsIkNBUFNfTE9DSyIsIkVTQ0FQRSIsIlNQQUNFIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkVORCIsIkhPTUUiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIkRPV04iLCJQUklOVFNDUkVFTiIsIklOU0VSVCIsIkRFTEVURSIsIk5VTTAiLCJOVU0xIiwiTlVNMiIsIk5VTTMiLCJOVU00IiwiTlVNNSIsIk5VTTYiLCJOVU03IiwiTlVNOCIsIk5VTTkiLCJTRU1JQ09MT04iLCJFUVVBTFMiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIkNPTlRFWFRfTUVOVSIsIk5VTVBBRDAiLCJOVU1QQUQxIiwiTlVNUEFEMiIsIk5VTVBBRDMiLCJOVU1QQUQ0IiwiTlVNUEFENSIsIk5VTVBBRDYiLCJOVU1QQUQ3IiwiTlVNUEFEOCIsIk5VTVBBRDkiLCJNVUxUSVBMWSIsIkFERCIsIlNFUEFSQVRPUiIsIlNVQlRSQUNUIiwiREVDSU1BTCIsIkRJVklERSIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIkYxMyIsIkYxNCIsIkYxNSIsIkYxNiIsIkYxNyIsIkYxOCIsIkYxOSIsIkYyMCIsIkYyMSIsIkYyMiIsIkYyMyIsIkYyNCIsIk5VTV9MT0NLIiwiU0NST0xMX0xPQ0siLCJVUF9EUEFEIiwiRE9XTl9EUEFEIiwiTEVGVF9EUEFEIiwiUklHSFRfRFBBRCIsIkNPTU1BIiwiUEVSSU9EIiwiU0xBU0giLCJCQUNLX1FVT1RFIiwiT1BFTl9CUkFDS0VUIiwiQkFDS19TTEFTSCIsIkNMT1NFX0JSQUNLRVQiLCJRVU9URSIsIk1FVEEiLCJjZW50ZXIiLCJ4IiwieSIsInB0IiwiTWF0aCIsIlBJIiwiYXRhbiIsImFuZ2xlIiwic2luIiwiY29zIiwibmV3UHQiLCJ4bmV3IiwieW5ldyIsImNvbG9ycyIsIlJHQjJIU1YiLCJyZ2IiLCJhIiwiYiIsImhzdiIsIm1heCIsImciLCJkaWYiLCJtaW4zIiwic2F0dXJhdGlvbiIsImh1ZSIsInJvdW5kIiwiaWQiLCJjb25zb2xlIiwibG9nIiwicmdiYSIsImNvbXBsZW1lbnQiLCJoIiwiSHVlU2hpZnQiLCJ0ZW1wcmdiIiwiZmxvb3IiLCJmIiwicSIsIkhTVjJSR0IiLCJFbnRpdHkiLCJkaXN0YW5jZSIsIltvYmplY3QgT2JqZWN0XSIsIm9wdGlvbnMiLCJzdXBlciIsInRoaXMiLCJyYWRpdXMiLCJhc3NpZ24iLCJjdHgiLCJzY2FsZSIsIm9nTGluZVdpZHRoIiwibGluZVdpZHRoIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJjbG9zZVBhdGgiLCJmaWxsIiwic3Ryb2tlIiwic3RhdGljQm9keSIsInNhdmUiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJyZXN0b3JlIiwiZHJhdyIsInNjYWxlU2hhcGUiLCJwb2ludCIsIndpbmRvdyIsImZyb3plbmpzIiwiR2FtZUNvcmUiLCJJbnB1dE1hbmFnZXIiLCJSZXNvdXJjZU1hbmFnZXIiLCJNb3VzZUFjdGlvbiIsIlRvdWNoQWN0aW9uIiwia2V5cyIsIkFuaW1hdGlvbiIsIkFuaW1GcmFtZSIsInV0aWxzIiwiU3ByaXRlIiwicmVpbmVyIiwiQ3JlYXR1cmUiLCJzb3VuZHMiLCJXZWJBdWRpbyIsImJveDJkIiwiZW50aXRpZXMiLCJqb2ludHMiLCJCb3giLCJCb3hHYW1lIiwic2NhbGVQb2ludHMiLCJwb2ludHMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJyYW5kb20iLCJEYXRlIiwibm93IiwiZHJhd0xvY2F0aW9uIiwiZHJhd0NlbnRlciIsInJlc3RpdHV0aW9uIiwiZGVuc2l0eSIsImZyaWN0aW9uIiwibGluZWFyRGFtcGluZyIsImxpbmVhclZlbG9jaXR5IiwiYW5ndWxhclZlbG9jaXR5IiwiYW5ndWxhckRhbXBpbmciLCJtYXNrQml0cyIsImNhdGVnb3J5Qml0cyIsImdyb3VwSW5kZXgiLCJzdGF0ZSIsImNlbnRlclN0eWxlIiwiYWxyZWFkeVNjYWxlZCIsInN0YXRpY3MiLCJOT1JNQUwiLCJERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkiLCJTVEFURV9SRUxFQVNFRCIsIlNUQVRFX1BSRVNTRUQiLCJTVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFIiwiU1RBVEVfTU9WRUQiLCJiZWhhdmlvciIsImFtb3VudCIsInJlc2V0IiwicHJlc3MiLCJyZWxlYXNlIiwicHJlc3NBbXQiLCJyZXRWYWwiLCJwb2x5Z29uIiwicG9seSIsImluc2lkZVBvbHkiLCJqIiwibGVuZ3RoIiwieGkiLCJ5aSIsInhqIiwieWoiLCJ0cmFuc2xhdGVQb2ludHMiLCJ0cmFuc2xhdGlvbiIsImJvZHlJZDEiLCJib2R5SWQyIiwiYm9keVBvaW50MSIsImpvaW50QXR0cmlidXRlcyIsInBvaW50SW5Qb2x5Z29uIiwiaXNSdW5uaW5nIiwiY2FudmFzSWQiLCJtYXhTdGVwIiwiY29udGV4dFR5cGUiLCJoZWlnaHQiLCJ3aWR0aCIsInJlc291cmNlTWFuYWdlciIsImlucHV0TWFuYWdlciIsImxvYWRpbmdGb3JlZ3JvdW5kIiwibG9hZGluZ0JhY2tncm91bmQiLCJnYW1lQXJlYUlkIiwiY2FudmFzUGVyY2VudGFnZSIsIm5ld0hlaWdodCIsImNhbnZhcyIsIm5ld1dpZHRoIiwiaW5pdCIsImxvYWRSZXNvdXJjZXMiLCJpbml0SW5wdXQiLCJsYXVuY2hMb29wIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwic2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJnYW1lQXJlYSIsInJlc2l6ZSIsImFsZXJ0IiwiZWxhcHNlZFRpbWUiLCJjdXJyVGltZSIsImdldFRpbWUiLCJtaW4iLCJwcmV2VGltZSIsInJlc291cmNlc1JlYWR5IiwidXBkYXRlTG9hZGluZ1NjcmVlbiIsImRyYXdMb2FkaW5nU2NyZWVuIiwiaGFuZGxlSW5wdXQiLCJwYXVzZWQiLCJ1cGRhdGUiLCJzdGFydFRpbWUiLCJsb29wUnVubmVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2FtZUxvb3AiLCJmb250IiwiZmlsbFRleHQiLCJmaWxsUmVjdCIsInRleHRQeFNpemUiLCJnZXRQZXJjZW50Q29tcGxldGUiLCJzdHJva2VSZWN0IiwiSGFtbWVyIiwiR2FtZUFjdGlvbiIsImluc2lkZUNhbnZhcyIsIm9uIiwiZWxlbWVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvUGl4ZWwiLCJwYXJzZUZsb2F0IiwiZ2V0TWFyZ2luRXh0ZW50cyIsIm5vZGUiLCJzdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwidyIsIm1hcmdpblJpZ2h0IiwibWFyZ2luQm90dG9tIiwiY2xlYW51cCIsInJlbW92ZSIsImtleUFjdGlvbnMiLCJtb3VzZUFjdGlvbiIsInRvdWNoQWN0aW9uIiwiaGFuZGxlTW91c2UiLCJoYW5kbGVUb3VjaCIsImhhbmRsZUtleXMiLCJlbXVsYXRlTW91c2UiLCJoYW1tZXIiLCJib2R5IiwicHJldmVudF9kZWZhdWx0IiwiZHJhZ19tYXhfdG91Y2hlcyIsImhvbGQiLCJwdXNoQ2xlYW51cCIsImtleWRvd24iLCJrZXl1cCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJub3JtYWxpemVQb2ludCIsImdlc3R1cmUiLCJyZW1vdmVDbGVhbnVwIiwiYXJncyIsIm9mZiIsImFwcGx5IiwiZ2FtZUFjdGlvbiIsImtleUNvZGUiLCJpbml0aWFsUHJlc3NPbmx5IiwiZ2FzIiwia2MiLCJnYSIsImRldGVjdEluaXRpYWxQcmVzc09ubHkiLCJtYXBUb0tleSIsImFkZEtleUFjdGlvbiIsImUiLCJjdXJyZW50UG9pbnQiLCJwb3NpdGlvbiIsInRvdWNoZXMiLCJjdXJyZW50UG9pbnRzIiwicHVzaCIsInNvbWUiLCJtb3VzZVVwIiwicG9zaXRpb25zIiwic3RhcnRQb3NpdGlvbnMiLCJwcmV2ZW50RGVmYXVsdCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImdldEtleUFjdGlvbiIsImlzUHJlc3NlZCIsImV2dCIsImNvb3Jkc00iLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwiem9vbVJhdGlvIiwiY2xpZW50WCIsImNsaWVudFkiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImJvZHlNYXJnaW5zIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwid2lkdGhUb0hlaWdodCIsIm5ld1dpZHRoU3R5bGUiLCJuZXdIZWlnaHRTdHlsZSIsImNhbnZhc1BlcmNlbnRhZ2VTdHlsZSIsImRpc3BsYXkiLCJlbmRQb3NpdGlvbnMiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRpb24iLCJoYXMiLCJTb3VuZCIsInJlc291cmNlTGlzdCIsIm5vcm1hbGl6ZVBhdGgiLCJiYXNlRGlyIiwicGF0aCIsImpvaW5lZFBhdGgiLCJqb2luIiwicmVwbGFjZSIsImZsaXBYIiwiaW1hZ2UiLCJvZmZzY3JlZW5DYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwiZmxpcFkiLCJJbWFnZVdyYXBwZXIiLCJmaWxlbmFtZSIsInNlbGYiLCJjb21wbGV0ZSIsImltZyIsIkltYWdlIiwic3JjIiwiYWxsTG9hZGVkIiwiaW1hZ2VEaXIiLCJzb3VuZERpciIsImZpbGVzIiwic2luZ2xlRmlsZSIsImZpbGVMaXN0IiwiZmlsZSIsIndyYXBwZXIiLCJsb2FkIiwic291bmQiLCJmbGlwRm4iLCJpbWcyIiwiZG9GbGlwIiwiZmxpcEltYWdlIiwibnVtQ29tcGxldGUiLCJnbG9iYWwiLCJjaGVjayIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInNwbGl0IiwidW5kZWZpbmVkIiwiQXVkaW9Db250ZXh0IiwiZG9jdW1lbnRFbGVtZW50IiwiRnVuY3Rpb24iLCJmb3JtYXRzIiwiYXVkaW8vbXBlZyIsImF1ZGlvL3dlYm0iLCJhdWRpby9vZ2ciLCJhdWRpby93YXYiLCJhdWRpby9hYWMiLCJhdWRpby94LW00YSIsInByb2JhYmx5IiwibWF5YmUiLCJ2b2x1bWUiLCJsb29wIiwiY29kZWMiLCJyZXN1bHQiLCJhdWRpbyIsIkF1ZGlvIiwiY2FuUGxheVR5cGUiLCJzaGlmdCIsInJlbW92ZUV4dGVuc2lvbiIsImF1ZGlvQ29udGV4dCIsImhhbmRsZVNoaXR0eSIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInN0YXJ0IiwiYmFzZW5hbWUiLCJfY2hvb3NlRm9ybWF0IiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsImRlY29kZUF1ZGlvRGF0YSIsInRhcmdldCIsInJlc3BvbnNlIiwiZXJyIiwiX25leHRGb3JtYXQiLCJzZW5kIiwiX2luaXRBdWRpbyIsImdhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImdhaW4iLCJjdXJyRnJhbWVJbmRleCIsImFuaW1UaW1lIiwidG90YWxEdXJhdGlvbiIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZnJhbWVzIiwiZnJhbWVDb3VudCIsImZyYW1lVGltZXMiLCJ5U2xvdCIsImFuaW0iLCJpc0ZUQXJyYXkiLCJjdXJyZW50RnJhbWVUaW1lIiwiYWRkRnJhbWUiLCJkdXJhdGlvbiIsImltYWdlU2xvdFgiLCJpbWFnZVNsb3RZIiwiZW5kVGltZSIsImltZ1Nsb3RYIiwiaW1nU2xvdFkiLCJjZiIsImdldEN1cnJlbnRGcmFtZSIsInJhZENvbnN0IiwiZGVncmVlcyIsImRlZ0NvbnN0IiwicmFkaWFucyIsInAxIiwicDIiLCJzcXJ0IiwiZHgiLCJkeSIsIm1heFNwZWVkIiwiY29sbGlzaW9uUmFkaXVzIiwidiIsImFicyIsImNsb25lIiwiQ29udGFjdCIsIkJveDJEIiwiQjJWZWMyIiwiQ29tbW9uIiwiYjJWZWMyIiwiQjJCb2R5RGVmIiwiRHluYW1pY3MiLCJiMkJvZHlEZWYiLCJCMkJvZHkiLCJiMkJvZHkiLCJCMkZpeHR1cmVEZWYiLCJiMkZpeHR1cmVEZWYiLCJCMldvcmxkIiwiYjJGaXh0dXJlIiwiYjJXb3JsZCIsIkIyUG9seWdvblNoYXBlIiwiQ29sbGlzaW9uIiwiU2hhcGVzIiwiYjJQb2x5Z29uU2hhcGUiLCJCMkNpcmNsZVNoYXBlIiwiYjJDaXJjbGVTaGFwZSIsImludGVydmFsUmF0ZSIsImFkYXB0aXZlIiwiYm9kaWVzTWFwIiwiZml4dHVyZXNNYXAiLCJqb2ludHNNYXAiLCJncmF2aXR5WCIsImdyYXZpdHlZIiwiYWxsb3dTbGVlcCIsInJlc29sdmVDb2xsaXNpb25zIiwiY29udGFjdExpc3RlbmVyIiwiY29sbGlzaW9ucyIsInBhcnNlSW50IiwiYWRkQ29udGFjdExpc3RlbmVyIiwibWlsbGlzIiwiU3RlcCIsIkNsZWFyRm9yY2VzIiwic3RlcFJhdGUiLCJsYXN0VGltZXN0YW1wIiwiR2V0Qm9keUxpc3QiLCJtX25leHQiLCJJc0FjdGl2ZSIsIkdldFVzZXJEYXRhIiwiR2V0UG9zaXRpb24iLCJHZXRBbmdsZSIsIkdldFdvcmxkQ2VudGVyIiwibV9saW5lYXJWZWxvY2l0eSIsIm1fYW5ndWxhclZlbG9jaXR5IiwiYm9kaWVzU3RhdGUiLCJnZXRTdGF0ZSIsImVudGl0eSIsImJvZHlFbnRpdGllcyIsImFkZEJvZHkiLCJyZWFkeSIsInZlYyIsInZlY3MiLCJib2R5RGVmIiwiZml4RGVmIiwiZmlsdGVyIiwidHlwZSIsImIyX3N0YXRpY0JvZHkiLCJiMl9keW5hbWljQm9keSIsInVzZXJEYXRhIiwiQ3JlYXRlQm9keSIsInNoYXBlIiwiQ3JlYXRlRml4dHVyZSIsIlNldCIsIlNldEFzQXJyYXkiLCJwb2x5cyIsIlNldEFzQm94IiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImJvZHlJZCIsIlNldFBvc2l0aW9uIiwic2V0QW5nbGUiLCJTZXRMaW5lYXJWZWxvY2l0eSIsInZlbG9jaXR5IiwiU2V0QW5ndWxhclZlbG9jaXR5IiwicG93ZXIiLCJBcHBseUltcHVsc2UiLCJBcHBseUZvcmNlIiwiU2V0QW5nbGUiLCJBcHBseVRvcnF1ZSIsInZlY3RvciIsIlNldEdyYXZpdHkiLCJEZXN0cm95Rml4dHVyZSIsIkRlc3Ryb3lCb2R5IiwiU2V0QXdha2UiLCJsaXN0ZW5lciIsImIyQ29udGFjdExpc3RlbmVyIiwiYmVnaW5Db250YWN0IiwiQmVnaW5Db250YWN0IiwiY29udGFjdCIsIm1fZml4dHVyZUEiLCJtX2JvZHkiLCJtX3VzZXJEYXRhIiwibV9maXh0dXJlQiIsImVuZENvbnRhY3QiLCJFbmRDb250YWN0IiwicHJlU29sdmUiLCJQcmVTb2x2ZSIsIm9sZE1hbmlmb2xkIiwicG9zdFNvbHZlIiwiUG9zdFNvbHZlIiwiaW1wdWxzZSIsIlNldENvbnRhY3RMaXN0ZW5lciIsImpvaW50SWQiLCJEZXN0cm95Sm9pbnQiLCJqb2ludCIsInNjYWxlSm9pbnRMb2NhdGlvbiIsImIySm9pbnQiLCJjcmVhdGVCMkpvaW50Iiwiem9uZSIsImhpZGRlbiIsIndhbGwiLCJiYWNrSW1nIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJleHBvcnROYW1lIiwiVkVORE9SX1BSRUZJWEVTIiwiVEVTVF9FTEVNRU5UIiwiVFlQRV9GVU5DVElPTiIsInNldFRpbWVvdXRDb250ZXh0IiwiZm4iLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImJpbmRGbiIsImludm9rZUFycmF5QXJnIiwiYXJnIiwiZWFjaCIsIm9iaiIsIml0ZXJhdG9yIiwiZm9yRWFjaCIsImRlcHJlY2F0ZSIsIm1ldGhvZCIsIm1lc3NhZ2UiLCJkZXByZWNhdGlvbk1lc3NhZ2UiLCJFcnJvciIsInN0YWNrIiwid2FybiIsImFyZ3VtZW50cyIsIlR5cGVFcnJvciIsIm91dHB1dCIsImluZGV4IiwibmV4dEtleSIsImV4dGVuZCIsImRlc3QiLCJtZXJnZSIsImluaGVyaXQiLCJjaGlsZCIsImJhc2UiLCJwcm9wZXJ0aWVzIiwiY2hpbGRQIiwiYmFzZVAiLCJjb25zdHJ1Y3RvciIsIl9zdXBlciIsImJvb2xPckZuIiwidmFsIiwiaWZVbmRlZmluZWQiLCJ2YWwxIiwidmFsMiIsImFkZEV2ZW50TGlzdGVuZXJzIiwidHlwZXMiLCJzcGxpdFN0ciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiaGFzUGFyZW50IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluU3RyIiwic3RyIiwiZmluZCIsImluZGV4T2YiLCJ0cmltIiwiaW5BcnJheSIsImZpbmRCeUtleSIsInRvQXJyYXkiLCJzbGljZSIsInVuaXF1ZUFycmF5Iiwic29ydCIsInJlc3VsdHMiLCJ2YWx1ZXMiLCJwcmVmaXhlZCIsInByZWZpeCIsInByb3AiLCJjYW1lbFByb3AiLCJ0b1VwcGVyQ2FzZSIsIl91bmlxdWVJZCIsImdldFdpbmRvd0ZvckVsZW1lbnQiLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJwYXJlbnRXaW5kb3ciLCJTVVBQT1JUX1RPVUNIIiwiU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyIsIlNVUFBPUlRfT05MWV9UT1VDSCIsInRlc3QiLCJDT01QVVRFX0lOVEVSVkFMIiwiSU5QVVRfU1RBUlQiLCJJTlBVVF9NT1ZFIiwiSU5QVVRfRU5EIiwiSU5QVVRfQ0FOQ0VMIiwiRElSRUNUSU9OX05PTkUiLCJESVJFQ1RJT05fTEVGVCIsIkRJUkVDVElPTl9SSUdIVCIsIkRJUkVDVElPTl9VUCIsIkRJUkVDVElPTl9ET1dOIiwiRElSRUNUSU9OX0hPUklaT05UQUwiLCJESVJFQ1RJT05fVkVSVElDQUwiLCJESVJFQ1RJT05fQUxMIiwiUFJPUFNfWFkiLCJQUk9QU19DTElFTlRfWFkiLCJJbnB1dCIsIm1hbmFnZXIiLCJjYWxsYmFjayIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImV2IiwiZW5hYmxlIiwiaW5wdXRIYW5kbGVyIiwiZXZlbnRUeXBlIiwiaW5wdXQiLCJwb2ludGVyc0xlbiIsInBvaW50ZXJzIiwiY2hhbmdlZFBvaW50ZXJzTGVuIiwiY2hhbmdlZFBvaW50ZXJzIiwiaXNGaXJzdCIsImlzRmluYWwiLCJzZXNzaW9uIiwicG9pbnRlcnNMZW5ndGgiLCJmaXJzdElucHV0Iiwic2ltcGxlQ2xvbmVJbnB1dERhdGEiLCJmaXJzdE11bHRpcGxlIiwib2Zmc2V0Q2VudGVyIiwiZ2V0Q2VudGVyIiwidGltZVN0YW1wIiwiZGVsdGFUaW1lIiwiZ2V0QW5nbGUiLCJnZXREaXN0YW5jZSIsIm9mZnNldCIsIm9mZnNldERlbHRhIiwicHJldkRlbHRhIiwicHJldklucHV0IiwiZGVsdGFYIiwiZGVsdGFZIiwiY29tcHV0ZURlbHRhWFkiLCJvZmZzZXREaXJlY3Rpb24iLCJnZXREaXJlY3Rpb24iLCJvdmVyYWxsVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsIm92ZXJhbGxWZWxvY2l0eVgiLCJvdmVyYWxsVmVsb2NpdHlZIiwiZW5kIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsIm1heFBvaW50ZXJzIiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwiZGlyZWN0aW9uIiwibGFzdCIsImxhc3RJbnRlcnZhbCIsImNvbXB1dGVJbnRlcnZhbElucHV0RGF0YSIsInNyY0V2ZW50IiwiY29tcHV0ZUlucHV0RGF0YSIsImVtaXQiLCJyZWNvZ25pemUiLCJwcm9wcyIsImF0YW4yIiwiZXZFbCIsImV2VGFyZ2V0IiwiZXZXaW4iLCJkZXN0cm95IiwiTU9VU0VfSU5QVVRfTUFQIiwiTU9VU0VfRUxFTUVOVF9FVkVOVFMiLCJNT1VTRV9XSU5ET1dfRVZFTlRTIiwiTW91c2VJbnB1dCIsInByZXNzZWQiLCJidXR0b24iLCJ3aGljaCIsInBvaW50ZXJUeXBlIiwiUE9JTlRFUl9JTlBVVF9NQVAiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsInBvaW50ZXJvdXQiLCJJRTEwX1BPSU5URVJfVFlQRV9FTlVNIiwiMiIsIjMiLCI0IiwiNSIsIlBPSU5URVJfRUxFTUVOVF9FVkVOVFMiLCJQT0lOVEVSX1dJTkRPV19FVkVOVFMiLCJQb2ludGVyRXZlbnRJbnB1dCIsInN0b3JlIiwicG9pbnRlckV2ZW50cyIsIk1TUG9pbnRlckV2ZW50IiwiUG9pbnRlckV2ZW50IiwicmVtb3ZlUG9pbnRlciIsImV2ZW50VHlwZU5vcm1hbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsImlzVG91Y2giLCJzdG9yZUluZGV4IiwicG9pbnRlcklkIiwic3BsaWNlIiwiU0lOR0xFX1RPVUNIX0lOUFVUX01BUCIsInRvdWNoY2FuY2VsIiwiU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMiLCJTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyIsIlNpbmdsZVRvdWNoSW5wdXQiLCJzdGFydGVkIiwiYWxsIiwiY2hhbmdlZCIsImNoYW5nZWRUb3VjaGVzIiwiY29uY2F0IiwiVE9VQ0hfSU5QVVRfTUFQIiwiVE9VQ0hfVEFSR0VUX0VWRU5UUyIsIlRvdWNoSW5wdXQiLCJ0YXJnZXRJZHMiLCJhbGxUb3VjaGVzIiwiaWRlbnRpZmllciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVGFyZ2V0VG91Y2hlcyIsInRvdWNoIiwiREVEVVBfVElNRU9VVCIsIkRFRFVQX0RJU1RBTkNFIiwiVG91Y2hNb3VzZUlucHV0IiwibW91c2UiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInNldExhc3RUb3VjaCIsImV2ZW50RGF0YSIsImxhc3RUb3VjaCIsImx0cyIsImlucHV0RXZlbnQiLCJpbnB1dERhdGEiLCJpc01vdXNlIiwic291cmNlQ2FwYWJpbGl0aWVzIiwiZmlyZXNUb3VjaEV2ZW50cyIsIlBSRUZJWEVEX1RPVUNIX0FDVElPTiIsIk5BVElWRV9UT1VDSF9BQ1RJT04iLCJUT1VDSF9BQ1RJT05fQVVUTyIsIlRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04iLCJUT1VDSF9BQ1RJT05fTk9ORSIsIlRPVUNIX0FDVElPTl9QQU5fWCIsIlRPVUNIX0FDVElPTl9QQU5fWSIsIlRPVUNIX0FDVElPTl9NQVAiLCJ0b3VjaE1hcCIsImNzc1N1cHBvcnRzIiwiQ1NTIiwic3VwcG9ydHMiLCJnZXRUb3VjaEFjdGlvblByb3BzIiwic2V0IiwiY29tcHV0ZSIsImFjdGlvbnMiLCJyZWNvZ25pemVycyIsInJlY29nbml6ZXIiLCJnZXRUb3VjaEFjdGlvbiIsImhhc1BhblgiLCJoYXNQYW5ZIiwiY2xlYW5Ub3VjaEFjdGlvbnMiLCJwcmV2ZW50RGVmYXVsdHMiLCJwcmV2ZW50ZWQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwicHJldmVudFNyYyIsIlNUQVRFX1BPU1NJQkxFIiwiU1RBVEVfQkVHQU4iLCJTVEFURV9DSEFOR0VEIiwiU1RBVEVfRU5ERUQiLCJTVEFURV9SRUNPR05JWkVEIiwiU1RBVEVfQ0FOQ0VMTEVEIiwiUmVjb2duaXplciIsImRlZmF1bHRzIiwic2ltdWx0YW5lb3VzIiwicmVxdWlyZUZhaWwiLCJzdGF0ZVN0ciIsImRpcmVjdGlvblN0ciIsImdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIiLCJvdGhlclJlY29nbml6ZXIiLCJBdHRyUmVjb2duaXplciIsIlBhblJlY29nbml6ZXIiLCJwWCIsInBZIiwiUGluY2hSZWNvZ25pemVyIiwiUHJlc3NSZWNvZ25pemVyIiwiX3RpbWVyIiwiX2lucHV0IiwiUm90YXRlUmVjb2duaXplciIsIlN3aXBlUmVjb2duaXplciIsIlRhcFJlY29nbml6ZXIiLCJwVGltZSIsInBDZW50ZXIiLCJjb3VudCIsInByZXNldCIsIk1hbmFnZXIiLCJyZWNvZ25pemVXaXRoIiwiZHJvcFJlY29nbml6ZVdpdGgiLCJyZXF1aXJlRmFpbHVyZSIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJldmVudCIsImFkZGl0aW9uYWxFdmVudCIsInRyeUVtaXQiLCJjYW5FbWl0IiwiaW5wdXREYXRhQ2xvbmUiLCJwcm9jZXNzIiwiYXR0clRlc3QiLCJvcHRpb25Qb2ludGVycyIsImlzUmVjb2duaXplZCIsImlzVmFsaWQiLCJ0aHJlc2hvbGQiLCJkaXJlY3Rpb25UZXN0IiwiaGFzTW92ZWQiLCJpbk91dCIsInRpbWUiLCJ2YWxpZFBvaW50ZXJzIiwidmFsaWRNb3ZlbWVudCIsInZhbGlkVGltZSIsImNsZWFyVGltZW91dCIsInRhcHMiLCJpbnRlcnZhbCIsInBvc1RocmVzaG9sZCIsInZhbGlkVG91Y2hUaW1lIiwiZmFpbFRpbWVvdXQiLCJ2YWxpZEludGVydmFsIiwidmFsaWRNdWx0aVRhcCIsInRhcENvdW50IiwiVkVSU0lPTiIsImRvbUV2ZW50cyIsImlucHV0Q2xhc3MiLCJjc3NQcm9wcyIsInVzZXJTZWxlY3QiLCJ0b3VjaFNlbGVjdCIsInRvdWNoQ2FsbG91dCIsImNvbnRlbnRab29taW5nIiwidXNlckRyYWciLCJ0YXBIaWdobGlnaHRDb2xvciIsImhhbmRsZXJzIiwib2xkQ3NzUHJvcHMiLCJ0b2dnbGVDc3NQcm9wcyIsIml0ZW0iLCJhZGQiLCJzdG9wIiwiZm9yY2UiLCJzdG9wcGVkIiwiY3VyUmVjb2duaXplciIsImV4aXN0aW5nIiwiZXZlbnRzIiwiZGF0YSIsImdlc3R1cmVFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInRyaWdnZXJEb21FdmVudCIsIlNUQVRFX0ZBSUxFRCIsIlRhcCIsIlBhbiIsIlN3aXBlIiwiUGluY2giLCJSb3RhdGUiLCJQcmVzcyIsInZlbmRvcnMiLCJhdmVyYWdlUG9pbnRzIiwiZGVncmVlc1RvUmFkaWFucyIsInJhZGlhbnNUb0RlZ3JlZXMiLCJkZWdyZWVzRnJvbUNlbnRlciIsInJhZGlhbnNGcm9tQ2VudGVyIiwicm90YXRlRGVncmVlc0Fyb3VuZENlbnRlciIsInJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIiLCJFQVNUIiwiU1RBVEVfSURMRSIsIndhbGtpbmdBbmltcyIsImR5aW5nQW5pbXMiLCJpZGxlQW5pbXMiLCJTVEFURV9EWUlORyIsIk5PUlRIIiwiTk9SVEhFQVNUIiwiTk9SVEhXRVNUIiwiU09VVEgiLCJTT1VUSEVBU1QiLCJTT1VUSFdFU1QiLCJXRVNUIiwiU1RBVEVfV0FMS0lORyIsImFuaW1zIiwiQ2lyY2xlIiwiTXVsdGlQb2x5Z29uIiwiUG9seWdvbiIsIlJlY3RhbmdsZSIsInN1cCIsIkRpc3RhbmNlIiwiUHJpc21hdGljIiwiUmV2b2x1dGUiLCJKb2ludCIsIkIyRGlzdGFuY2VKb2ludERlZiIsIkpvaW50cyIsImIyRGlzdGFuY2VKb2ludERlZiIsImJvZHlQb2ludDIiLCJib3giLCJib2R5MSIsImJvZHkyIiwidmVjMSIsInZlYzIiLCJJbml0aWFsaXplIiwiQ3JlYXRlSm9pbnQiLCJCMlByaXNtYXRpY0pvaW50RGVmIiwiYjJQcmlzbWF0aWNKb2ludERlZiIsImF4aXNTY2FsZSIsImF4aXMiLCJCMlJldm9sdXRlSm9pbnREZWYiLCJiMlJldm9sdXRlSm9pbnREZWYiLCJpZEEiLCJpZEIiLCJub3JtYWxJbXB1bHNlcyIsImJveFVwZGF0aW5nIiwiYm94T3B0aW9ucyIsInVwZGF0ZUV4dGVybmFsU3RhdGUiLCJyZW1vdmVCb2R5IiwiYWRkSm9pbnQiLCJyZW1vdmVKb2ludCIsInNyY19kcmF3IiwiZnVsbFciLCJmdWxsSCIsImhleFNpZGUiLCJzaWRlVyIsInNpbnQxIiwiYW5nMSIsInNpbnQyIiwiYW5nMiIsIm1lYXN1cmVtZW50cyIsImNsZWFyUmVjdCIsInBsYXllcnMiLCJjb2xvciIsImZhY2UiLCJkZWFkIiwicGFkZGxlcyIsImsiLCJiYWxsIiwib3JpZ2luIiwiYnJpY2tzIiwic3JjX2JyaWNrcyIsIkJyaWNrX0JyaWNrIiwiUG9seWdvbl9kZWZhdWx0IiwibGluZUpvaW4iLCJncmFkaWVudCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwicHJleSIsImFkZENvbG9yU3RvcCIsInByZXgiLCJwcmVBbmdsZSIsIkZhY2VfRmFjZSIsIkNpcmNsZV9kZWZhdWx0Iiwic2NhbGVkWCIsInNjYWxlZFkiLCJkZWFkRmlsbFN0eWxlIiwibGVmdEV5ZSIsInJpZ2h0RXllIiwicmFkc0wiLCJyYWRpYW5zRnJvbUNlbnRlcl9kZWZhdWx0IiwicmFkc1IiLCJsSXJpcyIsInJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXJfZGVmYXVsdCIsInJJcmlzIiwic3BlZWQiLCJoYW5kbGVEaXJlY3Rpb24iLCJnYW1lIiwiZmlyZUtleSIsImxlZnRLZXkiLCJyaWdodEtleSIsInBsYXllcklkIiwibFByZXNzZWQiLCJmaXJlUHJlc3NlZCIsInNyY19oYW5kbGVJbnB1dCIsImltIiwia2V5c19kZWZhdWx0IiwiYXBwbHlJbXB1bHNlRGVncmVlcyIsImFwcGx5VG9ycXVlIiwiZ2FtZV9yYWRpYW5zRnJvbUNlbnRlciIsImdhbWVfc2NhbGVQb2ludHMiLCJnYW1lX3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIiLCJyYW5kb21BbmdsZVNwcmVhZCIsImFzaW4iLCJjZW50ZXJQb2ludCIsInJtIiwiZXhwbG9zaW9ucyIsImxvYWRTb3VuZCIsInNjcmVhbSIsImFkZEFycm93S2V5QWN0aW9ucyIsImdldEJyaWNrc0xlZnQiLCJyZWR1Y2UiLCJhY2MiLCJicmljayIsInVwZGF0ZUJveCIsImVudCIsImJyaWNrUGllY2UiLCJsaWZlIiwiY29sb3JzX2RlZmF1bHQiLCJldCIsImxpbE9wcyIsImxpbGJPcHMiLCJsaWxCIiwiYXBwbHlJbXB1bHNlIiwicGxheSIsImtpbmciLCJwYWQiLCJwYWRkbGUiLCJhbmNob3IiLCJoaXRQbGF5ZXIiLCJoaXRQYWRkbGUiLCJjYXVnaHQiLCJjYXVnaHRQYWRkbGVQb3NpdGlvbiIsImNhdWdodFBsYXllcklkIiwiY2F1Z2h0UG9zaXRpb24iLCJ3YWxsSGl0cyIsInByZXZMaW5lYXJWZWxvY2l0eSIsImNhdWdodFBsYXllciIsInBvc2l0aW9uRGVsdGEiLCJuZXdCYWxsTG9jIiwibmV3U3BlZWQiLCJwYWRkbGVBbmdsZSIsImRlbHRhIiwiYXBwbHlGb3JjZSIsImFuZ2xlT2Zmc2V0IiwiaWR4IiwibmV3UGFkZGxlUHQiLCJwYWRkbGVPcHMiLCJjb2xvckNvbXBsZW1lbnQiLCJvcHB0IiwiZmlyc3QiLCJiYWxsUHJvcHMiLCJwdFJhZGl1cyIsInRhaWxEaXNydXB0aW9uIiwidGFpbERpc3QiLCJyYWRzIiwiYm94RGF0YV9kZWZhdWx0IiwicGN0IiwiYW5ncyIsImNwdCIsImdhbWVfb3JpZ2luIiwicHB0IiwibmV3RmFjZVB0IiwiY2lyIiwiY0pvaW50IiwicmIiLCJqZHgiLCJvcHMiLCJydW4iLCJhcHBseUZvcmNlRGVncmVlcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsb0JDbEZBaEMsRUFBQUQsUUFBQSxDQUNBa0MsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLFdBQUEsRUFDQUMsSUFBQSxFQUNBQyxNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsSUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsVUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxHQUFBLEdBQ0FDLE1BQUEsR0FDQUMsS0FBQSxHQUNBQyxZQUFBLEdBQ0FDLE9BQUEsR0FDQUMsT0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsYUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQUMsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFNBQUEsSUFDQUMsSUFBQSxJQUNBQyxVQUFBLElBQ0FDLFNBQUEsSUFDQUMsUUFBQSxJQUNBQyxPQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLFNBQUEsSUFDQUMsWUFBQSxJQUNBQyxRQUFBLElBQ0FDLFVBQUEsSUFDQUMsVUFBQSxJQUNBQyxXQUFBLElBQ0FDLE1BQUEsSUFDQUMsT0FBQSxJQUNBQyxNQUFBLElBQ0FDLFdBQUEsSUFDQUMsYUFBQSxJQUNBQyxXQUFBLElBQ0FDLGNBQUEsSUFDQUMsTUFBQSxJQUNBQyxLQUFBLG9CQzlFQXZKLEVBQUFELFFBeENBLFNBQUF5SixFQUFBLENBQXFDQyxFQUFBLEVBQUFDLEVBQUEsR0FBZUMsR0FHcEQsT0FBQUgsRUFBQUMsSUFBQUUsRUFBQUYsR0FBQUQsRUFBQUUsSUFBQUMsRUFBQUQsRUFDQSxFQUNHRixFQUFBQyxJQUFBRSxFQUFBRixFQUNIRCxFQUFBRSxFQUFBQyxFQUFBRCxFQUNBLEVBRUFFLEtBQUFDLEdBRUdMLEVBQUFFLElBQUFDLEVBQUFELEVBQ0hGLEVBQUFDLEVBQUFFLEVBQUFGLEVBQ0EsSUFBQUcsS0FBQUMsR0FFQUQsS0FBQUMsR0FBQSxFQUVHTCxFQUFBQyxFQUFBRSxFQUFBRixHQUFBRCxFQUFBRSxFQUFBQyxFQUFBRCxFQUdIRSxLQUFBRSxNQUFBSCxFQUFBRixFQUFBRCxFQUFBQyxJQUFBRCxFQUFBRSxFQUFBQyxFQUFBRCxJQUVBRixFQUFBQyxFQUFBRSxFQUFBRixHQUFBRCxFQUFBRSxFQUFBQyxFQUFBRCxFQUdBRSxLQUFBQyxHQUFBLEVBQUFELEtBQUFFLE1BQUFILEVBQUFELEVBQUFGLEVBQUFFLElBQUFDLEVBQUFGLEVBQUFELEVBQUFDLElBRUFELEVBQUFDLEVBQUFFLEVBQUFGLEdBQUFELEVBQUFFLEVBQUFDLEVBQUFELEVBR0FFLEtBQUFDLEdBQUFELEtBQUFFLE1BQUFOLEVBQUFDLEVBQUFFLEVBQUFGLElBQUFFLEVBQUFELEVBQUFGLEVBQUFFLElBS0EsSUFBQUUsS0FBQUMsR0FBQUQsS0FBQUUsTUFBQU4sRUFBQUUsRUFBQUMsRUFBQUQsSUFBQUYsRUFBQUMsRUFBQUUsRUFBQUYsb0JDaEJBekosRUFBQUQsUUFuQkEsU0FBQXlKLEVBQUEsQ0FBNkNDLEVBQUEsRUFBQUMsRUFBQSxHQUFlQyxFQUFBSSxHQUM1RCxNQUFBL0gsRUFBQTRILEtBQUFJLElBQUFELEdBQ0F6SixFQUFBc0osS0FBQUssSUFBQUYsR0FDQUcsRUFBQSxHQUdBQSxFQUFBVCxFQUFBRSxFQUFBRixFQUFBRCxFQUFBQyxFQUNBUyxFQUFBUixFQUFBQyxFQUFBRCxFQUFBRixFQUFBRSxFQUdBLE1BQUFTLEVBQUFELEVBQUFULEVBQUFuSixFQUFBNEosRUFBQVIsRUFBQTFILEVBQ0FvSSxFQUFBRixFQUFBVCxFQUFBekgsRUFBQWtJLEVBQUFSLEVBQUFwSixFQUtBLE9BRkE0SixFQUFBVCxFQUFBVSxFQUFBWCxFQUFBQyxFQUNBUyxFQUFBUixFQUFBVSxFQUFBWixFQUFBRSxFQUNBUSxrQkNoQkEsTUFBQUcsRUFBQSxDQUNBLFVBQ0EsVUFFQSxZQUNBLFlBQ0EsVUFDQSxhQStCQSxTQUFBQyxFQUFBQyxHQXVEQSxJQUFBQyxFQUFBQyxFQUFBbkssRUExQ0EsT0FaQW9LLElBQUEsSUFBQS9KLE9BQ0FnSyxLQXFEQUgsRUFyREFELEVBQUF4SixFQXFEQTBKLEVBckRBRixFQUFBSyxFQXFEQXRLLEVBckRBaUssRUFBQUUsRUFzREFELEVBQUFDLEVBQUFELEVBQUFsSyxFQUFBa0ssRUFBQWxLLEVBQUFtSyxFQUFBbkssRUFBQW1LLEVBQUFuSyxHQXJEQXVLLElBQUFGLElBaURBLFNBQUFILEVBQUFDLEVBQUFuSyxHQUNBLE9BQUFrSyxFQUFBQyxFQUFBRCxFQUFBbEssRUFBQWtLLEVBQUFsSyxFQUFBbUssRUFBQW5LLEVBQUFtSyxFQUFBbkssRUFsREF3SyxDQUFBUCxFQUFBeEosRUFBQXdKLEVBQUFLLEVBQUFMLEVBQUFFLEdBQ0FDLElBQUFLLFdBQUEsR0FBQUosSUFBQSxNQUFBRSxJQUFBRixJQUNBLEdBQUFELElBQUFLLFdBQUFMLElBQUFNLElBQUEsRUFDQVQsRUFBQXhKLEdBQUE0SixJQUFBRCxJQUFBTSxJQUFBLElBQUFULEVBQUFLLEVBQUFMLEVBQUFFLEdBQUFJLElBQ0FOLEVBQUFLLEdBQUFELElBQUFELElBQUFNLElBQUEsUUFBQVQsRUFBQUUsRUFBQUYsRUFBQXhKLEdBQUE4SixJQUNBTixFQUFBRSxHQUFBRSxNQUFBRCxJQUFBTSxJQUFBLFFBQUFULEVBQUF4SixFQUFBd0osRUFBQUssR0FBQUMsS0FDQUgsSUFBQU0sSUFBQSxJQUFBTixJQUFBTSxLQUFBLEtBQ0FOLElBQUF4SixNQUFBMEksS0FBQXFCLE1BQUEsSUFBQU4sSUFBQSxLQUNBRCxJQUFBTSxJQUFBcEIsS0FBQXFCLE1BQUFQLElBQUFNLEtBQ0FOLElBQUFLLFdBQUFuQixLQUFBcUIsTUFBQVAsSUFBQUssWUFDQUwsSUE4Q0ExSyxFQUFBRCxRQUFBLENBQ0FzSyxTQUNBRSxJQXpGQSxTQUFBVyxHQUNBLE1BQUE1SyxFQUFBK0osRUFBQWEsR0FFQSxPQURBQyxRQUFBQyxJQUFBLFNBQUE5SyxFQUFBNEssVUFDZ0I1SyxFQUFBLE1BQVFBLEVBQUEsTUFBUUEsRUFBQSxPQXVGaEMrSyxLQXBGQSxTQUFBSCxFQUFBVixHQUNBLE1BQUFsSyxFQUFBK0osRUFBQWEsR0FDQSxjQUFpQjVLLEVBQUEsTUFBUUEsRUFBQSxNQUFRQSxFQUFBLE1BQVFrSyxNQW1GekNjLFdBekVBLFNBQUFKLEdBQ0EsTUFBQTVLLEVBQUErSixFQUFBYSxHQUNBQyxRQUFBQyxJQUFBLFVBQUE5SyxFQUFBNEssR0FDQSxNQUNBUixFQUFBSixFQURBLENBQWlCdkosRUFBQVQsRUFBQSxHQUFBc0ssRUFBQXRLLEVBQUEsR0FBQW1LLEVBQUFuSyxFQUFBLEtBRWpCb0ssRUFBQU0sSUFvREEsU0FBQU8sRUFBQXZKLEdBQ1MsSUFBVHVKLEdBQUF2SixFQUFTdUosR0FBQSxLQUFBQSxHQUFBLElBQTJCLEtBQUFBLEVBQUEsR0FBQUEsR0FBQSxJQUF3QixPQUFBQSxFQXJENURDLENBQUFkLEVBQUFNLElBQUEsS0FDQSxNQUFBUyxFQXNCQSxTQUFBZixHQUNBLElBQUFILEVBQUEsSUFBQTVKLE9BQ0EsTUFBQStKLEVBQUFLLFdBQ0FSLEVBQUF4SixFQUFBd0osRUFBQUssRUFBQUwsRUFBQUUsRUFBQWIsS0FBQXFCLE1BQUEsS0FBQVAsRUFBQXhKLFdBQ0ssQ0FTTCxPQVJBd0osRUFBQU0sS0FBQSxHQUNBTixFQUFBSyxZQUFBLElBQ0FMLEVBQUF4SixPQUFBLElBQ0FqQixFQUFBMkosS0FBQThCLE1BQUFoQixFQUFBTSxLQUNBVyxFQUFBakIsRUFBQU0sSUFBQS9LLEVBQ0E4QixFQUFBMkksRUFBQXhKLE9BQUEsRUFBQXdKLEVBQUFLLFlBQ0FhLEVBQUFsQixFQUFBeEosT0FBQSxFQUFBd0osRUFBQUssV0FBQVksR0FDQXhLLEVBQUF1SixFQUFBeEosT0FBQSxFQUFBd0osRUFBQUssWUFBQSxFQUFBWSxJQUNBMUwsR0FDQSxPQUFBc0ssRUFBQXhKLEVBQUEySixFQUFBeEosTUFBZ0NxSixFQUFBSyxFQUFBekosRUFBU29KLEVBQUFFLEVBQUExSSxFQUFTLE1BQ2xELE9BQUF3SSxFQUFBeEosRUFBQTZLLEVBQXdCckIsRUFBQUssRUFBQUYsRUFBQXhKLE1BQWlCcUosRUFBQUUsRUFBQTFJLEVBQVMsTUFDbEQsT0FBQXdJLEVBQUF4SixFQUFBZ0IsRUFBd0J3SSxFQUFBSyxFQUFBRixFQUFBeEosTUFBaUJxSixFQUFBRSxFQUFBdEosRUFBUyxNQUNsRCxPQUFBb0osRUFBQXhKLEVBQUFnQixFQUF3QndJLEVBQUFLLEVBQUFnQixFQUFTckIsRUFBQUUsRUFBQUMsRUFBQXhKLE1BQWlCLE1BQ2xELE9BQUFxSixFQUFBeEosRUFBQUksRUFBd0JvSixFQUFBSyxFQUFBN0ksRUFBU3dJLEVBQUFFLEVBQUFDLEVBQUF4SixNQUFpQixNQUNsRCxRQUFBcUosRUFBQXhKLEVBQUEySixFQUFBeEosTUFBaUNxSixFQUFBSyxFQUFBN0ksRUFBU3dJLEVBQUFFLEVBQUFtQixFQUUxQ3JCLEVBQUF4SixFQUFBNkksS0FBQXFCLE1BQUEsSUFBQVYsRUFBQXhKLEdBQ0F3SixFQUFBSyxFQUFBaEIsS0FBQXFCLE1BQUEsSUFBQVYsRUFBQUssR0FDQUwsRUFBQUUsRUFBQWIsS0FBQXFCLE1BQUEsSUFBQVYsRUFBQUUsR0FFQSxPQUFBRixFQS9DQXNCLENBQUFuQixHQUNBLGFBQWdCZSxFQUFBMUssS0FBYTBLLEVBQUFiLEtBQWFhLEVBQUFoQix3QkM3QjFDLE1BQUFxQixFQUFlak0sRUFBUSxHQUN2QmtNLEVBQWlCbE0sRUFBUSxJQThFekJHLEVBQUFELFFBNUVBLGNBQUErTCxFQUNBRSxZQUFBQyxFQUFBLElBQ0FDLE1BQUFELEdBUUFFLEtBQUFDLE9BQUEsRUFFQXpMLE9BQUEwTCxPQUFBRixLQUFBRixHQVVBRCxLQUFBTSxFQUFBQyxHQUNBQSxLQUFBSixLQUFBSSxPQUFBLEVBQ0EsSUFBQUMsRUFBQUYsRUFBQUcsVUFDQUgsRUFBQUcsVUFBQU4sS0FBQU0sVUFDQUgsRUFBQUksVUFBQVAsS0FBQU8sVUFDQUosRUFBQUssWUFBQVIsS0FBQVEsWUFDQUwsRUFBQU0sWUFDQU4sRUFBQU8sSUFBQVYsS0FBQTFDLEVBQUE4QyxFQUFBSixLQUFBekMsRUFBQTZDLEVBQUFKLEtBQUFDLE9BQUFHLEVBQUEsSUFBQTNDLEtBQUFDLElBQUEsR0FDQXlDLEVBQUFRLFlBQ0FSLEVBQUFTLE9BQ0FULEVBQUFVLFNBRUFiLEtBQUFjLGFBQ0FYLEVBQUFZLE9BQ0FaLEVBQUFhLFVBQUFoQixLQUFBMUMsRUFBQThDLEVBQUFKLEtBQUF6QyxFQUFBNkMsR0FDQUQsRUFBQWMsT0FBQWpCLEtBQUFwQyxPQUNBdUMsRUFBQWEsV0FBQWhCLEtBQUEsRUFBQUksR0FBQUosS0FBQSxFQUFBSSxHQUNBRCxFQUFBTSxZQUNBTixFQUFBZSxPQUFBbEIsS0FBQTFDLEVBQUE4QyxFQUFBSixLQUFBekMsRUFBQTZDLEdBQ0FELEVBQUFnQixPQUFBbkIsS0FBQTFDLEVBQUE4QyxFQUFBSixLQUFBekMsRUFBQTZDLEVBQUFKLEtBQUFDLE9BQUFHLEdBQ0FELEVBQUFRLFlBQ0FSLEVBQUFVLFNBQ0FWLEVBQUFpQixXQUVBakIsRUFBQUcsVUFBQUQsRUFFQU4sTUFBQXNCLEtBQUFsQixFQUFBQyxHQVNBUCxXQUFBTyxHQUNBSixLQUFBQyxPQUFBRCxLQUFBQyxPQUFBRyxFQUNBTCxNQUFBdUIsV0FBQWxCLEdBV0FQLGFBQUEwQixHQUNBLE9BQUEzQixFQUFBMkIsRUFBQXZCLFlBQUFDLDBCQ2hGQXVCLE9BQUFDLFNBQUEsQ0FDQUMsU0FBYWhPLEVBQVEsSUFDckJpTyxhQUFpQmpPLEVBQVEsSUFDekJrTyxnQkFBb0JsTyxFQUFRLElBQzVCbU8sWUFBZ0JuTyxFQUFRLElBQ3hCb08sWUFBZ0JwTyxFQUFRLElBQ3hCcU8sS0FBU3JPLEVBQVEsR0FDakJzTyxVQUFhdE8sRUFBUSxJQUNyQnVPLFVBQWF2TyxFQUFRLElBQ3JCd08sTUFBVXhPLEVBQVEsSUFDbEJ5TyxPQUFXek8sRUFBUSxJQUNuQjBPLE9BQUEsQ0FDQUMsU0FBZTNPLEVBQVEsS0FFdkI0TyxPQUFBLENBQ0FDLFNBQWU3TyxFQUFRLEtBRXZCOE8sTUFBQSxDQUNBQyxTQUFlL08sRUFBUSxJQUN2QmdQLE9BQVloUCxFQUFRLElBQ3BCaVAsSUFBVWpQLEVBQVEsSUFDbEJrUCxRQUFjbFAsRUFBUSxNQUl0QkcsRUFBQUQsUUFBQTROLE9BQUFDLHdCQ05BNU4sRUFBQUQsUUFuQkEsU0FBQWlQLEVBQUFDLEVBQUExQyxHQWdCQSxPQWRBMEMsRUFEQUMsTUFBQUMsUUFBQUYsR0FDQUEsRUFBQUcsSUFBQSxTQUFBMUIsR0FDQSxPQUFBc0IsRUFBQXRCLEVBQUFuQixLQUVHLGlCQUFBQSxFQUNILENBQ0E5QyxFQUFBd0YsRUFBQXhGLEVBQUE4QyxFQUFBOUMsRUFDQUMsRUFBQXVGLEVBQUF2RixFQUFBNkMsRUFBQTdDLEdBR0EsQ0FDQUQsRUFBQXdGLEVBQUF4RixFQUFBOEMsRUFDQTdDLEVBQUF1RixFQUFBdkYsRUFBQTZDLG1CQzBPQXZNLEVBQUFELFFBOU9BLE1BQ0FpTSxZQUFBQyxFQUFBLElBUUFFLEtBQUFqQixHQUFBZSxFQUFBZixJQWxCQXRCLEtBQUF5RixTQUFBLElBQUFDLEtBQUFDLE1BMEJBcEQsS0FBQTFDLEVBQUEsRUFRQTBDLEtBQUF6QyxFQUFBLEVBUUF5QyxLQUFBSSxNQUFBLEtBUUFKLEtBQUFwQyxNQUFBLEVBUUFvQyxLQUFBM0MsT0FBQSxLQVFBMkMsS0FBQXFELGNBQUEsRUFRQXJELEtBQUFzRCxZQUFBLEVBUUF0RCxLQUFBdUQsWUFBQSxHQVFBdkQsS0FBQXdELFFBQUEsRUFRQXhELEtBQUF5RCxTQUFBLEdBUUF6RCxLQUFBMEQsY0FBQSxFQVFBMUQsS0FBQTJELGVBQUEsS0FRQTNELEtBQUE0RCxnQkFBQSxFQVFBNUQsS0FBQTZELGVBQUEsRUFRQTdELEtBQUFjLFlBQUEsRUFRQWQsS0FBQU8sVUFBQSx3QkFRQVAsS0FBQVEsWUFBQSxPQVFBUixLQUFBTSxVQUFBLEVBUUFOLEtBQUE4RCxTQUFBLEtBUUE5RCxLQUFBK0QsYUFBQSxLQVFBL0QsS0FBQWdFLFdBQUEsS0FFQXhQLE9BQUEwTCxPQUFBRixLQUFBRixHQVNBRCxPQUFBb0UsR0FDQXpQLE9BQUEwTCxPQUFBRixLQUFBaUUsR0FVQXBFLEtBQUFNLEVBQUFDLEdBQ0FBLEtBQUFKLEtBQUFJLE9BQUEsRUFDQSxJQUFBQyxFQUFBRixFQUFBRyxVQUNBSCxFQUFBRyxVQUFBTixLQUFBTSxVQUdBTixLQUFBcUQsZUFDQWxELEVBQUFJLFVBQUFQLEtBQUFRLFlBQ0FMLEVBQUFNLFlBQ0FOLEVBQUFPLElBQUFWLEtBQUExQyxFQUFBOEMsRUFBQUosS0FBQXpDLEVBQUE2QyxFQUFBLE1BQUEzQyxLQUFBQyxJQUFBLEdBQ0F5QyxFQUFBUSxZQUNBUixFQUFBUyxRQUlBWixLQUFBM0MsUUFBQTJDLEtBQUFzRCxhQUNBbkQsRUFBQUksVUFBQVAsS0FBQWtFLGFBQUEsU0FDQS9ELEVBQUFNLFlBQ0FOLEVBQUFPLElBQUFWLEtBQUEzQyxPQUFBQyxFQUFBOEMsRUFBQUosS0FBQTNDLE9BQUFFLEVBQUE2QyxFQUFBLE1BQUEzQyxLQUFBQyxJQUFBLEdBQ0F5QyxFQUFBUSxZQUNBUixFQUFBUyxRQUdBVCxFQUFBRyxVQUFBRCxFQVNBUixXQUFBTyxHQUNBSixLQUFBMUMsRUFBQTBDLEtBQUExQyxFQUFBOEMsRUFDQUosS0FBQXpDLEVBQUF5QyxLQUFBekMsRUFBQTZDLEVBQ0FKLEtBQUFtRSxlQUFBLG1CQ25PQSxNQUFBQyxFQUFBLENBQ0FDLE9BQUEsRUFDQUMseUJBQUEsRUFDQUMsZUFBQSxFQUNBQyxjQUFBLEVBQ0FDLDBCQUFBLEVBQ0FDLFlBQUEsR0F3SUE3USxFQUFBRCxRQXJJQSxNQUNBaU0sWUFBQUMsRUFBQSxJQU9BRSxLQUFBM0wsS0FBQSxLQVFBMkwsS0FBQTJFLFNBQUEsRUFRQTNFLEtBQUE0RSxPQUFBLEVBUUE1RSxLQUFBaUUsTUFBQSxFQUVBakUsS0FBQW9FLFVBRUE1UCxPQUFBMEwsT0FBQUYsS0FBQUYsR0FFQUUsS0FBQTZFLFFBUUFoRixRQUNBRyxLQUFBaUUsTUFBQUcsRUFBQUcsZUFDQXZFLEtBQUE0RSxPQUFBLEVBUUEvRSxNQUNBRyxLQUFBOEUsUUFDQTlFLEtBQUErRSxVQVFBbEYsUUFDQUcsS0FBQWlFLE1BQUFHLEVBQUFJLGNBQ0F4RSxLQUFBMkUsV0FBQVAsRUFBQUUsMEJBQ0F0RSxLQUFBZ0YsU0FBQSxHQVVBbkYsU0FBQStFLEdBQ0E1RSxLQUFBaUUsUUFBQUcsRUFBQUssNEJBQ0F6RSxLQUFBNEUsVUFDQTVFLEtBQUFpRSxNQUFBRyxFQUFBSywyQkFTQTVFLFVBQ0FHLEtBQUFpRSxNQUFBRyxFQUFBRyxlQVNBMUUsWUFDQSxPQUFBRyxLQUFBaUUsUUFBQUcsRUFBQUksY0FpQkEzRSxZQUNBLElBQUFvRixFQUFBakYsS0FBQTRFLE9BU0EsT0FSQSxJQUFBSyxJQUNBakYsS0FBQWlFLFFBQUFHLEVBQUFHLGVBQ0F2RSxLQUFBNEUsT0FBQSxFQUNPNUUsS0FBQTJFLFdBQUFQLEVBQUFFLDJCQUNQdEUsS0FBQWlFLE1BQUFHLEVBQUFLLDBCQUNBekUsS0FBQTRFLE9BQUEsSUFHQUssa0NDMUhBcFIsRUFBQUQsUUExQkEsU0FBQTJOLEVBQUEyRCxHQUNBLElBQUEzRCxJQUFBMkQsRUFDQSxTQVFBLElBTEEsSUFBQUMsRUFBQUQsRUFBQXBDLFFBQUFvQyxFQUVBRSxHQUFBLEVBQ0FDLEVBQUFGLEVBQUFHLE9BQUEsRUFFQXhSLEVBQUEsRUFBZ0JBLEVBQUFxUixFQUFBRyxPQUFpQkQsRUFBQXZSLElBQUEsQ0FDakMsSUFBQXlSLEVBQUFKLEVBQUFyUixHQUFBd0osRUFDQWtJLEVBQUFMLEVBQUFyUixHQUFBeUosRUFDQWtJLEVBQUFOLEVBQUFFLEdBQUEvSCxFQUNBb0ksRUFBQVAsRUFBQUUsR0FBQTlILEVBRUFpSSxFQUFBakUsRUFBQWhFLEdBQUFtSSxFQUFBbkUsRUFBQWhFLEdBQ0FnRSxFQUFBakUsR0FBQW1JLEVBQUFGLElBQUFoRSxFQUFBaEUsRUFBQWlJLElBQUFFLEVBQUFGLEdBQUFELElBQ0FILE1BS0EsT0FBQUEsa0JDUEF2UixFQUFBRCxRQXRCQSxTQUFBK1IsRUFBQTdDLEVBQUE4QyxHQW1CQSxPQWxCQTdDLE1BQUFDLFFBQUFGLEdBQ0FBLElBQUFHLElBQUEsU0FBQTFCLEdBQ0EsT0FBQW9FLEVBQUFwRSxFQUFBcUUsTUFHQTlDLEVBQUEsQ0FDQXhGLEVBQUF3RixFQUFBeEYsRUFDQUMsRUFBQXVGLEVBQUF2RixHQUdBLE1BQUFxSSxFQUFBdEksSUFDQXdGLEVBQUF4RixHQUFBc0ksRUFBQXRJLEdBR0EsTUFBQXNJLEVBQUFySSxJQUNBdUYsRUFBQXZGLEdBQUFxSSxFQUFBckksSUFHQXVGLGtCQ29EQWpQLEVBQUFELFFBN0RBLE1BQ0FpTSxZQUFBQyxFQUFBLElBUUFFLEtBQUFqQixHQUFBZSxFQUFBZixJQW5CQXRCLEtBQUF5RixTQUFBLElBQUFDLEtBQUFDLE1BMkJBcEQsS0FBQTZGLFFBQUEsS0FRQTdGLEtBQUE4RixRQUFBLEtBUUE5RixLQUFBK0YsV0FBQSxLQVFBL0YsS0FBQWdHLGdCQUFBLEtBRUF4UixPQUFBMEwsT0FBQUYsS0FBQUYsR0FTQUQsbUJBQUFPLEdBQ0FBLEdBQUFKLEtBQUErRixhQUNBL0YsS0FBQStGLFdBQUF6SSxFQUFBMEMsS0FBQStGLFdBQUF6SSxFQUFBOEMsRUFDQUosS0FBQStGLFdBQUF4SSxFQUFBeUMsS0FBQStGLFdBQUF4SSxFQUFBNkMsRUFDQUosS0FBQW1FLGVBQUEsc0JDNURBLE1BQUF4RSxFQUFlak0sRUFBUSxHQUN2Qm1QLEVBQW9CblAsRUFBUSxHQUM1QnVTLEVBQXVCdlMsRUFBUSxHQUMvQmlTLEVBQXdCalMsRUFBUSxJQXlFaENHLEVBQUFELFFBdkVBLGNBQUErTCxFQUNBRSxZQUFBQyxFQUFBLElBQ0FDLE1BQUFELEdBUUFFLEtBQUE4QyxPQUFBLEdBRUF0TyxPQUFBMEwsT0FBQUYsS0FBQUYsR0FVQUQsS0FBQU0sRUFBQUMsR0FDQUEsS0FBQUosS0FBQUksT0FBQSxFQUNBLElBQUFDLEVBQUFGLEVBQUFHLFVBQ0FILEVBQUFHLFVBQUFOLEtBQUFNLFVBQ0FILEVBQUFZLE9BQ0FaLEVBQUFhLFVBQUFoQixLQUFBMUMsRUFBQThDLEVBQUFKLEtBQUF6QyxFQUFBNkMsR0FDQUQsRUFBQWMsT0FBQWpCLEtBQUFwQyxPQUNBdUMsRUFBQWEsV0FBQWhCLEtBQUEsRUFBQUksR0FBQUosS0FBQSxFQUFBSSxHQUNBRCxFQUFBSSxVQUFBUCxLQUFBTyxVQUNBSixFQUFBSyxZQUFBUixLQUFBUSxZQUVBTCxFQUFBTSxZQUNBTixFQUFBZSxRQUFBbEIsS0FBQTFDLEVBQUEwQyxLQUFBOEMsT0FBQSxHQUFBeEYsR0FBQThDLEdBQUFKLEtBQUF6QyxFQUFBeUMsS0FBQThDLE9BQUEsR0FBQXZGLEdBQUE2QyxHQUNBLFFBQUF0TSxFQUFBLEVBQW1CQSxFQUFBa00sS0FBQThDLE9BQUF3QyxPQUF3QnhSLElBQzNDcU0sRUFBQWdCLFFBQUFuQixLQUFBOEMsT0FBQWhQLEdBQUF3SixFQUFBMEMsS0FBQTFDLEdBQUE4QyxHQUFBSixLQUFBOEMsT0FBQWhQLEdBQUF5SixFQUFBeUMsS0FBQXpDLEdBQUE2QyxHQUVBRCxFQUFBZ0IsUUFBQW5CLEtBQUExQyxFQUFBMEMsS0FBQThDLE9BQUEsR0FBQXhGLEdBQUE4QyxHQUFBSixLQUFBekMsRUFBQXlDLEtBQUE4QyxPQUFBLEdBQUF2RixHQUFBNkMsR0FDQUQsRUFBQVEsWUFDQVIsRUFBQVMsT0FDQVQsRUFBQVUsU0FFQVYsRUFBQWlCLFVBQ0FqQixFQUFBRyxVQUFBRCxFQUNBTixNQUFBc0IsS0FBQWxCLEVBQUFDLEdBU0FQLFdBQUFPLEdBQ0FKLEtBQUE4QyxPQUFBRCxFQUFBN0MsS0FBQThDLE9BQUExQyxHQUNBTCxNQUFBdUIsV0FBQWxCLEdBVUFQLGFBQUEwQixHQUNBLE9BQUEwRSxFQUFBMUUsRUFBQW9FLEVBQUEzRixLQUFBOEMsT0FBQTlDLDBCQzVEQSxNQUFBMkIsRUFBcUJqTyxFQUFRLElBQzdCa08sRUFBd0JsTyxFQUFRLElBc1ZoQ0csRUFBQUQsUUFwVkEsTUFFQWlNLFlBQUFDLEVBQUEsSUFRQUUsS0FBQWtHLFdBQUEsRUFRQWxHLEtBQUFtRyxTQUFBLEtBUUFuRyxLQUFBb0csUUFBQSxHQVFBcEcsS0FBQXFHLFlBQUEsS0FRQXJHLEtBQUFzRyxPQUFBLEVBUUF0RyxLQUFBdUcsTUFBQSxFQVFBdkcsS0FBQXdHLGdCQUFBLEtBUUF4RyxLQUFBeUcsYUFBQSxLQVFBekcsS0FBQTBHLGtCQUFBLE9BUUExRyxLQUFBMkcsa0JBQUEsT0FRQTNHLEtBQUE0RyxXQUFBLEtBUUE1RyxLQUFBNkcsaUJBQUEsRUFFQXJTLE9BQUEwTCxPQUFBRixLQUFBRixHQUVBRSxLQUFBd0csa0JBQ0F4RyxLQUFBd0csZ0JBQUEsSUFBQTVFLEdBVUEvQixVQUFBaUgsR0FDQTlHLEtBQUFzRyxPQUFBUSxFQUNBOUcsS0FBQStHLE9BQUFULE9BQUFRLEVBU0FqSCxTQUFBbUgsR0FDQWhILEtBQUF1RyxNQUFBUyxFQUNBaEgsS0FBQStHLE9BQUFSLE1BQUFTLEVBUUFuSCxPQUNBRyxLQUFBa0csV0FBQSxFQVFBckcsTUFDQUcsS0FBQWtHLFlBQ0FsRyxLQUFBaUgsT0FDQWpILEtBQUFrSCxjQUFBbEgsS0FBQXdHLGlCQUNBeEcsS0FBQW1ILFVBQUFuSCxLQUFBeUcsY0FDQXpHLEtBQUFvSCxjQVVBdkgsY0FBQTJHLElBU0EzRyxPQUNBRyxLQUFBK0csU0FDQS9HLEtBQUErRyxPQUFBTSxTQUFBQyxlQUFBdEgsS0FBQW1HLFdBRUFuRyxLQUFBK0csUUFLQS9HLEtBQUF1SCxVQUNBdkgsS0FBQXVILFFBQUF2SCxLQUFBK0csT0FBQVMsV0FBQXhILEtBQUFxRyxjQUVBckcsS0FBQXVILFNBS0F2SCxLQUFBeUgsVUFBQXpILEtBQUFzRyxRQUFBdEcsS0FBQStHLE9BQUFULFFBQ0F0RyxLQUFBMEgsU0FBQTFILEtBQUF1RyxPQUFBdkcsS0FBQStHLE9BQUFSLE9BRUF2RyxLQUFBeUcsZUFFQXpHLEtBQUE0RyxZQUFBNUcsS0FBQTZHLGlCQUNBN0csS0FBQXlHLGFBQUEsSUFBQTlFLEVBQUEsQ0FDQW9GLE9BQUEvRyxLQUFBK0csT0FDQVksU0FBQU4sU0FBQUMsZUFBQXRILEtBQUE0RyxZQUNBQyxpQkFBQTdHLEtBQUE2RyxtQkFHQTdHLEtBQUF5RyxhQUFBLElBQUE5RSxFQUFBLENBQ0FvRixPQUFBL0csS0FBQStHLFVBS0EvRyxLQUFBeUcsYUFBQW1CLFNBRUE1SCxLQUFBa0csV0FBQSxHQXhCQTJCLE1BQUEsMENBQUE3SCxLQUFBcUcsWUFBQSwrRUFQQXdCLE1BQUEsK0ZBd0NBaEksVUFBQTRHLElBV0E1RyxZQUFBNEcsRUFBQXFCLElBU0FqSSxXQUNBRyxLQUFBK0gsVUFBQSxJQUFBNUUsTUFBQTZFLFVBQ0FoSSxLQUFBOEgsWUFBQXJLLEtBQUF3SyxJQUFBakksS0FBQStILFNBQUEvSCxLQUFBa0ksU0FBQWxJLEtBQUFvRyxTQUNBcEcsS0FBQWtJLFNBQUFsSSxLQUFBK0gsU0FHQS9ILEtBQUF3RyxrQkFBQXhHLEtBQUF3RyxnQkFBQTJCLGtCQUNBbkksS0FBQW9JLG9CQUFBcEksS0FBQThILGFBQ0E5SCxLQUFBcUksa0JBQUFySSxLQUFBdUgsV0FFQXZILEtBQUFzSSxZQUFBdEksS0FBQXlHLGFBQUF6RyxLQUFBOEgsYUFDQTlILEtBQUF1SSxRQUVBdkksS0FBQXdJLE9BQUF4SSxLQUFBOEgsYUFHQTlILEtBQUF1SCxRQUFBeEcsT0FDQWYsS0FBQXFCLEtBQUFyQixLQUFBdUgsU0FDQXZILEtBQUF1SCxRQUFBbkcsV0FTQXZCLGFBQ0FHLEtBQUE4SCxZQUFBLEVBQ0EsSUFBQVcsRUFBQXRGLEtBQUFDLE1BQ0FwRCxLQUFBK0gsU0FBQVUsRUFDQXpJLEtBQUFrSSxTQUFBTyxFQUdBekksS0FBQTBJLFdBQUExSSxLQUFBMEksV0FBQXBULEtBQUEwSyxNQUNBd0IsT0FBQW1ILHNCQUFBM0ksS0FBQTBJLFlBR0E3SSxhQUNBRyxLQUFBNEksV0FDQXBILE9BQUFtSCxzQkFBQTNJLEtBQUEwSSxZQVNBN0ksT0FBQWlJLElBV0FqSSxvQkFBQWlJLElBVUFqSSxLQUFBMEgsR0FDQSxPQUFBdkgsS0FBQXFHLGNBQ0FrQixFQUFBc0IsS0FBQSxrQkFDQXRCLEVBQUF1QixTQUFBLHlEQVdBakosa0JBQUEwSCxHQUNBLEdBQUF2SCxLQUFBd0csaUJBQUEsT0FBQXhHLEtBQUFxRyxZQUFBLENBQ0FrQixFQUFBaEgsVUFBQVAsS0FBQTJHLGtCQUNBWSxFQUFBd0IsU0FBQSxJQUFBL0ksS0FBQXVHLE1BQUF2RyxLQUFBc0csUUFFQWlCLEVBQUFoSCxVQUFBUCxLQUFBMEcsa0JBQ0FhLEVBQUEvRyxZQUFBUixLQUFBMEcsa0JBRUEsSUFBQXNDLEVBQUF2TCxLQUFBOEIsTUFBQVMsS0FBQXNHLE9BQUEsSUFFQWlCLEVBQUFzQixLQUFBLFFBQUFHLEVBQUEsZ0JBRUF6QixFQUFBdUIsU0FBQSxjQUFBOUksS0FBQXdHLGdCQUFBeUMscUJBQUEsT0FBQWpKLEtBQUF1RyxNQUFBLElBQUF2RyxLQUFBc0csUUFFQWlCLEVBQUEyQixXQUFBLEdBQUFsSixLQUFBdUcsTUFBQSxHQUFBdkcsS0FBQXNHLE9BQUEsR0FBQXRHLEtBQUF1RyxNQUFBLEdBQUF2RyxLQUFBc0csUUFDQWlCLEVBQUF3QixTQUFBLEdBQUEvSSxLQUFBdUcsTUFBQSxHQUFBdkcsS0FBQXNHLE9BQUEsR0FBQXRHLEtBQUF1RyxNQUFBdkcsS0FBQXdHLGdCQUFBeUMscUJBQUEsT0FBQWpKLEtBQUFzRyxRQUVBaUIsRUFBQWpILFVBQUEsc0JDOVZBLE1BQUE2SSxFQUFlelYsRUFBUSxJQUV2QjBWLEVBQW1CMVYsRUFBUSxHQUMzQm9PLEVBQW9CcE8sRUFBUSxJQUM1Qm1PLEVBQW9Cbk8sRUFBUSxJQUM1QjJWLEVBQXFCM1YsRUFBUSxJQUM3QnFPLEVBQWFyTyxFQUFRLEdBRXJCLFNBQUE0VixFQUFBQyxFQUFBbFYsRUFBQW1WLEdBRUEsT0FEQUQsRUFBQUUsaUJBQUFwVixFQUFBbVYsR0FDQSxXQUNBRCxFQUFBRyxvQkFBQXJWLEVBQUFtVixJQWdCQSxTQUFBRyxFQUFBNVUsR0FDQSxPQUFBNlUsV0FBQTdVLElBQUEsRUFHQSxTQUFBOFUsRUFBQUMsR0FDQSxJQUFBQyxFQVRBLFNBQUFELEdBQ0EsT0FBQXRJLE9BQUF3SSxpQkFBQUYsRUFBQSxVQVFBRSxDQUFBRixHQUNBL1YsRUFBQTRWLEVBQUFJLEVBQUFFLFlBQ0FqVixFQUFBMlUsRUFBQUksRUFBQUcsV0FHQSxPQUNBQyxFQUFBcFcsRUFIQTRWLEVBQUFJLEVBQUFLLGFBSUFoTCxFQUFBcEssRUFIQTJVLEVBQUFJLEVBQUFNLGVBMGtCQXhXLEVBQUFELFFBbmtCQSxNQUNBaU0sWUFBQUMsRUFBQSxJQTRHQSxTQUFBd0ssRUFBQWQsR0FDQUEsRUFBQWUsU0E4Q0EsR0FuSkF2SyxLQUFBd0ssV0FBQSxLQVFBeEssS0FBQXlLLFlBQUEsS0FRQXpLLEtBQUEwSyxZQUFBLEtBUUExSyxLQUFBK0csT0FBQSxLQVNBL0csS0FBQTJLLGFBQUEsRUFTQTNLLEtBQUE0SyxhQUFBLEVBUUE1SyxLQUFBNkssWUFBQSxFQVFBN0ssS0FBQTJILFNBQUEsS0FRQTNILEtBQUE2RyxpQkFBQSxLQVFBN0csS0FBQThLLGNBQUEsRUFRQTlLLEtBQUErSyxPQUFBLEtBRUF2VyxPQUFBMEwsT0FBQUYsS0FBQUYsR0FFQUUsS0FBQStLLFNBQ0EvSyxLQUFBK0ssT0FBQSxJQUFBNUIsRUFBQTlCLFNBQUEyRCxLQUFBLENBQ0FDLGlCQUFBLEVBQ0FDLGlCQUFBLEVBR0FDLE1BQUEsS0FJQW5MLEtBQUF3SyxhQUNBeEssS0FBQXdLLFdBQUEsSUFPQXhLLEtBQUE2SyxhQUNBN0ssS0FBQW9MLFlBQUE5QixFQUFBakMsU0FBQSxVQUFBckgsS0FBQXFMLFFBQUEvVixLQUFBMEssT0FBQXNLLEdBQ0F0SyxLQUFBb0wsWUFBQTlCLEVBQUFqQyxTQUFBLFFBQUFySCxLQUFBc0wsTUFBQWhXLEtBQUEwSyxPQUFBc0ssSUFHQSxpQkFBQWpELFVBQ0FySCxLQUFBb0wsWUFBQTlCLEVBQUFqQyxTQUFBLGFBQUFySCxLQUFBdUwsV0FBQWpXLEtBQUEwSyxPQUFBc0ssR0FDQXRLLEtBQUFvTCxZQUFBOUIsRUFBQWpDLFNBQUEsWUFBQXJILEtBQUF3TCxVQUFBbFcsS0FBQTBLLE9BQUFzSyxHQUNBdEssS0FBQW9MLFlBQUE5QixFQUFBakMsU0FBQSxXQUFBckgsS0FBQXlMLFNBQUFuVyxLQUFBMEssT0FBQXNLLEtBSUF0SyxLQUFBb0wsWUFBQTlCLEVBQUFqQyxTQUFBLFlBQUFySCxLQUFBMEwsVUFBQXBXLEtBQUEwSyxPQUFBc0ssR0FDQXRLLEtBQUFvTCxZQUFBOUIsRUFBQWpDLFNBQUEsWUFBQXJILEtBQUEyTCxVQUFBclcsS0FBQTBLLE9BQUFzSyxHQUNBdEssS0FBQW9MLFlBQUE5QixFQUFBakMsU0FBQSxVQUFBckgsS0FBQTRMLFFBQUF0VyxLQUFBMEssT0FBQXNLLElBSUF0SyxLQUFBeUssY0FDQXpLLEtBQUF5SyxZQUFBLElBQUE1SSxHQUdBN0IsS0FBQTBLLGNBQ0ExSyxLQUFBMEssWUFBQSxJQUFBNUksR0FHQTlCLEtBQUE4SyxhQWlCQTlLLEtBQUEySCxVQUFBM0gsS0FBQTZHLGlCQUFBLENBQ0EsSUFBQTJDLEVBQUF4SixLQUFBNEgsT0FBQXRTLEtBQUEwSyxNQUlBQSxLQUFBb0wsWUFBQTlCLEVBQUE5SCxPQUFBLFNBQUFnSSxHQUFBYyxHQUNBdEssS0FBQW9MLFlBQUE5QixFQUFBOUgsT0FBQSxvQkFBQWdJLEdBQUFjLEdBR0F0SyxLQUFBNkwsZUFBQTdMLEtBQUE2TCxlQUFBdlcsS0FBQTBLLE1BQ0FBLEtBQUFxSixhQUFBckosS0FBQXFKLGFBQUEvVCxLQUFBMEssTUFZQUgsR0FBQWlNLEVBQUF0QyxHQUNBLElBQUF1QixFQUFBL0ssS0FBQStLLE9BQ0FnQixFQUFBL0wsS0FBQStMLGNBRUFoQixFQUFBekIsR0FBQXdDLEVBQUF0QyxHQUNBLElBQUFjLEVBQUF0SyxLQUFBb0wsWUFBQSxDQUFBVSxFQUFBdEMsR0FBQSxTQUFBd0MsR0FDQWpCLEVBQUFrQixJQUFBQyxNQUFBbkIsRUFBQWlCLEtBR0EsT0FDQXpCLE9BQUEsV0FDQXdCLEVBQUF6QixHQUNBQSxNQVlBekssYUFBQTBCLEdBQ0EsT0FBQThILEVBQUE5SCxFQUFBdkIsS0FBQStHLFFBV0FsSCxTQUFBc00sRUFBQUMsR0FDQXBNLEtBQUF3SyxXQUFBNEIsR0FBQUQsRUFXQXRNLGFBQUF1TSxFQUFBQyxHQUNBdEosTUFBQUMsUUFBQW9KLEtBQ0FBLEVBQUEsQ0FBQUEsSUFFQSxNQUFBRSxFQUFBRixFQUFBbkosSUFBQXNKLElBQ0EsTUFBQUMsRUFBQSxJQUFBcEQsRUFLQSxPQUpBaUQsSUFDQUcsRUFBQTdILFNBQUE2SCxFQUFBQyx3QkFFQXpNLEtBQUEwTSxTQUFBRixFQUFBRCxHQUNBQyxJQUdBLE9BQUFGLEVBQUFoSCxPQUFBLEVBQ0FnSCxFQUdBQSxFQUFBLEdBUUF6TSxxQkFDQUcsS0FBQTJNLGFBQUE1SyxFQUFBOUssSUFDQStJLEtBQUEyTSxhQUFBNUssRUFBQTVLLE1BQ0E2SSxLQUFBMk0sYUFBQTVLLEVBQUEvSyxNQUNBZ0osS0FBQTJNLGFBQUE1SyxFQUFBN0ssT0FVQTJJLFFBQUErTSxHQUNBNU0sS0FBQTRMLFFBQUFnQixHQVNBL00sUUFBQStNLEdBQ0E1TSxLQUFBeUssWUFBQTFGLFFBQUEvRSxLQUFBNkwsZUFBQWUsSUFVQS9NLFVBQUErTSxHQUNBNU0sS0FBQTBMLFVBQUFrQixHQVNBL00sVUFBQStNLEdBRUE1TSxLQUFBeUssWUFBQTFGLFFBQUEsTUFDQSxJQUFBOEgsRUFBQTdNLEtBQUE2TCxlQUFBZSxHQUNBNU0sS0FBQXlLLFlBQUFwQixhQUFBckosS0FBQXFKLGFBQUF3RCxHQUNBN00sS0FBQXlLLFlBQUEzRixNQUFBK0gsR0FXQWhOLFVBQUErTSxHQUNBNU0sS0FBQTJMLFVBQUFpQixHQVNBL00sVUFBQStNLEdBQ0E1TSxLQUFBeUssWUFBQXFDLFNBQUE5TSxLQUFBNkwsZUFBQWUsR0FVQS9NLFdBQUErTSxHQUNBNU0sS0FBQXVMLFdBQUFxQixHQVNBL00sV0FBQStNLEdBRUE1TSxLQUFBMEssWUFBQTNGLFFBQUEsTUFDQS9GLFFBQUFDLElBQUEyTixFQUFBRyxRQUFBSCxHQUVBLE1BQUFJLEVBQUEsR0FDQSxRQUFBbFosRUFBQSxFQUFtQkEsRUFBQThZLEVBQUFHLFFBQUF6SCxPQUFzQnhSLElBQ3pDa1osRUFBQUMsS0FBQWpOLEtBQUE2TCxlQUFBZSxFQUFBRyxRQUFBalosS0FFQWtNLEtBQUEwSyxZQUFBckIsYUFBQTJELEVBQUFFLEtBQUFsTixLQUFBcUosY0FDQXJKLEtBQUEwSyxZQUFBNUYsTUFBQWtJLEdBQ0FoTixLQUFBOEssY0FDQTlLLEtBQUEwTCxVQUFBa0IsRUFBQUcsUUFBQSxJQVdBbE4sU0FBQStNLEdBQ0E1TSxLQUFBeUwsU0FBQW1CLEdBU0EvTSxTQUFBK00sR0FFQSxNQUFBSSxFQUFBLEdBQ0EsUUFBQWxaLEVBQUEsRUFBbUJBLEVBQUE4WSxFQUFBRyxRQUFBekgsT0FBc0J4UixJQUN6Q2taLEVBQUFDLEtBQUFqTixLQUFBNkwsZUFBQWUsRUFBQUcsUUFBQWpaLEtBRUFrTSxLQUFBMEssWUFBQTNGLFFBQUFpSSxHQUNBaE4sS0FBQThLLGNBQ0E5SyxLQUFBbU4sUUFBQVAsRUFBQUcsUUFBQSxJQVdBbE4sVUFBQStNLEdBQ0E1TSxLQUFBd0wsVUFBQW9CLEdBU0EvTSxVQUFBK00sR0FFQSxNQUFBSSxFQUFBLEdBQ0EsUUFBQWxaLEVBQUEsRUFBbUJBLEVBQUE4WSxFQUFBRyxRQUFBekgsT0FBc0J4UixJQUN6Q2taLEVBQUFDLEtBQUFqTixLQUFBNkwsZUFBQWUsRUFBQUcsUUFBQWpaLEtBRUFrTSxLQUFBMEssWUFBQTBDLFVBQUFKLEVBQ0FoTixLQUFBMEssWUFBQTJDLGdCQUNBVCxFQUFBVSxpQkFFQXROLEtBQUE4SyxjQUNBOUssS0FBQTJMLFVBQUFpQixFQUFBRyxRQUFBLElBV0FsTixhQUFBK00sR0FDQSxPQUFBNU0sS0FBQXdLLFdBQ0F4SyxLQUFBd0ssV0FBQW9DLEVBQUFSLFVBQUFwTSxLQUFBd0ssV0FBQStDLE9BQUFDLGFBQUFaLEVBQUFSLFVBRUEsS0FXQXZNLFdBQUErTSxHQUNBNU0sS0FBQXFMLFFBQUF1QixHQVVBL00sUUFBQStNLEdBQ0E1TSxLQUFBcUwsUUFBQXVCLEdBU0EvTSxRQUFBK00sR0FDQSxJQUFBVCxFQUFBbk0sS0FBQXlOLGFBQUFiLEdBQ0FULE1BQUF1QixhQUNBdkIsRUFBQXJILFFBV0FqRixZQUFBK00sR0FDQTVNLEtBQUFzTCxNQUFBc0IsR0FTQS9NLE1BQUErTSxHQUNBLElBQUFULEVBQUFuTSxLQUFBeU4sYUFBQWIsR0FDQVQsR0FDQUEsRUFBQXBILFVBWUFsRixZQUFBOE4sR0FDQSxPQUFBM04sS0FBQTZMLGVBQUE4QixHQVVBOU4sZUFBQThOLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLElBQUFDLEdBL2hCQTlELEVBK2hCQTlKLEtBQUErRyxPQTdoQkEsQ0FDQXpKLEdBRkF1USxFQUFBL0QsRUFBQWdFLHlCQUVBQyxLQUNBeFEsRUFBQXNRLEVBQUFHLE1BNGhCQSxPQUFBaE8sS0FBQWlPLFVBQ0EsQ0FDQTNRLEVBQUFHLEtBQUFxQixPQUFBNk8sRUFBQU8sUUFBQU4sRUFBQXRRLEdBQUEwQyxLQUFBaU8sV0FDQTFRLEVBQUFFLEtBQUFxQixPQUFBNk8sRUFBQVEsUUFBQVAsRUFBQXJRLEdBQUF5QyxLQUFBaU8sWUFHQSxDQUNBM1EsRUFBQUcsS0FBQXFCLE1BQUE2TyxFQUFBTyxRQUFBTixFQUFBdFEsR0FDQUMsRUFBQUUsS0FBQXFCLE1BQUE2TyxFQUFBUSxRQUFBUCxFQUFBclEsSUF4aUJBLElBQUF1TSxFQUNBK0QsRUFrakJBaE8sU0FDQSxHQUFBRyxLQUFBMkgsVUFBQTNILEtBQUE2RyxrQkFBQTdHLEtBQUErRyxPQUFBLENBQ0EsSUFBQXFILEVBQUFwTyxLQUFBK0csT0FBQVIsTUFDQThILEVBQUFyTyxLQUFBK0csT0FBQVQsT0FFQWdJLEVBQUF6RSxFQUFBeEMsU0FBQTJELE1BRUFoRSxFQUFBeEYsT0FBQStNLFdBQUFELEVBQUFuRSxFQUNBckQsRUFBQXRGLE9BQUFnTixZQUFBRixFQUFBbFAsRUFFQXFQLEVBQUFMLEVBQUFDLEVBR0FLLEVBQUEsR0FDQUMsRUFBQSxHQUhBM0gsRUFBQUYsRUFJQTJILEdBRUFDLEdBREExSCxFQUFBRixFQUFBMkgsR0FDQSxLQUNBRSxFQUFBN0gsRUFBQSxPQUVBNEgsRUFBQTFILEVBQUEsS0FDQTJILEVBQUFsUixLQUFBcUIsTUFBQWtJLEVBQUF5SCxHQUFBLE1BR0F6TyxLQUFBaU8sVUFBQWpILEVBQUFvSCxFQUFBcE8sS0FBQTZHLGlCQUVBN0csS0FBQTJILFNBQUFvQyxNQUFBeEQsTUFBQW1JLEVBQ0ExTyxLQUFBMkgsU0FBQW9DLE1BQUF6RCxPQUFBcUksRUFFQSxJQUFBQyxFQUFBblIsS0FBQThCLE1BQUEsSUFBQVMsS0FBQTZHLGtCQUFBLElBQ0E3RyxLQUFBK0csT0FBQWdELE1BQUF4RCxNQUFBcUksRUFDQTVPLEtBQUErRyxPQUFBZ0QsTUFBQXpELE9BQUFzSSxFQUNBNU8sS0FBQStHLE9BQUFnRCxNQUFBOEUsUUFBQSxRQUNBN08sS0FBQStHLE9BQUFnRCxNQUFBRSxXQUFBLE9BQ0FqSyxLQUFBK0csT0FBQWdELE1BQUFLLFlBQUEsUUFJQXZLLFlBQUF4QixFQUFBQyx1QkN2bUJBLE1BQUE4SyxFQUFtQjFWLEVBQVEsR0FrRTNCRyxFQUFBRCxRQWhFQSxjQUFBd1YsRUFDQXZKLFlBQUFDLEVBQUEsSUFDQUMsTUFBQUQsR0FRQUUsS0FBQXFOLGVBQUEsS0FRQXJOLEtBQUE4TyxhQUFBLEtBUUE5TyxLQUFBb04sVUFBQSxLQVFBcE4sS0FBQXFKLGFBQUEsS0FFQTdVLE9BQUEwTCxPQUFBRixLQUFBRixHQVVBRCxNQUFBd04sR0FDQXJOLEtBQUFxTixpQkFDQXJOLEtBQUFvTixVQUFBQyxFQUNBdE4sTUFBQStFLE1BQUF1SSxHQVNBeE4sUUFBQWlQLEdBQ0E5TyxLQUFBOE8sZUFDQS9PLE1BQUFnRixRQUFBK0osc0JDOURBLE1BQUExRixFQUFtQjFWLEVBQVEsR0FpRTNCRyxFQUFBRCxRQS9EQSxjQUFBd1YsRUFDQXZKLFlBQUFDLEVBQUEsSUFDQUMsTUFBQUQsR0FRQUUsS0FBQStPLGNBQUEsS0FRQS9PLEtBQUFnUCxZQUFBLEtBUUFoUCxLQUFBOE0sU0FBQSxLQVFBOU0sS0FBQXFKLGFBQUEsS0FFQTdVLE9BQUEwTCxPQUFBRixLQUFBRixHQVNBRCxNQUFBa1AsR0FDQS9PLEtBQUErTyxnQkFDQS9PLEtBQUE4TSxTQUFBaUMsRUFDQWhQLE1BQUErRSxNQUFBaUssR0FTQWxQLFFBQUFtUCxHQUNBaFAsS0FBQWdQLGVBQUFoUCxLQUFBOE0sU0FDQS9NLE1BQUFnRixRQUFBaUssb0JDNURBbmIsRUFBQUQsUUFSQSxTQUFBNEosRUFBQXVKLEdBQ0EsUUFBQXZKLEVBQUFGLEVBQUEsR0FBQUUsRUFBQUYsRUFBQXlKLEVBQUFSLE9BQUEvSSxFQUFBRCxFQUFBLEdBQUFDLEVBQUFELEVBQUF3SixFQUFBVCx1Q0NPQSxNQUFBMkksRUFBWXZiLEVBQVEsSUFDcEJ3YixFQUFjeGIsRUFBUSxJQUN0QjZPLEVBQWlCN08sRUFBUSxJQUV6QixJQUFBeWIsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFJQSxPQUhBRCxJQUNBRSxFQUFBLENBQUFGLEVBQUFDLEdBQUFFLEtBQUEsTUFFQUQsRUFBQUUsUUFBQSxVQUFtQyxLQUduQyxTQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUF2SSxTQUFBd0ksY0FBQSxVQUNBRCxFQUFBdEosT0FBQXFKLEVBQUFySixPQUNBc0osRUFBQXJKLE1BQUFvSixFQUFBcEosTUFDQSxJQUFBcEcsRUFBQXlQLEVBQUFwSSxXQUFBLE1BS0EsT0FIQXJILEVBQUFhLFVBQUE0TyxFQUFBckosTUFBQSxHQUNBcEcsRUFBQUMsT0FBQSxLQUNBRCxFQUFBMlAsVUFBQUgsRUFBQSxLQUNBQyxFQUFBRyxZQUdBLFNBQUFDLEVBQUFMLEdBQ0EsSUFBQUMsRUFBQXZJLFNBQUF3SSxjQUFBLFVBQ0FELEVBQUF0SixPQUFBcUosRUFBQXJKLE9BQ0FzSixFQUFBckosTUFBQW9KLEVBQUFwSixNQUNBLElBQUFwRyxFQUFBeVAsRUFBQXBJLFdBQUEsTUFLQSxPQUhBckgsRUFBQWEsVUFBQSxFQUFBNE8sRUFBQXRKLFFBQ0FuRyxFQUFBQyxNQUFBLE1BQ0FELEVBQUEyUCxVQUFBSCxFQUFBLEtBQ0FDLEVBQUFHLFlBR0EsTUFBQUUsRUFDQXBRLFlBQUFxUSxHQUNBLElBQUFDLEVBQUFuUSxLQUNBbVEsRUFBQTliLEtBQUE2YixFQUNBQyxFQUFBQyxVQUFBLEVBQ0FELEVBQUFFLElBQUEsSUFBQUMsTUFDQUgsRUFBQUUsSUFBQTVHLGlCQUFBLGtCQUNBMEcsRUFBQUMsVUFBQSxJQUNLLEdBR0x2USxPQUNBRyxLQUFBcVEsSUFBQUUsSUFBQXZRLEtBQUEzTCxNQW9OQVIsRUFBQUQsUUEvTUEsTUFFQWlNLFlBQUFDLEVBQUEsSUFRQUUsS0FBQXdRLFdBQUEsRUFRQXhRLEtBQUF5USxTQUFBLEtBUUF6USxLQUFBMFEsU0FBQSxLQVFBMVEsS0FBQW1QLGVBRUEzYSxPQUFBMEwsT0FBQUYsS0FBQUYsR0FHQUUsS0FBQWtQLFFBQ0FELEVBQUEsWUFDQWpQLEtBQUFrUCxNQUFBM00sRUFHQXZDLEtBQUFrUCxTQVlBclAsVUFBQThRLEdBQ0EsSUFBQUMsR0FBQSxFQUNBN04sTUFBQUMsUUFBQTJOLEtBQ0FDLEdBQUEsRUFDQUQsRUFBQSxDQUFBQSxJQUdBLE1BQUFFLEVBQUFGLEVBQUExTixJQUFBNk4sSUFDQSxNQUFBWixFQUFBZCxFQUFBcFAsS0FBQXlRLFNBQUFLLEdBRUEsR0FBQTlRLEtBQUFtUCxhQUFBZSxHQUNBLE9BQUFsUSxLQUFBbVAsYUFBQWUsR0FBQUcsSUFFQXJRLEtBQUF3USxXQUFBLEVBRUEsTUFBQU8sRUFBQSxJQUFBZCxFQUFBQyxHQU1BLE9BRkFhLEVBQUFDLE9BQ0FoUixLQUFBbVAsYUFBQWUsR0FBQWEsRUFDQUEsRUFBQVYsTUFHQSxPQUFBTyxFQUFBQyxFQUFBLEdBQUFBLEVBVUFoUixVQUFBOFEsR0FDQSxJQUFBQyxHQUFBLEVBQ0E3TixNQUFBQyxRQUFBMk4sS0FDQUMsR0FBQSxFQUNBRCxFQUFBLENBQUFBLElBR0EsTUFBQUUsRUFBQUYsRUFBQTFOLElBQUE2TixJQUNBLE1BQUFaLEVBQUFkLEVBQUFwUCxLQUFBMFEsU0FBQUksR0FFQSxHQUFBOVEsS0FBQW1QLGFBQUFlLEdBQ0EsT0FBQWxRLEtBQUFtUCxhQUFBZSxHQUVBbFEsS0FBQXdRLFdBQUEsRUFFQSxNQUFBUyxFQUFBLElBQUFqUixLQUFBa1AsTUFBQWdCLEdBRUEsT0FEQWxRLEtBQUFtUCxhQUFBZSxHQUFBZSxFQUNBQSxJQUdBLE9BQUFMLEVBQUFDLEVBQUEsR0FBQUEsRUFZQWhSLFVBQUF4TCxFQUFBc2IsRUFBQXVCLEdBQ0FsUixLQUFBd1EsV0FBQSxFQUVBLE1BQUFPLEVBQUEsSUFBQWQsRUFBQTViLEdBQ0EyTCxLQUFBbVAsYUFBQTlhLEdBQUEwYyxFQUNBLE1BQUFJLEVBQUEsSUFBQWIsTUFRQSxPQUhBYSxFQUFBMUgsaUJBQUEsT0FKQSxTQUFBMkgsSUFDQUwsRUFBQVYsSUFBQUUsSUFBQVcsRUFBQUMsR0FDQUEsRUFBQXpILG9CQUFBLE9BQUEwSCxLQUdBRCxFQUFBWixJQUFBWixFQUFBWSxJQUVBUSxFQUFBVixJQVdBeFEsV0FBQXhMLEVBQUFzYixHQUNBLE9BQUEzUCxLQUFBcVIsVUFBQWhkLEVBQUFzYixFQUFBRCxHQVdBN1AsV0FBQXhMLEVBQUFzYixHQUNBLE9BQUEzUCxLQUFBcVIsVUFBQWhkLEVBQUFzYixFQUFBSyxHQVFBblEsaUJBQ0EsR0FBQUcsS0FBQXdRLFVBQ0EsU0FFQSxRQUFBTixLQUFBbFEsS0FBQW1QLGFBRUEsSUFEQW5QLEtBQUFtUCxhQUFBZSxHQUNBRSxTQUNBLFNBSUEsT0FEQXBRLEtBQUF3USxXQUFBLEdBQ0EsRUFVQTNRLHFCQUNBLElBQUF5UixFQUFBLEVBQ0FoTSxFQUFBLEVBQ0EsUUFBQTRLLEtBQUFsUSxLQUFBbVAsYUFFQTdKLElBREF0RixLQUFBbVAsYUFBQWUsR0FFQUUsV0FDQWtCLEdBQUEsR0FHQSxXQUFBaE0sRUFDQSxFQUVBN0gsS0FBQXFCLE1BQUF3UyxFQUFBaE0sRUFBQSxzQ0N6UUEsU0FBQWlNLEdBSTJCN2QsRUFBUSxJQTRCbkNHLEVBQUFELFFBekJBLFNBQUFxYixFQUFBdUMsR0FFQSxxQkFBQUEsS0FDQXZDLEVBQUEsYUFBQUEsRUFBQSxTQUFBQSxFQUFBLFdBRUEsV0FBQXVDLEVBQ0E1SCxXQUFBNkgsVUFBQUMsVUFBQUMsTUFBQSxzQkFBQUMsRUFFQSxPQUFBSixJQUlBLFVBQUFBLEVBQ0E1SCxXQUFBNkgsVUFBQUMsVUFBQUMsTUFBQSxxQkFBQUMsRUFFQSxZQUFBSixJQUNBRCxFQUFBTSxhQUVBLFVBQUFMLEdBQ0EsaUJBQUFuSyxTQUFBeUssb0RDMUJBLElBQUFyVCxFQUdBQSxFQUFBLFdBQ0EsT0FBQXVCLEtBREEsR0FJQSxJQUVBdkIsS0FBQSxJQUFBc1QsU0FBQSxpQkFDQyxNQUFBbkYsR0FFRCxpQkFBQXBMLFNBQUEvQyxFQUFBK0MsUUFPQTNOLEVBQUFELFFBQUE2SyxpQkNXQSxNQUFBdVQsRUFBQSxDQUNBQyxhQUFBLE9BQ0FDLGFBQUEsUUFDQUMsWUFBQSxPQUNBQyxZQUFBLE9BQ0FDLFlBQUEsT0FDQUMsY0FBQSxRQWdLQXplLEVBQUFELFFBM0pBLE1BQ0FpTSxZQUFBQyxFQUFBLElBUUFFLEtBQUEzTCxLQUFBLEtBUUEyTCxLQUFBb1EsVUFBQSxFQVFBcFEsS0FBQXVTLFNBQUEsR0FRQXZTLEtBQUF3UyxNQUFBLEdBRUFoZSxPQUFBMEwsT0FBQUYsS0FBQUYsR0FFQUUsS0FBQWdTLFVBRUEsaUJBQUFsUyxHQUNBRSxLQUFBZ1IsS0FBQWxSLEdBVUFELEtBQUFxUSxHQUNBbFEsS0FBQTNMLEtBQUE2YixFQUNBbFEsS0FBQW9RLFVBQUEsRUFTQXZRLEtBQUE0UyxJQVNBNVMsS0FBQTRTLEVBQUFoSyxJQVdBNUksV0FBQTRTLEVBQUFDLElBU0E3UyxnQkFDQSxJQUFBRyxLQUFBdVMsU0FBQWpOLFNBQUF0RixLQUFBd1MsTUFBQWxOLE9BQUEsQ0FFQSxJQUNBcU4sRUFDQUMsRUFGQUMsRUFBQSxJQUFBQyxNQUdBLElBQUFILEtBQUEzUyxLQUFBZ1MsUUFFQSxjQURBWSxFQUFBQyxFQUFBRSxZQUFBSixJQU1BLFVBQUFDLEdBQ0E1UyxLQUFBd1MsTUFBQXZGLEtBQUFqTixLQUFBZ1MsUUFBQVcsSUFMQTNTLEtBQUF1UyxTQUFBdEYsS0FBQWpOLEtBQUFnUyxRQUFBVyxJQVdBLE9BQUEzUyxLQUFBdVMsU0FBQWpOLE9BQ0F0RixLQUFBdVMsU0FBQSxHQUdBdlMsS0FBQXdTLE1BQUFsTixPQUNBdEYsS0FBQXdTLE1BQUEsR0FHQSxHQVVBM1MsY0FDQSxPQUFBRyxLQUFBdVMsU0FBQWpOLE9BQUEsR0FDQXRGLEtBQUF1UyxTQUFBUyxRQUNBaFQsS0FBQXVTLFNBQUEsSUFHQSxJQUFBdlMsS0FBQXVTLFNBQUFqTixTQUNBdEYsS0FBQXVTLFNBQUFqTixPQUFBLEVBQ0F0RixLQUFBd1MsTUFBQWxOLFFBQ0F0RixLQUFBd1MsTUFBQSxHQUlBeFMsS0FBQXdTLE1BQUFsTixPQUFBLEdBQ0F0RixLQUFBd1MsTUFBQVEsUUFDQWhULEtBQUF3UyxNQUFBLEtBR0EsSUFBQXhTLEtBQUF3UyxNQUFBbE4sU0FDQXRGLEtBQUF3UyxNQUFBbE4sT0FBQSxHQUdBLHVCQ3hMQSxNQUFBNEosRUFBY3hiLEVBQVEsSUFDdEJ1ZixFQUF3QnZmLEVBQVEsSUFDaEN1YixFQUFZdmIsRUFBUSxJQUVwQixJQUFBd2YsRUFBQSxLQU9BLEdBSkFqRSxFQUFBLGNBQ0FpRSxFQUFBLElBQUExUixPQUFBcVEsY0FHQTVDLEVBQUEsZ0JBU0E1SCxTQUFBb0MsaUJBQUEsYUFQQSxTQUFBMEosSUFDQSxNQUFBQyxFQUFBRixFQUFBRyxxQkFDQUQsRUFBQUUsT0FBQUosRUFBQUssYUFBQSxXQUNBSCxFQUFBSSxRQUFBTixFQUFBTyxhQUNBTCxFQUFBTSxNQUFBLEdBQ0FyTSxTQUFBcUMsb0JBQUEsYUFBQXlKLEtBMEdBdGYsRUFBQUQsUUFyR0EsY0FBQXNiLEVBQ0FyUCxZQUFBQyxFQUFBLElBQ0FDLE1BQUFELEdBUUFFLEtBQUFrVCxlQVFBbFQsS0FBQXNULE9BQUEsS0FFQTllLE9BQUEwTCxPQUFBRixLQUFBRixHQUdBRCxLQUFBcVEsR0FDQSxJQUFBQyxFQUFBblEsS0FFQUEsS0FBQTNMLEtBQUE2YixFQUVBLElBQUF5RCxFQUFBVixFQUFBL0MsR0FDQXlELElBQUF6RCxJQUNBQSxFQUFBeUQsRUFBQTNULEtBQUE0VCxpQkF1QkEsSUFBQUMsRUFBQSxJQUFBQyxlQUNBRCxFQUFBRSxLQUFBLE1BQUE3RCxHQUFBLEdBQ0EyRCxFQUFBRyxhQUFBLGNBRUFILEVBQUFJLE9BdkJBLFNBQUFySCxHQUVBdUQsRUFBQStDLGFBQUFnQixnQkFBQXRILEVBQUF1SCxPQUFBQyxTQUNBLFNBQUFkLEdBQ0FuRCxFQUFBbUQsU0FDQW5ELEVBQUFDLFVBQUEsR0FFQSxTQUFBaUUsR0FDQWxFLEVBQUFtRSxjQUVBbkUsRUFBQWEsS0FBQWIsRUFBQTliLE1BRUE4YixFQUFBQyxVQUFBLEtBWUF5RCxFQUFBVSxPQUdBMVUsS0FBQTRTLEdBRUF6UyxLQUFBc1QsUUFJQXRULEtBQUF3VSxXQUFBL0IsR0FBQSxHQUNBaUIsTUFBQSxHQUdBN1QsS0FBQTRTLEVBQUFoSyxHQUVBekksS0FBQXNULFNBSUE3SyxLQUFBLEVBRUF6SSxLQUFBd1UsV0FBQS9CLEdBQUEsR0FDQWlCLE1BQUFqTCxJQUdBNUksV0FBQTRTLEVBQUFDLEdBQ0FBLEVBQUEsa0JBQUFBLEtBRUEsSUFBQVUsRUFBQXBULEtBQUFrVCxhQUFBRyxxQkFHQSxHQUZBRCxFQUFBRSxPQUFBdFQsS0FBQXNULE9BQ0FGLEVBQUFWLE9BQ0FELEVBQUEsQ0FDQSxJQUFBZ0MsRUFBQXpVLEtBQUFrVCxhQUFBd0IsYUFDQUQsRUFBQUUsS0FBQTVmLE1BQUEwZCxFQUNBVyxFQUFBSSxRQUFBaUIsR0FDQUEsRUFBQWpCLFFBQUF4VCxLQUFBa1QsYUFBQU8sa0JBRUFMLEVBQUFJLFFBQUF4VCxLQUFBa1QsYUFBQU8sYUFFQSxPQUFBTCxxQkN6SEEsTUFBQW5SLEVBQWtCdk8sRUFBUSxJQUcxQixNQUFBc08sRUFDQW5DLFlBQUFDLEVBQUEsSUFRQUUsS0FBQTRVLGVBQUEsRUFRQTVVLEtBQUE2VSxTQUFBLEVBUUE3VSxLQUFBOFUsY0FBQSxFQVFBOVUsS0FBQXNHLE9BQUEsR0FRQXRHLEtBQUF1RyxNQUFBLEdBUUF2RyxLQUFBMlAsTUFBQSxLQVFBM1AsS0FBQStVLFFBQUEsRUFRQS9VLEtBQUFnVixRQUFBLEVBRUFoVixLQUFBaVYsWUFBQXJELEVBR0FwZCxPQUFBMEwsT0FBQUYsS0FBQUYsR0FFQUUsS0FBQTBULFFBZUE3VCxnQkFBQXFWLEVBQUFDLEVBQUE5RSxFQUFBbEcsRUFBQS9LLEVBQUFnVyxHQUNBLElBQUFDLEVBQUEsSUFBQXJULEVBQUEsQ0FDQTJOLE1BQUFVLEVBQ0EvSixPQUFBbEgsRUFDQW1ILE1BQUE0RCxJQUdBbUwsRUFBQXZTLE1BQUFDLFFBQUFtUyxHQUVBSSxFQUFBLEVBQ0FILElBQ0FBLEVBQUEsR0FFQSxRQUFBL1AsRUFBQSxFQUFrQkEsRUFBQTZQLEVBQWdCN1AsSUFFbENrUSxFQURBRCxFQUNBSCxFQUFBOVAsR0FFQThQLEVBRUFFLEVBQUFHLFNBQUFELEVBQUFsUSxFQUFBK1AsR0FFQSxPQUFBQyxFQVVBeFYsUUFDQSxXQUFBbUMsRUFBQSxDQUNBMk4sTUFBQTNQLEtBQUEyUCxNQUNBc0YsT0FBQWpWLEtBQUFpVixPQUNBSCxjQUFBOVUsS0FBQThVLGdCQVlBalYsU0FBQTRWLEVBQUFDLEVBQUFDLEdBQ0EzVixLQUFBaVYsU0FDQWpWLEtBQUFpVixPQUFBLElBRUFqVixLQUFBOFUsZUFBQVcsRUFDQXpWLEtBQUFpVixPQUFBaEksS0FBQSxJQUFBaEwsRUFBQSxDQUNBMlQsUUFBQTVWLEtBQUE4VSxjQUNBbkYsTUFBQTNQLEtBQUEyUCxNQUNBa0csU0FBQUgsRUFDQUksU0FBQUgsS0FTQTlWLFFBQ0FHLEtBQUE2VSxTQUFBLEVBQ0E3VSxLQUFBNFUsZUFBQSxFQVNBL1UsT0FBQWlJLEdBQ0EsR0FBQTlILEtBQUFpVixPQUFBM1AsT0FBQSxFQVFBLElBUEF0RixLQUFBNlUsVUFBQS9NLEVBRUE5SCxLQUFBNlUsVUFBQTdVLEtBQUE4VSxnQkFDQTlVLEtBQUE2VSxTQUFBN1UsS0FBQTZVLFNBQUE3VSxLQUFBOFUsY0FDQTlVLEtBQUE0VSxlQUFBLEdBR0E1VSxLQUFBNlUsU0FBQTdVLEtBQUFpVixPQUFBalYsS0FBQTRVLGdCQUFBZ0IsU0FDQTVWLEtBQUE0VSxpQkFXQS9VLGtCQUNBLFdBQUFHLEtBQUFpVixPQUFBM1AsT0FDQSxLQUVBdEYsS0FBQWlWLE9BQUFqVixLQUFBNFUsZ0JBWUEvVSxLQUFBMEgsRUFBQWpLLEVBQUFDLEdBQ0EsSUFBQXdZLEVBQUEvVixLQUFBZ1csa0JBQ0F6TyxFQUFBdUksVUFBQTlQLEtBQUEyUCxNQUFBb0csRUFBQUYsU0FBQTdWLEtBQUF1RyxNQUFBdkcsS0FBQStVLFFBQUFnQixFQUFBRCxTQUFBOVYsS0FBQXNHLE9BQUF0RyxLQUFBZ1YsUUFBQWhWLEtBQUF1RyxNQUFBdkcsS0FBQXNHLE9BQUFoSixFQUFBQyxFQUFBeUMsS0FBQXVHLE1BQUF2RyxLQUFBc0csU0FJQXpTLEVBQUFELFFBQUFvTyxpQkN4S0FuTyxFQUFBRCxRQXhDQSxNQUNBaU0sWUFBQUMsRUFBQSxJQVFBRSxLQUFBNFYsUUFBQSxFQVFBNVYsS0FBQTZWLFNBQUEsRUFRQTdWLEtBQUE4VixTQUFBLEVBUUE5VixLQUFBMlAsTUFBQSxLQUVBbmIsT0FBQTBMLE9BQUFGLEtBQUFGLG9CQzFDQSxNQUFBbVcsRUFBQXhZLEtBQUFDLEdBQUEsSUFNQTdKLEVBQUFELFFBSkEsU0FBQXNpQixHQUNBLE9BQUFBLEVBQUFELGtCQ0ZBLE1BQUFFLEVBQUEsSUFBQTFZLEtBQUFDLEdBTUE3SixFQUFBRCxRQUpBLFNBQUF3aUIsR0FDQSxPQUFBQSxFQUFBRCxrQkNBQXRpQixFQUFBRCxRQUpBLFNBQUF5aUIsRUFBQUMsR0FDQSxPQUFBN1ksS0FBQThZLE1BQUFELEVBQUFoWixFQUFBK1ksRUFBQS9ZLElBQUFnWixFQUFBaFosRUFBQStZLEVBQUEvWSxJQUFBZ1osRUFBQS9ZLEVBQUE4WSxFQUFBOVksSUFBQStZLEVBQUEvWSxFQUFBOFksRUFBQTlZLG9CQ0tBLE1BQUE0RSxFQUNBdEMsWUFBQUMsRUFBQSxJQVFBRSxLQUFBMUMsRUFBQSxFQVFBMEMsS0FBQXpDLEVBQUEsRUFRQXlDLEtBQUF3VyxHQUFBLEVBUUF4VyxLQUFBeVcsR0FBQSxFQVFBelcsS0FBQTBXLFNBQUEsRUFRQTFXLEtBQUEzTCxLQUFBLEtBUUEyTCxLQUFBMlcsZ0JBQUEsR0FFQW5pQixPQUFBMEwsT0FBQUYsS0FBQUYsR0FTQUQsT0FBQWlJLEdBQ0E5SCxLQUFBMUMsR0FBQTBDLEtBQUF3VyxHQUFBMU8sRUFDQTlILEtBQUF6QyxHQUFBeUMsS0FBQXlXLEdBQUEzTyxFQUNBOUgsS0FBQXFWLEtBQUE3TSxPQUFBVixHQVVBakksV0FBQStXLEdBQ0EsT0FBQTVXLEtBQUEwVyxVQUNBalosS0FBQW9aLElBQUFELEdBQUE1VyxLQUFBMFcsU0FDQUUsRUFBQSxFQUNBNVcsS0FBQTBXLFNBQ1NFLEVBQUEsRUFDVDVXLEtBQUEwVyxTQUVBLEVBTUFFLEVBVUEvVyxrQkFDQSxHQUFBRyxLQUFBcVYsS0FDQSxPQUFBclYsS0FBQXFWLEtBQUFXLGtCQVVBblcsS0FBQTBILEdBQ0F2SCxLQUFBcVYsTUFDQXJWLEtBQUFxVixLQUFBaFUsS0FBQWtHLEVBQUF2SCxLQUFBMUMsRUFBQTBDLEtBQUF6QyxHQVVBc0MsUUFDQSxXQUFBc0MsRUFBQSxDQUNBa1QsS0FBQXJWLEtBQUFxVixLQUFBeUIsV0FLQWpqQixFQUFBRCxRQUFBdU8sb0JDOUlBLFNBQUFvUCxHQU1BLE1BQUF3RixFQUFnQnJqQixFQUFRLElBR3hCc0wsUUFBQUMsSUFBQStYLE1BQUEsUUFBQXpGLEVBQUEvUCxRQUdBLE1BQUF5VixFQUFBRCxNQUFBRSxPQUFBelosS0FBQTBaLE9BQ0FDLEVBQUFKLE1BQUFLLFNBQUFDLFVBQ0FDLEVBQUFQLE1BQUFLLFNBQUFHLE9BQ0FDLEVBQUFULE1BQUFLLFNBQUFLLGFBRUFDLEdBREFYLE1BQUFLLFNBQUFPLFVBQ0FaLE1BQUFLLFNBQUFRLFNBQ0FDLEVBQUFkLE1BQUFlLFVBQUFDLE9BQUFDLGVBQ0FDLEVBQUFsQixNQUFBZSxVQUFBQyxPQUFBRyxjQXFtQkF0a0IsRUFBQUQsUUFubUJBLE1BQ0FpTSxZQUFBQyxFQUFBLElBUUFFLEtBQUFvWSxhQUFBLEdBUUFwWSxLQUFBcVksVUFBQSxFQVFBclksS0FBQXNZLFVBQUEsS0FRQXRZLEtBQUF1WSxZQUFBLEtBUUF2WSxLQUFBd1ksVUFBQSxLQVFBeFksS0FBQTZYLFFBQUEsS0FRQTdYLEtBQUF5WSxTQUFBLEVBUUF6WSxLQUFBMFksU0FBQSxJQVFBMVksS0FBQTJZLFlBQUEsRUFRQTNZLEtBQUE0WSxtQkFBQSxFQVFBNVksS0FBQTZZLGdCQUFBLEtBUUE3WSxLQUFBOFksV0FBQSxLQVFBOVksS0FBQUksTUFBQSxHQUVBSixLQUFBc1ksVUFBQSxHQUNBdFksS0FBQXVZLFlBQUEsR0FDQXZZLEtBQUF3WSxVQUFBLEdBQ0Foa0IsT0FBQTBMLE9BQUFGLEtBQUFGLEdBRUFFLEtBQUE2WCxRQUFBLElBQUFGLEVBQUEsSUFBQVYsRUFBQWpYLEtBQUF5WSxTQUFBelksS0FBQTBZLFVBQUExWSxLQUFBMlksWUFFQTNZLEtBQUFvWSxlQUNBcFksS0FBQW9ZLGFBQUFXLFNBQUEvWSxLQUFBb1ksYUFBQSxLQUlBcFksS0FBQTRZLG9CQUNBNVksS0FBQTZZLGdCQUFBLElBQUE5QixHQUdBL1csS0FBQTZZLGlCQUNBN1ksS0FBQWdaLG1CQUFBaFosS0FBQTZZLGlCQVlBaFosT0FBQW9aLEdBR0FqWixLQUFBNlksaUJBQUE3WSxLQUFBNlksZ0JBQUFoVSxPQUNBN0UsS0FBQTZZLGdCQUFBaFUsUUFHQSxJQUFBNk8sRUFBQXZRLEtBQUFDLE1BQ0EsR0FBQTZWLEVBQ0FqWixLQUFBNlgsUUFBQXFCLEtBQUFELEVBQUEsV0FDQWpaLEtBQUE2WCxRQUFBc0Isa0JBQ0ssQ0FDTCxJQUFBQyxFQUFBcFosS0FBQSxVQUFBMFQsRUFBQTFULEtBQUFxWixlQUFBLE1BQUFyWixLQUFBb1ksYUFDQXBZLEtBQUE2WCxRQUFBcUIsS0FBQUUsRUFBQSxPQUNBcFosS0FBQTZYLFFBQUFzQixjQUdBLE9BQUFoVyxLQUFBQyxNQUFBc1EsRUFTQTdULFdBRUEsSUFEQSxJQUFBb0UsRUFBQSxHQUNBM0YsRUFBQTBCLEtBQUE2WCxRQUFBeUIsY0FBOENoYixFQUFHQSxJQUFBaWIsT0FDakRqYixFQUFBa2IsaUJBQUEsSUFBQWxiLEVBQUFtYixlQUFBLE9BQUFuYixFQUFBbWIsZ0JBQ0F4VixFQUFBM0YsRUFBQW1iLGVBQUEsQ0FDQW5jLEVBQUFnQixFQUFBb2IsY0FBQXBjLEVBQ0FDLEVBQUFlLEVBQUFvYixjQUFBbmMsRUFDQUssTUFBQVUsRUFBQXFiLFdBQ0F0YyxPQUFBLENBQ0FDLEVBQUFnQixFQUFBc2IsaUJBQUF0YyxFQUNBQyxFQUFBZSxFQUFBc2IsaUJBQUFyYyxHQUVBb0csZUFBQXJGLEVBQUF1YixpQkFDQWpXLGdCQUFBdEYsRUFBQXdiLG1CQUVBOVosS0FBQTZZLGlCQUFBN1ksS0FBQTZZLGdCQUFBQyxhQUNBN1UsRUFBQTNGLEVBQUFtYixlQUFBWCxXQUFBOVksS0FBQTZZLGdCQUFBQyxXQUFBeGEsRUFBQW1iLGdCQUFBLE9BSUEsT0FBQXhWLEVBU0FwRSxvQkFBQTRDLEdBRUEsSUFBQXNYLEVBQUEvWixLQUFBZ2EsV0FDQSxRQUFBamIsS0FBQWdiLEVBQUEsQ0FDQSxJQUFBRSxFQUFBeFgsRUFBQTFELEdBRUFrYixNQUFBblosWUFDQW1aLEVBQUF6UixPQUFBdVIsRUFBQWhiLEtBV0FjLFVBQUFxYSxHQUNBLFFBQUFuYixLQUFBbWIsRUFBQSxDQUNBLElBQUFELEVBQUFDLEVBQUFuYixHQUNBaUIsS0FBQW1hLFFBQUFGLEdBRUFqYSxLQUFBb2EsT0FBQSxFQVNBdmEsUUFBQW9hLEdBR0FBLEVBQUE5VixnQkFDQThWLEVBQUEzWSxXQUFBLEVBQUF0QixLQUFBSSxPQUNBNlosRUFBQTdaLE1BQUFKLEtBQUFJLE9BR0EsSUFFQXRNLEVBQUF1UixFQUFBdkMsRUFBQXVYLEVBQUFDLEVBRkFDLEVBQUEsSUFBQW5ELEVBQ0FvRCxFQUFBLElBQUEvQyxFQUVBK0MsRUFBQWpYLFlBQUEwVyxFQUFBMVcsWUFDQWlYLEVBQUFoWCxRQUFBeVcsRUFBQXpXLFFBQ0FnWCxFQUFBL1csU0FBQXdXLEVBQUF4VyxTQUlBLE1BQUF3VyxFQUFBblcsV0FDQTBXLEVBQUFDLE9BQUEzVyxTQUFBbVcsRUFBQW5XLFVBRUEsTUFBQW1XLEVBQUFsVyxlQUNBeVcsRUFBQUMsT0FBQTFXLGFBQUFrVyxFQUFBbFcsY0FFQSxNQUFBa1csRUFBQWpXLGFBQ0F3VyxFQUFBQyxPQUFBelcsV0FBQWlXLEVBQUFqVyxZQUdBaVcsRUFBQW5aLFdBQ0F5WixFQUFBRyxLQUFBbkQsRUFBQW9ELGNBRUFKLEVBQUFHLEtBQUFuRCxFQUFBcUQsZUFHQUwsRUFBQXpOLFNBQUF4UCxFQUFBMmMsRUFBQTNjLEVBQ0FpZCxFQUFBek4sU0FBQXZQLEVBQUEwYyxFQUFBMWMsRUFDQWdkLEVBQUFNLFNBQUFaLEVBQUFsYixHQUNBd2IsRUFBQTNjLE1BQUFxYyxFQUFBcmMsTUFDQTJjLEVBQUE3VyxjQUFBdVcsRUFBQXZXLGNBQ0E2VyxFQUFBMVcsZUFBQW9XLEVBQUFwVyxlQUNBLElBQUFtSCxFQUFBaEwsS0FBQTZYLFFBQUFpRCxXQUFBUCxHQUdBLEdBQUFOLEVBQUFoYSxPQUNBdWEsRUFBQU8sTUFBQSxJQUFBN0MsRUFBQStCLEVBQUFoYSxRQUNBK0ssRUFBQWdRLGNBQUFSLFFBQ0ssR0FBQVAsRUFBQW5YLE9BQUEsQ0FFTCxJQURBQSxFQUFBLEdBQ0FoUCxFQUFBLEVBQWlCQSxFQUFBbW1CLEVBQUFuWCxPQUFBd0MsT0FBMEJ4UixLQUMzQ3VtQixFQUFBLElBQUFwRCxHQUNBZ0UsSUFBQWhCLEVBQUFuWCxPQUFBaFAsR0FBQXdKLEVBQUEyYyxFQUFBblgsT0FBQWhQLEdBQUF5SixHQUNBdUYsRUFBQWhQLEdBQUF1bUIsRUFFQUcsRUFBQU8sTUFBQSxJQUFBakQsRUFDQTBDLEVBQUFPLE1BQUFHLFdBQUFwWSxJQUFBd0MsUUFDQTBGLEVBQUFnUSxjQUFBUixRQUNLLEdBQUFQLEVBQUFrQixNQUNMLElBQUE5VixFQUFBLEVBQW1CQSxFQUFBNFUsRUFBQWtCLE1BQUE3VixPQUF5QkQsSUFBQSxDQUc1QyxJQUZBdkMsRUFBQW1YLEVBQUFrQixNQUFBOVYsR0FDQWlWLEVBQUEsR0FDQXhtQixFQUFBLEVBQXVCQSxFQUFBZ1AsRUFBQXdDLE9BQW1CeFIsS0FDMUN1bUIsRUFBQSxJQUFBcEQsR0FDQWdFLElBQUFuWSxFQUFBaFAsR0FBQXdKLEVBQUF3RixFQUFBaFAsR0FBQXlKLEdBQ0ErYyxFQUFBeG1CLEdBQUF1bUIsRUFFQUcsRUFBQU8sTUFBQSxJQUFBakQsRUFDQTBDLEVBQUFPLE1BQUFHLFdBQUFaLElBQUFoVixRQUNBMEYsRUFBQWdRLGNBQUFSLFFBR0FBLEVBQUFPLE1BQUEsSUFBQWpELEVBQ0EwQyxFQUFBTyxNQUFBSyxTQUFBbkIsRUFBQW9CLFVBQUFwQixFQUFBcUIsWUFDQXRRLEVBQUFnUSxjQUFBUixHQUlBeGEsS0FBQXNZLFVBQUEyQixFQUFBbGIsSUFBQWlNLEVBY0FuTCxZQUFBMGIsRUFBQWplLEVBQUFDLEdBQ0F5QyxLQUFBc1ksVUFBQWlELEdBQ0FDLFlBQUEsSUFBQXZFLEVBQUEzWixFQUFBQyxJQWFBc0MsU0FBQTBiLEVBQUEzZCxHQUNBLElBQUFvTixFQUFBaEwsS0FBQXNZLFVBQUFpRCxHQUNBdmMsUUFBQUMsSUFBQSxZQUFBK0wsRUFBQXlRLFNBQUF6USxHQUNBQSxFQUFBeVEsU0FBQTdkLEdBY0FpQyxrQkFBQTBiLEVBQUFqZSxFQUFBQyxHQUNBeUMsS0FBQXNZLFVBQUFpRCxHQUNBRyxrQkFBQSxJQUFBekUsRUFBQTNaLEVBQUFDLElBYUFzQyxtQkFBQTBiLEVBQUFJLEdBQ0EzYixLQUFBc1ksVUFBQWlELEdBQ0FLLG1CQUFBRCxHQWNBOWIsb0JBQUEwYixFQUFBckYsRUFBQTJGLEdBQ0EsSUFBQTdRLEVBQUFoTCxLQUFBc1ksVUFBQWlELEdBQ0F2USxFQUFBOFEsYUFDQSxJQUFBN0UsRUFBQXhaLEtBQUFJLElBQUFxWSxHQUFBelksS0FBQUMsR0FBQSxNQUFBbWUsRUFDQXBlLEtBQUFLLElBQUFvWSxHQUFBelksS0FBQUMsR0FBQSxNQUFBbWUsR0FBQSxHQUNBN1EsRUFBQTRPLGtCQWVBL1osa0JBQUEwYixFQUFBckYsRUFBQTJGLEdBQ0EsSUFBQTdRLEVBQUFoTCxLQUFBc1ksVUFBQWlELEdBQ0F2USxFQUFBK1EsV0FDQSxJQUFBOUUsRUFBQXhaLEtBQUFJLElBQUFxWSxHQUFBelksS0FBQUMsR0FBQSxNQUFBbWUsRUFDQXBlLEtBQUFLLElBQUFvWSxHQUFBelksS0FBQUMsR0FBQSxNQUFBbWUsR0FBQSxHQUNBN1EsRUFBQTRPLGtCQWVBL1osYUFBQTBiLEVBQUFuRixFQUFBeUYsR0FDQSxJQUFBN1EsRUFBQWhMLEtBQUFzWSxVQUFBaUQsR0FDQXZRLEVBQUE4USxhQUNBLElBQUE3RSxFQUFBeFosS0FBQUksSUFBQXVZLEdBQUF5RixFQUNBcGUsS0FBQUssSUFBQXNZLEdBQUF5RixHQUFBLEdBQ0E3USxFQUFBNE8sa0JBZUEvWixXQUFBMGIsRUFBQW5GLEVBQUF5RixHQUNBLElBQUE3USxFQUFBaEwsS0FBQXNZLFVBQUFpRCxHQUNBdlEsRUFBQStRLFdBQ0EsSUFBQTlFLEVBQUF4WixLQUFBSSxJQUFBdVksR0FBQXlGLEVBQ0FwZSxLQUFBSyxJQUFBc1ksR0FBQXlGLEdBQUEsR0FDQTdRLEVBQUE0TyxrQkFjQS9aLFNBQUEwYixFQUFBbkYsR0FDQXBXLEtBQUFzWSxVQUFBaUQsR0FDQVMsU0FBQTVGLEdBYUF2VyxvQkFBQTBiLEVBQUFJLEdBQ0EzYixLQUFBc1ksVUFBQWlELEdBQ0FLLG1CQUFBRCxHQWVBOWIsWUFBQTBiLEVBQUFNLEdBQ0E3YixLQUFBc1ksVUFBQWlELEdBQ0FVLFlBQUFKLEdBWUFoYyxXQUFBcWMsR0FDQWxjLEtBQUE2WCxRQUFBc0UsV0FBQSxJQUFBbEYsRUFBQWlGLEVBQUE1ZSxFQUFBNGUsRUFBQTNlLElBWUFzQyxXQUFBZCxHQUNBaUIsS0FBQXNZLFVBQUF2WixLQUNBaUIsS0FBQXVZLFlBQUF4WixJQUNBaUIsS0FBQXNZLFVBQUF2WixHQUFBcWQsZUFBQXBjLEtBQUF1WSxZQUFBeFosSUFFQWlCLEtBQUE2WCxRQUFBd0UsWUFBQXJjLEtBQUFzWSxVQUFBdlosV0FFQWlCLEtBQUFzWSxVQUFBdlosSUFhQWMsV0FBQWQsR0FDQWlCLEtBQUFzWSxVQUFBdlosSUFDQWlCLEtBQUFzWSxVQUFBdlosR0FBQXVkLFVBQUEsR0FVQXpjLG1CQUFBZ1osR0FDQSxJQUFBMEQsRUFBQSxJQUFBdkYsTUFBQUssU0FBQW1GLGtCQUNBM0QsRUFBQTRELGVBQ0FGLEVBQUFHLGFBQUEsU0FBQUMsR0FDQTlELEVBQUE0RCxhQUFBRSxFQUFBQyxXQUFBQyxPQUFBQyxXQUFBSCxFQUFBSSxXQUFBRixPQUFBQyxXQUFBSCxLQUdBOUQsRUFBQW1FLGFBQ0FULEVBQUFVLFdBQUEsU0FBQU4sR0FDQTlELEVBQUFtRSxXQUFBTCxFQUFBQyxXQUFBQyxPQUFBQyxXQUFBSCxFQUFBSSxXQUFBRixPQUFBQyxXQUFBSCxLQUdBOUQsRUFBQXFFLFdBQ0FYLEVBQUFZLFNBQUEsU0FBQVIsRUFBQVMsR0FDQXZFLEVBQUFxRSxTQUFBUCxFQUFBQyxXQUFBQyxPQUFBQyxXQUFBSCxFQUFBSSxXQUFBRixPQUFBQyxXQUFBTSxFQUFBVCxLQUdBOUQsRUFBQXdFLFlBQ0FkLEVBQUFlLFVBQUEsU0FBQVgsRUFBQVksR0FDQTFFLEVBQUF3RSxVQUFBVixFQUFBQyxXQUFBQyxPQUFBQyxXQUFBSCxFQUFBSSxXQUFBRixPQUFBQyxXQUFBUyxFQUFBWixLQUdBM2MsS0FBQTZYLFFBQUEyRixtQkFBQWpCLEdBWUExYyxZQUFBNGQsR0FDQXpkLEtBQUF3WSxVQUFBaUYsS0FDQXpkLEtBQUE2WCxRQUFBNkYsYUFBQTFkLEtBQUF3WSxVQUFBaUYsV0FDQXpkLEtBQUF3WSxVQUFBaUYsSUFhQTVkLFNBQUE4ZCxHQUNBLEdBQUFBLEtBQUE1ZSxLQUFBaUIsS0FBQXdZLFVBQUFtRixFQUFBNWUsSUFBQSxFQUVBNGUsRUFBQXhaLGVBQUF3WixFQUFBQyxxQkFDQUQsRUFBQUMsbUJBQUEsRUFBQTVkLEtBQUFJLE9BQ0F1ZCxFQUFBdmQsTUFBQUosS0FBQUksT0FHQSxJQUFBeWQsRUFBQUYsRUFBQUcsY0FBQTlkLE1BQ0E2ZCxJQUNBN2QsS0FBQXdZLFVBQUFtRixFQUFBNWUsSUFBQThlLHdDQ2huQkFocUIsRUFBQUQsUUFBQSxDQUNBNk8sU0FBQSxDQUNBLENBQ0FLLE9BQUEsQ0FDQSxDQUNBeEYsR0FBQSxJQUNBQyxHQUFBLEtBRUEsQ0FDQUQsRUFBQSxVQUNBQyxHQUFBLEtBRUEsQ0FDQUQsRUFBQSxVQUNBQyxFQUFBLEdBRUEsQ0FDQUQsRUFBQSxFQUNBQyxFQUFBLEtBRUEsQ0FDQUQsR0FBQSxJQUNBQyxFQUFBLE1BR0FELEVBQUEsRUFDQUMsRUFBQSxFQUNBdUQsWUFBQSxFQUNBaWQsTUFBQSxFQUNBckQsS0FBQSxVQUNBM2IsR0FBQSxTQUNBaWYsUUFBQSxFQUNBQyxNQUFBLEVBQ0ExYSxZQW5DQSxHQXFDQSxDQUNBVCxPQUFBLENBQ0EsQ0FDQXhGLEdBQUEsSUFDQUMsRUFBQSxLQUVBLENBQ0FELEVBQUEsRUFDQUMsRUFBQSxLQUVBLENBQ0FELEVBQUEsVUFDQUMsRUFBQSxNQUVBLENBQ0FELEVBQUEsVUFDQUMsRUFBQSxNQUVBLENBQ0FELEdBQUEsSUFDQUMsRUFBQSxPQUdBRCxFQUFBLEVBQ0FDLEVBQUEsRUFDQXVELFlBQUEsRUFDQWlkLE1BQUEsRUFDQXJELEtBQUEsVUFDQW5YLFlBakVBLEVBa0VBeWEsUUFBQSxFQUNBQyxNQUFBLEVBQ0FsZixHQUFBLFVBRUEsQ0FDQStELE9BQUEsQ0FDQSxDQUNBeEYsRUFBQSxXQUNBQyxHQUFBLEtBRUEsQ0FDQUQsRUFBQSxLQUNBQyxHQUFBLEtBRUEsQ0FDQUQsRUFBQSxLQUNBQyxFQUFBLEtBRUEsQ0FDQUQsRUFBQSxLQUNBQyxFQUFBLEtBRUEsQ0FDQUQsRUFBQSxXQUNBQyxFQUFBLElBR0FELEVBQUEsRUFDQUMsRUFBQSxFQUNBdUQsWUFBQSxFQUNBaWQsTUFBQSxFQUNBckQsS0FBQSxVQUNBblgsWUFsR0EsRUFtR0F4RSxHQUFBLFdBQ0FpZixRQUFBLEVBQ0FDLE1BQUEsR0FFQSxDQUNBbmIsT0FBQSxDQUNBLENBQ0F4RixFQUFBLFdBQ0FDLEVBQUEsTUFFQSxDQUNBRCxFQUFBLEtBQ0FDLEVBQUEsS0FFQSxDQUNBRCxFQUFBLEtBQ0FDLEVBQUEsS0FFQSxDQUNBRCxFQUFBLEtBQ0FDLEVBQUEsTUFFQSxDQUNBRCxFQUFBLFdBQ0FDLEVBQUEsT0FHQUQsRUFBQSxFQUNBQyxFQUFBLEVBQ0F1RCxZQUFBLEVBQ0FpZCxNQUFBLEVBQ0FyRCxLQUFBLFVBQ0FuWCxZQW5JQSxFQW9JQXhFLEdBQUEsV0FDQWlmLFFBQUEsRUFDQUMsTUFBQSxHQUVBLENBQ0EzZ0IsRUFBQSxJQUNBQyxFQUFBLEtBQ0E4ZCxVQUFBLElBQ0FDLFdBQUEsSUFDQXhhLFlBQUEsRUFDQWlkLE1BQUEsRUFDQXJELEtBQUEsWUFDQTNiLEdBQUEsVUFDQXdFLFlBakpBLEVBa0pBeWEsUUFBQSxFQUNBQyxNQUFBLEdBRUEsQ0FDQTNnQixFQUFBLElBQ0FDLEdBQUEsSUFDQThkLFVBQUEsSUFDQUMsV0FBQSxJQUNBeGEsWUFBQSxFQUNBaWQsTUFBQSxFQUNBckQsS0FBQSxZQUNBM2IsR0FBQSxPQUNBd0UsWUE5SkEsRUErSkF5YSxRQUFBLEVBQ0FDLE1BQUEsSUFHQXZiLE9BQUEsR0FFQXFFLE9BQUEsQ0FDQVQsT0FBQSxJQUNBQyxNQUFBLEtBRUEyWCxRQUFBLHVCQ3pLQSxJQUFBQzs7Ozs7Ozs7Ozs7Q0FLQSxTQUFBM2MsRUFBQTZGLEVBQUErVyxFQUFBeE0sR0FDQSxhQUVBLElBK0ZBMVIsRUEvRkFtZSxFQUFBLGtDQUNBQyxFQUFBalgsRUFBQXdJLGNBQUEsT0FFQTBPLEVBQUEsV0FFQXpmLEVBQUFyQixLQUFBcUIsTUFDQStYLEVBQUFwWixLQUFBb1osSUFDQXpULEVBQUFELEtBQUFDLElBU0EsU0FBQW9iLEVBQUFDLEVBQUFDLEVBQUFuWCxHQUNBLE9BQUFvWCxXQUFBQyxFQUFBSCxFQUFBbFgsR0FBQW1YLEdBWUEsU0FBQUcsRUFBQUMsRUFBQUwsRUFBQWxYLEdBQ0EsUUFBQXhFLE1BQUFDLFFBQUE4YixLQUNBQyxFQUFBRCxFQUFBdlgsRUFBQWtYLEdBQUFsWCxJQUNBLEdBV0EsU0FBQXdYLEVBQUFDLEVBQUFDLEVBQUExWCxHQUNBLElBQUF6VCxFQUVBLEdBQUFrckIsRUFJQSxHQUFBQSxFQUFBRSxRQUNBRixFQUFBRSxRQUFBRCxFQUFBMVgsUUFDSyxHQUFBeVgsRUFBQTFaLFNBQUFzTSxFQUVMLElBREE5ZCxFQUFBLEVBQ0FBLEVBQUFrckIsRUFBQTFaLFFBQ0EyWixFQUFBaHJCLEtBQUFzVCxFQUFBeVgsRUFBQWxyQixLQUFBa3JCLEdBQ0FsckIsU0FHQSxJQUFBQSxLQUFBa3JCLEVBQ0FBLEVBQUFycEIsZUFBQTdCLElBQUFtckIsRUFBQWhyQixLQUFBc1QsRUFBQXlYLEVBQUFsckIsS0FBQWtyQixHQVlBLFNBQUFHLEVBQUFDLEVBQUEvcUIsRUFBQWdyQixHQUNBLElBQUFDLEVBQUEsc0JBQUFqckIsRUFBQSxLQUFBZ3JCLEVBQUEsU0FDQSxrQkFDQSxJQUFBelMsRUFBQSxJQUFBMlMsTUFBQSxtQkFDQUMsRUFBQTVTLEtBQUE0UyxNQUFBNVMsRUFBQTRTLE1BQUEvUCxRQUFBLHNCQUNBQSxRQUFBLGtCQUNBQSxRQUFBLCtDQUErRCxzQkFFL0R4USxFQUFBdUMsRUFBQXhDLFVBQUF3QyxFQUFBeEMsUUFBQXlnQixNQUFBamUsRUFBQXhDLFFBQUFDLEtBSUEsT0FIQUEsR0FDQUEsRUFBQWhMLEtBQUF1TixFQUFBeEMsUUFBQXNnQixFQUFBRSxHQUVBSixFQUFBbFQsTUFBQWxNLEtBQUEwZixZQWFBeGYsRUFEQSxtQkFBQTFMLE9BQUEwTCxPQUNBLFNBQUFpVSxHQUNBLEdBQUFBLElBQUF2QyxHQUFBLE9BQUF1QyxFQUNBLFVBQUF3TCxVQUFBLDhDQUlBLElBREEsSUFBQUMsRUFBQXByQixPQUFBMmYsR0FDQTBMLEVBQUEsRUFBMkJBLEVBQUFILFVBQUFwYSxPQUEwQnVhLElBQUEsQ0FDckQsSUFBQXpNLEVBQUFzTSxVQUFBRyxHQUNBLEdBQUF6TSxJQUFBeEIsR0FBQSxPQUFBd0IsRUFDQSxRQUFBME0sS0FBQTFNLEVBQ0FBLEVBQUF6ZCxlQUFBbXFCLEtBQ0FGLEVBQUFFLEdBQUExTSxFQUFBME0sSUFLQSxPQUFBRixHQUdBcHJCLE9BQUEwTCxPQVdBLElBQUE2ZixFQUFBWixFQUFBLFNBQUFhLEVBQUF6UCxFQUFBMFAsR0FHQSxJQUZBLElBQUFsZSxFQUFBdk4sT0FBQXVOLEtBQUF3TyxHQUNBemMsRUFBQSxFQUNBQSxFQUFBaU8sRUFBQXVELFVBQ0EyYSxNQUFBRCxFQUFBamUsRUFBQWpPLE1BQUE4ZCxLQUNBb08sRUFBQWplLEVBQUFqTyxJQUFBeWMsRUFBQXhPLEVBQUFqTyxLQUVBQSxJQUVBLE9BQUFrc0IsR0FDQywwQkFTREMsRUFBQWQsRUFBQSxTQUFBYSxFQUFBelAsR0FDQSxPQUFBd1AsRUFBQUMsRUFBQXpQLEdBQUEsSUFDQyx5QkFRRCxTQUFBMlAsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUNBQyxFQURBQyxFQUFBSCxFQUFBMXFCLFdBR0E0cUIsRUFBQUgsRUFBQXpxQixVQUFBbEIsT0FBQVksT0FBQW1yQixJQUNBQyxZQUFBTCxFQUNBRyxFQUFBRyxPQUFBRixFQUVBRixHQUNBbmdCLEVBQUFvZ0IsRUFBQUQsR0FVQSxTQUFBekIsRUFBQUgsRUFBQWxYLEdBQ0Esa0JBQ0EsT0FBQWtYLEVBQUF2UyxNQUFBM0UsRUFBQW1ZLFlBV0EsU0FBQWdCLEVBQUFDLEVBQUEzVSxHQUNBLGNBQUEyVSxHQUFBcEMsRUFDQW9DLEVBQUF6VSxNQUFBRixLQUFBLElBQUE0RixFQUFBNUYsR0FFQTJVLEVBU0EsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUFBRCxJQUFBalAsRUFBQWtQLEVBQUFELEVBU0EsU0FBQUUsRUFBQTVNLEVBQUE2TSxFQUFBeFgsR0FDQXVWLEVBQUFrQyxFQUFBRCxHQUFBLFNBQUF0RyxHQUNBdkcsRUFBQTFLLGlCQUFBaVIsRUFBQWxSLEdBQUEsS0FVQSxTQUFBMFgsRUFBQS9NLEVBQUE2TSxFQUFBeFgsR0FDQXVWLEVBQUFrQyxFQUFBRCxHQUFBLFNBQUF0RyxHQUNBdkcsRUFBQXpLLG9CQUFBZ1IsRUFBQWxSLEdBQUEsS0FXQSxTQUFBMlgsRUFBQXJYLEVBQUFzWCxHQUNBLEtBQUF0WCxHQUFBLENBQ0EsR0FBQUEsR0FBQXNYLEVBQ0EsU0FFQXRYLElBQUF1WCxXQUVBLFNBU0EsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUFBRCxFQUFBRSxRQUFBRCxJQUFBLEVBUUEsU0FBQVAsRUFBQU0sR0FDQSxPQUFBQSxFQUFBRyxPQUFBL1AsTUFBQSxRQVVBLFNBQUFnUSxFQUFBcFIsRUFBQWlSLEVBQUFJLEdBQ0EsR0FBQXJSLEVBQUFrUixVQUFBRyxFQUNBLE9BQUFyUixFQUFBa1IsUUFBQUQsR0FHQSxJQURBLElBQUExdEIsRUFBQSxFQUNBQSxFQUFBeWMsRUFBQWpMLFFBQUEsQ0FDQSxHQUFBc2MsR0FBQXJSLEVBQUF6YyxHQUFBOHRCLElBQUFKLElBQUFJLEdBQUFyUixFQUFBemMsS0FBQTB0QixFQUNBLE9BQUExdEIsRUFFQUEsSUFFQSxTQVNBLFNBQUErdEIsRUFBQTdDLEdBQ0EsT0FBQWpjLE1BQUFyTixVQUFBb3NCLE1BQUE3dEIsS0FBQStxQixFQUFBLEdBVUEsU0FBQStDLEVBQUF4UixFQUFBbGIsRUFBQTJzQixHQUtBLElBSkEsSUFBQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FwdUIsRUFBQSxFQUVBQSxFQUFBeWMsRUFBQWpMLFFBQUEsQ0FDQSxJQUFBcWIsRUFBQXRyQixFQUFBa2IsRUFBQXpjLEdBQUF1QixHQUFBa2IsRUFBQXpjLEdBQ0E2dEIsRUFBQU8sRUFBQXZCLEdBQUEsR0FDQXNCLEVBQUFoVixLQUFBc0QsRUFBQXpjLElBRUFvdUIsRUFBQXB1QixHQUFBNnNCLEVBQ0E3c0IsSUFhQSxPQVZBa3VCLElBSUFDLEVBSEE1c0IsRUFHQTRzQixFQUFBRCxLQUFBLFNBQUEzakIsRUFBQUMsR0FDQSxPQUFBRCxFQUFBaEosR0FBQWlKLEVBQUFqSixLQUhBNHNCLEVBQUFELFFBUUFDLEVBU0EsU0FBQUUsRUFBQW5ELEVBQUF2cEIsR0FLQSxJQUpBLElBQUEyc0IsRUFBQUMsRUFDQUMsRUFBQTdzQixFQUFBLEdBQUE4c0IsY0FBQTlzQixFQUFBcXNCLE1BQUEsR0FFQWh1QixFQUFBLEVBQ0FBLEVBQUF1cUIsRUFBQS9ZLFFBQUEsQ0FJQSxJQUZBK2MsR0FEQUQsRUFBQS9ELEVBQUF2cUIsSUFDQXN1QixFQUFBRSxFQUFBN3NCLEtBRUF1cEIsRUFDQSxPQUFBcUQsRUFFQXZ1QixJQUVBLE9BQUE4ZCxFQU9BLElBQUE0USxFQUFBLEVBVUEsU0FBQUMsRUFBQWxaLEdBQ0EsSUFBQW1aLEVBQUFuWixFQUFBb1osZUFBQXBaLEVBQ0EsT0FBQW1aLEVBQUFFLGFBQUFGLEVBQUFHLGNBQUFyaEIsRUFHQSxJQUVBc2hCLEVBQUEsaUJBQUF0aEIsRUFDQXVoQixFQUFBWixFQUFBM2dCLEVBQUEsa0JBQUFvUSxFQUNBb1IsRUFBQUYsR0FKQSx3Q0FJQUcsS0FBQXhSLFVBQUFDLFdBT0F3UixFQUFBLEdBRUFDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFFQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEdBRUFDLEVBQUFKLEVBQUFDLEVBQ0FJLEVBQUFILEVBQUFDLEVBQ0FHLEVBQUFGLEVBQUFDLEVBRUFFLEVBQUEsVUFDQUMsRUFBQSxzQkFTQSxTQUFBQyxHQUFBQyxFQUFBQyxHQUNBLElBQUFoVSxFQUFBblEsS0FDQUEsS0FBQWtrQixVQUNBbGtCLEtBQUFta0IsV0FDQW5rQixLQUFBdUosUUFBQTJhLEVBQUEzYSxRQUNBdkosS0FBQW1VLE9BQUErUCxFQUFBcGtCLFFBQUFza0IsWUFJQXBrQixLQUFBcWtCLFdBQUEsU0FBQUMsR0FDQTVELEVBQUF3RCxFQUFBcGtCLFFBQUF5a0IsT0FBQSxDQUFBTCxLQUNBL1QsRUFBQTNHLFFBQUE4YSxJQUlBdGtCLEtBQUFpSCxPQTREQSxTQUFBdWQsR0FBQU4sRUFBQU8sRUFBQUMsR0FDQSxJQUFBQyxFQUFBRCxFQUFBRSxTQUFBdGYsT0FDQXVmLEVBQUFILEVBQUFJLGdCQUFBeGYsT0FDQXlmLEVBQUFOLEVBQUF0QixHQUFBd0IsRUFBQUUsR0FBQSxFQUNBRyxFQUFBUCxHQUFBcEIsRUFBQUMsSUFBQXFCLEVBQUFFLEdBQUEsRUFFQUgsRUFBQUssWUFDQUwsRUFBQU0sWUFFQUQsSUFDQWIsRUFBQWUsUUFBQSxJQUtBUCxFQUFBRCxZQWlCQSxTQUFBUCxFQUFBUSxHQUNBLElBQUFPLEVBQUFmLEVBQUFlLFFBQ0FMLEVBQUFGLEVBQUFFLFNBQ0FNLEVBQUFOLEVBQUF0ZixPQUdBMmYsRUFBQUUsYUFDQUYsRUFBQUUsV0FBQUMsR0FBQVYsSUFJQVEsRUFBQSxJQUFBRCxFQUFBSSxjQUNBSixFQUFBSSxjQUFBRCxHQUFBVixHQUNLLElBQUFRLElBQ0xELEVBQUFJLGVBQUEsR0FHQSxJQUFBRixFQUFBRixFQUFBRSxXQUNBRSxFQUFBSixFQUFBSSxjQUNBQyxFQUFBRCxJQUFBaG9CLE9BQUE4bkIsRUFBQTluQixPQUVBQSxFQUFBcW5CLEVBQUFybkIsT0FBQWtvQixHQUFBWCxHQUNBRixFQUFBYyxVQUFBcGlCLElBQ0FzaEIsRUFBQWUsVUFBQWYsRUFBQWMsVUFBQUwsRUFBQUssVUFFQWQsRUFBQTltQixNQUFBOG5CLEdBQUFKLEVBQUFqb0IsR0FDQXFuQixFQUFBOWtCLFNBQUErbEIsR0FBQUwsRUFBQWpvQixHQTBCQSxTQUFBNG5CLEVBQUFQLEdBQ0EsSUFBQXJuQixFQUFBcW5CLEVBQUFybkIsT0FDQXVvQixFQUFBWCxFQUFBWSxhQUFBLEdBQ0FDLEVBQUFiLEVBQUFhLFdBQUEsR0FDQUMsRUFBQWQsRUFBQWMsV0FBQSxHQUVBckIsRUFBQUQsWUFBQXRCLEdBQUE0QyxFQUFBdEIsWUFBQXBCLElBQ0F5QyxFQUFBYixFQUFBYSxVQUFBLENBQ0F4b0IsRUFBQXlvQixFQUFBQyxRQUFBLEVBQ0F6b0IsRUFBQXdvQixFQUFBRSxRQUFBLEdBR0FMLEVBQUFYLEVBQUFZLFlBQUEsQ0FDQXZvQixFQUFBRCxFQUFBQyxFQUNBQyxFQUFBRixFQUFBRSxJQUlBbW5CLEVBQUFzQixPQUFBRixFQUFBeG9CLEdBQUFELEVBQUFDLEVBQUFzb0IsRUFBQXRvQixHQUNBb25CLEVBQUF1QixPQUFBSCxFQUFBdm9CLEdBQUFGLEVBQUFFLEVBQUFxb0IsRUFBQXJvQixHQTNDQTJvQixDQUFBakIsRUFBQVAsR0FDQUEsRUFBQXlCLGdCQUFBQyxHQUFBMUIsRUFBQXNCLE9BQUF0QixFQUFBdUIsUUFFQSxJQUFBSSxFQUFBQyxHQUFBNUIsRUFBQWUsVUFBQWYsRUFBQXNCLE9BQUF0QixFQUFBdUIsUUFDQXZCLEVBQUE2QixpQkFBQUYsRUFBQS9vQixFQUNBb25CLEVBQUE4QixpQkFBQUgsRUFBQTlvQixFQUNBbW5CLEVBQUEyQixnQkFBQXhQLEVBQUF3UCxFQUFBL29CLEdBQUF1WixFQUFBd1AsRUFBQTlvQixHQUFBOG9CLEVBQUEvb0IsRUFBQStvQixFQUFBOW9CLEVBRUFtbkIsRUFBQXRrQixNQUFBaWxCLEdBa05BM1IsRUFsTkEyUixFQUFBVCxTQWtOQTZCLEVBbE5BN0IsRUFtTkFlLEdBQUFjLEVBQUEsR0FBQUEsRUFBQSxHQUFBekMsR0FBQTJCLEdBQUFqUyxFQUFBLEdBQUFBLEVBQUEsR0FBQXNRLElBbk5BLEVBQ0FVLEVBQUFnQyxTQUFBckIsRUFzTUEsU0FBQTNSLEVBQUErUyxHQUNBLE9BQUFmLEdBQUFlLEVBQUEsR0FBQUEsRUFBQSxHQUFBekMsR0FBQTBCLEdBQUFoUyxFQUFBLEdBQUFBLEVBQUEsR0FBQXNRLEdBdk1BMkMsQ0FBQXRCLEVBQUFULFlBQUEsRUFFQUYsRUFBQWtDLFlBQUEzQixFQUFBYyxVQUFBckIsRUFBQUUsU0FBQXRmLE9BQ0EyZixFQUFBYyxVQUFBYSxZQUFBbEMsRUFBQUUsU0FBQXRmLE9BQUEyZixFQUFBYyxVQUFBYSxZQURBbEMsRUFBQUUsU0FBQXRmLE9Bd0NBLFNBQUEyZixFQUFBUCxHQUNBLElBRUEvSSxFQUFBa0wsRUFBQUMsRUFBQUMsRUFGQUMsRUFBQS9CLEVBQUFnQyxjQUFBdkMsRUFDQWUsRUFBQWYsRUFBQWMsVUFBQXdCLEVBQUF4QixVQUdBLEdBQUFkLEVBQUFELFdBQUFuQixJQUFBbUMsRUFBQXZDLEdBQUE4RCxFQUFBckwsV0FBQS9KLEdBQUEsQ0FDQSxJQUFBb1UsRUFBQXRCLEVBQUFzQixPQUFBZ0IsRUFBQWhCLE9BQ0FDLEVBQUF2QixFQUFBdUIsT0FBQWUsRUFBQWYsT0FFQXJQLEVBQUEwUCxHQUFBYixFQUFBTyxFQUFBQyxHQUNBWSxFQUFBalEsRUFBQXRaLEVBQ0F3cEIsRUFBQWxRLEVBQUFyWixFQUNBb2UsRUFBQTlFLEVBQUFELEVBQUF0WixHQUFBdVosRUFBQUQsRUFBQXJaLEdBQUFxWixFQUFBdFosRUFBQXNaLEVBQUFyWixFQUNBd3BCLEVBQUFYLEdBQUFKLEVBQUFDLEdBRUFoQixFQUFBZ0MsYUFBQXZDLE9BR0EvSSxFQUFBcUwsRUFBQXJMLFNBQ0FrTCxFQUFBRyxFQUFBSCxVQUNBQyxFQUFBRSxFQUFBRixVQUNBQyxFQUFBQyxFQUFBRCxVQUdBckMsRUFBQS9JLFdBQ0ErSSxFQUFBbUMsWUFDQW5DLEVBQUFvQyxZQUNBcEMsRUFBQXFDLFlBaEVBRyxDQUFBakMsRUFBQVAsR0E0TUEsSUFBQWhSLEVBQUErUyxFQXpNQSxJQUFBdFMsRUFBQStQLEVBQUEzYSxRQUNBNFgsRUFBQXVELEVBQUF5QyxTQUFBaFQsWUFDQUEsRUFBQXVRLEVBQUF5QyxTQUFBaFQsUUFFQXVRLEVBQUF2USxTQS9EQWlULENBQUFsRCxFQUFBUSxHQUdBUixFQUFBbUQsS0FBQSxlQUFBM0MsR0FFQVIsRUFBQW9ELFVBQUE1QyxHQUNBUixFQUFBZSxRQUFBYyxVQUFBckIsRUEwSEEsU0FBQVUsR0FBQVYsR0FLQSxJQUZBLElBQUFFLEVBQUEsR0FDQTl3QixFQUFBLEVBQ0FBLEVBQUE0d0IsRUFBQUUsU0FBQXRmLFFBQ0FzZixFQUFBOXdCLEdBQUEsQ0FDQW9hLFFBQUFwUCxFQUFBNGxCLEVBQUFFLFNBQUE5d0IsR0FBQW9hLFNBQ0FDLFFBQUFyUCxFQUFBNGxCLEVBQUFFLFNBQUE5d0IsR0FBQXFhLFVBRUFyYSxJQUdBLE9BQ0EweEIsVUFBQXBpQixJQUNBd2hCLFdBQ0F2bkIsT0FBQWtvQixHQUFBWCxHQUNBb0IsT0FBQXRCLEVBQUFzQixPQUNBQyxPQUFBdkIsRUFBQXVCLFFBU0EsU0FBQVYsR0FBQVgsR0FDQSxJQUFBTSxFQUFBTixFQUFBdGYsT0FHQSxPQUFBNGYsRUFDQSxPQUNBNW5CLEVBQUF3QixFQUFBOGxCLEVBQUEsR0FBQTFXLFNBQ0EzUSxFQUFBdUIsRUFBQThsQixFQUFBLEdBQUF6VyxVQUtBLElBREEsSUFBQTdRLEVBQUEsRUFBQUMsRUFBQSxFQUFBekosRUFBQSxFQUNBQSxFQUFBb3hCLEdBQ0E1bkIsR0FBQXNuQixFQUFBOXdCLEdBQUFvYSxRQUNBM1EsR0FBQXFuQixFQUFBOXdCLEdBQUFxYSxRQUNBcmEsSUFHQSxPQUNBd0osRUFBQXdCLEVBQUF4QixFQUFBNG5CLEdBQ0EzbkIsRUFBQXVCLEVBQUF2QixFQUFBMm5CLElBV0EsU0FBQW9CLEdBQUFiLEVBQUFub0IsRUFBQUMsR0FDQSxPQUNBRCxJQUFBbW9CLEdBQUEsRUFDQWxvQixJQUFBa29CLEdBQUEsR0FVQSxTQUFBVyxHQUFBOW9CLEVBQUFDLEdBQ0EsT0FBQUQsSUFBQUMsRUFDQWdtQixFQUdBMU0sRUFBQXZaLElBQUF1WixFQUFBdFosR0FDQUQsRUFBQSxFQUFBa21CLEVBQUFDLEVBRUFsbUIsRUFBQSxFQUFBbW1CLEVBQUFDLEVBVUEsU0FBQWdDLEdBQUF0UCxFQUFBQyxFQUFBaVIsR0FDQUEsSUFDQUEsRUFBQXhELEdBRUEsSUFBQXptQixFQUFBZ1osRUFBQWlSLEVBQUEsSUFBQWxSLEVBQUFrUixFQUFBLElBQ0FocUIsRUFBQStZLEVBQUFpUixFQUFBLElBQUFsUixFQUFBa1IsRUFBQSxJQUVBLE9BQUE5cEIsS0FBQThZLEtBQUFqWixJQUFBQyxLQVVBLFNBQUFtb0IsR0FBQXJQLEVBQUFDLEVBQUFpUixHQUNBQSxJQUNBQSxFQUFBeEQsR0FFQSxJQUFBem1CLEVBQUFnWixFQUFBaVIsRUFBQSxJQUFBbFIsRUFBQWtSLEVBQUEsSUFDQWhxQixFQUFBK1ksRUFBQWlSLEVBQUEsSUFBQWxSLEVBQUFrUixFQUFBLElBQ0EsV0FBQTlwQixLQUFBK3BCLE1BQUFqcUIsRUFBQUQsR0FBQUcsS0FBQUMsR0ExVEF1bUIsR0FBQXZ1QixVQUFBLENBS0E4VCxRQUFBLGFBS0F2QyxLQUFBLFdBQ0FqSCxLQUFBeW5CLE1BQUExRyxFQUFBL2dCLEtBQUF1SixRQUFBdkosS0FBQXluQixLQUFBem5CLEtBQUFxa0IsWUFDQXJrQixLQUFBMG5CLFVBQUEzRyxFQUFBL2dCLEtBQUFtVSxPQUFBblUsS0FBQTBuQixTQUFBMW5CLEtBQUFxa0IsWUFDQXJrQixLQUFBMm5CLE9BQUE1RyxFQUFBMEIsRUFBQXppQixLQUFBdUosU0FBQXZKLEtBQUEybkIsTUFBQTNuQixLQUFBcWtCLGFBTUF1RCxRQUFBLFdBQ0E1bkIsS0FBQXluQixNQUFBdkcsRUFBQWxoQixLQUFBdUosUUFBQXZKLEtBQUF5bkIsS0FBQXpuQixLQUFBcWtCLFlBQ0Fya0IsS0FBQTBuQixVQUFBeEcsRUFBQWxoQixLQUFBbVUsT0FBQW5VLEtBQUEwbkIsU0FBQTFuQixLQUFBcWtCLFlBQ0Fya0IsS0FBQTJuQixPQUFBekcsRUFBQXVCLEVBQUF6aUIsS0FBQXVKLFNBQUF2SixLQUFBMm5CLE1BQUEzbkIsS0FBQXFrQixjQTRUQSxJQUFBd0QsR0FBQSxDQUNBbmMsVUFBQXlYLEVBQ0F4WCxVQUFBeVgsRUFDQXhYLFFBQUF5WCxHQUdBeUUsR0FBQSxZQUNBQyxHQUFBLG9CQU9BLFNBQUFDLEtBQ0Fob0IsS0FBQXluQixLQUFBSyxHQUNBOW5CLEtBQUEybkIsTUFBQUksR0FFQS9uQixLQUFBaW9CLFNBQUEsRUFFQWhFLEdBQUEvWCxNQUFBbE0sS0FBQTBmLFdBR0FRLEVBQUE4SCxHQUFBL0QsR0FBQSxDQUtBemEsUUFBQSxTQUFBOGEsR0FDQSxJQUFBRyxFQUFBb0QsR0FBQXZELEVBQUE1SixNQUdBK0osRUFBQXRCLEdBQUEsSUFBQW1CLEVBQUE0RCxTQUNBbG9CLEtBQUFpb0IsU0FBQSxHQUdBeEQsRUFBQXJCLEdBQUEsSUFBQWtCLEVBQUE2RCxRQUNBMUQsRUFBQXBCLEdBSUFyakIsS0FBQWlvQixVQUlBeEQsRUFBQXBCLElBQ0FyakIsS0FBQWlvQixTQUFBLEdBR0Fqb0IsS0FBQW1rQixTQUFBbmtCLEtBQUFra0IsUUFBQU8sRUFBQSxDQUNBRyxTQUFBLENBQUFOLEdBQ0FRLGdCQUFBLENBQUFSLEdBQ0E4RCxZQXZiQSxRQXdiQWpCLFNBQUE3QyxRQUtBLElBQUErRCxHQUFBLENBQ0FDLFlBQUFuRixFQUNBb0YsWUFBQW5GLEVBQ0FvRixVQUFBbkYsRUFDQW9GLGNBQUFuRixFQUNBb0YsV0FBQXBGLEdBSUFxRixHQUFBLENBQ0FDLEVBemNBLFFBMGNBQyxFQXpjQSxNQTBjQUMsRUF6Y0EsUUEwY0FDLEVBemNBLFVBNGNBQyxHQUFBLGNBQ0FDLEdBQUEsc0NBYUEsU0FBQUMsS0FDQWxwQixLQUFBeW5CLEtBQUF1QixHQUNBaHBCLEtBQUEybkIsTUFBQXNCLEdBRUFoRixHQUFBL1gsTUFBQWxNLEtBQUEwZixXQUVBMWYsS0FBQW1wQixNQUFBbnBCLEtBQUFra0IsUUFBQWUsUUFBQW1FLGNBQUEsR0FoQkE1bkIsRUFBQTZuQixpQkFBQTduQixFQUFBOG5CLGVBQ0FOLEdBQUEsZ0JBQ0FDLEdBQUEsNkNBaUJBL0ksRUFBQWdKLEdBQUFqRixHQUFBLENBS0F6YSxRQUFBLFNBQUE4YSxHQUNBLElBQUE2RSxFQUFBbnBCLEtBQUFtcEIsTUFDQUksR0FBQSxFQUVBQyxFQUFBbEYsRUFBQTVKLEtBQUErTyxjQUFBaGEsUUFBQSxTQUNBZ1YsRUFBQTRELEdBQUFtQixHQUNBcEIsRUFBQU8sR0FBQXJFLEVBQUE4RCxjQUFBOUQsRUFBQThELFlBRUFzQixFQW5mQSxTQW1mQXRCLEVBR0F1QixFQUFBaEksRUFBQXdILEVBQUE3RSxFQUFBc0YsVUFBQSxhQUdBbkYsRUFBQXRCLElBQUEsSUFBQW1CLEVBQUE0RCxRQUFBd0IsR0FDQUMsRUFBQSxJQUNBUixFQUFBbGMsS0FBQXFYLEdBQ0FxRixFQUFBUixFQUFBN2pCLE9BQUEsR0FFU21mLEdBQUFwQixFQUFBQyxLQUNUaUcsR0FBQSxHQUlBSSxFQUFBLElBS0FSLEVBQUFRLEdBQUFyRixFQUVBdGtCLEtBQUFta0IsU0FBQW5rQixLQUFBa2tCLFFBQUFPLEVBQUEsQ0FDQUcsU0FBQXVFLEVBQ0FyRSxnQkFBQSxDQUFBUixHQUNBOEQsY0FDQWpCLFNBQUE3QyxJQUdBaUYsR0FFQUosRUFBQVUsT0FBQUYsRUFBQSxPQUtBLElBQUFHLEdBQUEsQ0FDQXZlLFdBQUE0WCxFQUNBM1gsVUFBQTRYLEVBQ0EzWCxTQUFBNFgsRUFDQTBHLFlBQUF6RyxHQUdBMEcsR0FBQSxhQUNBQyxHQUFBLDRDQU9BLFNBQUFDLEtBQ0FscUIsS0FBQTBuQixTQUFBc0MsR0FDQWhxQixLQUFBMm5CLE1BQUFzQyxHQUNBanFCLEtBQUFtcUIsU0FBQSxFQUVBbEcsR0FBQS9YLE1BQUFsTSxLQUFBMGYsV0FHQVEsRUFBQWdLLEdBQUFqRyxHQUFBLENBQ0F6YSxRQUFBLFNBQUE4YSxHQUNBLElBQUE1SixFQUFBb1AsR0FBQXhGLEVBQUE1SixNQU9BLEdBSkFBLElBQUF5SSxJQUNBbmpCLEtBQUFtcUIsU0FBQSxHQUdBbnFCLEtBQUFtcUIsUUFBQSxDQUlBLElBQUFwZCxFQXNCQSxTQUFBdVgsRUFBQTVKLEdBQ0EsSUFBQTBQLEVBQUF2SSxFQUFBeUMsRUFBQXZYLFNBQ0FzZCxFQUFBeEksRUFBQXlDLEVBQUFnRyxnQkFFQTVQLEdBQUEySSxFQUFBQyxLQUNBOEcsRUFBQXJJLEVBQUFxSSxFQUFBRyxPQUFBRixHQUFBLGtCQUdBLE9BQUFELEVBQUFDLElBOUJBcDJCLEtBQUErTCxLQUFBc2tCLEVBQUE1SixHQUdBQSxHQUFBMkksRUFBQUMsSUFBQXZXLEVBQUEsR0FBQXpILE9BQUF5SCxFQUFBLEdBQUF6SCxRQUFBLElBQ0F0RixLQUFBbXFCLFNBQUEsR0FHQW5xQixLQUFBbWtCLFNBQUFua0IsS0FBQWtrQixRQUFBeEosRUFBQSxDQUNBa0ssU0FBQTdYLEVBQUEsR0FDQStYLGdCQUFBL1gsRUFBQSxHQUNBcWIsWUF0a0JBLFFBdWtCQWpCLFNBQUE3QyxRQXNCQSxJQUFBa0csR0FBQSxDQUNBamYsV0FBQTRYLEVBQ0EzWCxVQUFBNFgsRUFDQTNYLFNBQUE0WCxFQUNBMEcsWUFBQXpHLEdBR0FtSCxHQUFBLDRDQU9BLFNBQUFDLEtBQ0ExcUIsS0FBQTBuQixTQUFBK0MsR0FDQXpxQixLQUFBMnFCLFVBQUEsR0FFQTFHLEdBQUEvWCxNQUFBbE0sS0FBQTBmLFdBR0FRLEVBQUF3SyxHQUFBekcsR0FBQSxDQUNBemEsUUFBQSxTQUFBOGEsR0FDQSxJQUFBNUosRUFBQThQLEdBQUFsRyxFQUFBNUosTUFDQTNOLEVBb0JBLFNBQUF1WCxFQUFBNUosR0FDQSxJQUFBa1EsRUFBQS9JLEVBQUF5QyxFQUFBdlgsU0FDQTRkLEVBQUEzcUIsS0FBQTJxQixVQUdBLEdBQUFqUSxHQUFBeUksRUFBQUMsSUFBQSxJQUFBd0gsRUFBQXRsQixPQUVBLE9BREFxbEIsRUFBQUMsRUFBQSxHQUFBQyxhQUFBLEVBQ0EsQ0FBQUQsS0FHQSxJQUFBOTJCLEVBQ0FnM0IsRUFDQVIsRUFBQXpJLEVBQUF5QyxFQUFBZ0csZ0JBQ0FTLEVBQUEsR0FDQTVXLEVBQUFuVSxLQUFBbVUsT0FRQSxHQUxBMlcsRUFBQUYsRUFBQW5RLE9BQUEsU0FBQXVRLEdBQ0EsT0FBQTdKLEVBQUE2SixFQUFBN1csWUFJQXVHLElBQUF5SSxFQUVBLElBREFydkIsRUFBQSxFQUNBQSxFQUFBZzNCLEVBQUF4bEIsUUFDQXFsQixFQUFBRyxFQUFBaDNCLEdBQUErMkIsYUFBQSxFQUNBLzJCLElBS0FBLEVBQUEsRUFDQSxLQUFBQSxFQUFBdzJCLEVBQUFobEIsUUFDQXFsQixFQUFBTCxFQUFBeDJCLEdBQUErMkIsYUFDQUUsRUFBQTlkLEtBQUFxZCxFQUFBeDJCLElBSUE0bUIsR0FBQTJJLEVBQUFDLFdBQ0FxSCxFQUFBTCxFQUFBeDJCLEdBQUErMkIsWUFFQS8yQixJQUdBLElBQUFpM0IsRUFBQXpsQixPQUNBLE9BR0EsT0FFQXljLEVBQUErSSxFQUFBUCxPQUFBUSxHQUFBLGlCQUNBQSxJQXZFQTkyQixLQUFBK0wsS0FBQXNrQixFQUFBNUosR0FDQTNOLEdBSUEvTSxLQUFBbWtCLFNBQUFua0IsS0FBQWtrQixRQUFBeEosRUFBQSxDQUNBa0ssU0FBQTdYLEVBQUEsR0FDQStYLGdCQUFBL1gsRUFBQSxHQUNBcWIsWUE3bkJBLFFBOG5CQWpCLFNBQUE3QyxPQTRFQSxJQUFBMkcsR0FBQSxLQUNBQyxHQUFBLEdBRUEsU0FBQUMsS0FDQWxILEdBQUEvWCxNQUFBbE0sS0FBQTBmLFdBRUEsSUFBQWxXLEVBQUFvVixFQUFBNWUsS0FBQXdKLFFBQUF4SixNQUNBQSxLQUFBZ3JCLE1BQUEsSUFBQU4sR0FBQTFxQixLQUFBa2tCLFFBQUExYSxHQUNBeEosS0FBQW9yQixNQUFBLElBQUFwRCxHQUFBaG9CLEtBQUFra0IsUUFBQTFhLEdBRUF4SixLQUFBcXJCLGFBQUEsS0FDQXJyQixLQUFBc3JCLFlBQUEsR0E4Q0EsU0FBQUMsR0FBQUMsR0FDQSxJQUFBUixFQUFBUSxFQUFBMUcsZ0JBQUEsR0FFQSxHQUFBa0csRUFBQUgsYUFBQTdxQixLQUFBcXJCLGFBQUEsQ0FDQSxJQUFBSSxFQUFBLENBQXlCbnVCLEVBQUEwdEIsRUFBQTljLFFBQUEzUSxFQUFBeXRCLEVBQUE3YyxTQUN6Qm5PLEtBQUFzckIsWUFBQXJlLEtBQUF3ZSxHQUNBLElBQUFDLEVBQUExckIsS0FBQXNyQixZQU9BM00sV0FOQSxXQUNBLElBQUE3cUIsRUFBQTQzQixFQUFBakssUUFBQWdLLEdBQ0EzM0IsR0FBQSxHQUNBNDNCLEVBQUE3QixPQUFBLzFCLEVBQUEsSUFHQW0zQixLQXhEQS9LLEVBQUFpTCxHQUFBbEgsR0FBQSxDQU9BemEsUUFBQSxTQUFBMGEsRUFBQXlILEVBQUFDLEdBQ0EsSUFBQWxDLEVBaHVCQSxTQWd1QkFrQyxFQUFBeEQsWUFDQXlELEVBL3RCQSxTQSt0QkFELEVBQUF4RCxZQUVBLEtBQUF5RCxHQUFBRCxFQUFBRSxvQkFBQUYsRUFBQUUsbUJBQUFDLGtCQUFBLENBS0EsR0FBQXJDLEdBa0JBLFNBQUFqRixFQUFBK0csR0FDQS9HLEVBQUF0QixHQUNBbmpCLEtBQUFxckIsYUFBQUcsRUFBQTFHLGdCQUFBLEdBQUErRixXQUNBVSxHQUFBdDNCLEtBQUErTCxLQUFBd3JCLElBQ0svRyxHQUFBcEIsRUFBQUMsSUFDTGlJLEdBQUF0M0IsS0FBQStMLEtBQUF3ckIsS0F0QkF2M0IsS0FBQStMLEtBQUEyckIsRUFBQUMsUUFDUyxHQUFBQyxHQTBDVCxTQUFBTCxHQUVBLElBREEsSUFBQWx1QixFQUFBa3VCLEVBQUFyRSxTQUFBalosUUFBQTNRLEVBQUFpdUIsRUFBQXJFLFNBQUFoWixRQUNBcmEsRUFBQSxFQUFtQkEsRUFBQWtNLEtBQUFzckIsWUFBQWhtQixPQUE2QnhSLElBQUEsQ0FDaEQsSUFBQWtCLEVBQUFnTCxLQUFBc3JCLFlBQUF4M0IsR0FDQTBpQixFQUFBL1ksS0FBQW9aLElBQUF2WixFQUFBdEksRUFBQXNJLEdBQUFtWixFQUFBaFosS0FBQW9aLElBQUF0WixFQUFBdkksRUFBQXVJLEdBQ0EsR0FBQWlaLEdBQUEwVSxJQUFBelUsR0FBQXlVLEdBQ0EsU0FHQSxVQW5EU2ozQixLQUFBK0wsS0FBQTRyQixHQUNULE9BR0E1ckIsS0FBQW1rQixTQUFBRCxFQUFBeUgsRUFBQUMsS0FNQWhFLFFBQUEsV0FDQTVuQixLQUFBZ3JCLE1BQUFwRCxVQUNBNW5CLEtBQUFvckIsTUFBQXhELGFBMENBLElBQUFvRSxHQUFBN0osRUFBQTdELEVBQUF2VSxNQUFBLGVBQ0FraUIsR0FBQUQsS0FBQXBhLEVBSUFzYSxHQUFBLE9BQ0FDLEdBQUEsZUFDQUMsR0FBQSxPQUNBQyxHQUFBLFFBQ0FDLEdBQUEsUUFDQUMsR0E0SUEsV0FDQSxJQUFBTixHQUNBLFNBRUEsSUFBQU8sRUFBQSxHQUNBQyxFQUFBanJCLEVBQUFrckIsS0FBQWxyQixFQUFBa3JCLElBQUFDLFNBT0EsTUFOQSw2REFBQXpOLFFBQUEsU0FBQXlCLEdBSUE2TCxFQUFBN0wsSUFBQThMLEdBQUFqckIsRUFBQWtyQixJQUFBQyxTQUFBLGVBQUFoTSxLQUVBNkwsRUF4SkFJLEdBU0EsU0FBQTlxQixHQUFBb2lCLEVBQUFudkIsR0FDQWlMLEtBQUFra0IsVUFDQWxrQixLQUFBNnNCLElBQUE5M0IsR0FHQStNLEdBQUFwTSxVQUFBLENBS0FtM0IsSUFBQSxTQUFBOTNCLEdBekJBLFdBMkJBQSxJQUNBQSxFQUFBaUwsS0FBQThzQixXQUdBYixJQUFBanNCLEtBQUFra0IsUUFBQTNhLFFBQUFRLE9BQUF3aUIsR0FBQXgzQixLQUNBaUwsS0FBQWtrQixRQUFBM2EsUUFBQVEsTUFBQWlpQixJQUFBajNCLEdBRUFpTCxLQUFBK3NCLFFBQUFoNEIsRUFBQTAwQixjQUFBL0gsUUFNQWxaLE9BQUEsV0FDQXhJLEtBQUE2c0IsSUFBQTdzQixLQUFBa2tCLFFBQUFwa0IsUUFBQTRLLGNBT0FvaUIsUUFBQSxXQUNBLElBQUFDLEVBQUEsR0FNQSxPQUxBaE8sRUFBQS9lLEtBQUFra0IsUUFBQThJLFlBQUEsU0FBQUMsR0FDQXZNLEVBQUF1TSxFQUFBbnRCLFFBQUF5a0IsT0FBQSxDQUFBMEksTUFDQUYsSUFBQXhDLE9BQUEwQyxFQUFBQyxxQkFnRUEsU0FBQUgsR0FFQSxHQUFBekwsRUFBQXlMLEVBQUFYLElBQ0EsT0FBQUEsR0FHQSxJQUFBZSxFQUFBN0wsRUFBQXlMLEVBQUFWLElBQ0FlLEVBQUE5TCxFQUFBeUwsRUFBQVQsSUFNQSxHQUFBYSxHQUFBQyxFQUNBLE9BQUFoQixHQUlBLEdBQUFlLEdBQUFDLEVBQ0EsT0FBQUQsRUFBQWQsR0FBQUMsR0FJQSxHQUFBaEwsRUFBQXlMLEVBQUFaLElBQ0EsT0FBQUEsR0FHQSxPQUFBRCxHQXhGQW1CLENBQUFOLEVBQUF2ZCxLQUFBLE9BT0E4ZCxnQkFBQSxTQUFBNUksR0FDQSxJQUFBeUMsRUFBQXpDLEVBQUF5QyxTQUNBSixFQUFBckMsRUFBQXlCLGdCQUdBLEdBQUFubUIsS0FBQWtrQixRQUFBZSxRQUFBc0ksVUFDQXBHLEVBQUE3WixxQkFEQSxDQUtBLElBQUF5ZixFQUFBL3NCLEtBQUErc0IsUUFDQVMsRUFBQWxNLEVBQUF5TCxFQUFBWCxNQUFBRyxHQUFBSCxJQUNBZ0IsRUFBQTlMLEVBQUF5TCxFQUFBVCxNQUFBQyxHQUFBRCxJQUNBYSxFQUFBN0wsRUFBQXlMLEVBQUFWLE1BQUFFLEdBQUFGLElBRUEsR0FBQW1CLEVBQUEsQ0FHQSxJQUFBQyxFQUFBLElBQUEvSSxFQUFBRSxTQUFBdGYsT0FDQW9vQixFQUFBaEosRUFBQTlrQixTQUFBLEVBQ0ErdEIsRUFBQWpKLEVBQUFlLFVBQUEsSUFFQSxHQUFBZ0ksR0FBQUMsR0FBQUMsRUFDQSxPQUlBLElBQUFSLElBQUFDLEVBS0EsT0FBQUksR0FDQUosR0FBQXJHLEVBQUFuRCxHQUNBdUosR0FBQXBHLEVBQUFsRCxFQUNBN2pCLEtBQUE0dEIsV0FBQXpHLFFBSEEsSUFXQXlHLFdBQUEsU0FBQXpHLEdBQ0FubkIsS0FBQWtrQixRQUFBZSxRQUFBc0ksV0FBQSxFQUNBcEcsRUFBQTdaLG1CQWlGQSxJQUFBdWdCLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQUQsR0FDQUUsR0FBQSxHQVNBLFNBQUFDLEdBQUFydUIsR0FDQUUsS0FBQUYsUUFBQUksRUFBQSxHQUE0QkYsS0FBQW91QixTQUFBdHVCLEdBQUEsSUFFNUJFLEtBQUFqQixHQXBnQ0F5akIsSUFzZ0NBeGlCLEtBQUFra0IsUUFBQSxLQUdBbGtCLEtBQUFGLFFBQUF5a0IsT0FBQTNELEVBQUE1Z0IsS0FBQUYsUUFBQXlrQixRQUFBLEdBRUF2a0IsS0FBQWlFLE1BQUE0cEIsR0FFQTd0QixLQUFBcXVCLGFBQUEsR0FDQXJ1QixLQUFBc3VCLFlBQUEsR0FxT0EsU0FBQUMsR0FBQXRxQixHQUNBLE9BQUFBLEVBQUFpcUIsR0FDQSxTQUNLanFCLEVBQUErcEIsR0FDTCxNQUNLL3BCLEVBQUE4cEIsR0FDTCxPQUNLOXBCLEVBQUE2cEIsR0FDTCxRQUVBLEdBUUEsU0FBQVUsR0FBQXpILEdBQ0EsT0FBQUEsR0FBQXBELEVBQ0EsT0FDS29ELEdBQUFyRCxFQUNMLEtBQ0txRCxHQUFBdkQsRUFDTCxPQUNLdUQsR0FBQXRELEVBQ0wsUUFFQSxHQVNBLFNBQUFnTCxHQUFBQyxFQUFBekIsR0FDQSxJQUFBL0ksRUFBQStJLEVBQUEvSSxRQUNBLE9BQUFBLEVBQ0FBLEVBQUF2dkIsSUFBQSs1QixHQUVBQSxFQVFBLFNBQUFDLEtBQ0FSLEdBQUFqaUIsTUFBQWxNLEtBQUEwZixXQTZEQSxTQUFBa1AsS0FDQUQsR0FBQXppQixNQUFBbE0sS0FBQTBmLFdBRUExZixLQUFBNnVCLEdBQUEsS0FDQTd1QixLQUFBOHVCLEdBQUEsS0E0RUEsU0FBQUMsS0FDQUosR0FBQXppQixNQUFBbE0sS0FBQTBmLFdBc0NBLFNBQUFzUCxLQUNBYixHQUFBamlCLE1BQUFsTSxLQUFBMGYsV0FFQTFmLEtBQUFpdkIsT0FBQSxLQUNBanZCLEtBQUFrdkIsT0FBQSxLQW1FQSxTQUFBQyxLQUNBUixHQUFBemlCLE1BQUFsTSxLQUFBMGYsV0E4QkEsU0FBQTBQLEtBQ0FULEdBQUF6aUIsTUFBQWxNLEtBQUEwZixXQTJEQSxTQUFBMlAsS0FDQWxCLEdBQUFqaUIsTUFBQWxNLEtBQUEwZixXQUlBMWYsS0FBQXN2QixPQUFBLEVBQ0F0dkIsS0FBQXV2QixTQUFBLEVBRUF2dkIsS0FBQWl2QixPQUFBLEtBQ0FqdkIsS0FBQWt2QixPQUFBLEtBQ0FsdkIsS0FBQXd2QixNQUFBLEVBcUdBLFNBQUFybUIsR0FBQUksRUFBQXpKLEdBR0EsT0FGQUEsS0FBQSxJQUNBa3RCLFlBQUFwTSxFQUFBOWdCLEVBQUFrdEIsWUFBQTdqQixHQUFBaWxCLFNBQUFxQixRQUNBLElBQUFDLEdBQUFubUIsRUFBQXpKLEdBN3RCQXF1QixHQUFBejRCLFVBQUEsQ0FLQTA0QixTQUFBLEdBT0F2QixJQUFBLFNBQUEvc0IsR0FLQSxPQUpBSSxFQUFBRixLQUFBRixXQUdBRSxLQUFBa2tCLFNBQUFsa0IsS0FBQWtrQixRQUFBeFosWUFBQWxDLFNBQ0F4SSxNQVFBMnZCLGNBQUEsU0FBQWpCLEdBQ0EsR0FBQTdQLEVBQUE2UCxFQUFBLGdCQUFBMXVCLE1BQ0EsT0FBQUEsS0FHQSxJQUFBcXVCLEVBQUFydUIsS0FBQXF1QixhQU1BLE9BSkFBLEdBREFLLEVBQUFELEdBQUFDLEVBQUExdUIsT0FDQWpCLE1BQ0FzdkIsRUFBQUssRUFBQTN2QixJQUFBMnZCLEVBQ0FBLEVBQUFpQixjQUFBM3ZCLE9BRUFBLE1BUUE0dkIsa0JBQUEsU0FBQWxCLEdBQ0EsT0FBQTdQLEVBQUE2UCxFQUFBLG9CQUFBMXVCLE1BQ0FBLE1BR0EwdUIsRUFBQUQsR0FBQUMsRUFBQTF1QixhQUNBQSxLQUFBcXVCLGFBQUFLLEVBQUEzdkIsSUFDQWlCLE9BUUE2dkIsZUFBQSxTQUFBbkIsR0FDQSxHQUFBN1AsRUFBQTZQLEVBQUEsaUJBQUExdUIsTUFDQSxPQUFBQSxLQUdBLElBQUFzdUIsRUFBQXR1QixLQUFBc3VCLFlBTUEsT0FKQSxJQUFBM00sRUFBQTJNLEVBREFJLEVBQUFELEdBQUFDLEVBQUExdUIsU0FFQXN1QixFQUFBcmhCLEtBQUF5aEIsR0FDQUEsRUFBQW1CLGVBQUE3dkIsT0FFQUEsTUFRQTh2QixtQkFBQSxTQUFBcEIsR0FDQSxHQUFBN1AsRUFBQTZQLEVBQUEscUJBQUExdUIsTUFDQSxPQUFBQSxLQUdBMHVCLEVBQUFELEdBQUFDLEVBQUExdUIsTUFDQSxJQUFBNmYsRUFBQThCLEVBQUEzaEIsS0FBQXN1QixZQUFBSSxHQUlBLE9BSEE3TyxHQUFBLEdBQ0E3ZixLQUFBc3VCLFlBQUF6RSxPQUFBaEssRUFBQSxHQUVBN2YsTUFPQSt2QixtQkFBQSxXQUNBLE9BQUEvdkIsS0FBQXN1QixZQUFBaHBCLE9BQUEsR0FRQTBxQixpQkFBQSxTQUFBdEIsR0FDQSxRQUFBMXVCLEtBQUFxdUIsYUFBQUssRUFBQTN2QixLQVFBc29CLEtBQUEsU0FBQTNDLEdBQ0EsSUFBQXZVLEVBQUFuUSxLQUNBaUUsRUFBQWpFLEtBQUFpRSxNQUVBLFNBQUFvakIsRUFBQTRJLEdBQ0E5ZixFQUFBK1QsUUFBQW1ELEtBQUE0SSxFQUFBdkwsR0FJQXpnQixFQUFBK3BCLElBQ0EzRyxFQUFBbFgsRUFBQXJRLFFBQUFtd0IsTUFBQTFCLEdBQUF0cUIsSUFHQW9qQixFQUFBbFgsRUFBQXJRLFFBQUFtd0IsT0FFQXZMLEVBQUF3TCxpQkFDQTdJLEVBQUEzQyxFQUFBd0wsaUJBSUFqc0IsR0FBQStwQixJQUNBM0csRUFBQWxYLEVBQUFyUSxRQUFBbXdCLE1BQUExQixHQUFBdHFCLEtBVUFrc0IsUUFBQSxTQUFBekwsR0FDQSxHQUFBMWtCLEtBQUFvd0IsVUFDQSxPQUFBcHdCLEtBQUFxbkIsS0FBQTNDLEdBR0Exa0IsS0FBQWlFLE1BN0tBLElBb0xBbXNCLFFBQUEsV0FFQSxJQURBLElBQUF0OEIsRUFBQSxFQUNBQSxFQUFBa00sS0FBQXN1QixZQUFBaHBCLFFBQUEsQ0FDQSxLQUFBdEYsS0FBQXN1QixZQUFBeDZCLEdBQUFtUSxPQXZMQSxHQXVMQTRwQixLQUNBLFNBRUEvNUIsSUFFQSxVQU9Bd3pCLFVBQUEsU0FBQXNFLEdBR0EsSUFBQXlFLEVBQUFud0IsRUFBQSxHQUFzQzByQixHQUd0QyxJQUFBbEwsRUFBQTFnQixLQUFBRixRQUFBeWtCLE9BQUEsQ0FBQXZrQixLQUFBcXdCLElBR0EsT0FGQXJ3QixLQUFBNkUsYUFDQTdFLEtBQUFpRSxNQTNNQSxJQWdOQWpFLEtBQUFpRSxPQUFBZ3FCLEdBQUFDLEdBaE5BLE1BaU5BbHVCLEtBQUFpRSxNQUFBNHBCLElBR0E3dEIsS0FBQWlFLE1BQUFqRSxLQUFBc3dCLFFBQUFELEdBSUFyd0IsS0FBQWlFLE9BQUE2cEIsR0FBQUMsR0FBQUMsR0FBQUUsS0FDQWx1QixLQUFBbXdCLFFBQUFFLElBV0FDLFFBQUEsU0FBQTFFLEtBT0FzQixlQUFBLGFBT0Fyb0IsTUFBQSxjQThEQXFiLEVBQUF5TyxHQUFBUixHQUFBLENBS0FDLFNBQUEsQ0FLQXhKLFNBQUEsR0FTQTJMLFNBQUEsU0FBQTdMLEdBQ0EsSUFBQThMLEVBQUF4d0IsS0FBQUYsUUFBQThrQixTQUNBLFdBQUE0TCxHQUFBOUwsRUFBQUUsU0FBQXRmLFNBQUFrckIsR0FTQUYsUUFBQSxTQUFBNUwsR0FDQSxJQUFBemdCLEVBQUFqRSxLQUFBaUUsTUFDQXdnQixFQUFBQyxFQUFBRCxVQUVBZ00sRUFBQXhzQixHQUFBNnBCLEdBQUFDLElBQ0EyQyxFQUFBMXdCLEtBQUF1d0IsU0FBQTdMLEdBR0EsT0FBQStMLElBQUFoTSxFQUFBbkIsSUFBQW9OLEdBQ0F6c0IsRUFBQWlxQixHQUNTdUMsR0FBQUMsRUFDVGpNLEVBQUFwQixFQUNBcGYsRUFBQStwQixHQUNhL3BCLEVBQUE2cEIsR0FHYjdwQixFQUFBOHBCLEdBRkFELEdBNVZBLE1BaVhBNU4sRUFBQTBPLEdBQUFELEdBQUEsQ0FLQVAsU0FBQSxDQUNBNkIsTUFBQSxNQUNBVSxVQUFBLEdBQ0EvTCxTQUFBLEVBQ0FtQyxVQUFBakQsR0FHQW9KLGVBQUEsV0FDQSxJQUFBbkcsRUFBQS9tQixLQUFBRixRQUFBaW5CLFVBQ0FnRyxFQUFBLEdBT0EsT0FOQWhHLEVBQUFuRCxHQUNBbUosRUFBQTlmLEtBQUFxZixJQUVBdkYsRUFBQWxELEdBQ0FrSixFQUFBOWYsS0FBQW9mLElBRUFVLEdBR0E2RCxjQUFBLFNBQUFsTSxHQUNBLElBQUE1a0IsRUFBQUUsS0FBQUYsUUFDQSt3QixHQUFBLEVBQ0FqeEIsRUFBQThrQixFQUFBOWtCLFNBQ0FtbkIsRUFBQXJDLEVBQUFxQyxVQUNBenBCLEVBQUFvbkIsRUFBQXNCLE9BQ0F6b0IsRUFBQW1uQixFQUFBdUIsT0FlQSxPQVpBYyxFQUFBam5CLEVBQUFpbkIsWUFDQWpuQixFQUFBaW5CLFVBQUFuRCxHQUNBbUQsRUFBQSxJQUFBenBCLEVBQUFpbUIsRUFBQWptQixFQUFBLEVBQUFrbUIsRUFBQUMsRUFDQW9OLEVBQUF2ekIsR0FBQTBDLEtBQUE2dUIsR0FDQWp2QixFQUFBbkMsS0FBQW9aLElBQUE2TixFQUFBc0IsVUFFQWUsRUFBQSxJQUFBeHBCLEVBQUFnbUIsRUFBQWhtQixFQUFBLEVBQUFtbUIsRUFBQUMsRUFDQWtOLEVBQUF0ekIsR0FBQXlDLEtBQUE4dUIsR0FDQWx2QixFQUFBbkMsS0FBQW9aLElBQUE2TixFQUFBdUIsVUFHQXZCLEVBQUFxQyxZQUNBOEosR0FBQWp4QixFQUFBRSxFQUFBNndCLFdBQUE1SixFQUFBam5CLEVBQUFpbkIsV0FHQXdKLFNBQUEsU0FBQTdMLEdBQ0EsT0FBQWlLLEdBQUFqNUIsVUFBQTY2QixTQUFBdDhCLEtBQUErTCxLQUFBMGtCLEtBQ0Exa0IsS0FBQWlFLE1BQUE2cEIsTUFBQTl0QixLQUFBaUUsTUFBQTZwQixLQUFBOXRCLEtBQUE0d0IsY0FBQWxNLEtBR0EyQyxLQUFBLFNBQUEzQyxHQUVBMWtCLEtBQUE2dUIsR0FBQW5LLEVBQUFzQixPQUNBaG1CLEtBQUE4dUIsR0FBQXBLLEVBQUF1QixPQUVBLElBQUFjLEVBQUF5SCxHQUFBOUosRUFBQXFDLFdBRUFBLElBQ0FyQyxFQUFBd0wsZ0JBQUFsd0IsS0FBQUYsUUFBQW13QixNQUFBbEosR0FFQS9tQixLQUFBeWdCLE9BQUE0RyxLQUFBcHpCLEtBQUErTCxLQUFBMGtCLE1BY0F4RSxFQUFBNk8sR0FBQUosR0FBQSxDQUtBUCxTQUFBLENBQ0E2QixNQUFBLFFBQ0FVLFVBQUEsRUFDQS9MLFNBQUEsR0FHQXNJLGVBQUEsV0FDQSxPQUFBZCxLQUdBbUUsU0FBQSxTQUFBN0wsR0FDQSxPQUFBMWtCLEtBQUF5Z0IsT0FBQThQLFNBQUF0OEIsS0FBQStMLEtBQUEwa0IsS0FDQWpuQixLQUFBb1osSUFBQTZOLEVBQUF0a0IsTUFBQSxHQUFBSixLQUFBRixRQUFBNndCLFdBQUEzd0IsS0FBQWlFLE1BQUE2cEIsS0FHQXpHLEtBQUEsU0FBQTNDLEdBQ0EsT0FBQUEsRUFBQXRrQixNQUFBLENBQ0EsSUFBQTB3QixFQUFBcE0sRUFBQXRrQixNQUFBLGFBQ0Fza0IsRUFBQXdMLGdCQUFBbHdCLEtBQUFGLFFBQUFtd0IsTUFBQWEsRUFFQTl3QixLQUFBeWdCLE9BQUE0RyxLQUFBcHpCLEtBQUErTCxLQUFBMGtCLE1BaUJBeEUsRUFBQThPLEdBQUFiLEdBQUEsQ0FLQUMsU0FBQSxDQUNBNkIsTUFBQSxRQUNBckwsU0FBQSxFQUNBbU0sS0FBQSxJQUNBSixVQUFBLEdBR0F6RCxlQUFBLFdBQ0EsT0FBQWhCLEtBR0FvRSxRQUFBLFNBQUE1TCxHQUNBLElBQUE1a0IsRUFBQUUsS0FBQUYsUUFDQWt4QixFQUFBdE0sRUFBQUUsU0FBQXRmLFNBQUF4RixFQUFBOGtCLFNBQ0FxTSxFQUFBdk0sRUFBQTlrQixTQUFBRSxFQUFBNndCLFVBQ0FPLEVBQUF4TSxFQUFBZSxVQUFBM2xCLEVBQUFpeEIsS0FNQSxHQUpBL3dCLEtBQUFrdkIsT0FBQXhLLEdBSUF1TSxJQUFBRCxHQUFBdE0sRUFBQUQsV0FBQXBCLEVBQUFDLEtBQUE0TixFQUNBbHhCLEtBQUE2RSxhQUNTLEdBQUE2ZixFQUFBRCxVQUFBdEIsRUFDVG5qQixLQUFBNkUsUUFDQTdFLEtBQUFpdkIsT0FBQXpRLEVBQUEsV0FDQXhlLEtBQUFpRSxNQUFBZ3FCLEdBQ0FqdUIsS0FBQW13QixXQUNhcndCLEVBQUFpeEIsS0FBQS93QixXQUNKLEdBQUEwa0IsRUFBQUQsVUFBQXBCLEVBQ1QsT0FBQTRLLEdBRUEsT0E3Z0JBLElBZ2hCQXBwQixNQUFBLFdBQ0Fzc0IsYUFBQW54QixLQUFBaXZCLFNBR0E1SCxLQUFBLFNBQUEzQyxHQUNBMWtCLEtBQUFpRSxRQUFBZ3FCLEtBSUF2SixLQUFBRCxVQUFBcEIsRUFDQXJqQixLQUFBa2tCLFFBQUFtRCxLQUFBcm5CLEtBQUFGLFFBQUFtd0IsTUFBQSxLQUFBdkwsSUFFQTFrQixLQUFBa3ZCLE9BQUExSixVQUFBcGlCLElBQ0FwRCxLQUFBa2tCLFFBQUFtRCxLQUFBcm5CLEtBQUFGLFFBQUFtd0IsTUFBQWp3QixLQUFBa3ZCLGFBZUFoUCxFQUFBaVAsR0FBQVIsR0FBQSxDQUtBUCxTQUFBLENBQ0E2QixNQUFBLFNBQ0FVLFVBQUEsRUFDQS9MLFNBQUEsR0FHQXNJLGVBQUEsV0FDQSxPQUFBZCxLQUdBbUUsU0FBQSxTQUFBN0wsR0FDQSxPQUFBMWtCLEtBQUF5Z0IsT0FBQThQLFNBQUF0OEIsS0FBQStMLEtBQUEwa0IsS0FDQWpuQixLQUFBb1osSUFBQTZOLEVBQUFnQyxVQUFBMW1CLEtBQUFGLFFBQUE2d0IsV0FBQTN3QixLQUFBaUUsTUFBQTZwQixPQWNBNU4sRUFBQWtQLEdBQUFULEdBQUEsQ0FLQVAsU0FBQSxDQUNBNkIsTUFBQSxRQUNBVSxVQUFBLEdBQ0FoVixTQUFBLEdBQ0FvTCxVQUFBbkQsRUFBQUMsRUFDQWUsU0FBQSxHQUdBc0ksZUFBQSxXQUNBLE9BQUEwQixHQUFBbDVCLFVBQUF3M0IsZUFBQWo1QixLQUFBK0wsT0FHQXV3QixTQUFBLFNBQUE3TCxHQUNBLElBQ0EvSSxFQURBb0wsRUFBQS9tQixLQUFBRixRQUFBaW5CLFVBV0EsT0FSQUEsR0FBQW5ELEVBQUFDLEdBQ0FsSSxFQUFBK0ksRUFBQTJCLGdCQUNTVSxFQUFBbkQsRUFDVGpJLEVBQUErSSxFQUFBNkIsaUJBQ1NRLEVBQUFsRCxJQUNUbEksRUFBQStJLEVBQUE4QixrQkFHQXhtQixLQUFBeWdCLE9BQUE4UCxTQUFBdDhCLEtBQUErTCxLQUFBMGtCLElBQ0FxQyxFQUFBckMsRUFBQXlCLGlCQUNBekIsRUFBQTlrQixTQUFBSSxLQUFBRixRQUFBNndCLFdBQ0FqTSxFQUFBa0MsYUFBQTVtQixLQUFBRixRQUFBOGtCLFVBQ0EvTixFQUFBOEUsR0FBQTNiLEtBQUFGLFFBQUE2YixVQUFBK0ksRUFBQUQsVUFBQXBCLEdBR0FnRSxLQUFBLFNBQUEzQyxHQUNBLElBQUFxQyxFQUFBeUgsR0FBQTlKLEVBQUF5QixpQkFDQVksR0FDQS9tQixLQUFBa2tCLFFBQUFtRCxLQUFBcm5CLEtBQUFGLFFBQUFtd0IsTUFBQWxKLEVBQUFyQyxHQUdBMWtCLEtBQUFra0IsUUFBQW1ELEtBQUFybkIsS0FBQUYsUUFBQW13QixNQUFBdkwsTUEyQkF4RSxFQUFBbVAsR0FBQWxCLEdBQUEsQ0FLQUMsU0FBQSxDQUNBNkIsTUFBQSxNQUNBckwsU0FBQSxFQUNBd00sS0FBQSxFQUNBQyxTQUFBLElBQ0FOLEtBQUEsSUFDQUosVUFBQSxFQUNBVyxhQUFBLElBR0FwRSxlQUFBLFdBQ0EsT0FBQWYsS0FHQW1FLFFBQUEsU0FBQTVMLEdBQ0EsSUFBQTVrQixFQUFBRSxLQUFBRixRQUVBa3hCLEVBQUF0TSxFQUFBRSxTQUFBdGYsU0FBQXhGLEVBQUE4a0IsU0FDQXFNLEVBQUF2TSxFQUFBOWtCLFNBQUFFLEVBQUE2d0IsVUFDQVksRUFBQTdNLEVBQUFlLFVBQUEzbEIsRUFBQWl4QixLQUlBLEdBRkEvd0IsS0FBQTZFLFFBRUE2ZixFQUFBRCxVQUFBdEIsR0FBQSxJQUFBbmpCLEtBQUF3dkIsTUFDQSxPQUFBeHZCLEtBQUF3eEIsY0FLQSxHQUFBUCxHQUFBTSxHQUFBUCxFQUFBLENBQ0EsR0FBQXRNLEVBQUFELFdBQUFwQixFQUNBLE9BQUFyakIsS0FBQXd4QixjQUdBLElBQUFDLEdBQUF6eEIsS0FBQXN2QixPQUFBNUssRUFBQWMsVUFBQXhsQixLQUFBc3ZCLE1BQUF4dkIsRUFBQXV4QixTQUNBSyxHQUFBMXhCLEtBQUF1dkIsU0FBQTVKLEdBQUEzbEIsS0FBQXV2QixRQUFBN0ssRUFBQXJuQixRQUFBeUMsRUFBQXd4QixhQWdCQSxHQWRBdHhCLEtBQUFzdkIsTUFBQTVLLEVBQUFjLFVBQ0F4bEIsS0FBQXV2QixRQUFBN0ssRUFBQXJuQixPQUVBcTBCLEdBQUFELEVBR0F6eEIsS0FBQXd2QixPQUFBLEVBRkF4dkIsS0FBQXd2QixNQUFBLEVBS0F4dkIsS0FBQWt2QixPQUFBeEssRUFLQSxJQURBMWtCLEtBQUF3dkIsTUFBQTF2QixFQUFBc3hCLEtBSUEsT0FBQXB4QixLQUFBK3ZCLHNCQUdBL3ZCLEtBQUFpdkIsT0FBQXpRLEVBQUEsV0FDQXhlLEtBQUFpRSxNQUFBZ3FCLEdBQ0FqdUIsS0FBQW13QixXQUNxQnJ3QixFQUFBdXhCLFNBQUFyeEIsTUFDckI4dEIsSUFOQUcsR0FVQSxPQXR0QkEsSUF5dEJBdUQsWUFBQSxXQUlBLE9BSEF4eEIsS0FBQWl2QixPQUFBelEsRUFBQSxXQUNBeGUsS0FBQWlFLE1BM3RCQSxJQTR0QlNqRSxLQUFBRixRQUFBdXhCLFNBQUFyeEIsTUE1dEJULElBZ3VCQTZFLE1BQUEsV0FDQXNzQixhQUFBbnhCLEtBQUFpdkIsU0FHQTVILEtBQUEsV0FDQXJuQixLQUFBaUUsT0FBQWdxQixLQUNBanVCLEtBQUFrdkIsT0FBQXlDLFNBQUEzeEIsS0FBQXd2QixNQUNBeHZCLEtBQUFra0IsUUFBQW1ELEtBQUFybkIsS0FBQUYsUUFBQW13QixNQUFBandCLEtBQUFrdkIsWUFvQkEvbEIsR0FBQXlvQixRQUFBLFFBTUF6b0IsR0FBQWlsQixTQUFBLENBT0F5RCxXQUFBLEVBUUFubkIsWUFsOUJBLFVBdzlCQTZaLFFBQUEsRUFTQUgsWUFBQSxLQU9BME4sV0FBQSxLQU9BckMsT0FBQSxDQUVBLENBQUFOLEdBQUEsQ0FBNEI1SyxRQUFBLElBQzVCLENBQUF3SyxHQUFBLENBQTJCeEssUUFBQSxHQUFjLFlBQ3pDLENBQUE2SyxHQUFBLENBQTJCckksVUFBQW5ELElBQzNCLENBQUFnTCxHQUFBLENBQXlCN0gsVUFBQW5ELEdBQWdDLFdBQ3pELENBQUF5TCxJQUNBLENBQUFBLEdBQUEsQ0FBeUJZLE1BQUEsWUFBQW1CLEtBQUEsR0FBNEIsU0FDckQsQ0FBQXBDLEtBUUErQyxTQUFBLENBTUFDLFdBQUEsT0FPQUMsWUFBQSxPQVNBQyxhQUFBLE9BT0FDLGVBQUEsT0FPQUMsU0FBQSxPQVFBQyxrQkFBQSxrQkFhQSxTQUFBM0MsR0FBQW5tQixFQUFBekosR0F6d0RBLElBQUFva0IsRUEwd0RBbGtCLEtBQUFGLFFBQUFJLEVBQUEsR0FBNEJpSixHQUFBaWxCLFNBQUF0dUIsR0FBQSxJQUU1QkUsS0FBQUYsUUFBQXNrQixZQUFBcGtCLEtBQUFGLFFBQUFza0IsYUFBQTdhLEVBRUF2SixLQUFBc3lCLFNBQUEsR0FDQXR5QixLQUFBaWxCLFFBQUEsR0FDQWpsQixLQUFBZ3RCLFlBQUEsR0FDQWh0QixLQUFBdXlCLFlBQUEsR0FFQXZ5QixLQUFBdUosVUFDQXZKLEtBQUEwa0IsTUFyd0RBLEtBZkFSLEVBb3hEQWxrQixNQWx4REFGLFFBQUFneUIsYUFJSy9PLEVBQ0xtRyxHQUNLbEcsRUFDTDBILEdBQ0s1SCxFQUdMcUksR0FGQW5ELEtBSUE5RCxFQUFBTSxJQXN3REF4a0IsS0FBQTBLLFlBQUEsSUFBQTVJLEdBQUE5QixVQUFBRixRQUFBNEssYUFFQThuQixHQUFBeHlCLE1BQUEsR0FFQStlLEVBQUEvZSxLQUFBRixRQUFBa3RCLFlBQUEsU0FBQXlGLEdBQ0EsSUFBQXhGLEVBQUFqdEIsS0FBQTB5QixJQUFBLElBQUFELEVBQUEsR0FBQUEsRUFBQSxLQUNBQSxFQUFBLElBQUF4RixFQUFBMEMsY0FBQThDLEVBQUEsSUFDQUEsRUFBQSxJQUFBeEYsRUFBQTRDLGVBQUE0QyxFQUFBLEtBQ0t6eUIsTUE0UEwsU0FBQXd5QixHQUFBdE8sRUFBQXdPLEdBQ0EsSUFJQXJRLEVBSkE5WSxFQUFBMmEsRUFBQTNhLFFBQ0FBLEVBQUFRLFFBSUFnVixFQUFBbUYsRUFBQXBrQixRQUFBaXlCLFNBQUEsU0FBQWg5QixFQUFBVixHQUNBZ3VCLEVBQUFGLEVBQUE1WSxFQUFBUSxNQUFBMVYsR0FDQXErQixHQUNBeE8sRUFBQXFPLFlBQUFsUSxHQUFBOVksRUFBQVEsTUFBQXNZLEdBQ0E5WSxFQUFBUSxNQUFBc1ksR0FBQXR0QixHQUVBd1UsRUFBQVEsTUFBQXNZLEdBQUE2QixFQUFBcU8sWUFBQWxRLElBQUEsS0FHQXFRLElBQ0F4TyxFQUFBcU8sWUFBQSxLQXpRQTdDLEdBQUFoNkIsVUFBQSxDQU1BbTNCLElBQUEsU0FBQS9zQixHQWFBLE9BWkFJLEVBQUFGLEtBQUFGLFdBR0FBLEVBQUE0SyxhQUNBMUssS0FBQTBLLFlBQUFsQyxTQUVBMUksRUFBQXNrQixjQUVBcGtCLEtBQUEwa0IsTUFBQWtELFVBQ0E1bkIsS0FBQTBrQixNQUFBdlEsT0FBQXJVLEVBQUFza0IsWUFDQXBrQixLQUFBMGtCLE1BQUF6ZCxRQUVBakgsTUFTQTJ5QixLQUFBLFNBQUFDLEdBQ0E1eUIsS0FBQWlsQixRQUFBNE4sUUFBQUQsRUE1REEsRUFEQSxHQXNFQXRMLFVBQUEsU0FBQXNFLEdBQ0EsSUFBQTNHLEVBQUFqbEIsS0FBQWlsQixRQUNBLElBQUFBLEVBQUE0TixRQUFBLENBT0EsSUFBQTVGLEVBRkFqdEIsS0FBQTBLLFlBQUE0aUIsZ0JBQUExQixHQUdBLElBQUFvQixFQUFBaHRCLEtBQUFndEIsWUFLQThGLEVBQUE3TixFQUFBNk4sZ0JBSUFBLFFBQUE3dUIsTUFBQWdxQixNQUNBNkUsRUFBQTdOLEVBQUE2TixjQUFBLE1BSUEsSUFEQSxJQUFBaC9CLEVBQUEsRUFDQUEsRUFBQWs1QixFQUFBMW5CLFFBQ0EybkIsRUFBQUQsRUFBQWw1QixHQTlGQSxJQXNHQW14QixFQUFBNE4sU0FDQUMsR0FBQTdGLEdBQUE2RixJQUNBN0YsRUFBQStDLGlCQUFBOEMsR0FHQTdGLEVBQUFwb0IsUUFGQW9vQixFQUFBM0YsVUFBQXNFLElBT0FrSCxHQUFBN0YsRUFBQWhwQixPQUFBNnBCLEdBQUFDLEdBQUFDLE1BQ0E4RSxFQUFBN04sRUFBQTZOLGNBQUE3RixHQUVBbjVCLE1BU0FhLElBQUEsU0FBQXM0QixHQUNBLEdBQUFBLGFBQUFrQixHQUNBLE9BQUFsQixFQUlBLElBREEsSUFBQUQsRUFBQWh0QixLQUFBZ3RCLFlBQ0FsNUIsRUFBQSxFQUF1QkEsRUFBQWs1QixFQUFBMW5CLE9BQXdCeFIsSUFDL0MsR0FBQWs1QixFQUFBbDVCLEdBQUFnTSxRQUFBbXdCLE9BQUFoRCxFQUNBLE9BQUFELEVBQUFsNUIsR0FHQSxhQVNBNCtCLElBQUEsU0FBQXpGLEdBQ0EsR0FBQXBPLEVBQUFvTyxFQUFBLE1BQUFqdEIsTUFDQSxPQUFBQSxLQUlBLElBQUEreUIsRUFBQS95QixLQUFBckwsSUFBQXM0QixFQUFBbnRCLFFBQUFtd0IsT0FTQSxPQVJBOEMsR0FDQS95QixLQUFBdUssT0FBQXdvQixHQUdBL3lCLEtBQUFndEIsWUFBQS9mLEtBQUFnZ0IsR0FDQUEsRUFBQS9JLFFBQUFsa0IsS0FFQUEsS0FBQTBLLFlBQUFsQyxTQUNBeWtCLEdBUUExaUIsT0FBQSxTQUFBMGlCLEdBQ0EsR0FBQXBPLEVBQUFvTyxFQUFBLFNBQUFqdEIsTUFDQSxPQUFBQSxLQU1BLEdBSEFpdEIsRUFBQWp0QixLQUFBckwsSUFBQXM0QixHQUdBLENBQ0EsSUFBQUQsRUFBQWh0QixLQUFBZ3RCLFlBQ0FuTixFQUFBOEIsRUFBQXFMLEVBQUFDLElBRUEsSUFBQXBOLElBQ0FtTixFQUFBbkQsT0FBQWhLLEVBQUEsR0FDQTdmLEtBQUEwSyxZQUFBbEMsVUFJQSxPQUFBeEksTUFTQXNKLEdBQUEsU0FBQTBwQixFQUFBeHBCLEdBQ0EsR0FBQXdwQixJQUFBcGhCLEdBR0FwSSxJQUFBb0ksRUFBQSxDQUlBLElBQUEwZ0IsRUFBQXR5QixLQUFBc3lCLFNBS0EsT0FKQXZULEVBQUFrQyxFQUFBK1IsR0FBQSxTQUFBL0MsR0FDQXFDLEVBQUFyQyxHQUFBcUMsRUFBQXJDLElBQUEsR0FDQXFDLEVBQUFyQyxHQUFBaGpCLEtBQUF6RCxLQUVBeEosT0FTQWlNLElBQUEsU0FBQSttQixFQUFBeHBCLEdBQ0EsR0FBQXdwQixJQUFBcGhCLEVBQUEsQ0FJQSxJQUFBMGdCLEVBQUF0eUIsS0FBQXN5QixTQVFBLE9BUEF2VCxFQUFBa0MsRUFBQStSLEdBQUEsU0FBQS9DLEdBQ0F6bUIsRUFHQThvQixFQUFBckMsSUFBQXFDLEVBQUFyQyxHQUFBcEcsT0FBQWxJLEVBQUEyUSxFQUFBckMsR0FBQXptQixHQUFBLFVBRkE4b0IsRUFBQXJDLEtBS0Fqd0IsT0FRQXFuQixLQUFBLFNBQUE0SSxFQUFBZ0QsR0FFQWp6QixLQUFBRixRQUFBK3hCLFdBa0VBLFNBQUE1QixFQUFBZ0QsR0FDQSxJQUFBQyxFQUFBN3JCLEVBQUE4ckIsWUFBQSxTQUNBRCxFQUFBRSxVQUFBbkQsR0FBQSxNQUNBaUQsRUFBQXBuQixRQUFBbW5CLEVBQ0FBLEVBQUE5ZSxPQUFBa2YsY0FBQUgsR0FyRUFJLENBQUFyRCxFQUFBZ0QsR0FJQSxJQUFBWCxFQUFBdHlCLEtBQUFzeUIsU0FBQXJDLElBQUFqd0IsS0FBQXN5QixTQUFBckMsR0FBQW5PLFFBQ0EsR0FBQXdRLEtBQUFodEIsT0FBQSxDQUlBMnRCLEVBQUF2WSxLQUFBdVYsRUFDQWdELEVBQUEzbEIsZUFBQSxXQUNBMmxCLEVBQUE5TCxTQUFBN1osa0JBSUEsSUFEQSxJQUFBeFosRUFBQSxFQUNBQSxFQUFBdytCLEVBQUFodEIsUUFDQWd0QixFQUFBeCtCLEdBQUFtL0IsR0FDQW4vQixNQVFBOHpCLFFBQUEsV0FDQTVuQixLQUFBdUosU0FBQWlwQixHQUFBeHlCLE1BQUEsR0FFQUEsS0FBQXN5QixTQUFBLEdBQ0F0eUIsS0FBQWlsQixRQUFBLEdBQ0FqbEIsS0FBQTBrQixNQUFBa0QsVUFDQTVuQixLQUFBdUosUUFBQSxPQXlDQXJKLEVBQUFpSixHQUFBLENBQ0FnYSxjQUNBQyxhQUNBQyxZQUNBQyxlQUVBdUssa0JBQ0FDLGVBQ0FDLGlCQUNBQyxlQUNBQyxvQkFDQUMsbUJBQ0FxRixhQWxyQ0EsR0FvckNBaFEsaUJBQ0FDLGlCQUNBQyxrQkFDQUMsZUFDQUMsaUJBQ0FDLHVCQUNBQyxxQkFDQUMsZ0JBRUE0TCxXQUNBekwsU0FDQW5pQixlQUVBNG9CLGNBQ0ExQyxjQUNBa0IscUJBQ0FpQyxtQkFDQWpCLG9CQUVBaUUsY0FDQVEsa0JBQ0E2RSxJQUFBbkUsR0FDQW9FLElBQUE3RSxHQUNBOEUsTUFBQXRFLEdBQ0F1RSxNQUFBNUUsR0FDQTZFLE9BQUF6RSxHQUNBMEUsTUFBQTdFLEdBRUExbEIsR0FBQXlYLEVBQ0E5VSxJQUFBaVYsRUFDQW5DLE9BQ0FrQixRQUNBRixTQUNBN2YsU0FDQWdnQixVQUNBdEIsU0FDQXVELG1CQUtBLElBQUEzZ0IsSUFBQSxvQkFBQTJPLFVBQUEsSUFDQWhILFdBR0lnVixFQUFBLFdBQ0osT0FBQWhWLElBQ0tsVixLQUFBTCxFQUFBRixFQUFBRSxFQUFBQyxNQUFBK2QsSUFBQS9kLEVBQUFELFFBQUF1cUIsR0F0a0ZMLENBNmtGQzNjLE9BQUE2Rix3Q0M5a0ZELElBRkEsSUFBQXlzQixFQUFBLDBCQUVBeDJCLEVBQUEsRUFBY0EsRUFBQXcyQixFQUFBeHVCLFNBQUE5RCxPQUFBcVEsZUFBNEN2VSxFQUMxRGtFLE9BQUFxUSxhQUFBclEsT0FBQXN5QixFQUFBeDJCLEdBQUEsZ0JBR0F6SixFQUFBRCxRQUFBNE4sT0FBQXFRLDJDQ0FBaGUsRUFBQUQsUUFOQSxTQUFBMGIsR0FHQSxPQUFBQSxFQUFBRyxRQUFBLG1CQUFzQyxzQkNMdEMsTUFBQXNrQixFQUFzQnJnQyxFQUFRLElBQzlCc2dDLEVBQXlCdGdDLEVBQVEsSUFDakN1Z0MsRUFBeUJ2Z0MsRUFBUSxJQUNqQ3VTLEVBQXVCdlMsRUFBUSxHQUMvQmtNLEVBQWlCbE0sRUFBUSxJQUN6QndnQyxFQUEwQnhnQyxFQUFRLElBQ2xDeWdDLEVBQTBCemdDLEVBQVEsR0FDbENtUCxFQUFvQm5QLEVBQVEsR0FDNUJpUyxFQUF3QmpTLEVBQVEsSUFDaEMyVixFQUFxQjNWLEVBQVEsSUFDN0IwZ0MsRUFBa0MxZ0MsRUFBUSxJQVExQ3dPLEVBQUEsQ0FPQTZ4QixnQkFRQUMsbUJBUUFDLG1CQVNBaHVCLGlCQVNBckcsV0FTQXMwQixvQkFTQUMsb0JBU0F0eEIsY0FTQThDLGtCQVNBMEQsZUFVQWdyQiwwQkF2R2tDM2dDLEVBQVEsR0FpSDFDMGdDLDZCQUdBdmdDLEVBQUFELFFBQUFzTyxpQkNuSEFyTyxFQUFBRCxRQVhBLFNBQUFrUCxHQUNBLElBQUFtQyxFQUFBLENBQWdCM0gsRUFBQSxFQUFBQyxFQUFBLEdBT2hCLE9BTkF1RixFQUFBb2MsUUFBQXBjLEVBQUEsU0FBQXZCLEdBQ0EwRCxFQUFBM0gsR0FBQWlFLEVBQUFqRSxFQUNBMkgsRUFBQTFILEdBQUFnRSxFQUFBaEUsSUFFQTBILEVBQUEzSCxFQUFBMkgsRUFBQTNILEVBQUF3RixFQUFBd0MsT0FDQUwsRUFBQTFILEVBQUEwSCxFQUFBMUgsRUFBQXVGLEVBQUF3QyxPQUNBTCxvQkNUQSxNQUFBZ3ZCLEVBQXlCdmdDLEVBQVEsSUFDakN5Z0MsRUFBMEJ6Z0MsRUFBUSxHQU1sQ0csRUFBQUQsUUFKQSxTQUFBeUosRUFBQUcsR0FDQSxPQUFBeTJCLEVBQUFFLEVBQUE5MkIsRUFBQUcsc0JDSkEsTUFBQTYyQixFQUFrQzNnQyxFQUFRLEdBQzFDc2dDLEVBQXlCdGdDLEVBQVEsSUFNakNHLEVBQUFELFFBSkEsU0FBQXlKLEVBQUFHLEVBQUFJLEdBQ0EsT0FBQXkyQixFQUFBaDNCLEVBQUFHLEVBQUF3MkIsRUFBQXAyQixzQkNRQSxNQUFBdUUsRUFBZXpPLEVBQVEsSUFDdkJzTyxFQUFrQnRPLEVBQVEsSUFtQjFCNGdDLEVBQUEsRUFVQUMsRUFBQSxFQThJQTFnQyxFQUFBRCxRQTNJQSxjQUFBdU8sRUFDQXRDLFlBQUFDLEVBQUEsSUFDQUMsTUFBQUQsR0FRQUUsS0FBQWlFLE1BQUFzd0IsRUFRQXYwQixLQUFBdzBCLGFBQUEsR0FRQXgwQixLQUFBeTBCLFdBQUEsR0FRQXowQixLQUFBMDBCLFVBQUEsR0FRQTEwQixLQUFBK21CLFVBQUF1TixFQUVBOS9CLE9BQUEwTCxPQUFBRixLQUFBRixHQVNBRCxnQkFBQWlJLEdBQ0E5SCxLQUFBMUMsR0FBQTBDLEtBQUF3VyxHQUFBMU8sRUFDQTlILEtBQUF6QyxHQUFBeUMsS0FBQXlXLEdBQUEzTyxFQUVBOUgsS0FBQWlFLFFBQUFqRSxLQUFBb0UsUUFBQXV3QixjQUNBMzBCLEtBQUF3VyxHQUFBLE9BQUF4VyxLQUFBeVcsR0FDQXpXLEtBQUErbUIsVUFBQS9tQixLQUFBb0UsUUFBQWt3QixLQUNPLElBQUF0MEIsS0FBQXdXLElBQUF4VyxLQUFBeVcsR0FBQSxFQUNQelcsS0FBQSttQixVQUFBL21CLEtBQUFvRSxRQUFBd3dCLE1BQ081MEIsS0FBQXdXLEdBQUEsR0FBQXhXLEtBQUF5VyxHQUFBLEVBQ1B6VyxLQUFBK21CLFVBQUEvbUIsS0FBQW9FLFFBQUF5d0IsVUFDTzcwQixLQUFBd1csR0FBQSxHQUFBeFcsS0FBQXlXLEdBQUEsRUFDUHpXLEtBQUErbUIsVUFBQS9tQixLQUFBb0UsUUFBQTB3QixVQUNPLElBQUE5MEIsS0FBQXdXLElBQUF4VyxLQUFBeVcsR0FBQSxFQUNQelcsS0FBQSttQixVQUFBL21CLEtBQUFvRSxRQUFBMndCLE1BQ08vMEIsS0FBQXdXLEdBQUEsR0FBQXhXLEtBQUF5VyxHQUFBLEVBQ1B6VyxLQUFBK21CLFVBQUEvbUIsS0FBQW9FLFFBQUE0d0IsVUFDT2gxQixLQUFBd1csR0FBQSxHQUFBeFcsS0FBQXlXLEdBQUEsRUFDUHpXLEtBQUErbUIsVUFBQS9tQixLQUFBb0UsUUFBQTZ3QixVQUNPajFCLEtBQUF3VyxHQUFBLE9BQUF4VyxLQUFBeVcsS0FDUHpXLEtBQUErbUIsVUFBQS9tQixLQUFBb0UsUUFBQTh3QixNQUdBLElBQUFsMUIsS0FBQXdXLElBQUEsSUFBQXhXLEtBQUF5VyxHQUNBelcsS0FBQWlFLE1BQUFqRSxLQUFBb0UsUUFBQW13QixXQUVBdjBCLEtBQUFpRSxNQUFBakUsS0FBQW9FLFFBQUErd0IsZUFXQXQxQixpQkFBQWlJLEdBQ0E5SCxLQUFBaUUsUUFBQWpFLEtBQUFvRSxRQUFBK3dCLGNBQ0FuMUIsS0FBQXFWLEtBQUFyVixLQUFBdzBCLGFBQUF4MEIsS0FBQSttQixXQUNLL21CLEtBQUFpRSxRQUFBakUsS0FBQW9FLFFBQUF1d0IsWUFDTDMwQixLQUFBcVYsS0FBQXJWLEtBQUF5MEIsV0FBQXowQixLQUFBK21CLFdBRUEvbUIsS0FBQXFWLEtBQUFyVixLQUFBMDBCLFVBQUExMEIsS0FBQSttQixXQUVBL21CLEtBQUFxVixLQUFBN00sT0FBQVYsR0FlQWpJLGlCQUFBcVYsRUFBQUMsRUFBQTlFLEVBQUFqUixFQUFBK0ssRUFBQWlMLEdBQ0EsSUFBQWdnQixFQUFBLEdBQ0E5ZixFQUFBdlMsTUFBQUMsUUFBQW1TLEdBQ0FJLEVBQUEsRUFDQUgsSUFDQUEsRUFBQSxHQUVBLFFBQUF0aEIsRUFBQSxFQUFrQkEsRUFBQSxFQUFPQSxJQUFBLENBQ3pCc2hDLEVBQUF0aEMsR0FBQSxJQUFBa08sRUFBQSxDQUNBc0UsT0FBQWxILEVBQ0FtSCxNQUFBNEQsRUFDQXdGLE1BQUFVLElBRUEsUUFBQWhMLEVBQUEsRUFBb0JBLEVBQUE2UCxFQUFnQjdQLElBRXBDa1EsRUFEQUQsRUFDQUgsRUFBQTlQLEdBRUE4UCxFQUVBaWdCLEVBQUF0aEMsR0FBQTBoQixTQUFBRCxFQUFBbFEsRUFBQTZQLEVBQUFwaEIsRUFBQXNoQixHQUdBLE9BQUFnZ0Isa0NDN0tBLElBQUEzeUIsRUFBQSxDQUNBNHlCLE9BTmUzaEMsRUFBUSxHQU92QjRoQyxhQU5xQjVoQyxFQUFRLElBTzdCNmhDLFFBTmdCN2hDLEVBQVEsSUFPeEI4aEMsVUFOa0I5aEMsRUFBUSxLQVMxQkcsRUFBQUQsUUFBQTZPLG1CQ1BBLE1BQUE5QyxFQUFlak0sRUFBUSxHQUN2Qm1QLEVBQW9CblAsRUFBUSxHQUM1QnVTLEVBQXVCdlMsRUFBUSxHQUMvQmlTLEVBQXdCalMsRUFBUSxJQWlGaENHLEVBQUFELFFBL0VBLGNBQUErTCxFQUNBRSxZQUFBQyxFQUFBLElBQ0FDLE1BQUFELEdBUUFFLEtBQUFtYixNQUFBLEdBRUEzbUIsT0FBQTBMLE9BQUFGLEtBQUFGLEdBVUFELEtBQUFNLEVBQUFDLEdBQ0FBLEtBQUFKLEtBQUFJLE9BQUEsRUFDQSxJQUFBQyxFQUFBRixFQUFBRyxVQUNBSCxFQUFBRyxVQUFBTixLQUFBTSxVQUNBSCxFQUFBWSxPQUNBWixFQUFBYSxVQUFBaEIsS0FBQTFDLEVBQUE4QyxFQUFBSixLQUFBekMsRUFBQTZDLEdBQ0FELEVBQUFjLE9BQUFqQixLQUFBcEMsT0FDQXVDLEVBQUFhLFdBQUFoQixLQUFBLEVBQUFJLEdBQUFKLEtBQUEsRUFBQUksR0FDQUQsRUFBQUksVUFBQVAsS0FBQU8sVUFDQUosRUFBQUssWUFBQVIsS0FBQVEsWUFFQSxRQUFBNkUsRUFBQSxFQUFrQkEsRUFBQXJGLEtBQUFtYixNQUFBN1YsT0FBdUJELElBQUEsQ0FDekNsRixFQUFBTSxZQUNBTixFQUFBZSxRQUFBbEIsS0FBQTFDLEVBQUEwQyxLQUFBbWIsTUFBQTlWLEdBQUEsR0FBQS9ILEdBQUE4QyxHQUFBSixLQUFBekMsRUFBQXlDLEtBQUFtYixNQUFBOVYsR0FBQSxHQUFBOUgsR0FBQTZDLEdBQ0EsUUFBQXRNLEVBQUEsRUFBcUJBLEVBQUFrTSxLQUFBbWIsTUFBQTlWLEdBQUFDLE9BQTBCeFIsSUFDL0NxTSxFQUFBZ0IsUUFBQW5CLEtBQUFtYixNQUFBOVYsR0FBQXZSLEdBQUF3SixFQUFBMEMsS0FBQTFDLEdBQUE4QyxHQUFBSixLQUFBbWIsTUFBQTlWLEdBQUF2UixHQUFBeUosRUFBQXlDLEtBQUF6QyxHQUFBNkMsR0FFQUQsRUFBQWdCLFFBQUFuQixLQUFBMUMsRUFBQTBDLEtBQUFtYixNQUFBOVYsR0FBQSxHQUFBL0gsR0FBQThDLEdBQUFKLEtBQUF6QyxFQUFBeUMsS0FBQW1iLE1BQUE5VixHQUFBLEdBQUE5SCxHQUFBNkMsR0FDQUQsRUFBQVEsWUFDQVIsRUFBQVMsT0FDQVQsRUFBQVUsU0FHQVYsRUFBQWlCLFVBQ0FqQixFQUFBRyxVQUFBRCxFQUNBTixNQUFBc0IsS0FBQWxCLEVBQUFDLEdBU0FQLFdBQUFPLEdBQ0FKLEtBQUFtYixNQUFBdFksRUFBQTdDLEtBQUFtYixNQUFBL2EsR0FDQXExQixJQUFBbjBCLFdBQUFsQixHQVVBUCxhQUFBMEIsR0FDQSxRQUFBOEQsRUFBQSxFQUFrQkEsRUFBQXJGLEtBQUFtYixNQUFBN1YsT0FBdUJELElBQ3pDLEdBQUFZLEVBQUExRSxFQUFBb0UsRUFBQTNGLEtBQUFtYixNQUFBOVYsR0FBQXJGLE9BQ0EsU0FHQSw0QkMvRUEsTUFBQUwsRUFBZWpNLEVBQVEsR0FrRnZCRyxFQUFBRCxRQWhGQSxjQUFBK0wsRUFDQUUsWUFBQUMsRUFBQSxJQUNBQyxNQUFBRCxHQVFBRSxLQUFBcWIsVUFBQSxFQU9BcmIsS0FBQXNiLFdBQUEsRUFFQTltQixPQUFBMEwsT0FBQUYsS0FBQUYsR0FVQUQsS0FBQU0sRUFBQUMsR0FDQUEsS0FBQUosS0FBQUksT0FBQSxFQUNBLElBQUFDLEVBQUFGLEVBQUFHLFVBQ0FILEVBQUFHLFVBQUFOLEtBQUFNLFVBQ0FILEVBQUFZLE9BQ0FaLEVBQUFhLFVBQUFoQixLQUFBMUMsRUFBQThDLEVBQUFKLEtBQUF6QyxFQUFBNkMsR0FDQUQsRUFBQWMsT0FBQWpCLEtBQUFwQyxPQUNBdUMsRUFBQWEsV0FBQWhCLEtBQUEsRUFBQUksR0FBQUosS0FBQSxFQUFBSSxHQUNBRCxFQUFBSSxVQUFBUCxLQUFBTyxVQUNBSixFQUFBSyxZQUFBUixLQUFBUSxZQUNBTCxFQUFBNEksVUFDQS9JLEtBQUExQyxFQUFBMEMsS0FBQXFiLFdBQUFqYixHQUNBSixLQUFBekMsRUFBQXlDLEtBQUFzYixZQUFBbGIsRUFDQSxFQUFBSixLQUFBcWIsVUFBQWpiLEVBQ0EsRUFBQUosS0FBQXNiLFdBQUFsYixHQUVBRCxFQUFBK0ksWUFDQWxKLEtBQUExQyxFQUFBMEMsS0FBQXFiLFdBQUFqYixHQUNBSixLQUFBekMsRUFBQXlDLEtBQUFzYixZQUFBbGIsRUFDQSxFQUFBSixLQUFBcWIsVUFBQWpiLEVBQ0EsRUFBQUosS0FBQXNiLFdBQUFsYixHQUVBRCxFQUFBaUIsVUFDQWpCLEVBQUFHLFVBQUFELEVBQ0FOLE1BQUFzQixLQUFBbEIsRUFBQUMsR0FTQVAsV0FBQU8sR0FDQUosS0FBQXNiLFdBQUF0YixLQUFBc2IsV0FBQWxiLEVBQ0FKLEtBQUFxYixVQUFBcmIsS0FBQXFiLFVBQUFqYixFQUNBTCxNQUFBdUIsV0FBQWxCLEdBVUFQLGFBQUEwQixHQUNBLE9BQUFBLEVBQUFqRSxHQUFBMEMsS0FBQTFDLEVBQUEwQyxLQUFBcWIsV0FBQTlaLEVBQUFqRSxHQUFBMEMsS0FBQTFDLEVBQUEwQyxLQUFBcWIsV0FBQTlaLEVBQUFoRSxHQUFBeUMsS0FBQXpDLEVBQUF5QyxLQUFBc2IsWUFBQS9aLEVBQUFoRSxHQUFBeUMsS0FBQXpDLEVBQUF5QyxLQUFBc2IsMkNDL0VBLElBQUE1WSxFQUFBLENBQ0FnekIsU0FMaUJoaUMsRUFBUSxJQU16QmlpQyxVQUxrQmppQyxFQUFRLElBTTFCa2lDLFNBTGlCbGlDLEVBQVEsS0FRekJHLEVBQUFELFFBQUE4TyxtQkNKQSxNQUFBbXpCLEVBQWNuaUMsRUFBUSxJQUl0QnVqQixFQUFBRCxNQUFBRSxPQUFBelosS0FBQTBaLE9BQ0EyZSxFQUFBOWUsTUFBQUssU0FBQTBlLE9BQUFDLG1CQWlFQW5pQyxFQUFBRCxRQS9EQSxjQUFBaWlDLEVBQ0FoMkIsWUFBQUMsRUFBQSxJQUNBQyxNQUFBRCxHQVFBRSxLQUFBaTJCLFdBQUEsS0FFQXpoQyxPQUFBMEwsT0FBQUYsS0FBQUYsR0FTQUQsbUJBQUFPLEdBQ0FBLEdBQUFKLEtBQUFpMkIsYUFDQWoyQixLQUFBaTJCLFdBQUEzNEIsRUFBQTBDLEtBQUFpMkIsV0FBQTM0QixFQUFBOEMsRUFDQUosS0FBQWkyQixXQUFBMTRCLEVBQUF5QyxLQUFBaTJCLFdBQUExNEIsRUFBQTZDLEVBQ0FKLEtBQUFtRSxlQUFBLEdBRUFwRSxNQUFBNmQsbUJBQUF4ZCxHQVVBUCxjQUFBcTJCLEdBQ0EsR0FBQUEsS0FBQTVkLFdBQUE0ZCxFQUFBcmUsU0FBQXFlLEVBQUExZCxZQUFBMGQsRUFBQTFkLFVBQUF4WSxLQUFBakIsSUFBQSxDQUNBLE1BQUFvM0IsRUFBQUQsRUFBQTVkLFVBQUF0WSxLQUFBNkYsU0FDQXV3QixFQUFBRixFQUFBNWQsVUFBQXRZLEtBQUE4RixTQUNBLEdBQUFxd0IsR0FBQUMsRUFBQSxDQUNBLElBQUFDLEVBQUFDLEVBQ0F0MkIsS0FBQStGLGFBQ0Fzd0IsRUFBQSxJQUFBcGYsRUFBQWpYLEtBQUErRixXQUFBekksRUFBQTBDLEtBQUErRixXQUFBeEksSUFFQXlDLEtBQUFpMkIsYUFDQUssRUFBQSxJQUFBcmYsRUFBQWpYLEtBQUFpMkIsV0FBQTM0QixFQUFBMEMsS0FBQWkyQixXQUFBMTRCLElBRUE4NEIsS0FBQUYsRUFBQXZjLGlCQUNBMGMsS0FBQUYsRUFBQXhjLGlCQUNBLE1BQUErRCxFQUFBLElBQUFtWSxFQU1BLE9BTEFuWSxFQUFBNFksV0FBQUosRUFBQUMsRUFBQUMsRUFBQUMsR0FFQXQyQixLQUFBZ0csaUJBQ0F4UixPQUFBMEwsT0FBQXlkLEVBQUEzZCxLQUFBZ0csaUJBRUFrd0IsRUFBQXJlLFFBQUEyZSxZQUFBN1ksd0JDaEVBLE1BQUFrWSxFQUFjbmlDLEVBQVEsSUFHdEJ1akIsRUFBQUQsTUFBQUUsT0FBQXpaLEtBQUEwWixPQUNBc2YsRUFBQXpmLE1BQUFLLFNBQUEwZSxPQUFBVyxvQkFvREE3aUMsRUFBQUQsUUFsREEsY0FBQWlpQyxFQUNBaDJCLFlBQUFDLEVBQUEsSUFDQUMsTUFBQUQsR0FRQUUsS0FBQTIyQixVQUFBLEtBRUFuaUMsT0FBQTBMLE9BQUFGLEtBQUFGLEdBVUFELGNBQUFxMkIsR0FDQSxHQUFBQSxLQUFBNWQsV0FBQTRkLEVBQUFyZSxTQUFBcWUsRUFBQTFkLFlBQUEwZCxFQUFBMWQsVUFBQXhZLEtBQUFqQixJQUFBLENBQ0EsTUFBQW8zQixFQUFBRCxFQUFBNWQsVUFBQXRZLEtBQUE2RixTQUNBdXdCLEVBQUFGLEVBQUE1ZCxVQUFBdFksS0FBQThGLFNBQ0EsR0FBQXF3QixHQUFBQyxFQUFBLENBQ0EsSUFBQUMsRUFDQXIyQixLQUFBK0YsYUFDQXN3QixFQUFBLElBQUFwZixFQUFBalgsS0FBQStGLFdBQUF6SSxFQUFBMEMsS0FBQStGLFdBQUF4SSxJQUVBODRCLEtBQUFGLEVBQUF2YyxpQkFDQSxJQUNBZ2QsRUFEQWpaLEVBQUEsSUFBQThZLEVBWUEsT0FUQUcsRUFEQTUyQixLQUFBMjJCLFVBQ0EsSUFBQTFmLEVBQUFqWCxLQUFBMjJCLFVBQUFyNUIsRUFBQTBDLEtBQUEyMkIsVUFBQXA1QixHQUVBLElBQUEwWixFQUFBLEtBRUEwRyxFQUFBNFksV0FBQUosRUFBQUMsRUFBQUMsRUFBQU8sR0FFQTUyQixLQUFBZ0csaUJBQ0F4UixPQUFBMEwsT0FBQXlkLEVBQUEzZCxLQUFBZ0csaUJBRUFrd0IsRUFBQXJlLFFBQUEyZSxZQUFBN1ksd0JDbERBLE1BQUFrWSxFQUFjbmlDLEVBQVEsSUFHdEJ1akIsRUFBQUQsTUFBQUUsT0FBQXpaLEtBQUEwWixPQUNBMGYsRUFBQTdmLE1BQUFLLFNBQUEwZSxPQUFBZSxtQkF3Q0FqakMsRUFBQUQsUUFyQ0EsY0FBQWlpQyxFQUNBaDJCLFlBQUFDLEVBQUEsSUFDQUMsTUFBQUQsR0FFQXRMLE9BQUEwTCxPQUFBRixLQUFBRixHQVVBRCxjQUFBcTJCLEdBQ0EsR0FBQUEsS0FBQTVkLFdBQUE0ZCxFQUFBcmUsU0FBQXFlLEVBQUExZCxZQUFBMGQsRUFBQTFkLFVBQUF4WSxLQUFBakIsSUFBQSxDQUNBLElBQUFvM0IsRUFBQUQsRUFBQTVkLFVBQUF0WSxLQUFBNkYsU0FDQXV3QixFQUFBRixFQUFBNWQsVUFBQXRZLEtBQUE4RixTQUNBLEdBQUFxd0IsR0FBQUMsRUFBQSxDQUNBLElBQUFDLEVBQ0FyMkIsS0FBQStGLGFBQ0Fzd0IsRUFBQSxJQUFBcGYsRUFBQWpYLEtBQUErRixXQUFBekksRUFBQTBDLEtBQUErRixXQUFBeEksSUFFQTg0QixLQUFBRixFQUFBdmMsaUJBQ0EsSUFBQStELEVBQUEsSUFBQWtaLEVBT0EsT0FMQWxaLEVBQUE0WSxXQUFBSixFQUFBQyxFQUFBQyxPQURBTyxHQUdBNTJCLEtBQUFnRyxpQkFDQXhSLE9BQUEwTCxPQUFBeWQsRUFBQTNkLEtBQUFnRyxpQkFFQWt3QixFQUFBcmUsUUFBQTJlLFlBQUE3WSxzQkNzQkE5cEIsRUFBQUQsUUE5REEsTUFDQWlNLFlBQUFDLEVBQUEsSUFFQXRMLE9BQUEwTCxPQUFBRixLQUFBRixHQUVBRSxLQUFBOFksV0FBQTlZLEtBQUE4WSxZQUFBLEdBUUFqWixRQUNBRyxLQUFBOFksV0FBQSxHQXdDQWpaLFVBQUFrM0IsRUFBQUMsRUFBQXpaLEVBQUFaLEdBQ0EzYyxLQUFBOFksV0FBQWllLEdBQUEvMkIsS0FBQThZLFdBQUFpZSxJQUFBLEdBQ0EvMkIsS0FBQThZLFdBQUFpZSxHQUFBOXBCLEtBQUEsQ0FBK0JsTyxHQUFBaTRCLEVBQUF6WixVQUFBMFosZUFBQSxLQUMvQmozQixLQUFBOFksV0FBQWtlLEdBQUFoM0IsS0FBQThZLFdBQUFrZSxJQUFBLEdBQ0FoM0IsS0FBQThZLFdBQUFrZSxHQUFBL3BCLEtBQUEsQ0FBK0JsTyxHQUFBZzRCLEVBQUF4WixVQUFBMFosZUFBQSx3QkN6RC9CLE1BQUF2MUIsRUFBaUJoTyxFQUFRLElBQ3pCaVAsRUFBWWpQLEVBQVEsSUE4S3BCRyxFQUFBRCxRQTVLQSxjQUFBOE4sRUFDQTdCLFlBQUFDLEVBQUEsSUFDQUMsTUFBQUQsR0FDQWQsUUFBQUMsSUFBQSxrQkFBQWEsR0FPQUUsS0FBQWsyQixJQUFBLEtBUUFsMkIsS0FBQWszQixhQUFBLEVBUUFsM0IsS0FBQXlDLFNBQUEsS0FRQXpDLEtBQUEwQyxPQUFBLEtBRUFsTyxPQUFBMEwsT0FBQUYsS0FBQUYsR0FFQUUsS0FBQWsyQixNQUNBbDJCLEtBQUFrMkIsSUFBQSxJQUFBdnpCLEVBQUE3QyxFQUFBcTNCLGFBR0FuM0IsS0FBQXlDLFdBQ0F6QyxLQUFBeUMsU0FBQSxJQUdBekMsS0FBQTBDLFNBQ0ExQyxLQUFBMEMsT0FBQSxJQVdBN0MsVUFBQW9aLEdBQ0FqWixLQUFBazNCLGNBQ0FsM0IsS0FBQWsyQixJQUFBMXRCLE9BQUF5USxHQUNBalosS0FBQWsyQixJQUFBa0Isb0JBQUFwM0IsS0FBQXlDLFdBV0E1QyxRQUFBb2EsR0FDQWphLEtBQUF5QyxTQUFBd1gsRUFBQWxiLElBQUFrYixFQUNBamEsS0FBQWsyQixJQUFBL2IsUUFBQUYsR0FTQXBhLFVBQUE0QyxHQUNBTSxNQUFBQyxRQUFBUCxLQUNBQSxFQUFBLENBQUFBLElBR0FBLEVBQUF5YyxRQUFBakYsSUFDQWphLEtBQUFtYSxRQUFBRixLQVVBcGEsV0FBQW9hLEdBQ0FqYSxLQUFBazJCLElBQUFtQixXQUFBcGQsRUFBQWxiLFdBQ0FpQixLQUFBeUMsU0FBQXdYLEVBQUFsYixJQVNBYyxhQUFBNEMsR0FDQU0sTUFBQUMsUUFBQVAsS0FDQUEsRUFBQSxDQUFBQSxJQUVBQSxFQUFBeWMsUUFBQWpGLElBQ0FqYSxLQUFBcTNCLFdBQUFwZCxLQVVBcGEsU0FBQThkLEdBQ0EzZCxLQUFBMEMsT0FBQWliLEVBQUE1ZSxJQUFBNGUsRUFDQTNkLEtBQUFrMkIsSUFBQW9CLFNBQUEzWixHQVNBOWQsVUFBQTZDLEdBQ0FLLE1BQUFDLFFBQUFOLEtBQ0FBLEVBQUEsQ0FBQUEsSUFFQUEsRUFBQXdjLFFBQUFqRixJQUNBamEsS0FBQXMzQixTQUFBcmQsS0FVQXBhLFlBQUE4ZCxHQUNBM2QsS0FBQWsyQixJQUFBcUIsWUFBQTVaLEVBQUE1ZSxXQUNBaUIsS0FBQTBDLE9BQUFpYixFQUFBNWUsSUFTQWMsYUFBQTZDLEdBQ0FLLE1BQUFDLFFBQUFOLEtBQ0FBLEVBQUEsQ0FBQUEsSUFFQUEsRUFBQXdjLFFBQUFqRixJQUNBamEsS0FBQXUzQixZQUFBdGQsd0VDdEhlLElBQUF1ZCxFQTFEZixTQUFBcjNCLEVBQUFDLEdBQ0EsTUFBQXEzQixNQUFTQSxFQUFBQyxRQUFBQyxVQUFBQyxRQUFBQyxRQUFBQyxPQUFBQyxRQUFBQyxRQUF1RGg0QixLQUFBaTRCLGFBQ2hFOTNCLEVBQUErM0IsVUFBQSxJQUFBbDRCLEtBQUF1RyxNQUFBdkcsS0FBQXNHLFFBRUFuRyxFQUFBSyxZQUFBUixLQUFBbTRCLFFBQUEsR0FBQUMsTUFDQWo0QixFQUFBTSxZQUNBTixFQUFBZSxPQUFBMDJCLEVBQUEsR0FDQXozQixFQUFBZ0IsT0FBQXMyQixFQUFBRyxFQUFBLEdBQ0F6M0IsRUFBQVUsU0FFQVYsRUFBQUssWUFBQVIsS0FBQW00QixRQUFBLEdBQUFDLE1BQ0FqNEIsRUFBQU0sWUFDQU4sRUFBQWUsT0FBQTAyQixFQUFBRixHQUNBdjNCLEVBQUFnQixPQUFBczJCLEVBQUFHLEVBQUFGLEdBQ0F2M0IsRUFBQVUsU0FFQVYsRUFBQUssWUFBQVIsS0FBQW00QixRQUFBLEdBQUFDLE1BQ0FqNEIsRUFBQU0sWUFDQU4sRUFBQWUsT0FBQXUyQixFQUFBRyxFQUFBLEdBQ0F6M0IsRUFBQWdCLE9BQUFzMkIsRUFBQUMsRUFBQSxHQUNBdjNCLEVBQUFVLFNBRUFWLEVBQUFLLFlBQUFSLEtBQUFtNEIsUUFBQSxHQUFBQyxNQUNBajRCLEVBQUFNLFlBQ0FOLEVBQUFlLE9BQUF1MkIsRUFBQUMsRUFBQSxHQUNBdjNCLEVBQUFnQixPQUFBczJCLEVBQUFHLEVBQUFGLEdBQ0F2M0IsRUFBQVUsU0FFQVYsRUFBQUssWUFBQVIsS0FBQW00QixRQUFBLEdBQUFDLE1BQ0FqNEIsRUFBQU0sWUFDQU4sRUFBQWUsT0FBQTAyQixFQUFBRixHQUNBdjNCLEVBQUFnQixPQUFBLEVBQUF1MkIsRUFBQSxHQUNBdjNCLEVBQUFVLFNBRUFWLEVBQUFLLFlBQUFSLEtBQUFtNEIsUUFBQSxHQUFBQyxNQUNBajRCLEVBQUFNLFlBQ0FOLEVBQUFlLE9BQUEsRUFBQXcyQixFQUFBLEdBQ0F2M0IsRUFBQWdCLE9BQUF5MkIsRUFBQSxHQUNBejNCLEVBQUFVLFNBRUFiLEtBQUFtNEIsUUFBQWpaLFFBQUF0cEIsSUFDQUEsRUFBQXlpQyxLQUFBQyxNQUNBMWlDLEVBQUEyaUMsUUFBQSxHQUFBbDNCLEtBQUFsQixFQUFBQyxHQUVBeEssRUFBQXlpQyxLQUFBaDNCLEtBQUFsQixFQUFBQyxLQUdBNUwsT0FBQXVOLEtBQUEvQixLQUFBeUMsVUFBQXljLFFBQUFzWixJQUNBeDRCLEtBQUF5QyxTQUFBKzFCLEdBQUF4YSxRQUNBaGUsS0FBQXlDLFNBQUErMUIsR0FBQW4zQixLQUFBbEIsS0FJQUgsS0FBQXk0QixLQUFBcDNCLEtBQUFsQixFQUFBQyxvRENsREEsTUFBQXM0QixFQUFBLENBQWdCcDdCLEVBQUEsRUFBQUMsRUFBQSxHQ0hoQnlCLFFBQUFDLElBQUEsd0JBRUEsSUFBQTA1QixFQUFBLENBQ0EseUNBQ0EseUNBQ0EseUNBQ0EseUNBQ0EsMENBQ0Esd0RBQ0EsZ0RBQ0Esd0RBQ0EsZ0NBQ0EsU0FXZSxJQUFBQyxFQVBmRCxJQUFBMTFCLElBQUEzRSxLQUNBQSxFQUFBLE1BQUFBLEVBQUEsUUFBQUEsRUFBQSxLQUNBLEdBQUFBLEVBQUEsT0FDQUEscUNDbEJlLE1BQU11NkIsVUFBY0MsRUFBQXo2QixFQUNuQ3dCLEtBQUFNLEVBQUFDLEdBQ0EsTUFBQUMsRUFBQUYsRUFBQUcsVUFFQUgsRUFBQVksT0FFQVosRUFBQUcsVUFBQSxFQUNBSCxFQUFBNDRCLFNBQUEsUUFDQTU0QixFQUFBSSxVQUFBUCxLQUFBTyxVQUNBLE1BQUF5NEIsRUFBQTc0QixFQUFBODRCLHFCQUFBLEVBQUFqNUIsS0FBQWs1QixLQUFBLEVBQUFsNUIsS0FBQWs1QixLQUFBLEVBQUFsNUIsS0FBQXNiLFlBRUEwZCxFQUFBRyxhQUFBLEVBQUFoNUIsRUFBQUksV0FDQXk0QixFQUFBRyxhQUFBLFVBRUFoNUIsRUFBQWEsVUFBQWhCLEtBQUFvNUIsS0FBQXA1QixLQUFBazVCLE1BQ0EvNEIsRUFBQWMsT0FBQWpCLEtBQUFxNUIsVUFDQWw1QixFQUFBYSxXQUFBaEIsS0FBQSxNQUFBQSxLQUFBLE1BRUFHLEVBQUFJLFVBQUF5NEIsRUFDQTc0QixFQUFBSyxZQUFBUixLQUFBUSxZQUNBTCxFQUFBNEksU0FDQS9JLEtBQUFvNUIsS0FBQXA1QixLQUFBcWIsVUFDQXJiLEtBQUFrNUIsS0FBQWw1QixLQUFBc2IsV0FDQSxFQUFBdGIsS0FBQXFiLFVBQ0EsRUFBQXJiLEtBQUFzYixZQUVBbmIsRUFBQStJLFdBQ0FsSixLQUFBbzVCLEtBQUFwNUIsS0FBQXFiLFVBQ0FyYixLQUFBazVCLEtBQUFsNUIsS0FBQXNiLFdBQ0EsRUFBQXRiLEtBQUFxYixVQUNBLEVBQUFyYixLQUFBc2IsWUFFQW5iLEVBQUFpQixVQUNBakIsRUFBQUcsVUFBQUQsR0M5QmUsTUFBTWk1QixVQUFhQyxFQUFBbDdCLEVBQ2xDd0IsS0FBQU0sRUFBQUMsR0FDQUEsS0FBQUosS0FBQUksT0FBQSxFQUNBLE1BQUFvNUIsRUFBQXg1QixLQUFBMUMsRUFBQThDLEVBQ0FxNUIsRUFBQXo1QixLQUFBekMsRUFBQTZDLEVBQ0FDLEVBQUFGLEVBQUFHLFVBQ0FILEVBQUFHLFVBQUEsRUFDQUgsRUFBQUksVUFBQVAsS0FBQXM0QixLQUFBdDRCLEtBQUEwNUIsY0FBQTE1QixLQUFBTyxVQUNBSixFQUFBSyxZQUFBUixLQUFBczRCLEtBQUF0NEIsS0FBQU8sVUFBQVAsS0FBQVEsWUFDQUwsRUFBQU0sWUFDQU4sRUFBQU8sSUFBQTg0QixFQUFBQyxFQUFBejVCLEtBQUFDLE9BQUFHLEVBQUEsSUFBQTNDLEtBQUFDLElBQUEsR0FDQXlDLEVBQUFRLFlBQ0FSLEVBQUFTLE9BQ0FULEVBQUFVLFNBRUEsTUFBQTg0QixFQUFBLENBQXFCcjhCLEVBQUFrOEIsRUFBQSxHQUFBajhCLEVBQUFrOEIsRUFBQSxJQUNyQkcsRUFBQSxDQUFzQnQ4QixFQUFBazhCLEVBQUEsR0FBQWo4QixFQUFBazhCLEVBQUEsSUFFdEIsR0FBQXo1QixLQUFBczRCLEtBZ0NBbjRCLEVBQUFHLFVBQUEsRUFDQUgsRUFBQUssWUFBQVIsS0FBQU8sVUFHQUosRUFBQU0sWUFDQU4sRUFBQWUsT0FBQXk0QixFQUFBcjhCLEVBQUEsR0FBQXE4QixFQUFBcDhCLEVBQUEsSUFDQTRDLEVBQUFnQixPQUFBdzRCLEVBQUFyOEIsRUFBQSxHQUFBcThCLEVBQUFwOEIsRUFBQSxJQUNBNEMsRUFBQVUsU0FFQVYsRUFBQU0sWUFDQU4sRUFBQWUsT0FBQXk0QixFQUFBcjhCLEVBQUEsR0FBQXE4QixFQUFBcDhCLEVBQUEsSUFDQTRDLEVBQUFnQixPQUFBdzRCLEVBQUFyOEIsRUFBQSxHQUFBcThCLEVBQUFwOEIsRUFBQSxJQUNBNEMsRUFBQVUsU0FFQVYsRUFBQU0sWUFDQU4sRUFBQWUsT0FBQTA0QixFQUFBdDhCLEVBQUEsR0FBQXM4QixFQUFBcjhCLEVBQUEsSUFDQTRDLEVBQUFnQixPQUFBeTRCLEVBQUF0OEIsRUFBQSxHQUFBczhCLEVBQUFyOEIsRUFBQSxJQUNBNEMsRUFBQVUsU0FFQVYsRUFBQU0sWUFDQU4sRUFBQWUsT0FBQTA0QixFQUFBdDhCLEVBQUEsR0FBQXM4QixFQUFBcjhCLEVBQUEsSUFDQTRDLEVBQUFnQixPQUFBeTRCLEVBQUF0OEIsRUFBQSxHQUFBczhCLEVBQUFyOEIsRUFBQSxJQUNBNEMsRUFBQVUsYUF0REEsQ0FDQVYsRUFBQUcsVUFBQSxFQUNBSCxFQUFBSSxVQUFBLE9BQ0FKLEVBQUFNLFlBQ0FOLEVBQUFPLElBQUE4NEIsRUFBQSxHQUFBQyxFQUFBLFVBQUFoOEIsS0FBQUMsSUFBQSxHQUNBeUMsRUFBQVEsWUFDQVIsRUFBQVMsT0FDQVQsRUFBQVUsU0FFQVYsRUFBQU0sWUFDQU4sRUFBQU8sSUFBQTg0QixFQUFBLEdBQUFDLEVBQUEsVUFBQWg4QixLQUFBQyxJQUFBLEdBQ0F5QyxFQUFBUSxZQUNBUixFQUFBUyxPQUNBVCxFQUFBVSxTQUVBLE1BQUFnNUIsRUFBb0JDLElBQWlCSCxFQUFBLENBQVdyOEIsRUFBQTBDLEtBQUF5NEIsS0FBQW43QixFQUFBOEMsRUFBQTdDLEVBQUF5QyxLQUFBeTRCLEtBQUFsN0IsRUFBQTZDLElBQ2hEMjVCLEVBQW9CRCxJQUFpQkYsRUFBQSxDQUFZdDhCLEVBQUEwQyxLQUFBeTRCLEtBQUFuN0IsRUFBQThDLEVBQUE3QyxFQUFBeUMsS0FBQXk0QixLQUFBbDdCLEVBQUE2QyxJQUVqRDQ1QixFQUFvQkMsSUFBeUJOLEVBQUEsQ0FBV3I4QixFQUFBazhCLEVBQUEsR0FBQWo4QixFQUFBazhCLEVBQUEsSUFBaUNJLEdBQ3pGSyxFQUFvQkQsSUFBeUJMLEVBQUEsQ0FBWXQ4QixFQUFBazhCLEVBQUEsR0FBQWo4QixFQUFBazhCLEVBQUEsSUFBaUNNLEdBRTFGNTVCLEVBQUFJLFVBQUEsUUFDQUosRUFBQU0sWUFDQU4sRUFBQU8sSUFBQXM1QixFQUFBMThCLEVBQUEwOEIsRUFBQXo4QixFQUFBLE1BQUFFLEtBQUFDLElBQUEsR0FDQXlDLEVBQUFRLFlBQ0FSLEVBQUFTLE9BRUFULEVBQUFNLFlBQ0FOLEVBQUFPLElBQUF3NUIsRUFBQTU4QixFQUFBNDhCLEVBQUEzOEIsRUFBQSxNQUFBRSxLQUFBQyxJQUFBLEdBQ0F5QyxFQUFBUSxZQUNBUixFQUFBUyxPQTZCQVQsRUFBQUcsVUFBQUQsNEJDOUVBLE1BQUE4NUIsRUFBQSxHQUVBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUwsRUFBQTV6QixhQUFBK0QsV0FBQSt2QixHQUFBN3NCLFlBTUEsR0FMQTJzQixFQUFBNXpCLGFBQUErRCxXQUFBOHZCLEdBQUE1c0IsWUFDQTJzQixFQUFBbEMsUUFBQXNDLEdBQUFFLGFBQUEsRUFFQU4sRUFBQWxDLFFBQUFzQyxHQUFBRSxhQUFBLEVBRUFELEdBQUFMLEVBQUE1ekIsYUFBQStELFdBQUFnd0IsR0FBQTlzQixZQUNBLE9BQ0Eyc0IsRUFBQWxDLFFBQUFzQyxHQUFBMVQsVUFEQTJULEdBQ0EsRUFFQSxFQUdBTCxFQUFBbEMsUUFBQXNDLEdBQUExVCxVQUFBLEVBaUNlLElBQUE2VCxFQTlCZixTQUFBQyxHQUNBVCxFQUFBcDZCLEtBQXdCODZCLEVBQUF6OEIsRUFBSXZCLE1BQVFnK0IsRUFBQXo4QixFQUFJckgsS0FBTzhqQyxFQUFBejhCLEVBQUluSCxNQUFBLEdBQ25Ea2pDLEVBQUFwNkIsS0FBQSxlQUNBbzZCLEVBQUFwNkIsS0FBQSxlQUNBbzZCLEVBQUFwNkIsS0FBQSxlQUNBbzZCLEVBQUFwNkIsS0FBQSxlQUNBbzZCLEVBQUFwNkIsS0FBQSxRQUFrQzg2QixFQUFBejhCLEVBQUlyQixhQUFBLEdBR3RDNjlCLEVBQUFyd0IsV0FBbUJzd0IsRUFBQXo4QixFQUFJcEgsSUFBQXlXLGFBQ3ZCMU4sS0FBQWsyQixJQUFBNkUsb0JBQUEsU0FBQVosR0FHQVUsRUFBQXJ3QixXQUFtQnN3QixFQUFBejhCLEVBQUlsSCxNQUFBdVcsYUFDdkIxTixLQUFBazJCLElBQUE2RSxvQkFBQSxXQUFBWixHQUdBVSxFQUFBcndCLFdBQUFyUyxFQUFBdVYsYUFDQTFOLEtBQUFrMkIsSUFBQThFLFlBQUEsWUFBQWIsR0FHQVUsRUFBQXJ3QixXQUFBbFMsRUFBQW9WLGFBQ0ExTixLQUFBazJCLElBQUE4RSxZQUFBLFdBQUFiLElDbENBLE1BQUF2M0IsUUFBT0EsRUFBQUgsV0FBQUMsVUFBK0JqQixFQUFBLE9BQy9CMHlCLGtCQUFrQjhHLEVBQUFwNEIsWUFBYXE0QixFQUFBN0csMEJBQTJCOEcsRUFBQXY3QixXQUFBcTBCLG9CQUFpQ3h5QixFQUFBLE1BS2xHMjVCLEVBQUEsRUFBQTM5QixLQUFBQyxHQUFBLFNBUUEsTUFHQWs2QixFQUFBLGdCQUVBRSxFQUFBcjZCLEtBQUE0OUIsS0FEQSxtQkFHQXJELEVBQUF2NkIsS0FBQTQ5QixLQURBekQsbUJBRUE1NEIsUUFBQUMsSUFBQSxtQkFBQTY0QixFQUFBRSxHQUNBLE1BQUFzRCxFQUFBLENBQXFCaCtCLEVBQUEsRUFBQUMsRUFBQSxHQUlyQjg4QixFQUFBLElBQUF6M0IsRUFBQSxDQUNBdUQsU0FBQSxTQUNBUyxXQUFBLFdBQ0FDLGlCQUFBLEVBQ0Fzd0IsV0FBQSxDQUFldmUsbUJBQUEsRUFBQUYsU0FBQSxHQUNmclgsS0FBUW0yQixFQUNSdHdCLGNBQUEsU0FBQXEwQixHQUNBdjdCLEtBQUF3N0IsV0FBQSxHQUNBeDdCLEtBQUF3N0IsV0FBQXZ1QixLQUFBc3VCLEVBQUFFLFVBQUEsc0JBQ0F6N0IsS0FBQXc3QixXQUFBdnVCLEtBQUFzdUIsRUFBQUUsVUFBQSxzQkFDQXo3QixLQUFBdzdCLFdBQUF2dUIsS0FBQXN1QixFQUFBRSxVQUFBLHNCQUNBejdCLEtBQUEwN0IsT0FBQUgsRUFBQUUsVUFBQSxrQkFFQXQwQixVQUFBLFNBQUEwekIsR0FDQUEsRUFBQWMscUJBQ0FkLEVBQUFsdUIsYUFBQSxTQUNBLFlBQ0EsWUFDQSxZQUNBLFlBQ0EsUUFBZWxMLEVBQUEsS0FBSXpFLGFBQ2J5RSxFQUFBLEtBQUkzRSxTQUVSd0wsWUFBQXN5QixFQUNGZ0IsY0FBQSxXQUNBLE9BQUFwbkMsT0FBQXVOLEtBQUEvQixLQUFBeUMsVUFBQW81QixPQUFBLENBQUFDLEVBQUF0RCxJQUNBeDRCLEtBQUF5QyxTQUFBKzFCLEdBQUF1RCxNQUNBRCxFQUFBLEVBRUFBLEVBQ0ssSUFFTHR6QixPQUFBLFNBQUF5USxHQWVBLEdBZEFqWixLQUFBZzhCLFVBQUEvaUIsR0FFQXprQixPQUFBdU4sS0FBQS9CLEtBQUF5QyxVQUFBeWMsUUFBQXNaLElBQ0EsTUFBQXlELEVBQUFqOEIsS0FBQXlDLFNBQUErMUIsR0FDQXlELEVBQUFDLGFBQ0FELEVBQUFFLEtBQUFGLEVBQUFFLEtBQUFsakIsRUFDQWdqQixFQUFBRSxLQUFBLEVBQ0FuOEIsS0FBQXEzQixXQUFBNEUsR0FFQUEsRUFBQTE3QixVQUEwQjY3QixFQUFBLzlCLEVBQU1hLEtBQUErOEIsRUFBQXhCLFNBQUF3QixFQUFBRSxLQTlEaEMsS0E4RGdDLE9BS2hDbjhCLEtBQUF5NEIsTUFFQXo0QixLQUFBeTRCLEtBQUEzZixZQUFBOVksS0FBQXk0QixLQUFBM2YsV0FBQXhULE9BQUEsQ0ErRkEsR0E3RkF0RixLQUFBeTRCLEtBQUEzZixXQUFBb0csUUFBQW1kLElBQ0EsTUFBQUosRUFBQWo4QixLQUFBeUMsU0FBQTQ1QixFQUFBdDlCLElBQ0EsR0FBQWs5QixFQUFBLENBQ0EsR0FBQUEsRUFBQUYsTUFBQSxDQUNBLzdCLEtBQUFxM0IsV0FBQWdGLEdBRUFyOUIsUUFBQUMsSUFBQSxhQUFBZzlCLEdBQ0EsTUFBQUssRUFBQSxDQUNBaC9CLEVBQUEsR0FBQTIrQixFQUFBMytCLEVBQ0FDLEVBQUEsR0FBQTArQixFQUFBMStCLEVBQ0EyK0IsWUFBQSxFQUNBQyxLQWxGQSxLQW1GQXI3QixZQUFBLEVBQ0EwQyxRQUFBLEtBQ0FpM0IsU0FBQXdCLEVBQUF4QixTQUNBbDZCLFVBQTJCNjdCLEVBQUEvOUIsRUFBTUQsSUFBQTY5QixFQUFBeEIsVUFDakNuM0IsWUFBQSxFQUNBRCxjQUFBLEdBRUEsY0FBQTZiLFFBQUE1Z0IsSUFDQSxNQUFBaStCLEVBQUEsQ0FDQWpoQixXQUFBMmdCLEVBQUEzZ0IsWUFBQSxFQUFBN2QsS0FBQXlGLFNBQUEsS0FDQW1ZLFVBQUE0Z0IsRUFBQTVnQixXQUFBLEVBQUE1ZCxLQUFBeUYsU0FBQSxNQUVBczVCLEVBQUEsSUFBQS81QixFQUFBK3lCLFVBQUFoaEMsT0FBQTBMLE9BQUEsR0FBb0VvOEIsRUFBQUMsSUFDcEV2OEIsS0FBQW1hLFFBQUFxaUIsR0FDQXg4QixLQUFBazJCLElBQUF6YSxTQUFBK2dCLEVBQUF6OUIsR0FBQXRCLEtBQUF5RixVQUFBLEVBQUF6RixLQUFBQyxLQUNBc0MsS0FBQWsyQixJQUFBdUcsYUFBQUQsRUFBQXo5QixHQUFBdEIsS0FBQXlGLFVBQUEsRUFBQXpGLEtBQUFDLElBQUEsTUFFQXNDLEtBQUF3N0IsV0FBQS85QixLQUFBOEIsTUFBQTlCLEtBQUF5RixTQUFBbEQsS0FBQXc3QixXQUFBbDJCLFNBQ0FvM0IsWUFFQSxHQUFBVCxFQUFBVSxLQUNBMzlCLFFBQUFDLElBQUEsWUFBQWc5QixHQUNBajhCLEtBQUEwN0IsT0FBQWdCLE9BQ0FULEVBQUEzRCxNQUFBLEVBRUE5akMsT0FBQXVOLEtBQUEvQixLQUFBeUMsVUFBQXljLFFBQUFzWixJQUNBLE1BQUF1RCxFQUFBLzdCLEtBQUF5QyxTQUFBKzFCLEdBQ0F1RCxXQUFBdEIsV0FBQXdCLEVBQUF4QixVQUNBejZCLEtBQUFxM0IsV0FBQTBFLEtBSUEvN0IsS0FBQW00QixRQUFBOEQsRUFBQXhCLFVBQUFsQyxRQUFBclosUUFBQTBkLElBQ0E1OEIsS0FBQXEzQixXQUFBdUYsS0FHQTU4QixLQUFBcTNCLFdBQUE0RSxRQUdhLEdBQUFBLEVBQUFZLE9BQUEsQ0FFYixNQUFBam5DLEVBQUFvSyxLQUFBbTRCLFFBQUE4RCxFQUFBeEIsVUFFQTc2QixFQUFBaEssRUFBQWtuQyxPQUFBOThCLEtBQUF5NEIsTUFDQTc0QixFQUFBaEssRUFBQWtuQyxPQUFBYixLQUlBajhCLEtBQUF5NEIsS0FBQXNFLFVBQUFubkMsRUFDQW9LLEtBQUF5NEIsS0FBQXVFLFVBQUFmLEVBQ0FybUMsRUFBQStrQyxjQUNBMzZCLEtBQUF5NEIsS0FBQXdFLFFBQUEsRUFDQWo5QixLQUFBeTRCLEtBQUF5RSxxQkFBQXRuQyxFQUFBa1gsU0FDQTlNLEtBQUF5NEIsS0FBQTBFLGVBQUFsQixFQUFBeEIsU0FDQXo2QixLQUFBeTRCLEtBQUEyRSxlQUFBLENBQThDOS9CLEVBQUEwQyxLQUFBeTRCLEtBQUFuN0IsRUFBQUMsRUFBQXlDLEtBQUF5NEIsS0FBQWw3QixLQUk5Q3lCLFFBQUFDLElBQUEsZUFBQWc5QixFQUFBeEIsU0FBQSw4Q0FBNkZ0QyxFQUFBOEQsRUFBQXhCLFVBQUFyQyxPQUs3RjZELEVBQUFoZSxLQUNBamUsS0FBQXk0QixLQUFBNEUsV0FFQXI5QixLQUFBeTRCLEtBQUE0RSxTQUFBLEtBV0FyOUIsS0FBQXEzQixXQUFBcjNCLEtBQUF5NEIsTUFDQXo0QixLQUFBeTRCLEtBQUE3MEIsZ0JBQUEsS0FDQTVELEtBQUF5NEIsS0FBQTZFLG1CQUFBdDlCLEtBQUF5NEIsS0FBQTkwQixlQUNBM0QsS0FBQXk0QixLQUFBOTBCLGVBQUEsS0FDQTNELEtBQUF5NEIsS0FBQXdFLE9BQUEsQ0FDQSxNQUFBTSxFQUFBdjlCLEtBQUFtNEIsUUFBQW40QixLQUFBeTRCLEtBQUEwRSxnQkFDQUssRUFBQUQsRUFBQXp3QixTQUFBOU0sS0FBQXk0QixLQUFBeUUscUJBQUEsRUFBQXovQixLQUFBQyxHQUNBKy9CLEVBQTZCdEMsRUFBeUJvQyxFQUFBVCxPQUFBOThCLEtBQUF5NEIsS0FBQTJFLGVBQUFJLEdBS3RELEdBSkF4K0IsUUFBQUMsSUFBQSxTQUFBdStCLEVBQUFDLEdBRUF6OUIsS0FBQXk0QixLQUFBbjdCLEVBQUFtZ0MsRUFBQW5nQyxFQUNBMEMsS0FBQXk0QixLQUFBbDdCLEVBQUFrZ0MsRUFBQWxnQyxFQUNBZ2dDLEVBQUE1QyxpQkFFVyxDQUNYMzZCLEtBQUF5NEIsS0FBQXdFLFFBQUEsRUFDQSxNQUNBUyxFQUFBLElBREExOUIsS0FBQTQ3QixnQkFsTEEsSUFvTEE1N0IsS0FBQW1hLFFBQUFuYSxLQUFBeTRCLE1BQ0EsTUFBQWtGLEVBQWdDMUMsRUFBaUJqN0IsS0FBQXk0QixLQUFBc0UsVUFBQUQsT0FBQTk4QixLQUFBeTRCLEtBQUFzRSxVQUFBeEUsUUFBQSxJQUVqRHFGLEVBQUFELEVBRDhCMUMsRUFBaUJqN0IsS0FBQXk0QixLQUFBc0UsVUFBQUQsT0FBQTk4QixLQUFBeTRCLE1BRS9DejRCLEtBQUFrMkIsSUFBQTJILFdBQUE3OUIsS0FBQXk0QixLQUFBMTVCLEdBQUE0K0IsRUFBQSxFQUFBQyxFQUFBRixHQUNBMTlCLEtBQUF5NEIsS0FBQXVFLFVBQUEsVUFFUyxDQUNULE1BQ0FVLEVBQUEsSUFEQTE5QixLQUFBNDdCLGdCQTVMQSxJQThMQWtDLEVBekxBcmdDLEtBQUFxQixNQUFBckIsS0FBQXlGLFdBQUF6RixLQUFBeUYsU0FBQWs0QixFQUFBMzlCLEtBQUF5RixTQUFBazRCLEVBMkxBLEdBREFwN0IsS0FBQW1hLFFBQUFuYSxLQUFBeTRCLE1BQ0F6NEIsS0FBQXk0QixLQUFBdUUsVUFBQSxDQUNBLE1BQUFXLEVBQWdDMUMsRUFBaUJqN0IsS0FBQXk0QixLQUFBc0UsVUFBQUQsT0FBQTk4QixLQUFBeTRCLEtBQUFzRSxVQUFBeEUsUUFBQSxJQUVqRHFGLEVBQUFELEVBRDhCMUMsRUFBaUJqN0IsS0FBQXk0QixLQUFBc0UsVUFBQUQsT0FBQTk4QixLQUFBeTRCLE1BRS9DejRCLEtBQUFrMkIsSUFBQTJILFdBQUE3OUIsS0FBQXk0QixLQUFBMTVCLEdBQUE0K0IsRUFBQSxFQUFBQyxFQUFBRSxFQUFBSixHQUNBMTlCLEtBQUF5NEIsS0FBQXVFLFVBQUEsU0FDVyxDQUVYLE1BQUFqVyxFQUE4QmtVLEVBQWlCSyxFQUFBdDdCLEtBQUF5NEIsS0FBQTZFLG9CQUMvQ3Q5QixLQUFBazJCLElBQUEySCxXQUFBNzlCLEtBQUF5NEIsS0FBQTE1QixHQUFBZ29CLEVBQUErVyxJQUFBOTlCLEtBQUF5NEIsS0FBQTRFLFNBQUFLLEtBY0FyRCxFQUFBbEMsUUFBQWpaLFFBQUEsQ0FBQXRwQixFQUFBbW9DLEtBQ0EsSUFBQW5vQyxFQUFBeWlDLEtBQUFDLEtBQUEsQ0FDQTFpQyxFQUFBbXhCLFVBQUEsR0FBQW54QixFQUFBa1gsU0FBQXJQLEtBQUFDLElBQ0E5SCxFQUFBa1gsVUE1TkEsTUE0TkFtTSxFQUNBcmpCLEVBQUFrWCxTQUFBclAsS0FBQXdLLElBQUFyUyxFQUFBa1gsU0FBQXJQLEtBQUFDLEtBRUE5SCxFQUFBbXhCLFVBQUEsR0FBQW54QixFQUFBa1gsU0FBQSxJQUNBbFgsRUFBQWtYLFVBaE9BLE1BZ09BbU0sRUFDQXJqQixFQUFBa1gsU0FBQXJQLEtBQUFlLElBQUE1SSxFQUFBa1gsU0FBQSxJQUlBLE1BQUFreEIsRUFBNEI3QyxFQUF5QnZsQyxFQUFBNEgsR0FBQSxDQUFRRixFQUFBMUgsRUFBQTRILEdBQUFGLEVBQUFDLEVBQUEzSCxFQUFBNEgsR0FBQUQsRUFwTzdELEtBb09tRzNILEVBQUFnSSxNQUFBaEksRUFBQWtYLFNBQUFyUCxLQUFBQyxHQUFBLEdBRW5HdWdDLEVBQUFyb0MsRUFBQXFvQyxVQUNBQSxFQUFBM2dDLEVBQUEwZ0MsRUFBQTFnQyxFQUNBMmdDLEVBQUExZ0MsRUFBQXlnQyxFQUFBemdDLEVBR0EwZ0MsRUFBQW43QixPQUFBLENBQ0EsQ0FBV3hGLEVBQUEyZ0MsRUFBQTVpQixVQUFBOWQsR0FBQTBnQyxFQUFBM2lCLFlBQ1gsQ0FBV2hlLEVBQUEsR0FBQTJnQyxFQUFBNWlCLFVBQUE5ZCxFQUFBMGdDLEVBQUEzaUIsV0FBQSxHQUNYLENBQVdoZSxFQUFBLEdBQUEyZ0MsRUFBQTVpQixVQUFBOWQsRUFBQTBnQyxFQUFBM2lCLFlBQ1gsQ0FBV2hlLEVBQUEsSUFBQTJnQyxFQUFBNWlCLFVBQUE5ZCxFQUFBMGdDLEVBQUEzaUIsWUFDWCxDQUFXaGUsRUFBQSxJQUFBMmdDLEVBQUE1aUIsVUFBQTlkLEVBQUEwZ0MsRUFBQTNpQixXQUFBLEdBQ1gsQ0FBV2hlLEdBQUEyZ0MsRUFBQTVpQixVQUFBOWQsR0FBQTBnQyxFQUFBM2lCLGFBR1gxbEIsRUFBQStrQyxhQUNBc0QsRUFBQXo5QixZQUFBNUssRUFBQXNvQyxnQkFDQUQsRUFBQTM5QixVQUFBLElBRUEyOUIsRUFBQXo5QixZQUFBNUssRUFBQXdpQyxNQUNBNkYsRUFBQTM5QixVQUFBLEdBSUEyOUIsRUFBQW43QixPQUFBbE4sRUFBQXFvQyxVQUFBbjdCLE9BQUFHLElBQUFrN0IsR0FDaUJoRCxFQUF5QkcsRUFBQTZDLEVBQUF2b0MsRUFBQWdJLE1BQUFoSSxFQUFBa1gsU0FBQXJQLEtBQUFDLEdBQUEsSUFFMUM5SCxFQUFBNFMsU0FDQXkxQixFQUFBbC9CLEdBQUFnL0IsRUFBQSxTQUFBbm9DLEVBQUE0UyxPQUNBLE1BQUFxMEIsRUFBQSxJQUFBcDZCLEVBQUE4eUIsUUFBQTBJLEdBT0EsR0FIQTVELEVBQUFsZ0IsUUFBQTBpQixHQUVBam5DLEVBQUEyaUMsUUFBQXRyQixLQUFBNHZCLEdBQ0FqbkMsRUFBQTJpQyxRQUFBanpCLE9BQUEsR0FDQSxNQUFBODRCLEVBQUF4b0MsRUFBQTJpQyxRQUFBdmxCLFFBQ0FxbkIsRUFBQWhELFdBQUErRyxVQVVBQyxFQUFBLENBQ0EvZ0MsRUFBQW02QixJQUNBbDZCLEVBQUFtNkIsSUFDQTRHLFNBQUEsR0FDQXIrQixPQUFBLEdBQ0E2QyxPQUFBLG9CQUNBL0QsR0FBQSxPQUNBcytCLFNBQUEsRUFDQXJmLFFBQUEsR0FHQXFnQixFQUFBdjdCLE9BQUF1N0IsRUFBQXY3QixPQUFBRyxJQUFBLENBQUFyTixFQUFBbW9DLEtBRUEsT0FEZ0I1QyxFQUF5QkcsRUFBQSxDQUFlaCtCLEVBQUEsRUFBQUMsRUFBQThnQyxFQUFBQyxVQUE0QixFQUFBN2dDLEtBQUFDLEdBQUEyZ0MsRUFBQXY3QixPQUFBd0MsT0FBQXk0QixLQUlwRjFELEVBQUE1QixLQUFBLElMOVNlLGNBQW1CYyxFQUFBbDdCLEVBQ2xDd0IsS0FBQU0sRUFBQUMsR0FTQUEsS0FBQUosS0FBQUksT0FBQSxFQUNBLE1BQUE5QyxFQUFBMEMsS0FBQTFDLEVBQUE4QyxFQUNBN0MsRUFBQXlDLEtBQUF6QyxFQUFBNkMsRUFDQUgsRUFBQUQsS0FBQXMrQixTQU9BLEdBTkFuK0IsRUFBQUksVUFBQSx1QkFDQUosRUFBQU0sWUFDQU4sRUFBQU8sSUFBQXBELEVBQUFDLEVBQUEwQyxFQUFBLElBQUF4QyxLQUFBQyxJQUFBLEdBQ0F5QyxFQUFBUSxZQUNBUixFQUFBUyxPQUVBWixLQUFBMkQsZUFBQSxDQUNBLE1BQUE0NkIsRUFBQSxJQUNBQyxFQUFBLElBRUFDLEVBQW1CM0UsSUFBaUJwQixFQUFBMTRCLEtBQUEyRCxnQkFDcEN0RyxFQUFBLENBQXNCQyxJQUFBQyxNQUN0QnlDLEtBQUFpOUIsT0FBQSxtQkFDQWg2QixJQUFBLENBQUFqTyxFQUFBK29DLElBQ2U5RCxJQUF5QjU4QixFQUFBLENBQVVDLElBQUFDLElBQUEwQyxHQUFBdStCLEVBQUF4cEMsSUFBb0N5cEMsRUFBQWhoQyxLQUFBQyxJQUFBMUksRUFBQSxFQUFBdXBDLFFBSXRGcmYsUUFBQSxDQUFBbHFCLEVBQUErb0MsS0FDQTU5QixFQUFBSSxVQUFBLHNCQUNBSixFQUFBTSxZQUNBTixFQUFBTyxJQUFBMUwsRUFBQXNJLEVBQUF0SSxFQUFBdUksRUFBQTBDLEtBQUEsS0FBQTg5QixFQUFBLFFBQUF0Z0MsS0FBQUMsSUFBQSxHQUNBeUMsRUFBQVEsWUFDQVIsRUFBQVMsWUt5UW9CeTlCLEdBQ3BCaEUsRUFBQWxnQixRQUFBa2dCLEVBQUE1QixNQUdBaUcsRUFBQXJnQyxFQUFPb0UsU0FBQXljLFFBQUEsU0FBQXFJLEdBQ1AsTUFBQTVuQixFQUFBOEMsRUFBQThrQixFQUFBN00sTUFDQS9hLElBQ0E0bkIsRUFBQWprQixZQUFBLEVBQ0ErMkIsRUFBQWxnQixRQUFBLElBQUF4YSxFQUFBNG5CLE9BS0EsTUFBQW9YLEVBQUEsa0JBRUFDLEVBQUEsQ0FDQSxFQUNBOUcsRUFDQUUsRUFBQXY2QixLQUFBQyxHQUFBLEVBQ0FELEtBQUFDLEdBQ0FELEtBQUFDLEdBQUFvNkIsRUFDQSxJQUFBcjZCLEtBQUFDLEdBQUFzNkIsR0FZQSxNQUFBRyxFQVRBLENBQ0EsQ0FBQVYsSUFBQSxHQUNBLENBclRBLEtBcVRBRyxFQUFBK0csRUFBQSxPQUFBQSxJQUNBLENBdFRBLEtBc1RBL0csRUFBQStHLEVBQUEsUUFBQUEsR0FDQSxDQUFBbEgsSUF0VEEsTUF1VEEsQ0FBQUcsRUFBQStHLEVBQUEsUUFBQUEsR0FDQSxDQUFBL0csRUFBQStHLEVBQUEsT0FBQUEsS0FHQTE3QixJQUFBLENBQUE0N0IsRUFBQWQsS0FDQSxDQUNBdmdDLEdBQUEsQ0FBU0YsRUFBQXVoQyxFQUFBLEdBQUF0aEMsRUFBQXNoQyxFQUFBLElBQ1R6RyxNQUFXZ0UsRUFBQS85QixFQUFNRCxJQUFBMi9CLEdBQ2pCRyxnQkFBcUI5QixFQUFBLzlCLEVBQU1jLFdBQUE0K0IsR0FDM0JuZ0MsTUFBQWdoQyxFQUFBYixHQUNBaFgsVUFBQSxFQUNBamEsU0FBQXJQLEtBQUFDLEdBQUEsRUFDQThLLE9BQUEsS0FJQXhKLFFBQUFDLElBQUEsVUFBQWs1QixHQUVBLE1BQU0yRyxFQUFNM0csRUFBQSxHQUFBMzZCLEdBRVoyNkIsRUFBQWpaLFFBQUEsQ0FBQXRwQixFQUFBbW9DLEtBQ0EvK0IsUUFBQUMsSUFBQSxrQkFBQXJKLEdBQ0EsTUFBQW1wQyxFQUFBbnBDLEVBQUE0SCxHQUVBd2hDLEVBQW9CN0QsRUFBeUI0RCxFQUFBLENBQU96aEMsRUFBQXloQyxFQUFBemhDLEVBQUFDLEVBQUF3aEMsRUFBQXhoQyxFQUFBLElBQXdCM0gsRUFBQWdJLE9BQzVFcWhDLEVBQUEsSUFBa0IzRixFQUFJLENBQ3RCaDhCLEVBQUEwaEMsRUFBQTFoQyxFQUNBQyxFQUFBeWhDLEVBQUF6aEMsRUFDQTBDLE9BQUEsR0FDQWEsWUFBQSxFQUNBeUMsWUFBQSxFQUNBaEQsVUFBQTNLLEVBQUF3aUMsTUFDQXNCLGNBQW1CMEMsRUFBQS85QixFQUFNYSxLQUFBNitCLEVBQUEsS0FDekJwQixNQUFBLEVBQ0FsRSxLQUFBNEIsRUFBQTVCLEtBQ0FnQyxTQUFBc0QsSUFFQTFELEVBQUFsZ0IsUUFBQThrQixHQUNBcnBDLEVBQUF5aUMsS0FBQTRHLEVBRUEsTUFBQWpCLEVBQXNCN0MsRUFBeUI0RCxFQUFBLENBQU96aEMsRUFBQXloQyxFQUFBemhDLEVBQUFDLEVBQUF3aEMsRUFBQXhoQyxFQTFXdEQsS0EwVzBGM0gsRUFBQWdJLE9BQzFGaEksRUFBQXFvQyxVQUFBLENBQ0EzZ0MsRUFBQTBnQyxFQUFBMWdDLEVBQ0FDLEVBQUF5Z0MsRUFBQXpnQyxFQUNBOGQsVUFBQSxHQUNBQyxXQUFBLEdBQ0EvWCxZQUFBLEVBQ0FoRCxVQUFBM0ssRUFBQXdpQyxNQUNBNTNCLFlBQUE1SyxFQUFBd2lDLE1BQ0F5RSxRQUFBLEVBQ0F2NUIsWUFBQSxFQUNBbTNCLFNBQUFzRCxFQUNBdjZCLFFBQUEsSUFDQTFDLFlBQUEsRUFDQS9CLEdBQUFnL0IsRUFBQSxVQUNBL2YsUUFBQSxFQUNBM2EsY0FBQSxHQUVBek4sRUFBQXFvQyxVQUFBbjdCLE9BQUEsQ0FDQSxDQUFLeEYsRUFBQTFILEVBQUFxb0MsVUFBQTVpQixVQUFBOWQsR0FBQTNILEVBQUFxb0MsVUFBQTNpQixZQUNMLENBQUtoZSxFQUFBMUgsRUFBQXFvQyxVQUFBNWlCLFVBQUE5ZCxFQUFBM0gsRUFBQXFvQyxVQUFBM2lCLFlBQ0wsQ0FBS2hlLEdBQUExSCxFQUFBcW9DLFVBQUE1aUIsVUFBQTlkLEVBQUEzSCxFQUFBcW9DLFVBQUEzaUIsWUFDTCxDQUFLaGUsR0FBQTFILEVBQUFxb0MsVUFBQTVpQixVQUFBOWQsR0FBQTNILEVBQUFxb0MsVUFBQTNpQixhQUdMMWxCLEVBQUFxb0MsVUFBQW43QixPQUFBbE4sRUFBQXFvQyxVQUFBbjdCLE9BQUFHLElBQUFrN0IsR0FDV2hELEVBQXlCRyxFQUFBNkMsRUFBQXZvQyxFQUFBZ0ksUUFFcEMsTUFBQWkvQixFQUFBLElBQUFwNkIsRUFBQTh5QixRQUFBMy9CLEVBQUFxb0MsV0FDQTVELEVBQUFsZ0IsUUFBQTBpQixHQUNBam5DLEVBQUEyaUMsUUFBQSxDQUFBc0UsR0FFQWpuQyxFQUFBa25DLE9BQUEsSUFBQXI2QixFQUFBNHlCLE9BQUEsQ0FDQS8zQixFQUFBMUgsRUFBQTRILEdBQUFGLEVBQ0FDLEVBQUEzSCxFQUFBNEgsR0FBQUQsRUFDQTBDLE9BQUEsR0FDQWEsWUFBQSxFQUNBMjVCLFNBQUFzRCxFQUNBL2YsUUFBQSxJQUVBcWMsRUFBQWxnQixRQUFBdmtCLEVBQUFrbkMsUUFFQUQsRUFBQWo5QixXQUFBaEssRUFBQWtuQyxPQUFBRCxHQUVBLE1BQUFxQyxFQUFBLElBQUF4OEIsRUFBQWd6QixTQUFBLENBQXNDN3ZCLFFBQUFqUSxFQUFBa25DLE9BQUEvOUIsR0FBQStHLFFBQUErMkIsRUFBQTk5QixNQUFBdEIsS0FBQXlGLFNBQUEsTUFDdENtM0IsRUFBQS9DLFNBQUE0SCxHQUVFdEcsRUFBUzFaLFFBQUEsQ0FBQWlnQixFQUFBQyxLQUNYLE1BQUFDLEVBQUEsQ0FDQS9oQyxFQUFBNmhDLEVBQUEsT0FDQTVoQyxFQUFBNGhDLEVBQUEsR0FDQTlqQixVQUFBLEdBQ0FDLFdBQUEsS0FDQXhhLFlBQUEsRUFDQXlDLFlBQUEsSUFDQWszQixTQUFBc0QsRUFDQXg5QixVQUFBM0ssRUFBQXdpQyxNQUNBMkQsT0FBQSxFQUNBMUMsU0FBQXpqQyxFQUFBZ0ksT0FHQUosRUFBZTI5QixFQUEwQjJELEVBQU1PLEVBQUF6cEMsRUFBQWdJLE9BRS9DeWhDLEVBQUEvaEMsRUFBQUUsRUFBQUYsRUFDQStoQyxFQUFBOWhDLEVBQUFDLEVBQUFELEVBR0E4aEMsRUFBQS9oQyxHQUFBeWhDLEVBQUF6aEMsRUFBQTY2QixFQUFBLEdBQUEzNkIsR0FBQUYsRUFDQStoQyxFQUFBOWhDLEdBQUF3aEMsRUFBQXhoQyxFQUFBNDZCLEVBQUEsR0FBQTM2QixHQUFBRCxFQUVBOGhDLEVBQUF2OEIsT0FBQSxDQUNBLENBQU94RixFQUFBK2hDLEVBQUFoa0IsVUFBQTlkLEdBQUE4aEMsRUFBQS9qQixZQUNQLENBQU9oZSxFQUFBK2hDLEVBQUFoa0IsVUFBQTlkLEVBQUE4aEMsRUFBQS9qQixZQUNQLENBQU9oZSxHQUFBK2hDLEVBQUFoa0IsVUFBQTlkLEVBQUE4aEMsRUFBQS9qQixZQUNQLENBQU9oZSxHQUFBK2hDLEVBQUFoa0IsVUFBQTlkLEdBQUE4aEMsRUFBQS9qQixhQUdQK2pCLEVBQUF2OEIsT0FBQXU4QixFQUFBdjhCLE9BQUFHLElBQUFrN0IsR0FDYWhELEVBQXlCRyxFQUFBNkMsRUFBQXZvQyxFQUFBZ0ksUUFHdEN5aEMsRUFBQWpHLEtBQUFpRyxFQUFBL2hDLEVBQ0EraEMsRUFBQW5HLEtBQUFtRyxFQUFBOWhDLEVBRUEsTUFBQWUsRUFBQSxJQUFrQnU2QixFQUFLd0csR0FDdkJoRixFQUFBbGdCLFFBQUE3YixPQU1BKzdCLEVBQUFwQyxhQUFBLENBQXFCUixNQTNickIsS0EyYnFCQyxNQTFickIsS0EwYnFCQyxRQXpickIsZ0JBeWJxQkMsUUFBQUMsTUF2YnJCLGtCQXVicUJDLE9BQUFDLE1BcmJyQkgsa0JBcWJxQkksUUFDckJxQyxFQUFBbEMsVUFHQW41QixRQUFBQyxJQUFBbzdCLEdBQ0E3NEIsT0FBQTY0QixPQUdBQSxFQUFBaUYsTUFDQWpGLEVBQUFuRSxJQUFBcUosa0JBQUEsV0FBQTloQyxLQUFBeUYsU0E3Y0EiLCJmaWxlIjoiaGV4b3V0LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0OCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ0FOQ0VMOiAzLFxuICBIRUxQOiA2LFxuICBCQUNLX1NQQUNFOiA4LFxuICBUQUI6IDksXG4gIENMRUFSOiAxMixcbiAgUkVUVVJOOiAxMyxcbiAgRU5URVI6IDE0LFxuICBTSElGVDogMTYsXG4gIENPTlRST0w6IDE3LFxuICBBTFQ6IDE4LFxuICBQQVVTRTogMTksXG4gIENBUFNfTE9DSzogMjAsXG4gIEVTQ0FQRTogMjcsXG4gIFNQQUNFOiAzMixcbiAgUEFHRV9VUDogMzMsXG4gIFBBR0VfRE9XTjogMzQsXG4gIEVORDogMzUsXG4gIEhPTUU6IDM2LFxuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBSSUdIVDogMzksXG4gIERPV046IDQwLFxuICBQUklOVFNDUkVFTjogNDQsXG4gIElOU0VSVDogNDUsXG4gIERFTEVURTogNDYsXG4gIE5VTTA6IDQ4LFxuICBOVU0xOiA0OSxcbiAgTlVNMjogNTAsXG4gIE5VTTM6IDUxLFxuICBOVU00OiA1MixcbiAgTlVNNTogNTMsXG4gIE5VTTY6IDU0LFxuICBOVU03OiA1NSxcbiAgTlVNODogNTYsXG4gIE5VTTk6IDU3LFxuICBTRU1JQ09MT046IDU5LFxuICBFUVVBTFM6IDYxLFxuICBBOiA2NSxcbiAgQjogNjYsXG4gIEM6IDY3LFxuICBEOiA2OCxcbiAgRTogNjksXG4gIEY6IDcwLFxuICBHOiA3MSxcbiAgSDogNzIsXG4gIEk6IDczLFxuICBKOiA3NCxcbiAgSzogNzUsXG4gIEw6IDc2LFxuICBNOiA3NyxcbiAgTjogNzgsXG4gIE86IDc5LFxuICBQOiA4MCxcbiAgUTogODEsXG4gIFI6IDgyLFxuICBTOiA4MyxcbiAgVDogODQsXG4gIFU6IDg1LFxuICBWOiA4NixcbiAgVzogODcsXG4gIFg6IDg4LFxuICBZOiA4OSxcbiAgWjogOTAsXG4gIENPTlRFWFRfTUVOVTogOTMsXG4gIE5VTVBBRDA6IDk2LFxuICBOVU1QQUQxOiA5NyxcbiAgTlVNUEFEMjogOTgsXG4gIE5VTVBBRDM6IDk5LFxuICBOVU1QQUQ0OiAxMDAsXG4gIE5VTVBBRDU6IDEwMSxcbiAgTlVNUEFENjogMTAyLFxuICBOVU1QQUQ3OiAxMDMsXG4gIE5VTVBBRDg6IDEwNCxcbiAgTlVNUEFEOTogMTA1LFxuICBNVUxUSVBMWTogMTA2LFxuICBBREQ6IDEwNyxcbiAgU0VQQVJBVE9SOiAxMDgsXG4gIFNVQlRSQUNUOiAxMDksXG4gIERFQ0lNQUw6IDExMCxcbiAgRElWSURFOiAxMTEsXG4gIEYxOiAxMTIsXG4gIEYyOiAxMTMsXG4gIEYzOiAxMTQsXG4gIEY0OiAxMTUsXG4gIEY1OiAxMTYsXG4gIEY2OiAxMTcsXG4gIEY3OiAxMTgsXG4gIEY4OiAxMTksXG4gIEY5OiAxMjAsXG4gIEYxMDogMTIxLFxuICBGMTE6IDEyMixcbiAgRjEyOiAxMjMsXG4gIEYxMzogMTI0LFxuICBGMTQ6IDEyNSxcbiAgRjE1OiAxMjYsXG4gIEYxNjogMTI3LFxuICBGMTc6IDEyOCxcbiAgRjE4OiAxMjksXG4gIEYxOTogMTMwLFxuICBGMjA6IDEzMSxcbiAgRjIxOiAxMzIsXG4gIEYyMjogMTMzLFxuICBGMjM6IDEzNCxcbiAgRjI0OiAxMzUsXG4gIE5VTV9MT0NLOiAxNDQsXG4gIFNDUk9MTF9MT0NLOiAxNDUsXG4gIFVQX0RQQUQ6IDE3NSxcbiAgRE9XTl9EUEFEOiAxNzYsXG4gIExFRlRfRFBBRDogMTc3LFxuICBSSUdIVF9EUEFEOiAxNzgsXG4gIENPTU1BOiAxODgsXG4gIFBFUklPRDogMTkwLFxuICBTTEFTSDogMTkxLFxuICBCQUNLX1FVT1RFOiAxOTIsXG4gIE9QRU5fQlJBQ0tFVDogMjE5LFxuICBCQUNLX1NMQVNIOiAyMjAsXG4gIENMT1NFX0JSQUNLRVQ6IDIyMSxcbiAgUVVPVEU6IDIyMixcbiAgTUVUQTogMjI0XG59O1xuIiwiXG5mdW5jdGlvbiByYWRpYW5zRnJvbUNlbnRlcihjZW50ZXIgPSB7eDogMC4wLCB5OiAwLjB9LCBwdCl7XG5cbiAgLy9zYW1lIHBvaW50XG4gIGlmKChjZW50ZXIueCA9PT0gcHQueCkgJiYgKGNlbnRlci55ID09PSBwdC55KSl7XG4gICAgcmV0dXJuIDA7XG4gIH1lbHNlIGlmKGNlbnRlci54ID09PSBwdC54KXtcbiAgICBpZihjZW50ZXIueSA+IHB0Lnkpe1xuICAgICAgcmV0dXJuIDA7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gTWF0aC5QSTtcbiAgICB9XG4gIH1lbHNlIGlmKGNlbnRlci55ID09PSBwdC55KXtcbiAgICBpZihjZW50ZXIueCA+IHB0Lngpe1xuICAgICAgcmV0dXJuIDEuNSAqIE1hdGguUEk7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gTWF0aC5QSSAvIDI7XG4gICAgfVxuICB9ZWxzZSBpZigoY2VudGVyLnggPCBwdC54KSAmJiAoY2VudGVyLnkgPiBwdC55KSl7XG4gICAgLy9xdWFkcmFudCAxXG4gICAgLy9jb25zb2xlLmxvZygncXVhZDEnLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSwnbycscHQueCAtIGNlbnRlci54LCdhJyxwdC55IC0gY2VudGVyLnkpO1xuICAgIHJldHVybiBNYXRoLmF0YW4oKHB0LnggLSBjZW50ZXIueCkvKGNlbnRlci55IC0gcHQueSkpO1xuICB9XG4gIGVsc2UgaWYoKGNlbnRlci54IDwgcHQueCkgJiYgKGNlbnRlci55IDwgcHQueSkpe1xuICAgIC8vcXVhZHJhbnQgMlxuICAgIC8vY29uc29sZS5sb2coJ3F1YWQyJyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnkpO1xuICAgIHJldHVybiBNYXRoLlBJIC8gMiArIE1hdGguYXRhbigocHQueSAtIGNlbnRlci55KS8ocHQueCAtIGNlbnRlci54KSk7XG4gIH1cbiAgZWxzZSBpZigoY2VudGVyLnggPiBwdC54KSAmJiAoY2VudGVyLnkgPCBwdC55KSl7XG4gICAgLy9xdWFkcmFudCAzXG4gICAgLy9jb25zb2xlLmxvZygncXVhZDMnLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSk7XG4gICAgcmV0dXJuIE1hdGguUEkgKyBNYXRoLmF0YW4oKGNlbnRlci54IC0gcHQueCkvKHB0LnkgLSBjZW50ZXIueSkpO1xuICB9XG4gIGVsc2V7XG4gICAgLy9xdWFkcmFudCA0XG4gICAgLy9jb25zb2xlLmxvZygncXVhZDQnLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSk7XG4gICAgcmV0dXJuIDEuNSAqIE1hdGguUEkgKyBNYXRoLmF0YW4oKGNlbnRlci55IC0gcHQueSkvKGNlbnRlci54IC0gcHQueCkpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByYWRpYW5zRnJvbUNlbnRlcjtcbiIsIlxuZnVuY3Rpb24gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXIgPSB7eDogMC4wLCB5OiAwLjB9LCBwdCwgYW5nbGUpe1xuICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCBuZXdQdCA9IHt9O1xuXG4gIC8vIHRyYW5zbGF0ZSBwb2ludCBiYWNrIHRvIG9yaWdpbjpcbiAgbmV3UHQueCA9IHB0LnggLSBjZW50ZXIueDtcbiAgbmV3UHQueSA9IHB0LnkgLSBjZW50ZXIueTtcblxuICAvLyByb3RhdGUgcG9pbnRcbiAgY29uc3QgeG5ldyA9IG5ld1B0LnggKiBjIC0gbmV3UHQueSAqIHM7XG4gIGNvbnN0IHluZXcgPSBuZXdQdC54ICogcyArIG5ld1B0LnkgKiBjO1xuXG4gIC8vIHRyYW5zbGF0ZSBwb2ludCBiYWNrOlxuICBuZXdQdC54ID0geG5ldyArIGNlbnRlci54O1xuICBuZXdQdC55ID0geW5ldyArIGNlbnRlci55O1xuICByZXR1cm4gbmV3UHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcjtcbiIsIlxuY29uc3QgY29sb3JzID0gW1xuICBbMCwgMjIxLCAwXSxcbiAgWzIyMSwgMCwgMF0sXG4gIC8vIFsyMzgsIDIzOCwgMjM4XSxcbiAgWzIzOCwgMCwgMjM4XSxcbiAgWzE2MCwgODIsIDQ1XSxcbiAgWzAsIDAsIDIyMV0sXG4gIFsyNTUsIDE2NSwgMF0sXG5dO1xuXG5mdW5jdGlvbiByZ2IoaWQpIHtcbiAgY29uc3QgYyA9IGNvbG9yc1tpZF07XG4gIGNvbnNvbGUubG9nKCdjb2xvcnMnLCBjLCBpZCk7XG4gIHJldHVybiBgcmdiKCR7Y1swXX0sJHtjWzFdfSwke2NbMl19KWA7XG59XG5cbmZ1bmN0aW9uIHJnYmEoaWQsIGEpIHtcbiAgY29uc3QgYyA9IGNvbG9yc1tpZF07XG4gIHJldHVybiBgcmdiYSgke2NbMF19LCR7Y1sxXX0sJHtjWzJdfSwke2F9KWA7XG59XG5cblxuLy8gLy8gY29tcGxlbWVudFxuLy8gdGVtcHJnYj10aGlzcmdiO1xuLy8gdGVtcGhzdj1SR0IySFNWKHRlbXByZ2IpO1xuLy8gdGVtcGhzdi5odWU9SHVlU2hpZnQodGVtcGhzdi5odWUsMTgwLjApO1xuLy8gdGVtcHJnYj1IU1YyUkdCKHRlbXBoc3YpO1xuXG5mdW5jdGlvbiBjb21wbGVtZW50KGlkKSB7XG4gIGNvbnN0IGMgPSBjb2xvcnNbaWRdO1xuICBjb25zb2xlLmxvZygnY29sb3JzYycsIGMsIGlkKTtcbiAgY29uc3Qgc3RhcnQgPSB7cjogY1swXSwgZzogY1sxXSwgYjogY1syXX07XG4gIGNvbnN0IGhzdiA9IFJHQjJIU1Yoc3RhcnQpOztcbiAgaHN2Lmh1ZT1IdWVTaGlmdChoc3YuaHVlLDE4MC4wKTtcbiAgY29uc3QgdGVtcHJnYj1IU1YyUkdCKGhzdik7XG4gIHJldHVybiBgcmdiKCR7dGVtcHJnYi5yfSwke3RlbXByZ2IuZ30sJHt0ZW1wcmdiLmJ9KWA7XG59XG5cbmZ1bmN0aW9uIFJHQjJIU1YocmdiKSB7XG4gICAgaHN2ID0gbmV3IE9iamVjdCgpO1xuICAgIG1heD1tYXgzKHJnYi5yLHJnYi5nLHJnYi5iKTtcbiAgICBkaWY9bWF4LW1pbjMocmdiLnIscmdiLmcscmdiLmIpO1xuICAgIGhzdi5zYXR1cmF0aW9uPShtYXg9PTAuMCk/MDooMTAwKmRpZi9tYXgpO1xuICAgIGlmIChoc3Yuc2F0dXJhdGlvbj09MCkgaHN2Lmh1ZT0wO1xuICAgIGVsc2UgaWYgKHJnYi5yPT1tYXgpIGhzdi5odWU9NjAuMCoocmdiLmctcmdiLmIpL2RpZjtcbiAgICBlbHNlIGlmIChyZ2IuZz09bWF4KSBoc3YuaHVlPTEyMC4wKzYwLjAqKHJnYi5iLXJnYi5yKS9kaWY7XG4gICAgZWxzZSBpZiAocmdiLmI9PW1heCkgaHN2Lmh1ZT0yNDAuMCs2MC4wKihyZ2Iuci1yZ2IuZykvZGlmO1xuICAgIGlmIChoc3YuaHVlPDAuMCkgaHN2Lmh1ZSs9MzYwLjA7XG4gICAgaHN2LnZhbHVlPU1hdGgucm91bmQobWF4KjEwMC8yNTUpO1xuICAgIGhzdi5odWU9TWF0aC5yb3VuZChoc3YuaHVlKTtcbiAgICBoc3Yuc2F0dXJhdGlvbj1NYXRoLnJvdW5kKGhzdi5zYXR1cmF0aW9uKTtcbiAgICByZXR1cm4gaHN2O1xufVxuXG4vLyBSR0IySFNWIGFuZCBIU1YyUkdCIGFyZSBiYXNlZCBvbiBDb2xvciBNYXRjaCBSZW1peCBbaHR0cDovL2NvbG9yLnR3eXN0ZWQubmV0L11cbi8vIHdoaWNoIGlzIGJhc2VkIG9uIG9yIGNvcGllZCBmcm9tIENvbG9yTWF0Y2ggNUsgW2h0dHA6Ly9jb2xvcm1hdGNoLmRrL11cbmZ1bmN0aW9uIEhTVjJSR0IoaHN2KSB7XG4gICAgdmFyIHJnYj1uZXcgT2JqZWN0KCk7XG4gICAgaWYgKGhzdi5zYXR1cmF0aW9uPT0wKSB7XG4gICAgICAgIHJnYi5yPXJnYi5nPXJnYi5iPU1hdGgucm91bmQoaHN2LnZhbHVlKjIuNTUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhzdi5odWUvPTYwO1xuICAgICAgICBoc3Yuc2F0dXJhdGlvbi89MTAwO1xuICAgICAgICBoc3YudmFsdWUvPTEwMDtcbiAgICAgICAgaT1NYXRoLmZsb29yKGhzdi5odWUpO1xuICAgICAgICBmPWhzdi5odWUtaTtcbiAgICAgICAgcD1oc3YudmFsdWUqKDEtaHN2LnNhdHVyYXRpb24pO1xuICAgICAgICBxPWhzdi52YWx1ZSooMS1oc3Yuc2F0dXJhdGlvbipmKTtcbiAgICAgICAgdD1oc3YudmFsdWUqKDEtaHN2LnNhdHVyYXRpb24qKDEtZikpO1xuICAgICAgICBzd2l0Y2goaSkge1xuICAgICAgICBjYXNlIDA6IHJnYi5yPWhzdi52YWx1ZTsgcmdiLmc9dDsgcmdiLmI9cDsgYnJlYWs7XG4gICAgICAgIGNhc2UgMTogcmdiLnI9cTsgcmdiLmc9aHN2LnZhbHVlOyByZ2IuYj1wOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiByZ2Iucj1wOyByZ2IuZz1oc3YudmFsdWU7IHJnYi5iPXQ7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IHJnYi5yPXA7IHJnYi5nPXE7IHJnYi5iPWhzdi52YWx1ZTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogcmdiLnI9dDsgcmdiLmc9cDsgcmdiLmI9aHN2LnZhbHVlOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDogcmdiLnI9aHN2LnZhbHVlOyByZ2IuZz1wOyByZ2IuYj1xO1xuICAgICAgICB9XG4gICAgICAgIHJnYi5yPU1hdGgucm91bmQocmdiLnIqMjU1KTtcbiAgICAgICAgcmdiLmc9TWF0aC5yb3VuZChyZ2IuZyoyNTUpO1xuICAgICAgICByZ2IuYj1NYXRoLnJvdW5kKHJnYi5iKjI1NSk7XG4gICAgfVxuICAgIHJldHVybiByZ2I7XG59XG5cbi8vQWRkaW5nIEh1ZVNoaWZ0IHZpYSBKYWNvYiAoc2VlIGNvbW1lbnRzKVxuZnVuY3Rpb24gSHVlU2hpZnQoaCxzKSB7IFxuICAgIGgrPXM7IHdoaWxlIChoPj0zNjAuMCkgaC09MzYwLjA7IHdoaWxlIChoPDAuMCkgaCs9MzYwLjA7IHJldHVybiBoOyBcbn1cblxuLy9taW4gbWF4IHZpYSBIYWlyZ2FtaV9NYXN0ZXIgKHNlZSBjb21tZW50cylcbmZ1bmN0aW9uIG1pbjMoYSxiLGMpIHsgXG4gICAgcmV0dXJuIChhPGIpPygoYTxjKT9hOmMpOigoYjxjKT9iOmMpOyBcbn0gXG5mdW5jdGlvbiBtYXgzKGEsYixjKSB7IFxuICAgIHJldHVybiAoYT5iKT8oKGE+Yyk/YTpjKTooKGI+Yyk/YjpjKTsgXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb2xvcnMsXG4gIHJnYixcbiAgcmdiYSxcbiAgY29tcGxlbWVudFxufTsiLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIENpcmNsZSBib2R5IGFuZCBzaGFwZSBpbiBhIEJveDJkIHdvcmxkXG4gKiBAbmFtZSBDaXJjbGVcbiAqIEBjb25zdHJ1Y3RvciBDaXJjbGVcbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5jb25zdCBkaXN0YW5jZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2Rpc3RhbmNlJyk7XG5cbmNsYXNzIENpcmNsZSBleHRlbmRzIEVudGl0eXtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByYWRpdXMgb2YgdGhpcyBjaXJjbGUuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMgPSAxO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgQ2lyY2xlIGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDaXJjbGUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY3R4IFRoZSBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSBhdCB3aGljaCB0byBkcmF3XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSwgdGhpcy5yYWRpdXMgKiBzY2FsZSwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGlmKCF0aGlzLnN0YXRpY0JvZHkpe1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgICBjdHgubGluZVRvKHRoaXMueCAqIHNjYWxlLCAodGhpcy55ICogc2NhbGUpIC0gKHRoaXMucmFkaXVzICogc2NhbGUpKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcblxuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5yYWRpdXMgPSB0aGlzLnJhZGl1cyAqIHNjYWxlO1xuICAgIHN1cGVyLnNjYWxlU2hhcGUoc2NhbGUpO1xuICB9XG5cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIENpcmNsZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDaXJjbGUjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb2ludCBpcyBpbiBzaGFwZSBlbHNlIGZhbHNlXG4gICAqL1xuICBwb2ludEluU2hhcGUocG9pbnQpe1xuICAgIHJldHVybiAoZGlzdGFuY2UocG9pbnQsIHRoaXMpIDw9IHRoaXMucmFkaXVzKTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2lyY2xlO1xuIiwiXG53aW5kb3cuZnJvemVuanMgPSB7XG4gIEdhbWVDb3JlIDogcmVxdWlyZSgnLi9HYW1lQ29yZScpLFxuICBJbnB1dE1hbmFnZXIgOiByZXF1aXJlKCcuL0lucHV0TWFuYWdlcicpLFxuICBSZXNvdXJjZU1hbmFnZXIgOiByZXF1aXJlKCcuL1Jlc291cmNlTWFuYWdlcicpLFxuICBNb3VzZUFjdGlvbiA6IHJlcXVpcmUoJy4vTW91c2VBY3Rpb24nKSxcbiAgVG91Y2hBY3Rpb24gOiByZXF1aXJlKCcuL1RvdWNoQWN0aW9uJyksXG4gIGtleXMgOiByZXF1aXJlKCcuL2tleXMnKSxcbiAgQW5pbWF0aW9uOiByZXF1aXJlKCcuL0FuaW1hdGlvbicpLFxuICBBbmltRnJhbWU6IHJlcXVpcmUoJy4vQW5pbUZyYW1lJyksXG4gIHV0aWxzIDogcmVxdWlyZSgnLi91dGlscycpLFxuICBTcHJpdGUgOiByZXF1aXJlKCcuL1Nwcml0ZScpLFxuICByZWluZXIgOiB7XG4gICAgQ3JlYXR1cmUgOiByZXF1aXJlKCcuL3JlaW5lci9DcmVhdHVyZScpXG4gIH0sXG4gIHNvdW5kcyA6IHtcbiAgICBXZWJBdWRpbyA6IHJlcXVpcmUoJy4vc291bmRzL1dlYkF1ZGlvJylcbiAgfSxcbiAgYm94MmQgOiB7XG4gICAgZW50aXRpZXMgOiByZXF1aXJlKCcuL2JveDJkL2VudGl0aWVzJyksXG4gICAgam9pbnRzOiByZXF1aXJlKCcuL2JveDJkL2pvaW50cycpLFxuICAgIEJveCA6IHJlcXVpcmUoJy4vYm94MmQvQm94JyksXG4gICAgQm94R2FtZSA6IHJlcXVpcmUoJy4vYm94MmQvQm94R2FtZScpXG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd2luZG93LmZyb3plbmpzO1xuIiwiXG5mdW5jdGlvbiBzY2FsZVBvaW50cyhwb2ludHMsIHNjYWxlKXtcbiAgaWYoQXJyYXkuaXNBcnJheShwb2ludHMpKXtcbiAgICBwb2ludHMgPSBwb2ludHMubWFwKGZ1bmN0aW9uKHBvaW50KXtcbiAgICAgIHJldHVybiBzY2FsZVBvaW50cyhwb2ludCwgc2NhbGUpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYodHlwZW9mIHNjYWxlID09PSAnb2JqZWN0Jyl7XG4gICAgcG9pbnRzID0ge1xuICAgICAgeDogcG9pbnRzLnggKiBzY2FsZS54LFxuICAgICAgeTogcG9pbnRzLnkgKiBzY2FsZS55XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBwb2ludHMgPSB7XG4gICAgICB4OiBwb2ludHMueCAqIHNjYWxlLFxuICAgICAgeTogcG9pbnRzLnkgKiBzY2FsZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzY2FsZVBvaW50cztcbiIsImZ1bmN0aW9uIGdlbklkKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKSArICdfJyArIERhdGUubm93KCk7XG59XG5cbi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgYm9keSBhbmQgc2hhcGUgaW4gYSBCb3gyZCB3b3JsZCB1c2luZyBwb3NpdGlvbnMgYW5kIHNpemVzIHJlbGF0aXZlIHRvIHRoZSBCb3gyZCB3b3JsZCBpbnN0YW5jZS5cbiAqIEBuYW1lIEVudGl0eVxuICogQGNvbnN0cnVjdG9yIEVudGl0eVxuICovXG5cbmNsYXNzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgaW4gd2hpY2ggdG8gcmVmZXJlbmNlIHRoaXMgb2JqZWN0LiBBbHNvIHRoZSB1c2VyRGF0YSBwcm9wZXJ0eSBmb3IgYm94MmQgYm9kaWVzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmlkID0gb3B0aW9ucy5pZCB8fCBnZW5JZCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHggY29tcG9uZW50IG9mIHRoZSBlbnRpdHkncyBsb2NhdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLnggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgY29tcG9uZW50IG9mIHRoZSBlbnRpdHkncyBsb2NhdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLnkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGluIHBpeGVscyBwZXIgbWV0ZXIgaW4gd2hpY2ggdG8gcmVwcmVzZW50IHRoaXMgRW50aXR5IGluIHRoZSBib3gyZCB3b3JsZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLnNjYWxlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGFuZ2xlIHRoYXQgdGhpcyBlbnRpdHkgaXMgcm90YXRlZCBhdFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ2xlID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGFuZCB5IGxvY2F0aW9ucyBvZiB3aGF0IGJveDJkIGNvbnNpZGVycyB0aGUgZW5pdHkncyBjZW50ZXIgb2YgbWFzc1xuICAgICAqIEB0eXBlIHtQb2ludH1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuY2VudGVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZHJhdyB0aGUgeCx5IGxvY2F0aW9uIG9mIGFuIGVudGl0eVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHRoaXMuZHJhd0xvY2F0aW9uID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZHJhdyB0aGUgY2VudGVyIHBvaW50IG9mIGFuIGVudGl0eVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgICB0aGlzLmRyYXdDZW50ZXIgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBlcmNlbnRhZ2Ugb2YgZm9yY2UgaW4gd2hpY2ggdGhlIGVudGl0eSB3aWxsIGJvdW5jZSBiYWNrIGZyb20gYW5vdGhlciBiYXNlZCBvbiBpdHMgZm9yY2UgcHJlLWNvbGxpc2lvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLnJlc3RpdHV0aW9uID0gMC4zO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR3by1kaW1lbnNpb25hbCBkZW5zaXR5IG9mIHRoZSBlbnRpdHkuICBNYXNzIC8gYXJlYS5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5kZW5zaXR5ID0gMS4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBmcmljdGlvbiBvbiB0aCBzdXJmYWNlIG9mIHRoaXMgZW50aXR5XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuZnJpY3Rpb24gPSAwLjk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIGxpbmVhciB2ZWxvY2l0eSB0aGUgZW50aXR5IHNob3VsZCBsb3NlIG92ZXIgdGltZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmxpbmVhckRhbXBpbmcgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlbG9jaXR5IGluIG1ldGVycy9zZWNvbmQgZ2l2ZW4gdG8gdGhpcyBlbnRpdHkgYnkgYm94MmQgY2FsY3VsYXRpb25zXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMubGluZWFyVmVsb2NpdHkgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ3VsYXIgdmVsb2NpdHkgaW4gcmFkaWFucy9zZWNvbmQgZ2l2ZW4gdG8gdGhpcyBlbnRpdHkgYnkgYm94MmQgY2FsY3VsYXRpb25zXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvZiBhbW91bnQgb2YgYW5ndWxhciB2ZWxvY2l0eSBhbiBlbnRpdHkgc2hvdWxkIGxvc2Ugb3ZlciB0aW1lXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhlIGVudGl0eSBkb2VzIGNoYW5nZSBpdHMgcG9zaXRpb24gYW5kIGFuZ2xlIGFzIHRoZSByZXN1bHQgb2YgYm94MmQgY2FsY3VsYXRpb25zXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLnN0YXRpY0JvZHkgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxsU3R5bGUgdG8gdXNlIGZvciB0aGUgZW50aXR5J3MgZGVmYXVsdCByZW5kZXJlclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmZpbGxTdHlsZSA9ICdyZ2JhKDEyOCwxMjgsMTI4LDAuNSknO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0cm9rZVN0eWxlIHRvIHVzZSBmb3IgdGhlIGVudGl0eSdzIGRlZmF1bHQgcmVuZGVyZXJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zdHJva2VTdHlsZSA9ICcjMDAwJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lIHdpZHRoIHRvIHVzZSBmb3IgdGhlIGVudGl0eSdzIGRlZmF1bHQgcmVuZGVyZXJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5saW5lV2lkdGggPSAxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIDE2IGJpdCBpbnRlZ2VyIHVzZWQgaW4gZGV0ZXJtaW5pbmcgd2hpY2ggb3RoZXIgdHlwZXMgb2YgZW50aXRpZXMgdGhpcyBib2R5IHdpbGwgY29sbGlkZSB3aXRoLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLm1hc2tCaXRzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSAxNiBiaXQgaW50ZWdlciB1c2VkIGluIGRlc2NyaWJpbmcgdGhlIHR5cGUgdGhhdCB0aGlzIGVuaXRpdHkgaXMgZm9yIGNvbGxpc2lvbnMuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuY2F0ZWdvcnlCaXRzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSAxNiBiaXQgaW50ZWdlciB1c2VkIGluIG92ZXJpZGluZyBtYXNrQml0cyBhbmQgY2F0ZWdvcnlCaXRzIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmdyb3VwSW5kZXggPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhpcyBlbnRpdHkgd2l0aCB0aGUgc3RhdGUgcGFzc2VkIGluXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgU3RhdGUgdG8gbWVyZ2Ugd2l0aCB0aGlzIG9iamVjdFxuICAgKi9cbiAgdXBkYXRlKHN0YXRlKXtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgRW50aXR5IGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY3R4IFRoZSBIVE1MNSAyZCBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSB0byBkcmF3IHRoZSBlbnRpdHkgYXRcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG5cbiAgICAvLyBibGFjayBjaXJjbGUgaW4gZW50aXR5J3MgbG9jYXRpb25cbiAgICBpZih0aGlzLmRyYXdMb2NhdGlvbikge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSwgNCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgXG4gICAgLy8geWVsbG93IGNpcmNsZSBpbiBlbnRpdHkncyBnZW9tZXRyaWMgY2VudGVyXG4gICAgaWYodGhpcy5jZW50ZXIgJiYgdGhpcy5kcmF3Q2VudGVyKXtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNlbnRlclN0eWxlIHx8ICd5ZWxsb3cnO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh0aGlzLmNlbnRlci54ICogc2NhbGUsIHRoaXMuY2VudGVyLnkgKiBzY2FsZSwgMiwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG5cbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGVzIHRoZSBwb3NpdGlvbiBhbmQgZGltZW5zaW9ucyBvZiB0aGlzIHNoYXBlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSB0byBtdWx0aXBseSB0aGUgZGltZW50aW9ucyBieVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy54ID0gdGhpcy54ICogc2NhbGU7XG4gICAgdGhpcy55ID0gdGhpcy55ICogc2NhbGU7XG4gICAgdGhpcy5hbHJlYWR5U2NhbGVkID0gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEVudGl0eTtcblxuIiwiLyoqXG4gKiBUaGUgR2FtZUFjdGlvbiBoYW5kbGVzIERPTSBldmVudHMgZm9yIHVzZSBpbiBnYW1lcy5cbiAqIEBuYW1lIEdhbWVBY3Rpb25cbiAqIEBjb25zdHJ1Y3RvciBHYW1lQWN0aW9uXG4gKi9cblxuLyoqXG4gKiBBIG1hcCBvZiBzdGF0aWMgY29uc3RhbnRzIGZvciBpbnRlcm5hbCB1c2VcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JNQUwgTm9ybWFsIGJlaGF2aW9yLiBUaGUgaXNQcmVzc2VkKCkgbWV0aG9kIHJldHVybnMgdHJ1ZSBhcyBsb25nIGFzIHRoZSBrZXkgaXMgaGVsZCBkb3duLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IERFVEVDVF9JTklUQUxfUFJFU1NfT05MWSBJbml0aWFsIHByZXNzIGJlaGF2aW9yLiBUaGUgaXNQcmVzc2VkKCkgbWV0aG9kIHJldHVybnMgdHJ1ZSBvbmx5IGFmdGVyIHRoZSBrZXkgaXMgZmlyc3QgcHJlc3NlZCwgYW5kIG5vdCBhZ2FpbiB1bnRpbCB0aGUga2V5IGlzIHJlbGVhc2VkIGFuZCBwcmVzc2VkIGFnYWluLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX1JFTEVBU0VEIFZhbHVlIGZvciByZWxlYXNlZCBzdGF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX1BSRVNTRUQgVmFsdWUgZm9yIHByZXNzZWQgc3RhdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFIFZhbHVlIGZvciB3YWl0aW5nIGZvciByZWxlYXNlIHN0YXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfTU9WRUQgVmFsdWUgZm9yIG1vdmVkIHN0YXRlXG4gKi9cbmNvbnN0IHN0YXRpY3MgPSB7XG4gIE5PUk1BTDogMCxcbiAgREVURUNUX0lOSVRBTF9QUkVTU19PTkxZOiAxLFxuICBTVEFURV9SRUxFQVNFRDogMCxcbiAgU1RBVEVfUFJFU1NFRDogMSxcbiAgU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRTogMixcbiAgU1RBVEVfTU9WRUQ6IDNcbn07XG5cbmNsYXNzIEdhbWVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIC8qKlxuICAgICAqIEEgbmFtZSB0byByZWZlcmVuY2UgdGhlIEdhbWVBY3Rpb24gd2l0aFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gZGV0ZWN0IG9ubHkgdGhlIGludGlhbCBwcmVzcyBvZiB0aGUgZ2FtZSBhY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5iZWhhdmlvciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbWFueSB0aW1lcyB0aGUgR2FtZUFjdGlvbiBoYXMgYmVlbiBwcmVzc2VkXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYW1vdW50ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBHYW1lQWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSAwO1xuXG4gICAgdGhpcy5zdGF0aWNzID0gc3RhdGljcztcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoaXMgR2FtZUFjdGlvbiBzbyB0aGF0IGl0IGFwcGVhcnMgbGlrZSBpdCBoYXNuJ3QgYmVlbiBwcmVzc2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9SRUxFQVNFRDtcbiAgICB0aGlzLmFtb3VudCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVGFwcyB0aGlzIEdhbWVBY3Rpb24uIFNhbWUgYXMgY2FsbGluZyBwcmVzcygpIGZvbGxvd2VkIGJ5IHJlbGVhc2UoKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgdGFwKCkge1xuICAgIHRoaXMucHJlc3MoKTtcbiAgICB0aGlzLnJlbGVhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIGtleSB3YXMgcHJlc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgcHJlc3MoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfUFJFU1NFRDtcbiAgICBpZih0aGlzLmJlaGF2aW9yID09PSBzdGF0aWNzLkRFVEVDVF9JTklUQUxfUFJFU1NfT05MWSl7XG4gICAgICB0aGlzLnByZXNzQW10KDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIGtleSB3YXMgcHJlc3NlZCBhIHNwZWNpZmllZCBudW1iZXIgb2YgdGltZXMsIG9yIHRoYXQgdGhlIG1vdXNlIG1vdmUgYSBzcGVjaWZpZWQgZGlzdGFuY2UuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFtb3VudCB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJlc3NBbXQoYW1vdW50KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IHN0YXRpY3MuU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRSkge1xuICAgICAgdGhpcy5hbW91bnQgKz0gYW1vdW50O1xuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBrZXkgd2FzIHJlbGVhc2VkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfUkVMRUFTRUQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBrZXkgd2FzIHByZXNzZWQgb3Igbm90IHNpbmNlIGxhc3QgY2hlY2tlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBrZXkgaXMgcHJlc3NlZCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgaXNQcmVzc2VkKCkge1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IHN0YXRpY3MuU1RBVEVfUFJFU1NFRCl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3Iga2V5cywgdGhpcyBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHByZXNzZWQgc2luY2UgaXQgd2FzIGxhc3QgY2hlY2tlZC5cbiAgICogRm9yIG1vdXNlIG1vdmVtZW50LCB0aGlzIGlzIHRoZSBkaXN0YW5jZSBtb3ZlZC5cbiAgICpcbiAgICogVGhpcyBSZXNldHMgdGhlIGFtb3VudCB0byB6ZXJvIGFmdGVyIGJlaW5nIGNoZWNrZWQhXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICogQHJldHVybiB7TnVtYmVyfSBOdW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcHJlc3NlZCBvciBkaXN0YW5jZSBtb3VzZSB3YXMgbW92ZWRcbiAgICovXG4gIGdldEFtb3VudCgpIHtcbiAgICB2YXIgcmV0VmFsID0gdGhpcy5hbW91bnQ7XG4gICAgaWYgKHJldFZhbCAhPT0gMCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHN0YXRpY3MuU1RBVEVfUkVMRUFTRUQpIHtcbiAgICAgICAgdGhpcy5hbW91bnQgPSAwO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmJlaGF2aW9yID09PSBzdGF0aWNzLkRFVEVDVF9JTklUQUxfUFJFU1NfT05MWSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFO1xuICAgICAgICB0aGlzLmFtb3VudCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXRWYWw7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lQWN0aW9uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBVc2luZyBSYXktQ2FzdGluZyBmb3JtdWxhIGJhc2VkIG9uXG4vLyBodHRwOi8vd3d3LmVjc2UucnBpLmVkdS9Ib21lcGFnZXMvd3JmL1Jlc2VhcmNoL1Nob3J0X05vdGVzL3BucG9seS5odG1sXG4vLyBhbmQgaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vXG4vLyBSZS13cml0dGVuIGZvciBtb3N0IHJlYWRhYmlsaXR5IGFuZCBmb3IgdXNlIHdpdGggcG9pbnQgb2JqZWN0cyBpbnN0ZWFkIG9mIGFycmF5c1xuXG5mdW5jdGlvbiBwb2ludEluUG9seShwb2ludCwgcG9seWdvbil7XG4gIGlmKCFwb2ludCB8fCAhcG9seWdvbil7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBvbHkgPSBwb2x5Z29uLnBvaW50cyB8fCBwb2x5Z29uO1xuXG4gIHZhciBpbnNpZGVQb2x5ID0gZmFsc2U7XG4gIHZhciBqID0gcG9seS5sZW5ndGggLSAxO1xuXG4gIGZvcih2YXIgaSA9IDA7IGkgPCBwb2x5Lmxlbmd0aDsgaiA9IGkrKyl7XG4gICAgdmFyIHhpID0gcG9seVtpXS54O1xuICAgIHZhciB5aSA9IHBvbHlbaV0ueTtcbiAgICB2YXIgeGogPSBwb2x5W2pdLng7XG4gICAgdmFyIHlqID0gcG9seVtqXS55O1xuXG4gICAgaWYoeWkgPiBwb2ludC55ICE9PSB5aiA+IHBvaW50Lnkpe1xuICAgICAgaWYocG9pbnQueCA8ICh4aiAtIHhpKSAqIChwb2ludC55IC0geWkpIC8gKHlqIC0geWkpICsgeGkpe1xuICAgICAgICBpbnNpZGVQb2x5ID0gIWluc2lkZVBvbHk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluc2lkZVBvbHk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcG9pbnRJblBvbHk7XG4iLCJcbmZ1bmN0aW9uIHRyYW5zbGF0ZVBvaW50cyhwb2ludHMsIHRyYW5zbGF0aW9uKXtcbiAgaWYoQXJyYXkuaXNBcnJheShwb2ludHMpKXtcbiAgICBwb2ludHMgPSBwb2ludHMubWFwKGZ1bmN0aW9uKHBvaW50KXtcbiAgICAgIHJldHVybiB0cmFuc2xhdGVQb2ludHMocG9pbnQsIHRyYW5zbGF0aW9uKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBwb2ludHMgPSB7XG4gICAgICB4OiBwb2ludHMueCxcbiAgICAgIHk6IHBvaW50cy55XG4gICAgfTtcblxuICAgIGlmKHRyYW5zbGF0aW9uLnggIT0gbnVsbCl7XG4gICAgICBwb2ludHMueCArPSB0cmFuc2xhdGlvbi54O1xuICAgIH1cblxuICAgIGlmKHRyYW5zbGF0aW9uLnkgIT0gbnVsbCl7XG4gICAgICBwb2ludHMueSArPSB0cmFuc2xhdGlvbi55O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyYW5zbGF0ZVBvaW50cztcbiIsImZ1bmN0aW9uIGdlbklkKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKSArICdfJyArIERhdGUubm93KCk7XG59XG5cbi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgam9pbnQgYmV0d2VlbiB0d28gYm9kaWVzLlxuICogQG5hbWUgSm9pbnRcbiAqIEBjb25zdHJ1Y3RvciBKb2ludFxuICovXG5cblxuY2xhc3MgSm9pbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIGluIHdoaWNoIHRvIHJlZmVyZW5jZSB0aGlzIG9iamVjdC4gQWxzbyB0aGUgdXNlckRhdGEgcHJvcGVydHkgZm9yIGJveDJkIGJvZGllcy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmlkID0gb3B0aW9ucy5pZCB8fCBnZW5JZCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBmaXJzdCBlbnRpdHkgdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoaXMgam9pbnRcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9keUlkMSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIHNlY29uZCBlbnRpdHkgdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoaXMgam9pbnRcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9keUlkMiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIHBvaW50IG9uIHRoZSBmaXJzdCBlbnRpdHkgd2hlcmUgYmUgYXR0YWNoZWQgdG8gdGhlIHNlY29uZCBib2R5LiBJZiBubyBwb2ludCBpcyBzcGVjaWZpZWQsIHRoZSBmaXJzdCBib2R5IHdpbGwgYmUgYXR0YWNoZWQgYXQgaXRzIGNlbnRlciBwb2ludC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9keVBvaW50MSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3Qgd2l0aCBhbnkgb3RoZXIgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBtaXhlZCBpbnRvIHRoZSBib3gyZCBqb2ludCBkZWZpbml0aW9uLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEpvaW50I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5qb2ludEF0dHJpYnV0ZXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZXMgdGhlIHBvc2l0aW9uIHRoYXQgb24gdGhlIGZpcnN0IGJvZHkgdGhhdCB0aGUgam9pbnQgaXMgY29ubmVjdGVkIGF0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEpvaW50I1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIHNjYWxlIHRvIG11bHRpcGx5IHRoZSBkaW1lbnRpb25zIGJ5XG4gICAqL1xuICBzY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpe1xuICAgIGlmKHNjYWxlICYmIHRoaXMuYm9keVBvaW50MSl7XG4gICAgICB0aGlzLmJvZHlQb2ludDEueCA9IHRoaXMuYm9keVBvaW50MS54ICogc2NhbGU7XG4gICAgICB0aGlzLmJvZHlQb2ludDEueSA9IHRoaXMuYm9keVBvaW50MS55ICogc2NhbGU7XG4gICAgICB0aGlzLmFscmVhZHlTY2FsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEpvaW50O1xuIiwiLyoqXG4gKiBUaGlzIEVudGl0eSByZXByZXNlbnRzIGEgcG9seWdvbiB3aGljaCBpcyBidWlsZCBmcm9tIGFuIGFycmF5IG9mIHBvaW50cy5cbiAqIEBuYW1lIFBvbHlnb25cbiAqIEBjb25zdHJ1Y3RvciBQb2x5Z29uXG4gKiBAZXh0ZW5kcyBFbnRpdHlcbiAqL1xuXG5jb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xuY29uc3Qgc2NhbGVQb2ludHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9zY2FsZVBvaW50cycpO1xuY29uc3QgcG9pbnRJblBvbHlnb24gPSByZXF1aXJlKCcuLi8uLi91dGlscy9wb2ludEluUG9seWdvbicpO1xuY29uc3QgdHJhbnNsYXRlUG9pbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvdHJhbnNsYXRlUG9pbnRzJyk7XG5cbmNsYXNzIFBvbHlnb24gZXh0ZW5kcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGhhdmUgeCBhbmQgeSB2YWx1ZXMuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIFBvbHlnb24gYXQgYSBnaXZlbiBzY2FsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFBvbHlnb24jXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY3R4IFRoZSBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSBhdCB3aGljaCB0byBkcmF3XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oKHRoaXMueCArIHRoaXMucG9pbnRzWzBdLngpICogc2NhbGUsICh0aGlzLnkgKyB0aGlzLnBvaW50c1swXS55KSAqIHNjYWxlKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgY3R4LmxpbmVUbygodGhpcy5wb2ludHNbaV0ueCArIHRoaXMueCkgKiBzY2FsZSwgKHRoaXMucG9pbnRzW2ldLnkgKyB0aGlzLnkpICogc2NhbGUpO1xuICAgIH1cbiAgICBjdHgubGluZVRvKCh0aGlzLnggKyB0aGlzLnBvaW50c1swXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2ludHNbMF0ueSkgKiBzY2FsZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gICAgc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGlzIHNoYXBlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUG9seWdvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5wb2ludHMgPSBzY2FsZVBvaW50cyh0aGlzLnBvaW50cywgc2NhbGUpO1xuICAgIHN1cGVyLnNjYWxlU2hhcGUoc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBQb2x5Z29uLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFBvbHlnb24jXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb2ludCBpcyBpbiBzaGFwZSBlbHNlIGZhbHNlXG4gICAqL1xuICBwb2ludEluU2hhcGUocG9pbnQpe1xuICAgIHJldHVybiBwb2ludEluUG9seWdvbihwb2ludCwgdHJhbnNsYXRlUG9pbnRzKHRoaXMucG9pbnRzLCB0aGlzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQb2x5Z29uO1xuIiwiLyoqXG4gKiBUaGUgR2FtZUNvcmUgY2xhc3MgcHJvdmlkZXMgdGhlIGJhc2UgdG8gYnVpbGQgZ2FtZXMgb24uXG4gKiBAbmFtZSBHYW1lQ29yZVxuICogQGNvbnN0cnVjdG9yIEdhbWVDb3JlXG4gKiBAZXhhbXBsZVxuICogdmFyIG15R2FtZSA9IG5ldyBHYW1lQ29yZSh7XG4gKiAgIGNhbnZhc0lkOiAnbXlDYW52YXMnLFxuICogICB1cGRhdGU6IGZ1bmN0aW9uKG1pbGxpcyl7XG4gKiAgICAgLy8gZG8gdXBkYXRpbmcgb2YgZ2FtZSBzdGF0ZVxuICogICB9LFxuICogICBkcmF3OiBmdW5jdGlvbihjb250ZXh0KXtcbiAqICAgICAvLyBkbyBkcmF3aW5nIG9mIHRoZSBnYW1lXG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIC8vc3RhcnQgdGhlIGdhbWVcbiAqIG15R2FtZS5ydW4oKTtcbiAqL1xuXG5jb25zdCBJbnB1dE1hbmFnZXIgPSByZXF1aXJlKCcuL0lucHV0TWFuYWdlcicpO1xuY29uc3QgUmVzb3VyY2VNYW5hZ2VyID0gcmVxdWlyZSgnLi9SZXNvdXJjZU1hbmFnZXInKTtcblxuY2xhc3MgR2FtZUNvcmUge1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgZ2FtZSBzaG91bGQgYmUgcnVubmluZyBpdHMgbG9vcFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIGNhbnZhcyBlbGVtZW50IHRvIHVzZSByZW5kZXIgdGhlIGdhbWUgb25cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzSWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTWF4IG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLiAoaW4gY2FzZSB1c2VyIHN3aXRjaGVzIHRhYnMgYW5kIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwYXVzZXMpXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1heFN0ZXAgPSA0MDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGNvbnRleHQgdG8gcmVxdWVzdCBmcm9tIHRoZSBjYW52YXMuICAyZCBvciAzZFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0VHlwZSA9ICcyZCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBHYW1lIGFuZCBjYW52YXNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgR2FtZSBhbmQgY2FudmFzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBSZXNvdXJjZU1hbmFnZXIgdG8gYmUgdXNlZCBmb3IgZ2FtZVxuICAgICAqIEB0eXBlIHtSZXNvdXJjZU1hbmFnZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5yZXNvdXJjZU1hbmFnZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIElucHV0TWFuYWdlciB0byBiZSB1c2VkIGZvciBnYW1lXG4gICAgICogQHR5cGUge0lucHV0TWFuYWdlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgdG8gYmUgdXNlZCBmb3IgdGhlIGZvcmVncm91bmQgd2hpbGUgZ2FtZSByZXNvdXJjZXMgYXJlIGxvYWRpbmdcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZ0ZvcmVncm91bmQgPSAnIzAwRic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgdG8gYmUgdXNlZCBmb3IgdGhlIGJhY2tncm91bmQgd2hpbGUgZ2FtZSByZXNvdXJjZXMgYXJlIGxvYWRpbmdcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZ0JhY2tncm91bmQgPSAnI0ZGRic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgYSBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBnYW1lJ3MgY2FudmFzXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmdhbWVBcmVhSWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBlcmNlbnRhZ2UgKDAgdG8gMS4wKSBvZiB0aGUgaGVpZ2h0IGFuZCB3aWR0aCB0aGUgY2FudmFzIHNob3VsZCB1c2UgdG8gZmlsbCBpbiBpdHMgY29udGFpbmVyIERPTSBlbGVtZW50XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc1BlcmNlbnRhZ2UgPSAwO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLnJlc291cmNlTWFuYWdlcil7XG4gICAgICB0aGlzLnJlc291cmNlTWFuYWdlciA9IG5ldyBSZXNvdXJjZU1hbmFnZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGVpZ2h0IG9uIHlvdXIgR2FtZUNvcmUgaW5zdGFuY2UgYW5kIG9uIHlvdXIgY2FudmFzIHJlZmVyZW5jZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gbmV3SGVpZ2h0IFRoZSBuZXcgaGVpZ2h0IGRlc2lyZWRcbiAgICovXG4gIHNldEhlaWdodChuZXdIZWlnaHQpe1xuICAgIHRoaXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB3aWR0aCBvbiB5b3VyIEdhbWVDb3JlIGluc3RhbmNlIGFuZCBvbiB5b3VyIGNhbnZhcyByZWZlcmVuY2VcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5ld1dpZHRoIFRoZSBuZXcgd2lkdGggZGVzaXJlZFxuICAgKi9cbiAgc2V0V2lkdGgobmV3V2lkdGgpe1xuICAgIHRoaXMud2lkdGggPSBuZXdXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IG5ld1dpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhlIGdhbWUgbG9vcCB0aGF0IGl0J3MgdGltZSB0byBxdWl0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogTGF1bmNoZXMgdGhlIGdhbWUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBydW4oKSB7XG4gICAgaWYoIXRoaXMuaXNSdW5uaW5nKXtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgdGhpcy5sb2FkUmVzb3VyY2VzKHRoaXMucmVzb3VyY2VNYW5hZ2VyKTtcbiAgICAgIHRoaXMuaW5pdElucHV0KHRoaXMuaW5wdXRNYW5hZ2VyKTtcbiAgICAgIHRoaXMubGF1bmNoTG9vcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcmlkZGVuIGluIEdhbWVDb3JlIHN1YmNsYXNzZXMgdG8gbG9hZCBpbWFnZXMgYW5kIHNvdW5kc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge1Jlc291cmNlTWFuYWdlcn0gcmVzb3VyY2VNYW5hZ2VyXG4gICAqL1xuICBsb2FkUmVzb3VyY2VzKHJlc291cmNlTWFuYWdlcil7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzY3JlZW4gbW9kZSBhbmQgaW5pdGlhdGVzIGFuZCBvYmplY3RzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgaW5pdCgpIHtcbiAgICBpZighdGhpcy5jYW52YXMpe1xuICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0lkKTtcbiAgICB9XG4gICAgaWYoIXRoaXMuY2FudmFzKXtcbiAgICAgIFxuICAgICAgYWxlcnQoJ1NvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjYW52YXMuICBJIHJlY29tbWVuZCBhbnkgYnJvd3NlciBidXQgSW50ZXJuZXQgRXhwbG9yZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYoIXRoaXMuY29udGV4dCl7XG4gICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KHRoaXMuY29udGV4dFR5cGUpO1xuICAgIH1cbiAgICBpZighdGhpcy5jb250ZXh0KXtcbiAgICAgIGFsZXJ0KCdTb3JyeSwgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYSAnICsgdGhpcy5jb250ZXh0VHlwZSArICcgZHJhd2luZyBzdXJmYWNlIG9uIGNhbnZhcy4gIEkgcmVjb21tZW5kIGFueSBicm93c2VyIGJ1dCBJbnRlcm5ldCBFeHBsb3JlcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0SGVpZ2h0KHRoaXMuaGVpZ2h0IHx8IHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5zZXRXaWR0aCh0aGlzLndpZHRoIHx8IHRoaXMuY2FudmFzLndpZHRoKTtcblxuICAgIGlmKCF0aGlzLmlucHV0TWFuYWdlcil7XG4gICAgICAvL2hhbmRsZSByZXNpemluZyBpZiBnYW1lQXJlYSBhbmQgY2FudmFzUGVyY2VudGFnZSBhcmUgc3BlY2lmaWVkXG4gICAgICBpZih0aGlzLmdhbWVBcmVhSWQgJiYgdGhpcy5jYW52YXNQZXJjZW50YWdlKXtcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHtcbiAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGdhbWVBcmVhOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdhbWVBcmVhSWQpLFxuICAgICAgICAgIGNhbnZhc1BlcmNlbnRhZ2U6IHRoaXMuY2FudmFzUGVyY2VudGFnZVxuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoe1xuICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIucmVzaXplKCk7XG5cbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJpZGRlbiBpbiB0aGUgc3ViY2xhc3NlcyB0byBtYXAgdXNlciBpbnB1dCB0byBhY3Rpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7SW5wdXRNYW5hZ2VyfSBpbnB1dE1hbmFnZXJcbiAgICovXG4gIGluaXRJbnB1dChpbnB1dE1hbmFnZXIpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIENhbiBiZSBvdmVyaWRkZW4gaW4gdGhlIHN1YmNsYXNzZXMgdG8gZGVhbCB3aXRoIHVzZXIgaW5wdXQgYmVmb3JlIHVwZGF0aW5nIHRoZSBnYW1lIHN0YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7SW5wdXRNYW5hZ2VyfSBpbnB1dE1hbmFnZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIGhhbmRsZUlucHV0KGlucHV0TWFuYWdlcixlbGFwc2VkVGltZSkge1xuXG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aHJvdWdoIHRoZSBnYW1lIGxvb3AgdW50aWwgc3RvcCgpIGlzIGNhbGxlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIGdhbWVMb29wKCkge1xuICAgIHRoaXMuY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB0aGlzLmVsYXBzZWRUaW1lID0gTWF0aC5taW4odGhpcy5jdXJyVGltZSAtIHRoaXMucHJldlRpbWUsIHRoaXMubWF4U3RlcCk7XG4gICAgdGhpcy5wcmV2VGltZSA9IHRoaXMuY3VyclRpbWU7XG5cbiAgICAvL2l0J3MgdXNpbmcgYSByZXNvdXJjZSBtYW5hZ2VyLCBidXQgcmVzb3VyY2VzIGhhdmVuJ3QgZmluaXNoZWRcbiAgICBpZih0aGlzLnJlc291cmNlTWFuYWdlciAmJiAhdGhpcy5yZXNvdXJjZU1hbmFnZXIucmVzb3VyY2VzUmVhZHkoKSl7XG4gICAgICB0aGlzLnVwZGF0ZUxvYWRpbmdTY3JlZW4odGhpcy5lbGFwc2VkVGltZSk7XG4gICAgICB0aGlzLmRyYXdMb2FkaW5nU2NyZWVuKHRoaXMuY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlSW5wdXQodGhpcy5pbnB1dE1hbmFnZXIsdGhpcy5lbGFwc2VkVGltZSk7XG4gICAgICBpZighdGhpcy5wYXVzZWQpe1xuICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgdGhpcy51cGRhdGUodGhpcy5lbGFwc2VkVGltZSk7XG4gICAgICB9XG4gICAgICAvLyBkcmF3IHRoZSBzY3JlZW5cbiAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG4gICAgICB0aGlzLmRyYXcodGhpcy5jb250ZXh0KTtcbiAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExhdW5jaGVzIHRoZSBnYW1lIGxvb3AuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBsYXVuY2hMb29wKCl7XG4gICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XG4gICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jdXJyVGltZSA9IHN0YXJ0VGltZTtcbiAgICB0aGlzLnByZXZUaW1lID0gc3RhcnRUaW1lO1xuXG4gICAgLy9uZWVkIHRvIGtlZXAgdGhlIGNvbnRleHQgZGVmaW5lZCBoZXJlIHNvIHRoZSBnYW1lIGxvb3AgaGFzIGFjY2VzcyB0byBpdFxuICAgIHRoaXMubG9vcFJ1bm5lciA9IHRoaXMubG9vcFJ1bm5lci5iaW5kKHRoaXMpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wUnVubmVyKTtcbiAgfVxuXG4gIGxvb3BSdW5uZXIoKXtcbiAgICB0aGlzLmdhbWVMb29wKCk7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3BSdW5uZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3VsZCBiZSBvdmVycmlkZGVuIHRvIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGdhbWUvYW5pbWF0aW9uIGJhc2VkIG9uIHRoZSBhbW91bnQgb2YgZWxhcHNlZCB0aW1lIHRoYXQgaGFzIHBhc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcnJpZGRlbiB0byB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSBnYW1lL2FuaW1hdGlvbiB3aGlsZSBhIGN1c3RvbSBsb2FkaW5nIHNjcmVlbiBpcyBkaXNwbGF5ZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGVMb2FkaW5nU2NyZWVuKGVsYXBzZWRUaW1lKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0byB0aGUgc2NyZWVuLiBTdWJjbGFzc2VzIG9yIGluc3RhbmNlcyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHBhaW50IGl0ZW1zIHRvIHRoZSBzY3JlZW4uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dCBBbiBIVE1MNSBjYW52YXMgZHJhd2luZyBjb250ZXh0LlxuICAgKi9cbiAgZHJhdyhjb250ZXh0KXtcbiAgICBpZih0aGlzLmNvbnRleHRUeXBlID09PSAnMmQnKXtcbiAgICAgIGNvbnRleHQuZm9udCA9IFwiMTRweCBzYW5zLXNlcmlmXCI7XG4gICAgICBjb250ZXh0LmZpbGxUZXh0KFwiVGhpcyBnYW1lIGRvZXMgbm90IGhhdmUgaXRzIG93biBkcmF3IGZ1bmN0aW9uIVwiLCAxMCwgNTApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIHJlc291cmNlIG1hbmdlciB0byB0aGUgc2NyZWVuIHdoaWxlIGxvYWRpbmcuXG4gICAqIFN1YmNsYXNzZXMgb3IgaW5zdGFuY2VzIG1heSBvdmVycmlkZSBmb3IgY3VzdG9tIGxvYWRpbmcgYW5pbWF0aW9ucy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IEFuIEhUTUw1IGNhbnZhcyBkcmF3aW5nIGNvbnRleHQuXG4gICAqL1xuICBkcmF3TG9hZGluZ1NjcmVlbihjb250ZXh0KXtcbiAgICBpZih0aGlzLnJlc291cmNlTWFuYWdlciAmJiAodGhpcy5jb250ZXh0VHlwZSA9PT0gJzJkJykpe1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmxvYWRpbmdCYWNrZ3JvdW5kO1xuICAgICAgY29udGV4dC5maWxsUmVjdCgwLDAsIHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMubG9hZGluZ0ZvcmVncm91bmQ7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5sb2FkaW5nRm9yZWdyb3VuZDtcblxuICAgICAgdmFyIHRleHRQeFNpemUgPSBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0LzEyKTtcblxuICAgICAgY29udGV4dC5mb250ID0gXCJib2xkIFwiICsgdGV4dFB4U2l6ZSArIFwicHggc2Fucy1zZXJpZlwiO1xuXG4gICAgICBjb250ZXh0LmZpbGxUZXh0KFwiTG9hZGluZy4uLiBcIiArIHRoaXMucmVzb3VyY2VNYW5hZ2VyLmdldFBlcmNlbnRDb21wbGV0ZSgpICsgXCIlXCIsIHRoaXMud2lkdGggKiAwLjEsIHRoaXMuaGVpZ2h0ICogMC41NSk7XG5cbiAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdCh0aGlzLndpZHRoICogMC4xLCB0aGlzLmhlaWdodCAqIDAuNywgdGhpcy53aWR0aCAqIDAuOCwgdGhpcy5oZWlnaHQgKiAwLjEpO1xuICAgICAgY29udGV4dC5maWxsUmVjdCh0aGlzLndpZHRoICogMC4xLCB0aGlzLmhlaWdodCAqIDAuNywgKHRoaXMud2lkdGggKiAwLjgpICogdGhpcy5yZXNvdXJjZU1hbmFnZXIuZ2V0UGVyY2VudENvbXBsZXRlKCkvMTAwLCB0aGlzLmhlaWdodCAqIDAuMSk7XG5cbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gNDtcbiAgICB9XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWVDb3JlO1xuIiwiLyoqXG4gKiBUaGUgSW5wdXRNYW5hZ2VyIGhhbmRsZXMgRE9NIGV2ZW50cyBmb3IgdXNlIGluIGdhbWVzLlxuICogQG5hbWUgSW5wdXRNYW5hZ2VyXG4gKiBAY29uc3RydWN0b3IgSW5wdXRNYW5hZ2VyXG4gKi9cblxuY29uc3QgSGFtbWVyID0gcmVxdWlyZSgnaGFtbWVyanMnKTtcblxuY29uc3QgR2FtZUFjdGlvbiA9IHJlcXVpcmUoJy4vR2FtZUFjdGlvbicpO1xuY29uc3QgVG91Y2hBY3Rpb24gPSByZXF1aXJlKCcuL1RvdWNoQWN0aW9uJyk7XG5jb25zdCBNb3VzZUFjdGlvbiA9IHJlcXVpcmUoJy4vTW91c2VBY3Rpb24nKTtcbmNvbnN0IGluc2lkZUNhbnZhcyA9IHJlcXVpcmUoJy4vdXRpbHMvaW5zaWRlQ2FudmFzJyk7XG5jb25zdCBrZXlzID0gcmVxdWlyZSgnLi9rZXlzJyk7XG5cbmZ1bmN0aW9uIG9uIChlbGVtZW50LCBuYW1lLCBoYW5kbGVyKSB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9zaXRpb24obm9kZSl7XG4gIHZhciBib3VuZGluZ1JlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kaW5nUmVjdC5sZWZ0LFxuICAgIHk6IGJvdW5kaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKXtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsIG51bGwpIHx8IHt9O1xufVxuXG5mdW5jdGlvbiB0b1BpeGVsKHZhbHVlKXtcbiAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG59XG5cbmZ1bmN0aW9uIGdldE1hcmdpbkV4dGVudHMobm9kZSl7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gIHZhciBsID0gdG9QaXhlbChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgdmFyIHQgPSB0b1BpeGVsKHN0eWxlLm1hcmdpblRvcCk7XG4gIHZhciByID0gdG9QaXhlbChzdHlsZS5tYXJnaW5SaWdodCk7XG4gIHZhciBiID0gdG9QaXhlbChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICByZXR1cm4ge1xuICAgIHc6IGwgKyByLFxuICAgIGg6IHQgKyBiXG4gIH07XG59XG5cbmNsYXNzIElucHV0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3Qgb2Yga2V5QWN0aW9ucyBiZWluZyBsaXN0ZW5lZCBmb3JcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMua2V5QWN0aW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgTW91c2VBY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0aGUgbW91c2UncyBzdGF0ZVxuICAgICAqIEB0eXBlIHtNb3VzZUFjdGlvbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tb3VzZUFjdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgVG91Y2hBY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0b3VjaCBldmVudHNcbiAgICAgKiBAdHlwZSB7VG91Y2hBY3Rpb259XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEhUTUw1IGNhbnZhcyBvbiB3aGljaCB0byBsaXN0ZW4gZm9yIGV2ZW50c1xuICAgICAqIEB0eXBlIHtDYW52YXN9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGxpc3RlbiBmb3IgbW91c2UgZXZlbnRzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqIEBkZXByZWNhdGVkIE1vdXNlIGlzIGFsd2F5cyBoYW5kbGVkLCB1c2UgZW11bGF0ZU1vdXNlIHRvIHNwZWNpZnkgaG93IHRvIGhhbmRsZSBpdFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxlTW91c2UgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gbGlzdGVuIGZvciB0b3VjaCBldmVudHNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICogQGRlcHJlY2F0ZWQgVG91Y2ggaXMgYWx3YXlzIGhhbmRsZWQsIHVzZSBlbXVsYXRlTW91c2UgdG8gc3BlY2lmeSBob3cgdG8gaGFuZGxlIGl0XG4gICAgICovXG4gICAgdGhpcy5oYW5kbGVUb3VjaCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBsaXN0ZW4gZm9yIGtleWJvYXJkIGV2ZW50c1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZUtleXMgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIGdhbWUncyBjYW52YXNcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5nYW1lQXJlYSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudGFnZSAoMCB0byAxLjApIG9mIHRoZSBoZWlnaHQgYW5kIHdpZHRoIHRoZSBjYW52YXMgc2hvdWxkIHVzZSB0byBmaWxsIGluIGl0cyBjb250YWluZXIgRE9NIGVsZW1lbnRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc1BlcmNlbnRhZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRW11bGF0ZSBtb3VzZSBldmVudHMgd2hlbiB1c2luZyB0b3VjaFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVtdWxhdGVNb3VzZSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBvZiBIYW1tZXIuanMgLSBZb3UgY2FuIHBhc3MgaW4gYSBIYW1tZXIoKSBjb25zdHJ1Y3RvciB3aXRoIG9wdGlvbnMgdG8gY3VzdG9taXplIHlvdXIgSGFtbWVyIGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0IEhhbW1lciBpbnN0YW5jZSwgYm91bmQgdG8gZG9jdW1lbnQsIHdpdGggcHJldmVudF9kZWZhdWx0OiB0cnVlLCBkcmFnX21heF90b3VjaGVzOiAwLCBhbmQgaG9sZDogZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLmhhbW1lciA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYoIXRoaXMuaGFtbWVyKXtcbiAgICAgIHRoaXMuaGFtbWVyID0gbmV3IEhhbW1lcihkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgIHByZXZlbnRfZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgZHJhZ19tYXhfdG91Y2hlczogMCxcbiAgICAgICAgLy8gSG9sZCB1c2VzIHNldFRpbWVvdXQgd2hpY2ggaXMgdmVyeSBiYWQgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIC8vIFRPRE86IERvIHdlIHdhbnQgdG8gYWxsb3cgdGhpcyB0byBiZSBvdmVycmlkZGVuP1xuICAgICAgICBob2xkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMua2V5QWN0aW9ucyl7XG4gICAgICB0aGlzLmtleUFjdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhbnVwKGhhbmRsZXIpe1xuICAgICAgaGFuZGxlci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmhhbmRsZUtleXMpe1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleWRvd24uYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ2tleXVwJywgdGhpcy5rZXl1cC5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgfVxuXG4gICAgaWYoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQpe1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCB0aGlzLnRvdWNoc3RhcnQuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMudG91Y2htb3ZlLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMudG91Y2hlbmQuYmluZCh0aGlzKSksIGNsZWFudXApO1xuXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24uYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5tb3VzZXVwLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICB9XG5cblxuICAgIGlmKCF0aGlzLm1vdXNlQWN0aW9uKXtcbiAgICAgIHRoaXMubW91c2VBY3Rpb24gPSBuZXcgTW91c2VBY3Rpb24oKTtcbiAgICB9XG5cbiAgICBpZighdGhpcy50b3VjaEFjdGlvbil7XG4gICAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuXG4gICAgICAvL2RhIGhlbGwgaGFtbWVyLCBnb3R0YSBkbyB0aGlzIG91cnNldmxlcyBub3c/XG5cbiAgICAgIC8vIHRoaXMub24oJ3RvdWNoJywgdGhpcy5tb3VzZWRvd24uYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdkcmFnJywgdGhpcy5tb3VzZW1vdmUuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdyZWxlYXNlJywgdGhpcy5tb3VzZXVwLmJpbmQodGhpcykpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgLy9kYSBoZWxsIGhhbW1lciwgZ290dGEgZG8gdGhpcyBvdXJzZXZsZXMgbm93P1xuICAgICAgLy8gdGhpcy5vbigndG91Y2gnLCB0aGlzLnRvdWNoc3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdkcmFnJywgdGhpcy50b3VjaG1vdmUuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdyZWxlYXNlJywgdGhpcy50b3VjaGVuZC5iaW5kKHRoaXMpKTtcblxuICAgIH1cblxuICAgIGlmKHRoaXMuZ2FtZUFyZWEgJiYgdGhpcy5jYW52YXNQZXJjZW50YWdlKXtcbiAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5yZXNpemUuYmluZCh0aGlzKTtcblxuICAgICAgLy8gTGlzdGVuIGZvciByZXNpemUgY2hhbmdlc1xuXG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKHdpbmRvdywgJ3Jlc2l6ZScsIGhhbmRsZXIpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24od2luZG93LCAnb3JpZW50YXRpb25jaGFuZ2UnLCBoYW5kbGVyKSwgY2xlYW51cCk7XG4gICAgfVxuXG4gICAgdGhpcy5ub3JtYWxpemVQb2ludCA9IHRoaXMubm9ybWFsaXplUG9pbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluc2lkZUNhbnZhcyA9IHRoaXMuaW5zaWRlQ2FudmFzLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBiaW5kIG90aGVyIEhhbW1lci5qcyBldmVudHMgKHN1Y2ggYXMgU3dpcGUgb3IgRG91YmxldGFwKTtcbiAgICogV2FybmluZzogT25seSBzZXQgZmxhZ3Mgb3IgdmFyaWFibGVzIGluIHRoaXMgaGFuZGxlciwgb3RoZXJ3aXNlIHlvdXIgZ2FtZSBtaWdodCBiZWNvbWUgc2xvd1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBnZXN0dXJlIFRoZSBnZXN0dXJlIHRvIGJpbmRcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGhhbmRsZXIgRXZlbnQgaGFuZGxlciBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIHRoZSByZW1vdmUgZnVuY3Rpb24gZm9yIHJlbW92aW5nIHRoZSBldmVudC5cbiAgICovXG4gIG9uKGdlc3R1cmUsIGhhbmRsZXIpe1xuICAgIHZhciBoYW1tZXIgPSB0aGlzLmhhbW1lcjtcbiAgICB2YXIgcmVtb3ZlQ2xlYW51cCA9IHRoaXMucmVtb3ZlQ2xlYW51cDtcblxuICAgIGhhbW1lci5vbihnZXN0dXJlLCBoYW5kbGVyKTtcbiAgICB2YXIgY2xlYW51cCA9IHRoaXMucHVzaENsZWFudXAoW2dlc3R1cmUsIGhhbmRsZXJdLCBmdW5jdGlvbihhcmdzKXtcbiAgICAgIGhhbW1lci5vZmYuYXBwbHkoaGFtbWVyLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJlbW92ZUNsZWFudXAoY2xlYW51cCk7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIGEgcG9pbnQgaXMgd2l0aGluIHRoZSBJbnB1dE1hbmFnZXIncyBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1BvaW50fSBwb2ludCBQb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBwb2ludCBpcyBpbnNpZGUgdGhpcyBJbnB1dE1hbmFnZXIncyBjYW52YXNcbiAgICovXG4gIGluc2lkZUNhbnZhcyhwb2ludCl7XG4gICAgcmV0dXJuIGluc2lkZUNhbnZhcyhwb2ludCwgdGhpcy5jYW52YXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcHMgYSBHYW1lQWN0aW9uIHRvIGEgc3BlY2lmaWMga2V5LiBUaGUga2V5IGNvZGVzIGFyZSBkZWZpbmVkIGluIGRvam8ua2V5cy5cbiAgICogSWYgdGhlIGtleSBhbHJlYWR5IGhhcyBhIEdhbWVBY3Rpb24gbWFwcGVkIHRvIGl0LCB0aGUgbmV3IEdhbWVBY3Rpb24gb3ZlcndyaXRlcyBpdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSB7R2FtZUFjdGlvbn0gZ2FtZUFjdGlvbiB0aGUgR2FtZUFjdGlvbiB0byBtYXBcbiAgICogQHBhcmFtIHtPYmplY3R9IGtleUNvZGUgZG9qby5rZXlzIGtleSBjb2RlLCBvciBjaGFyYWN0ZXJcbiAgICovXG4gIG1hcFRvS2V5KGdhbWVBY3Rpb24sIGtleUNvZGUpe1xuICAgIHRoaXMua2V5QWN0aW9uc1trZXlDb2RlXSA9IGdhbWVBY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIEdhbWVBY3Rpb24gdG8gYSBrZXlcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSB7T2JqZWN0fHxBcnJheX0ga2V5Q29kZSBLZXkgY2hhcmFjdGVyIG9yIGRvam8va2V5cyBrZXkgY29kZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGluaXRpYWxQcmVzc09ubHkgRG8gb25seSBvbmUgZmlyZSBvZiB0aGUgYWN0aW9uIHBlciBrZXlwcmVzc1xuICAgKiBAcmV0dXJuIHtHYW1lQWN0aW9ufSBHYW1lQWN0aW9uIHRoYXQgaXMgbWFwcGVkIHRvIGtleUNvZGVcbiAgICovXG4gIGFkZEtleUFjdGlvbihrZXlDb2RlLCBpbml0aWFsUHJlc3NPbmx5KXtcbiAgICBpZighQXJyYXkuaXNBcnJheShrZXlDb2RlKSkge1xuICAgICAga2V5Q29kZSA9IFtrZXlDb2RlXTtcbiAgICB9XG4gICAgY29uc3QgZ2FzID0ga2V5Q29kZS5tYXAoKGtjKSA9PiB7XG4gICAgICBjb25zdCBnYSA9IG5ldyBHYW1lQWN0aW9uKCk7XG4gICAgICBpZihpbml0aWFsUHJlc3NPbmx5KXtcbiAgICAgICAgZ2EuYmVoYXZpb3IgPSBnYS5kZXRlY3RJbml0aWFsUHJlc3NPbmx5O1xuICAgICAgfVxuICAgICAgdGhpcy5tYXBUb0tleShnYSwga2MpO1xuICAgICAgcmV0dXJuIGdhO1xuICAgIH0pO1xuICAgIFxuICAgIGlmKGdhcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gZ2FzO1xuICAgIH1cblxuICAgIHJldHVybiBnYXNbMF07XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhcnJvdyBrZXkgR2FtZUFjdGlvbnNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqL1xuICBhZGRBcnJvd0tleUFjdGlvbnMoKXtcbiAgICB0aGlzLmFkZEtleUFjdGlvbihrZXlzLlVQKTtcbiAgICB0aGlzLmFkZEtleUFjdGlvbihrZXlzLkRPV04pO1xuICAgIHRoaXMuYWRkS2V5QWN0aW9uKGtleXMuTEVGVCk7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5SSUdIVCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbW91c2V1cCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgbW91c2VVcChlKSB7XG4gICAgdGhpcy5tb3VzZXVwKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNldXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW91c2V1cChlKXtcbiAgICB0aGlzLm1vdXNlQWN0aW9uLnJlbGVhc2UodGhpcy5ub3JtYWxpemVQb2ludChlKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbW91c2Vkb3duIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBtb3VzZURvd24oZSl7XG4gICAgdGhpcy5tb3VzZWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbW91c2Vkb3duIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdXNlZG93bihlKXtcbiAgICAvLyBFbnN1cmUgbW91c2UgaGFzIGJlZW4gcmVsZWFzZWRcbiAgICB0aGlzLm1vdXNlQWN0aW9uLnJlbGVhc2UobnVsbCk7XG4gICAgdmFyIGN1cnJlbnRQb2ludCA9IHRoaXMubm9ybWFsaXplUG9pbnQoZSk7XG4gICAgdGhpcy5tb3VzZUFjdGlvbi5pbnNpZGVDYW52YXMgPSB0aGlzLmluc2lkZUNhbnZhcyhjdXJyZW50UG9pbnQpO1xuICAgIHRoaXMubW91c2VBY3Rpb24ucHJlc3MoY3VycmVudFBvaW50KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlbW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgbW91c2VNb3ZlKGUpe1xuICAgIHRoaXMubW91c2Vtb3ZlKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlbW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3VzZW1vdmUoZSl7XG4gICAgdGhpcy5tb3VzZUFjdGlvbi5wb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplUG9pbnQoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG91Y2hzdGFydCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hTdGFydChlKXtcbiAgICB0aGlzLnRvdWNoc3RhcnQoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG91Y2hzdGFydCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaHN0YXJ0KGUpe1xuICAgIC8vIEVuc3VyZSB0b3VjaCBoYXMgYmVlbiByZWxlYXNlZFxuICAgIHRoaXMudG91Y2hBY3Rpb24ucmVsZWFzZShudWxsKTtcbiAgICBjb25zb2xlLmxvZyhlLnRvdWNoZXMsIGUpO1xuICAgIC8vVG91Y2hMaXN0IGRvZXNuJ3QgaW1wbGVtZW50IC5tYXAoKVxuICAgIGNvbnN0IGN1cnJlbnRQb2ludHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUudG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY3VycmVudFBvaW50cy5wdXNoKHRoaXMubm9ybWFsaXplUG9pbnQoZS50b3VjaGVzW2ldKSk7XG4gICAgfVxuICAgIHRoaXMudG91Y2hBY3Rpb24uaW5zaWRlQ2FudmFzID0gY3VycmVudFBvaW50cy5zb21lKHRoaXMuaW5zaWRlQ2FudmFzKTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXNzKGN1cnJlbnRQb2ludHMpO1xuICAgIGlmKHRoaXMuZW11bGF0ZU1vdXNlKXtcbiAgICAgIHRoaXMubW91c2Vkb3duKGUudG91Y2hlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoZW5kIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICB0b3VjaEVuZChlKXtcbiAgICB0aGlzLnRvdWNoZW5kKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoZW5kIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHRvdWNoZW5kKGUpe1xuICAgIC8vVG91Y2hMaXN0IGRvZXNuJ3QgaW1wbGVtZW50IC5tYXAoKVxuICAgIGNvbnN0IGN1cnJlbnRQb2ludHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUudG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY3VycmVudFBvaW50cy5wdXNoKHRoaXMubm9ybWFsaXplUG9pbnQoZS50b3VjaGVzW2ldKSk7XG4gICAgfVxuICAgIHRoaXMudG91Y2hBY3Rpb24ucmVsZWFzZShjdXJyZW50UG9pbnRzKTtcbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlVXAoZS50b3VjaGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG91Y2htb3ZlIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICB0b3VjaE1vdmUoZSl7XG4gICAgdGhpcy50b3VjaG1vdmUoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG91Y2htb3ZlIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHRvdWNobW92ZShlKXtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLnBvc2l0aW9ucyA9IGN1cnJlbnRQb2ludHM7XG4gICAgaWYodGhpcy50b3VjaEFjdGlvbi5zdGFydFBvc2l0aW9ucyl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmKHRoaXMuZW11bGF0ZU1vdXNlKXtcbiAgICAgIHRoaXMubW91c2Vtb3ZlKGUudG91Y2hlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgR2FtZUFjdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGtleUNvZGUgb24gdGhlIGV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm4ge0dhbWVBY3Rpb258bnVsbH0gVGhlIEdhbWVBY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXlDb2RlIGVsc2UgbnVsbFxuICAgKi9cbiAgZ2V0S2V5QWN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5rZXlBY3Rpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5rZXlBY3Rpb25zW2Uua2V5Q29kZV0gfHwgdGhpcy5rZXlBY3Rpb25zW1N0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBrZXlwcmVzcyBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSBrZXlkb3duIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIGtleVByZXNzZWQoZSkge1xuICAgIHRoaXMua2V5ZG93bihlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBrZXlkb3duIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBrZXlEb3duKGUpe1xuICAgIHRoaXMua2V5ZG93bihlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBrZXlkb3duIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIGtleWRvd24oZSkge1xuICAgIHZhciBnYW1lQWN0aW9uID0gdGhpcy5nZXRLZXlBY3Rpb24oZSk7XG4gICAgaWYgKGdhbWVBY3Rpb24gJiYgIWdhbWVBY3Rpb24uaXNQcmVzc2VkKCkpIHtcbiAgICAgIGdhbWVBY3Rpb24ucHJlc3MoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5dXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2Uga2V5dXAgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAga2V5UmVsZWFzZWQoZSl7XG4gICAgdGhpcy5rZXl1cChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBrZXl1cCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBrZXl1cChlKSB7XG4gICAgdmFyIGdhbWVBY3Rpb24gPSB0aGlzLmdldEtleUFjdGlvbihlKTtcbiAgICBpZiAoZ2FtZUFjdGlvbikge1xuICAgICAgZ2FtZUFjdGlvbi5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZ2V0IGEgbm9ybWFsaXplZCBwb2ludCBvdXQgb2YgYW4gRXZlbnQgb2JqZWN0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZXZ0IEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtQb2ludH0gTm9ybWFsaXplZCBwb2ludFxuICAgKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIGluIGZhdm9yIG9mIG5vcm1hbGl6ZVBvaW50IGZ1bmN0aW9uIChTYW1lIGZ1bmN0aW9uYWxpdHksIGRpZmZlcmVudCBuYW1lKVxuICAgKi9cbiAgZ2V0TW91c2VMb2MoZXZ0KXtcbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVQb2ludChldnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZ2V0IGEgbm9ybWFsaXplZCBwb2ludCBvdXQgb2YgYW4gRXZlbnQgb2JqZWN0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZXZ0IEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtQb2ludH0gTm9ybWFsaXplZCBwb2ludFxuICAgKi9cbiAgbm9ybWFsaXplUG9pbnQoZXZ0KXtcbiAgICBpZihldnQpe1xuICAgICAgdmFyIGNvb3Jkc00gPSBwb3NpdGlvbih0aGlzLmNhbnZhcyk7XG4gICAgICBpZih0aGlzLnpvb21SYXRpbyl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogTWF0aC5yb3VuZCgoZXZ0LmNsaWVudFggLSBjb29yZHNNLngpIC8gdGhpcy56b29tUmF0aW8pLFxuICAgICAgICAgIHk6IE1hdGgucm91bmQoKGV2dC5jbGllbnRZIC0gY29vcmRzTS55KSAvIHRoaXMuem9vbVJhdGlvKVxuICAgICAgICB9O1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogTWF0aC5yb3VuZChldnQuY2xpZW50WCAtIGNvb3Jkc00ueCksXG4gICAgICAgICAgeTogTWF0aC5yb3VuZChldnQuY2xpZW50WSAtIGNvb3Jkc00ueSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byByZXNpemUgdGhlIGNhbnZhc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICovXG4gIHJlc2l6ZSgpe1xuICAgIGlmKHRoaXMuZ2FtZUFyZWEgJiYgdGhpcy5jYW52YXNQZXJjZW50YWdlICYmIHRoaXMuY2FudmFzKXtcbiAgICAgIHZhciBjYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblxuICAgICAgdmFyIGJvZHlNYXJnaW5zID0gZ2V0TWFyZ2luRXh0ZW50cyhkb2N1bWVudC5ib2R5KTtcblxuICAgICAgdmFyIG5ld1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBib2R5TWFyZ2lucy53O1xuICAgICAgdmFyIG5ld0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGJvZHlNYXJnaW5zLmg7XG5cbiAgICAgIHZhciB3aWR0aFRvSGVpZ2h0ID0gY2FudmFzV2lkdGggLyBjYW52YXNIZWlnaHQ7XG4gICAgICB2YXIgbmV3V2lkdGhUb0hlaWdodCA9IG5ld1dpZHRoIC8gbmV3SGVpZ2h0O1xuXG4gICAgICB2YXIgbmV3V2lkdGhTdHlsZSA9ICcnO1xuICAgICAgdmFyIG5ld0hlaWdodFN0eWxlID0gJyc7XG4gICAgICBpZiAobmV3V2lkdGhUb0hlaWdodCA+IHdpZHRoVG9IZWlnaHQpIHtcbiAgICAgICAgbmV3V2lkdGggPSBuZXdIZWlnaHQgKiB3aWR0aFRvSGVpZ2h0O1xuICAgICAgICBuZXdXaWR0aFN0eWxlID0gbmV3V2lkdGggKyAncHgnO1xuICAgICAgICBuZXdIZWlnaHRTdHlsZSA9IG5ld0hlaWdodCArICdweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdXaWR0aFN0eWxlID0gbmV3V2lkdGggKyAncHgnO1xuICAgICAgICBuZXdIZWlnaHRTdHlsZSA9IE1hdGgucm91bmQobmV3V2lkdGggLyB3aWR0aFRvSGVpZ2h0KSArICdweCc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuem9vbVJhdGlvID0gbmV3V2lkdGggLyBjYW52YXNXaWR0aCAqIHRoaXMuY2FudmFzUGVyY2VudGFnZTtcblxuICAgICAgdGhpcy5nYW1lQXJlYS5zdHlsZS53aWR0aCA9IG5ld1dpZHRoU3R5bGU7XG4gICAgICB0aGlzLmdhbWVBcmVhLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodFN0eWxlO1xuXG4gICAgICB2YXIgY2FudmFzUGVyY2VudGFnZVN0eWxlID0gTWF0aC5mbG9vcih0aGlzLmNhbnZhc1BlcmNlbnRhZ2UgKiAxMDApICsgJyUnO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXNQZXJjZW50YWdlU3R5bGU7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXNQZXJjZW50YWdlU3R5bGU7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLm1hcmdpbkxlZnQgPSAnYXV0byc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5tYXJnaW5SaWdodCA9ICdhdXRvJztcbiAgICB9XG4gIH1cblxuICBwdXNoQ2xlYW51cChhLCBiKXtcbiAgICAvLyBjb25zb2xlLmxvZygncHVzaENsZWFudXAnLCBhLCBiKTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gSW5wdXRNYW5hZ2VyO1xuIiwiLyoqXG4gKiBBIEdhbWVBY3Rpb24gdGhhdCBoYW5kbGVzIFRvdWNoIGV2ZW50c1xuICogQG5hbWUgVG91Y2hBY3Rpb25cbiAqIEBjb25zdHJ1Y3RvciBUb3VjaEFjdGlvblxuICogQGV4dGVuZHMge0dhbWVBY3Rpb259XG4gKi9cblxuY29uc3QgR2FtZUFjdGlvbiA9IHJlcXVpcmUoJy4vR2FtZUFjdGlvbicpO1xuXG5jbGFzcyBUb3VjaEFjdGlvbiBleHRlbmRzIEdhbWVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcG9zaXRpb25zIHdoZXJlIHRvdWNoc3RhcnQgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zdGFydFBvc2l0aW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBwb3NpdGlvbnMgd2hlcmUgdG91Y2hlbmQgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbmRQb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcG9zaXRpb25zIHdoZXJlIHRvdWNobW92ZSBoYXBwZW5lZFxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXZXRoZXIgYW55IG9mIHRoZSB0b3VjaCBhY3Rpb25zIG9yaWdpbmF0ZWQgaW5zaWRlIHRoZSBjYW52YXNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmluc2lkZUNhbnZhcyA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSB0b3VjaCB3YXMgaW5pdGlhdGVkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgKiBAcGFyYW0ge0FycmF5fSBzdGFydFBvc2l0aW9ucyBBcnJheSBvZiBwb2ludHMgd2hlcmUgdG91Y2ggd2FzIHByZXNzZWRcbiAgICovXG4gIHByZXNzKHN0YXJ0UG9zaXRpb25zKXtcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb25zID0gc3RhcnRQb3NpdGlvbnM7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBzdGFydFBvc2l0aW9ucztcbiAgICBzdXBlci5wcmVzcyhzdGFydFBvc2l0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSB0b3VjaCB3YXMgcmVsZWFzZWRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICogQHBhcmFtIHtBcnJheX0gZW5kUG9zaXRpb25zIEFycmF5IG9mIHBvaW50cyB3aGVyZSB0b3VjaCB3YXMgcmVsZWFzZWRcbiAgICovXG4gIHJlbGVhc2UoZW5kUG9zaXRpb25zKXtcbiAgICB0aGlzLmVuZFBvc2l0aW9ucyA9IGVuZFBvc2l0aW9ucztcbiAgICBzdXBlci5yZWxlYXNlKGVuZFBvc2l0aW9ucyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaEFjdGlvbjtcbiIsIi8qKlxuICogQSBHYW1lQWN0aW9uIHRoYXQgaGFuZGxlcyBNb3VzZSBldmVudHNcbiAqIEBuYW1lIE1vdXNlQWN0aW9uXG4gKiBAY29uc3RydWN0b3IgTW91c2VBY3Rpb25cbiAqIEBleHRlbmRzIHtHYW1lQWN0aW9ufVxuICovXG5cbmNvbnN0IEdhbWVBY3Rpb24gPSByZXF1aXJlKCcuL0dhbWVBY3Rpb24nKTtcblxuY2xhc3MgTW91c2VBY3Rpb24gZXh0ZW5kcyBHYW1lQWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIHdoZXJlIG1vdXNlZG93biBoYXBwZW5lZFxuICAgICAqIEB0eXBlIHtQb2ludH1cbiAgICAgKiBAbWVtYmVyT2YgTW91c2VBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gd2hlcmUgbW91c2V1cCBoYXBwZW5lZFxuICAgICAqIEB0eXBlIHtQb2ludH1cbiAgICAgKiBAbWVtYmVyT2YgTW91c2VBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVuZFBvc2l0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIHdoZXJlIG1vdXNlbW92ZSBoYXBwZW5lZFxuICAgICAqIEB0eXBlIHtQb2ludH1cbiAgICAgKiBAbWVtYmVyT2YgTW91c2VBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdldGhlciB0aGUgbW91c2UgYWN0aW9uIG9yaWdpbmF0ZWQgaW5zaWRlIHRoZSBjYW52YXNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgTW91c2VBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmluc2lkZUNhbnZhcyA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBtb3VzZSB3YXMgcHJlc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgcHJlc3Moc3RhcnRQb3NpdGlvbil7XG4gICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICB0aGlzLnBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICBzdXBlci5wcmVzcyhzdGFydFBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIG1vdXNlIHdhcyByZWxlYXNlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgKiBAcGFyYW0gIHtQb2ludH0gZW5kUG9zaXRpb24gVGhlIHBvaW50IHdoZXJlIG1vdXNlIHdhcyByZWxlYXNlZFxuICAgKi9cbiAgcmVsZWFzZShlbmRQb3NpdGlvbil7XG4gICAgdGhpcy5lbmRQb3NpdGlvbiA9IGVuZFBvc2l0aW9uIHx8IHRoaXMucG9zaXRpb247XG4gICAgc3VwZXIucmVsZWFzZShlbmRQb3NpdGlvbik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNb3VzZUFjdGlvbjtcbiIsImZ1bmN0aW9uIGluc2lkZUNhbnZhcyhwdCwgY2FudmFzKXtcbiAgaWYoKHB0LnggPCAwKSB8fCAocHQueCA+ICBjYW52YXMud2lkdGgpIHx8IChwdC55IDwgMCkgfHwgKHB0LnkgPiBjYW52YXMuaGVpZ2h0KSl7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zaWRlQ2FudmFzO1xuIiwiLyoqXG4gKiBUaGUgUmVzb3VyY2VNYW5hZ2VyIGhhbmRsZXMgbG9hZGluZyBpbWFnZXMgYW5kIHNvdW5kcyBmb3IgdXNlIGluIGdhbWVzLlxuICogQG5hbWUgUmVzb3VyY2VNYW5hZ2VyXG4gKiBAY29uc3RydWN0b3IgUmVzb3VyY2VNYW5hZ2VyXG4gKi9cblxuICd1c2Ugc3RyaWN0JztcblxuY29uc3QgaGFzID0gcmVxdWlyZSgnLi9oYXMnKTtcbmNvbnN0IFNvdW5kID0gcmVxdWlyZSgnLi9zb3VuZHMvU291bmQnKTtcbmNvbnN0IFdlYkF1ZGlvID0gcmVxdWlyZSgnLi9zb3VuZHMvV2ViQXVkaW8nKTtcblxudmFyIHJlc291cmNlTGlzdCA9IHt9O1xuXG4vL1RPRE86IG1vdmUgdGhlc2UgdG8gaXRzIG93biBtb2R1bGUgZm9yIHVuaXQgdGVzdGluZz9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgoYmFzZURpciwgcGF0aCl7XG4gIHZhciBqb2luZWRQYXRoID0gcGF0aDtcbiAgaWYoYmFzZURpcil7XG4gICAgam9pbmVkUGF0aCA9IFtiYXNlRGlyLCBwYXRoXS5qb2luKCcvJyk7XG4gIH1cbiAgcmV0dXJuIGpvaW5lZFBhdGgucmVwbGFjZSgvXFwvezIsfS9nLCAnLycpO1xufVxuXG5mdW5jdGlvbiBmbGlwWChpbWFnZSl7XG4gIHZhciBvZmZzY3JlZW5DYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgb2Zmc2NyZWVuQ2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgb2Zmc2NyZWVuQ2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gIHZhciBjdHggPSBvZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICBjdHgudHJhbnNsYXRlKG9mZnNjcmVlbkNhbnZhcy53aWR0aCwgMCk7XG4gIGN0eC5zY2FsZSgtMSwgMSk7XG4gIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICByZXR1cm4gb2Zmc2NyZWVuQ2FudmFzLnRvRGF0YVVSTCgpO1xufVxuXG5mdW5jdGlvbiBmbGlwWShpbWFnZSl7XG4gIHZhciBvZmZzY3JlZW5DYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgb2Zmc2NyZWVuQ2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgb2Zmc2NyZWVuQ2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gIHZhciBjdHggPSBvZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICBjdHgudHJhbnNsYXRlKDAsIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpO1xuICBjdHguc2NhbGUoMSwgLTEpO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgcmV0dXJuIG9mZnNjcmVlbkNhbnZhcy50b0RhdGFVUkwoKTtcbn1cblxuY2xhc3MgSW1hZ2VXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IoZmlsZW5hbWUpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLm5hbWUgPSBmaWxlbmFtZTtcbiAgICBzZWxmLmNvbXBsZXRlID0gZmFsc2U7XG4gICAgc2VsZi5pbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBzZWxmLmltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cblxuICBsb2FkKCl7XG4gICAgdGhpcy5pbWcuc3JjID0gdGhpcy5uYW1lO1xuICB9XG59XG5cblxuY2xhc3MgUmVzb3VyY2VNYW5hZ2VyIHtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBhbGwgdGhlIHJlc291cmNlcyBoYXZlIGJlZW4gbG9hZGVkXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBkaXJlY3RvcnkgdG8gbG9hZCBpbWFnZXMgZnJvbVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2VEaXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgZGlyZWN0b3J5IHRvIGxvYWQgc291bmRzIGZyb21cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnNvdW5kRGlyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIGFsbCB0aGUgcmVzb3VyY2VzIGJ5IHRoZWlyIFVSTHNcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnJlc291cmNlTGlzdCA9IHJlc291cmNlTGlzdDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBUT0RPIG5vdCBzdXJlIGEgYmV0dGVyIHdheVxuICAgIGlmKCF0aGlzLlNvdW5kKXtcbiAgICAgIGlmKGhhcygnV2ViQXVkaW8nKSl7XG4gICAgICAgIHRoaXMuU291bmQgPSBXZWJBdWRpbztcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHRoaXMuU291bmQgPSBTb3VuZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgYW4gaW1hZ2UgKG9yIGEgY29sbGVjdGlvbiBvZiBpbWFnZXMpLCBhbmQgdHJhY2tzIGlmIGl0IGhhcyBmaW5pc2hlZCBsb2FkaW5nXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gZmlsZXMgRmlsZW5hbWUgb2YgdGhlIGltYWdlIHJlbGF0aXZlIHRoZSBHYW1lJ3MgSFRNTCBwYWdlLlxuICAgKiBAcmV0dXJucyB7SW1hZ2V8QXJyYXl9IFJldHVybiB0eXBlIGJhc2VkIG9uIGFyZ3VtZW50OiBJbWFnZSBpZiBTdHJpbmcgb3IgQXJyYXkgb2YgSW1hZ2VzIGlmIEFycmF5XG4gICAqL1xuICBsb2FkSW1hZ2UoZmlsZXMpe1xuICAgIGxldCBzaW5nbGVGaWxlID0gZmFsc2U7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoZmlsZXMpKSB7XG4gICAgICBzaW5nbGVGaWxlID0gdHJ1ZTtcbiAgICAgIGZpbGVzID0gW2ZpbGVzXTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlTGlzdCA9IGZpbGVzLm1hcCgoZmlsZSkgPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBub3JtYWxpemVQYXRoKHRoaXMuaW1hZ2VEaXIsIGZpbGUpO1xuICAgICAgLy9pZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIGltYWdlLCBqdXN0IHJldHVybiBpdFxuICAgICAgaWYodGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXS5pbWc7XG4gICAgICB9XG4gICAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgICBjb25zdCB3cmFwcGVyID0gbmV3IEltYWdlV3JhcHBlcihmaWxlbmFtZSk7XG4gICAgICAvLyBOZWVkIHRvIGV4cGxpY2l0bHkgY2FsbCBsb2FkIGJlY2F1c2UgZmxpcEltYWdlIGFsc28gdXNlcyB0aGlzIG9iamVjdFxuICAgICAgLy8gd2hpY2ggaXMgcHJvYmFibHkgYSBiYWQgaWRlYSBhbmQgc2hvdWxkIGNoYW5nZSBpbiBmdXR1cmVcbiAgICAgIC8vIFRPRE86IGRpZmZlcmVudCBvYmplY3RzIGZvciBmbGlwcGVkIGltYWdlIGFuZCByZWd1bGFyIGltYWdlXG4gICAgICB3cmFwcGVyLmxvYWQoKTtcbiAgICAgIHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSA9IHdyYXBwZXI7XG4gICAgICByZXR1cm4gd3JhcHBlci5pbWc7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2luZ2xlRmlsZSA/IGZpbGVMaXN0WzBdIDogZmlsZUxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgYSBzb3VuZCBmaWxlIChvciBhIGNvbGxlY3Rpb24gb2Ygc291bmQgZmlsZXMpLCBhbmQgdHJhY2tzIGlmIGl0IGhhcyBmaW5pc2hlZCBsb2FkaW5nXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gZmlsZW5hbWUgRmlsZW5hbWUgb2YgdGhlIHNvdW5kIHJlbGF0aXZlIHRoZSBHYW1lJ3MgSFRNTCBwYWdlLlxuICAgKiBAcmV0dXJucyB7U291bmR8QXJyYXl9IFJldHVybiB0eXBlIGJhc2VkIG9uIGFyZ3VtZW50OiBTb3VuZCBPYmplY3QgaWYgU3RyaW5nIG9yIEFycmF5IG9mIFNvdW5kIE9iamVjdHMgaWYgQXJyYXlcbiAgICovXG4gIGxvYWRTb3VuZChmaWxlcyl7XG4gICAgbGV0IHNpbmdsZUZpbGUgPSBmYWxzZTtcbiAgICBpZighQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIHNpbmdsZUZpbGUgPSB0cnVlO1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVMaXN0ID0gZmlsZXMubWFwKChmaWxlKSA9PiB7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IG5vcm1hbGl6ZVBhdGgodGhpcy5zb3VuZERpciwgZmlsZSk7XG4gICAgICAvL2lmIHdlIGFscmVhZHkgaGF2ZSB0aGUgc291bmQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZih0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0pe1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdO1xuICAgICAgfVxuICAgICAgdGhpcy5hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgY29uc3Qgc291bmQgPSBuZXcgdGhpcy5Tb3VuZChmaWxlbmFtZSk7XG4gICAgICB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0gPSBzb3VuZDtcbiAgICAgIHJldHVybiBzb3VuZDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzaW5nbGVGaWxlID8gZmlsZUxpc3RbMF0gOiBmaWxlTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGlwcyBhbiBpbWFnZSB1c2luZyB0aGUgbG9naWMgaW4gYSBmbGlwIGZ1bmN0aW9uIHBhc3NlZCBhbmQgYXR0YWNoZXMgdG8gcmVzb3VyY2UgbWFuYWdlciB3aXRoIG5hbWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG5hbWUgTmFtZSBmb3IgY2FjaGluZyBmbGlwcGVkIGltYWdlXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWFnZSBJbWFnZSB0byBiZSBmbGlwcGVkXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbGlwRm4gRnVuY3Rpb24gY29udGFpbmluZyBsb2dpYyB0byBmbGlwIGltYWdlXG4gICAqIEByZXR1cm4ge0ltYWdlfSBGbGlwcGVkIGltYWdlXG4gICAqL1xuICBmbGlwSW1hZ2UobmFtZSwgaW1hZ2UsIGZsaXBGbil7XG4gICAgdGhpcy5hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHdyYXBwZXIgPSBuZXcgSW1hZ2VXcmFwcGVyKG5hbWUpO1xuICAgIHRoaXMucmVzb3VyY2VMaXN0W25hbWVdID0gd3JhcHBlcjtcbiAgICBjb25zdCBpbWcyID0gbmV3IEltYWdlKCk7XG4gICAgZnVuY3Rpb24gZG9GbGlwKCkge1xuICAgICAgd3JhcHBlci5pbWcuc3JjID0gZmxpcEZuKGltZzIpO1xuICAgICAgaW1nMi5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgZG9GbGlwKTtcbiAgICB9XG4gICAgaW1nMi5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9GbGlwKTtcbiAgICBpbWcyLnNyYyA9IGltYWdlLnNyYztcblxuICAgIHJldHVybiB3cmFwcGVyLmltZztcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGlwIGltYWdlIGFsb25nIHgtYXhpcyB1c2luZyBkZWZhdWx0IGZsaXAgbG9naWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG5hbWUgTmFtZSBmb3IgY2FjaGluZyBmbGlwcGVkIGltYWdlXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWFnZSBJbWFnZSB0byBiZSBmbGlwcGVkXG4gICAqIEByZXR1cm4ge0ltYWdlfSBGbGlwcGVkIGltYWdlXG4gICAqL1xuICBmbGlwSW1hZ2VYKG5hbWUsIGltYWdlKXtcbiAgICByZXR1cm4gdGhpcy5mbGlwSW1hZ2UobmFtZSwgaW1hZ2UsIGZsaXBYKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGlwIGltYWdlIGFsb25nIHRoZSB5LWF4aXMgdXNpbmcgZGVmYXVsdCBmbGlwIGxvZ2ljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBuYW1lIE5hbWUgZm9yIGNhY2hpbmcgZmxpcHBlZCBpbWFnZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1hZ2UgSW1hZ2UgdG8gYmUgZmxpcHBlZFxuICAgKiBAcmV0dXJuIHtJbWFnZX0gRmxpcHBlZCBpbWFnZVxuICAgKi9cbiAgZmxpcEltYWdlWShuYW1lLCBpbWFnZSl7XG4gICAgcmV0dXJuIHRoaXMuZmxpcEltYWdlKG5hbWUsIGltYWdlLCBmbGlwWSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHJlc291cmNlcyBoYXZlIGZpbmlzaGVkIGxvYWRpbmdcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqL1xuICByZXNvdXJjZXNSZWFkeSgpe1xuICAgIGlmKHRoaXMuYWxsTG9hZGVkKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IodmFyIGZpbGVuYW1lIGluIHRoaXMucmVzb3VyY2VMaXN0KXtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdO1xuICAgICAgICBpZighcmVzb3VyY2UuY29tcGxldGUpe1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5hbGxMb2FkZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHBlcmNlbnQgb2YgcmVzb3VyY2VzIGxvYWRlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEByZXR1cm4ge051bWJlcn0gVGhlIHBlcmNlbnQgb2YgcmVzb3VyY2VzIGxvYWRlZFxuICAgKi9cbiAgZ2V0UGVyY2VudENvbXBsZXRlKCl7XG4gICAgdmFyIG51bUNvbXBsZXRlID0gMC4wO1xuICAgIHZhciBsZW5ndGggPSAwO1xuICAgIGZvcih2YXIgZmlsZW5hbWUgaW4gdGhpcy5yZXNvdXJjZUxpc3Qpe1xuICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdO1xuICAgICAgbGVuZ3RoKys7XG4gICAgICBpZihyZXNvdXJjZS5jb21wbGV0ZSl7XG4gICAgICAgIG51bUNvbXBsZXRlID0gbnVtQ29tcGxldGUgKyAxLjA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmKGxlbmd0aCA9PT0gMCl7XG4gICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoKG51bUNvbXBsZXRlIC8gbGVuZ3RoKSAqIDEwMC4wKTtcbiAgICB9XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc291cmNlTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gaGFja3kgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIGhhc1xuXG5jb25zdCBnbG9iYWxBdWRpb0NvbnRleHQgPSByZXF1aXJlKCcuL3NoaW1zL0F1ZGlvQ29udGV4dCcpO1xuXG5cbmZ1bmN0aW9uIGhhcyhjaGVjayl7XG5cbiAgaWYoY2hlY2sgPT0gJ3NoaXR0eVNvdW5kJyl7XG4gICAgcmV0dXJuICEhKChoYXMoJ2FuZHJvaWQnKSB8fCBoYXMoJ2lvcycpKSAmJiBoYXMoJ3dlYmtpdCcpKTtcbiAgfVxuICBlbHNlIGlmKGNoZWNrID09ICdhbmRyb2lkJyl7XG4gICAgcmV0dXJuIChwYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQuc3BsaXQoXCJBbmRyb2lkIFwiKVsxXSkgfHwgdW5kZWZpbmVkKTtcbiAgfVxuICBlbHNlIGlmKGNoZWNrID09ICdpb3MnKXtcbiAgICAvL1RPRE8gbmVlZCBzb21ldGhpbmcgZm9yIHRoaXNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnd2Via2l0Jyl7XG4gICAgcmV0dXJuIChwYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQuc3BsaXQoXCJXZWJLaXQvXCIpWzFdKSB8fCB1bmRlZmluZWQpO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ1dlYkF1ZGlvJyl7XG4gICAgcmV0dXJuICEhZ2xvYmFsLkF1ZGlvQ29udGV4dDtcbiAgfVxuICBlbHNlIGlmIChjaGVjayA9PT0gJ3RvdWNoJykge1xuICAgIHJldHVybiAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiLyoqXG4gKiBBbiBBdWRpbyBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIGEgZ2VuZXJpYyBBUElcbiAqIEBuYW1lIFNvdW5kXG4gKiBAY29uc3RydWN0b3IgU291bmRcbiAqL1xuXG5cbi8qKlxuICogTWFwIG9mIGF1ZGlvIHR5cGVzIGFuZCBjb2RlY3MgdXNlZCBpbiBmYWxsYmFjayBsb2FkaW5nIG9mIHNvdW5kcyA8YnI+XG4gKiBSZWZlcmVuY2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSFRNTC9TdXBwb3J0ZWRfbWVkaWFfZm9ybWF0c1xuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJPZiBTb3VuZCNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8vbXBlZycgJy5tcDMnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL3dlYm0nICcud2VibSdcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8vb2dnJyAnLm9nZydcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8vd2F2JyAnLndhdidcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8vYWFjJyAnLmFhYydcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8veC1tNGEnICcubTRhJ1xuICogQGV4YW1wbGVcbiAqIC8vIFRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGZvcm1hdHM6XG4gKiAvLyBEbyB0aGlzIGJlZm9yZSBsb2FkaW5nIGFueSBzb3VuZHNcbiAqIHJlcXVpcmUoW1xuICogICAnZnJvemVuL3NvdW5kcy9Tb3VuZCdcbiAqIF0sIGZ1bmN0aW9uKFNvdW5kKXtcbiAqICAgU291bmQucHJvdG90eXBlLmZvcm1hdHMgPSB7XG4gKiAgICAgJ2F1ZGlvL21wZWcnOiAnLm1wMycsXG4gKiAgICAgJ2F1ZGlvL3dlYm0nOiAnLndlYm0nXG4gKiAgIH07XG4gKiB9KTtcbiAqL1xuY29uc3QgZm9ybWF0cyA9IHtcbiAgJ2F1ZGlvL21wZWcnOiAnLm1wMycsXG4gICdhdWRpby93ZWJtJzogJy53ZWJtJyxcbiAgJ2F1ZGlvL29nZyc6ICcub2dnJyxcbiAgJ2F1ZGlvL3dhdic6ICcud2F2JyxcbiAgJ2F1ZGlvL2FhYyc6ICcuYWFjJyxcbiAgJ2F1ZGlvL3gtbTRhJzogJy5tNGEnXG59O1xuXG5cblxuY2xhc3MgU291bmQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIEF1ZGlvIG9iamVjdCAtIHR5cGljYWxseSB0aGUgZmlsZW5hbWVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBTaWduYWxzIGlmIHRoZSBBdWRpbyBvYmplY3QgaGFzIGNvbXBsZXRlZCBsb2FkaW5nXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgZXh0ZW5zaW9ucyB0aGUgYnJvd3NlciBcInByb2JhYmx5XCIgY2FuIHBsYXlcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wcm9iYWJseSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgZXh0ZW5zaW9ucyB0aGUgYnJvd3NlciBcIm1heWJlXCIgY2FuIHBsYXlcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tYXliZSA9IFtdO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuZm9ybWF0cyA9IGZvcm1hdHM7XG5cbiAgICBpZih0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpe1xuICAgICAgdGhpcy5sb2FkKG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSBzb3VuZCBieSBmaWxlbmFtZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZpbGVuYW1lIFRoZSBmaWxlbmFtZSBvZiB0aGUgZmlsZSB0byBsb2FkXG4gICAqL1xuICBsb2FkKGZpbGVuYW1lKXtcbiAgICB0aGlzLm5hbWUgPSBmaWxlbmFtZTtcbiAgICB0aGlzLmNvbXBsZXRlID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29wIHRoZSBzb3VuZCBhdCBhIGNlcnRhaW4gdm9sdW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwYXJhbSAge051bWJlcn0gdm9sdW1lIFZhbHVlIG9mIHZvbHVtZSAtIGJldHdlZW4gMCBhbmQgMVxuICAgKi9cbiAgbG9vcCh2b2x1bWUpe31cblxuICAvKipcbiAgICogUGxheSB0aGUgc291bmQgYXQgYSBjZXJ0YWluIHZvbHVtZSBhbmQgc3RhcnQgdGltZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSAgICBWYWx1ZSBvZiB2b2x1bWUgLSBiZXR3ZWVuIDAgYW5kIDFcbiAgICogQHBhcmFtICB7TnVtYmVyfSBzdGFydFRpbWUgVmFsdWUgb2YgbWlsbGlzZWNvbmRzIGludG8gdGhlIHRyYWNrIHRvIHN0YXJ0XG4gICAqL1xuICBwbGF5KHZvbHVtZSwgc3RhcnRUaW1lKXt9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIHRvIGNvbnN0cnVjdCBBdWRpbyBvYmplY3RzIGludGVybmFsbHlcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgVmFsdWUgb2Ygdm9sdW1lIC0gYmV0d2VlbiAwIGFuZCAxXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGxvb3AgV2hldGhlciBvciBub3QgdG8gbG9vcCBhdWRpb1xuICAgKiBAcmV0dXJuIHtBdWRpb30gQXVkaW8gb2JqZWN0IHRoYXQgd2FzIGNvbnN0cnVjdGVkXG4gICAqL1xuICBfaW5pdEF1ZGlvKHZvbHVtZSwgbG9vcCl7fVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdXNlZCB0byBnZW5lcmF0ZSBhIGNhY2hlIG9mIGV4dGVuc2lvbnMgKHByb2JhYmx5L21heWJlIGFycmF5cykgdG8gdHJ5IGxvYWRpbmdcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7U3RyaW5nfSBGaXJzdCBleHRlbnNpb24gdG8gdHJ5IGxvYWRpbmdcbiAgICovXG4gIF9jaG9vc2VGb3JtYXQoKXtcbiAgICBpZighdGhpcy5wcm9iYWJseS5sZW5ndGggJiYgIXRoaXMubWF5YmUubGVuZ3RoKXtcbiAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIGJlc3QgZXh0ZW5zaW9uIGlmIHdlIGhhdmUgbm8gY2FjaGVcbiAgICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgdmFyIGNvZGVjO1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGZvcihjb2RlYyBpbiB0aGlzLmZvcm1hdHMpe1xuICAgICAgICByZXN1bHQgPSBhdWRpby5jYW5QbGF5VHlwZShjb2RlYyk7XG4gICAgICAgIGlmKHJlc3VsdCA9PT0gJ3Byb2JhYmx5Jyl7XG4gICAgICAgICAgdGhpcy5wcm9iYWJseS5wdXNoKHRoaXMuZm9ybWF0c1tjb2RlY10pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYocmVzdWx0ID09PSAnbWF5YmUnKXtcbiAgICAgICAgICB0aGlzLm1heWJlLnB1c2godGhpcy5mb3JtYXRzW2NvZGVjXSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLnByb2JhYmx5Lmxlbmd0aCl7XG4gICAgICByZXR1cm4gdGhpcy5wcm9iYWJseVswXTtcbiAgICB9XG5cbiAgICBpZih0aGlzLm1heWJlLmxlbmd0aCl7XG4gICAgICByZXR1cm4gdGhpcy5tYXliZVswXTtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHVzZWQgdG8gcmVtb3ZlIGEgZXh0ZW5zaW9uIHRoYXQgZGlkbid0IHdvcmsgYW5kIHJldHVybiB0aGUgbmV4dCB2aWFibGUgZXh0ZW5zaW9uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1N0cmluZ30gTmV4dCBleHRlbnNpb24gdG8gdHJ5IGxvYWRpbmdcbiAgICovXG4gIF9uZXh0Rm9ybWF0KCl7XG4gICAgaWYodGhpcy5wcm9iYWJseS5sZW5ndGggPiAxKXtcbiAgICAgIHRoaXMucHJvYmFibHkuc2hpZnQoKTtcbiAgICAgIHJldHVybiB0aGlzLnByb2JhYmx5WzBdO1xuICAgIH1cblxuICAgIGlmKHRoaXMucHJvYmFibHkubGVuZ3RoID09PSAxKXtcbiAgICAgIHRoaXMucHJvYmFibHkubGVuZ3RoID0gMDtcbiAgICAgIGlmKHRoaXMubWF5YmUubGVuZ3RoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF5YmVbMF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXliZS5sZW5ndGggPiAxKXtcbiAgICAgIHRoaXMubWF5YmUuc2hpZnQoKTtcbiAgICAgIHJldHVybiB0aGlzLm1heWJlWzBdO1xuICAgIH1cblxuICAgIGlmKHRoaXMubWF5YmUubGVuZ3RoID09PSAxKXtcbiAgICAgIHRoaXMubWF5YmUubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNvdW5kO1xuIiwiLyoqXG4gKiBBbiBBdWRpbyBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIFdlYkF1ZGlvIGludG8gYSBnZW5lcmljIEFQSVxuICogQG5hbWUgV2ViQXVkaW9cbiAqIEBjb25zdHJ1Y3RvciBXZWJBdWRpb1xuICogQGV4dGVuZHMgU291bmRcbiAqL1xuXG5jb25zdCBTb3VuZCA9IHJlcXVpcmUoJy4vU291bmQnKTtcbmNvbnN0IHJlbW92ZUV4dGVuc2lvbiA9IHJlcXVpcmUoJy4uL3V0aWxzL3JlbW92ZUV4dGVuc2lvbicpO1xuY29uc3QgaGFzID0gcmVxdWlyZSgnLi4vaGFzJyk7XG5cbnZhciBhdWRpb0NvbnRleHQgPSBudWxsO1xuXG5cbmlmKGhhcygnV2ViQXVkaW8nKSl7XG4gIGF1ZGlvQ29udGV4dCA9IG5ldyB3aW5kb3cuQXVkaW9Db250ZXh0KCk7XG59XG5cbmlmKGhhcygnc2hpdHR5U291bmQnKSl7XG4gIC8vIFNpbWlsYXIgc3RyYXRlZ3kgdG8gaHR0cHM6Ly9naXRodWIuY29tL0NyZWF0ZUpTL1NvdW5kSlNcbiAgZnVuY3Rpb24gaGFuZGxlU2hpdHR5KCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBzb3VyY2UuYnVmZmVyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlcigxLCAxLCAyMjA1MCk7XG4gICAgc291cmNlLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZVNoaXR0eSk7XG4gIH1cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZVNoaXR0eSk7XG59XG5cbmNsYXNzIFdlYkF1ZGlvIGV4dGVuZHMgU291bmQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFdlYkF1ZGlvIEF1ZGlvQ29udGV4dCAtIHVzZWQgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGEgc291bmRcbiAgICAgKiBAdHlwZSB7QXVkaW9Db250ZXh0fVxuICAgICAqIEBtZW1iZXJPZiBXZWJBdWRpbyNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gYXVkaW9Db250ZXh0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNvdW5kIGJ1ZmZlclxuICAgICAqIEB0eXBlIHtCdWZmZXJ9XG4gICAgICogQG1lbWJlck9mIFdlYkF1ZGlvI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIGxvYWQoZmlsZW5hbWUpe1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMubmFtZSA9IGZpbGVuYW1lO1xuXG4gICAgdmFyIGJhc2VuYW1lID0gcmVtb3ZlRXh0ZW5zaW9uKGZpbGVuYW1lKTtcbiAgICBpZihiYXNlbmFtZSA9PT0gZmlsZW5hbWUpe1xuICAgICAgZmlsZW5hbWUgPSBiYXNlbmFtZSArIHRoaXMuX2Nob29zZUZvcm1hdCgpO1xuICAgIH1cbiAgICAvLyBmaWxlbmFtZSA9IHJlcS50b1VybChmaWxlbmFtZSk7XG5cbiAgICBmdW5jdGlvbiBkZWNvZGVBdWRpb0RhdGEoZSl7XG4gICAgICAvLyBEZWNvZGUgYXN5bmNocm9ub3VzbHlcbiAgICAgIHNlbGYuYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShlLnRhcmdldC5yZXNwb25zZSxcbiAgICAgICAgZnVuY3Rpb24oYnVmZmVyKXtcbiAgICAgICAgICBzZWxmLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgICBzZWxmLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICB2YXIgZm9ybWF0ID0gc2VsZi5fbmV4dEZvcm1hdCgpO1xuICAgICAgICAgIGlmKGZvcm1hdCl7XG4gICAgICAgICAgICBzZWxmLmxvYWQoc2VsZi5uYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBicm93c2VyIGhhcyBBdWRpb0NvbnRleHQsIGl0J3MgbmV3IGVub3VnaCBmb3IgWE1MSHR0cFJlcXVlc3RcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJlcXVlc3Qub3BlbignR0VUJywgZmlsZW5hbWUsIHRydWUpO1xuICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuICAgIHJlcXVlc3Qub25sb2FkID0gZGVjb2RlQXVkaW9EYXRhO1xuICAgIHJlcXVlc3Quc2VuZCgpO1xuICB9XG5cbiAgbG9vcCh2b2x1bWUpe1xuICAgIC8vIFJldHVybiBlYXJseSBpZiB3ZSBkb24ndCBoYXZlIGEgYnVmZmVyIHRvIHByb3RlY3QgZnJvbSB1bmxvYWRlZCByZXNvdXJjZXNcbiAgICBpZighdGhpcy5idWZmZXIpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBhdWRpbyA9IHRoaXMuX2luaXRBdWRpbyh2b2x1bWUsIHRydWUpO1xuICAgIGF1ZGlvLnN0YXJ0KDApO1xuICB9XG5cbiAgcGxheSh2b2x1bWUsIHN0YXJ0VGltZSl7XG4gICAgLy8gUmV0dXJuIGVhcmx5IGlmIHdlIGRvbid0IGhhdmUgYSBidWZmZXIgdG8gcHJvdGVjdCBmcm9tIHVubG9hZGVkIHJlc291cmNlc1xuICAgIGlmKCF0aGlzLmJ1ZmZlcil7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RhcnRUaW1lID0gc3RhcnRUaW1lIHx8IDA7XG5cbiAgICB2YXIgYXVkaW8gPSB0aGlzLl9pbml0QXVkaW8odm9sdW1lLCBmYWxzZSk7XG4gICAgYXVkaW8uc3RhcnQoc3RhcnRUaW1lKTtcbiAgfVxuXG4gIF9pbml0QXVkaW8odm9sdW1lLCBsb29wKXtcbiAgICBsb29wID0gdHlwZW9mIGxvb3AgPT09ICdib29sZWFuJyA/IGxvb3AgOiBmYWxzZTtcblxuICAgIHZhciBzb3VyY2UgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBzb3VyY2UuYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgc291cmNlLmxvb3AgPSBsb29wO1xuICAgIGlmKHZvbHVtZSl7XG4gICAgICB2YXIgZ2Fpbk5vZGUgPSB0aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgICBnYWluTm9kZS5nYWluLnZhbHVlID0gdm9sdW1lO1xuICAgICAgc291cmNlLmNvbm5lY3QoZ2Fpbk5vZGUpO1xuICAgICAgZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNvdXJjZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYkF1ZGlvO1xuIiwiLyoqXG4gKiBSZXByZXNlbnRzIGEgc2VyaWVzIG9mIGZyYW1lcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBhcyBhbiBhbmltYXRpb24uXG4gKiBAbmFtZSBBbmltYXRpb25cbiAqIEBjb25zdHJ1Y3RvciBBbmltYXRpb25cbiAqL1xuXG5jb25zdCBBbmltRnJhbWUgPSByZXF1aXJlKCcuL0FuaW1GcmFtZScpO1xuXG5cbmNsYXNzIEFuaW1hdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgZnJhbWUgYmVpbmcgdXNlZCB0byByZW5kZXIgdGhpcyBBbmltYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmN1cnJGcmFtZUluZGV4ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCB0aGlzIGFuaW1hdGlvbiBoYXMgYmVlbiBydW5uaW5nXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hbmltVGltZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBmb3IgYSBjb21wbGV0ZSBjeWNsZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMudG90YWxEdXJhdGlvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gNjQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggaW4gcGl4ZWxzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDY0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGltYWdlIHRvIHJlbmRlclxuICAgICAqIEB0eXBlIHtJbWFnZX1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWFnZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBvZiBwaXhlbHMgaW4gdGhlIHggc2xvdCBmcm9tIHRoZSBzb3VyY2UgaW1hZ2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldFggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgb2YgcGl4ZWxzIGluIHRoZSB5IHNsb3QgZnJvbSB0aGUgc291cmNlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5vZmZzZXRZID0gMDtcblxuICAgIHRoaXMuZnJhbWVzID0gdW5kZWZpbmVkO1xuXG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gY3JlYXRlIGFuIGFuaW1hdGlvbiBmcm9tIGEgc2hlZXQgb2YgdGlsZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEBwYXJhbSAge051bWJlcn0gZnJhbWVDb3VudCBOdW1iZXIgb2YgZnJhbWVzIGluIHRoZSBhbmltYXRpb25cbiAgICogQHBhcmFtICB7TnVtYmVyfEFycmF5fSBmcmFtZVRpbWVzIFZhbHVlIG9yIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGFtb3VudCBvZiB0aW1lIHBlciBmcmFtZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1nIEltYWdlIHNoZWV0IHRvIGNyZWF0ZSBhbmltYXRpb24gZnJvbVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHcgV2lkdGggb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGggSGVpZ2h0IG9mIGVhY2ggdGlsZSBpbiBwaXhlbHNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5U2xvdCBTbG90IG9uIFkgYXhpcyB0byBzdGFydCBjcmVhdGluZyB0aWxlc1xuICAgKiBAcmV0dXJuIHtBbmltYXRpb259IEFuaW1hdGlvbiBnZW5lcmF0ZWQgdXNpbmcgcGFyYW1ldGVyc1xuICAgKi9cbiAgY3JlYXRlRnJvbVNoZWV0KGZyYW1lQ291bnQsIGZyYW1lVGltZXMsIGltZywgdywgaCwgeVNsb3Qpe1xuICAgIHZhciBhbmltID0gbmV3IEFuaW1hdGlvbih7XG4gICAgICBpbWFnZTogaW1nLFxuICAgICAgaGVpZ2h0OiBoLFxuICAgICAgd2lkdGg6IHdcbiAgICB9KTtcblxuICAgIHZhciBpc0ZUQXJyYXkgPSBBcnJheS5pc0FycmF5KGZyYW1lVGltZXMpO1xuXG4gICAgdmFyIGN1cnJlbnRGcmFtZVRpbWUgPSAxO1xuICAgIGlmKCF5U2xvdCl7XG4gICAgICB5U2xvdCA9IDA7XG4gICAgfVxuICAgIGZvcih2YXIgaiA9IDA7IGogPCBmcmFtZUNvdW50OyBqKyspe1xuICAgICAgaWYoaXNGVEFycmF5KXtcbiAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXNbal07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50RnJhbWVUaW1lID0gZnJhbWVUaW1lcztcbiAgICAgIH1cbiAgICAgIGFuaW0uYWRkRnJhbWUoY3VycmVudEZyYW1lVGltZSwgaiwgeVNsb3QpO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlIG9mIHRoaXMgYW5pbWF0aW9uLiBUaGUgbGlzdCBvZiBmcmFtZXNcbiAgICogYXJlIHNoYXJlZCBiZXR3ZWVuIHRoZSB0d28gQW5pbWF0aW9ucywgYnV0IGVhY2ggQW5pbWF0aW9uXG4gICAqIGNhbiBiZSBhbmltYXRlZCBpbmRlcGVuZGVudGx5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICovXG4gIGNsb25lKCl7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRpb24oe1xuICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsXG4gICAgICBmcmFtZXM6IHRoaXMuZnJhbWVzLFxuICAgICAgdG90YWxEdXJhdGlvbjogdGhpcy50b3RhbER1cmF0aW9uXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbiBpbWFnZSB0byB0aGUgYW5pbWF0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBkdXJhdGlvbiAodGltZSB0byBkaXNwbGF5IHRoZSBpbWFnZSkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb24gRHVyYXRpb24gb2YgdGhlIGZyYW1lXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbWFnZVNsb3RYIFNsb3Qgb24gdGhlIFggYXhpcyBmb3IgdGhlIGZyYW1lXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbWFnZVNsb3RZIFNsb3Qgb24gdGhlIFkgYXhpcyBmb3IgdGhlIGZyYW1lXG4gICAqL1xuICBhZGRGcmFtZShkdXJhdGlvbiwgaW1hZ2VTbG90WCwgaW1hZ2VTbG90WSl7XG4gICAgaWYoIXRoaXMuZnJhbWVzKXtcbiAgICAgIHRoaXMuZnJhbWVzID0gW107XG4gICAgfVxuICAgIHRoaXMudG90YWxEdXJhdGlvbiArPSBkdXJhdGlvbjtcbiAgICB0aGlzLmZyYW1lcy5wdXNoKG5ldyBBbmltRnJhbWUoe1xuICAgICAgZW5kVGltZTogdGhpcy50b3RhbER1cmF0aW9uLFxuICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsXG4gICAgICBpbWdTbG90WDogaW1hZ2VTbG90WCxcbiAgICAgIGltZ1Nsb3RZOiBpbWFnZVNsb3RZXG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGlzIGFuaW1hdGlvbiBvdmVyIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqL1xuICBzdGFydCgpe1xuICAgIHRoaXMuYW5pbVRpbWUgPSAwO1xuICAgIHRoaXMuY3VyckZyYW1lSW5kZXggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBhbmltYXRpb24ncyBjdXJyZW50IGltYWdlIChmcmFtZSksIGlmIG5lY2Nlc2FyeS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGUoZWxhcHNlZFRpbWUpe1xuICAgIGlmICh0aGlzLmZyYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLmFuaW1UaW1lICs9IGVsYXBzZWRUaW1lO1xuXG4gICAgICBpZiAodGhpcy5hbmltVGltZSA+PSB0aGlzLnRvdGFsRHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5hbmltVGltZSA9IHRoaXMuYW5pbVRpbWUgJSB0aGlzLnRvdGFsRHVyYXRpb247XG4gICAgICAgIHRoaXMuY3VyckZyYW1lSW5kZXggPSAwO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodGhpcy5hbmltVGltZSA+IHRoaXMuZnJhbWVzW3RoaXMuY3VyckZyYW1lSW5kZXhdLmVuZFRpbWUpIHtcbiAgICAgICAgdGhpcy5jdXJyRnJhbWVJbmRleCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoaXMgQW5pbWF0aW9uJ3MgY3VycmVudCBhbmltYXRpb24gZnJhbWUuIFJldHVybnMgbnVsbCBpZiB0aGlzIGFuaW1hdGlvbiBoYXMgbm8gZnJhbWVzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHJldHVybiB7QW5pbWF0aW9uRnJhbWV8bnVsbH0gVGhlIGFuaW1hdGlvbiBmcmFtZSBhdCB0aGUgY3VycmVudCBmcmFtZSBpbmRleCBvciBudWxsIGlmIG5vIGZyYW1lcyBhcmUgYXZhaWxhYmxlXG4gICAqL1xuICBnZXRDdXJyZW50RnJhbWUoKXtcbiAgICBpZiAodGhpcy5mcmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZnJhbWVzW3RoaXMuY3VyckZyYW1lSW5kZXhdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgY3VycmVudCBmcmFtZSBpbnRvIGEgMmQgY29udGV4dC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dCBUaGUgSFRNTDUgZHJhd2luZyBjYW52YXNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZSBpbiB0aGUgZ3JhcGhpY3MgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBjb29yZGluYXRlIGluIHRoZSBncmFwaGljcyBjb250ZXh0XG4gICAqL1xuICBkcmF3KGNvbnRleHQsIHgsIHkpe1xuICAgIHZhciBjZiA9IHRoaXMuZ2V0Q3VycmVudEZyYW1lKCk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgY2YuaW1nU2xvdFggKiB0aGlzLndpZHRoICsgdGhpcy5vZmZzZXRYLCBjZi5pbWdTbG90WSAqIHRoaXMuaGVpZ2h0ICsgdGhpcy5vZmZzZXRZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgeCwgeSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbWF0aW9uO1xuIiwiLyoqXG4gKiBSZXByZXNlbnRzIGEgYSBzaW5nbGUgZnJhbWUgaW4gYW4gYW5pbWF0aW9uLlxuICogQG5hbWUgQW5pbWF0aW9uRnJhbWVcbiAqIEBjb25zdHJ1Y3RvciBBbmltYXRpb25GcmFtZVxuICogQHBhcmFtIHtPYmplY3R9IG1peGluIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgdG8gbWl4aW5cbiAqL1xuXG5jbGFzcyBBbmltRnJhbWUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVuZGluZyB0aW1lIGluIG1pbGxpc2Vjb25kcyBvZiB0aGlzIGZyYW1lIHJlbGF0aXZlIHRvIGl0cyBBbmltYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb25GcmFtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW5kVGltZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgZ3JvdXAgb2YgZnJhbWVzIGNvbnRhaW5lZCBpbiBhIHNpbmdsZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWdTbG90WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGljYWwgcG9zaXRpb24gb2YgdGhlIGdyb3VwIG9mIGZyYW1lcyBjb250YWluZWQgaW4gYSBzaW5nbGUgaW1hZ2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb25GcmFtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1nU2xvdFkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGltYWdlIHRvIHJlbmRlclxuICAgICAqIEB0eXBlIHtJbWFnZX1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltYWdlID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFuaW1GcmFtZTtcbiIsImNvbnN0IHJhZENvbnN0ID0gTWF0aC5QSSAvIDE4MC4wO1xuXG5mdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpe1xuICByZXR1cm4gZGVncmVlcyAqIHJhZENvbnN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZ3JlZXNUb1JhZGlhbnM7XG4iLCJcbmNvbnN0IGRlZ0NvbnN0ID0gMTgwLjAgLyBNYXRoLlBJO1xuXG5mdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnMpe1xuICByZXR1cm4gcmFkaWFucyAqIGRlZ0NvbnN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJhZGlhbnNUb0RlZ3JlZXM7XG4iLCJmdW5jdGlvbiBkaXN0YW5jZShwMSwgcDIpe1xuICByZXR1cm4gTWF0aC5zcXJ0KCAoKHAyLnggLSBwMS54KSAqIChwMi54IC0gcDEueCkpICsgKChwMi55IC0gcDEueSkgKiAocDIueSAtIHAxLnkpKSApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRpc3RhbmNlO1xuIiwiLyoqXG4gKiBUaGUgU3ByaXRlIGNsYXNzIHJlcHJlc2VudHMgYSBzaW1wbGUgYW5pbWF0ZWQgY2hhcmFjdGVyIGZvciBhIGdhbWVcbiAqIEBuYW1lIFNwcml0ZVxuICogQGNvbnN0cnVjdG9yIFNwcml0ZVxuICovXG5cbmNsYXNzIFNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgc3ByaXRlIGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMueCA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBzcHJpdGUgaW4gcGl4ZWxzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy55ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHggY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eSBpbiBwaXhlbHMgcGVyIHNlY29uZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZHggPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeSBjb21wb25lbnQgb2YgdGhlIHZlbG9jaXR5IGluIHBpeGVscyBwZXIgc2Vjb25kXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5keSA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggc3BlZWQgYSBzcHJpdGUgY2FuIG1vdmUgaW4gZWl0aGVyIGRpcmVjdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubWF4U3BlZWQgPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIFNwcml0ZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmFkaXVzIG9mIHRoaXMgc3ByaXRlIGluIHBpeGVscyBmb3Igc2ltcGxlIGNvbGxpc2lvbiBkZXRlY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbGxpc2lvblJhZGl1cyA9IDQwO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgU3ByaXRlJ3MgQW5pbWF0aW9uIGFuZCBpdHMgcG9zaXRpb24gYmFzZWQgb24gdGhlIHZlbG9jaXR5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIFRoZSBlbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBwcmV2aW91cyB1cGRhdGVcbiAgICovXG4gIHVwZGF0ZShlbGFwc2VkVGltZSl7XG4gICAgdGhpcy54ICs9IHRoaXMuZHggKiBlbGFwc2VkVGltZTtcbiAgICB0aGlzLnkgKz0gdGhpcy5keSAqIGVsYXBzZWRUaW1lO1xuICAgIHRoaXMuYW5pbS51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1heFNwZWVkIHVwIHRvIHRoZSBzcGVlZCBsaW1pdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHYgU3BlZWQgbGltaXRcbiAgICogQHJldHVybiB7TnVtYmVyfSBtYXhTcGVlZCB1cCB0byBzcGVlZCBsaW1pdFxuICAgKi9cbiAgbGltaXRTcGVlZCh2KXtcbiAgICBpZih0aGlzLm1heFNwZWVkKXtcbiAgICAgIGlmKE1hdGguYWJzKHYpID4gdGhpcy5tYXhTcGVlZCl7XG4gICAgICAgIGlmKHYgPiAwKXtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXhTcGVlZDtcbiAgICAgICAgfWVsc2UgaWYodiA8IDApe1xuICAgICAgICAgIHJldHVybiB0aGlzLm1heFNwZWVkO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gIDA7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdjtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiB2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoaXMgU3ByaXRlJ3MgY3VycmVudCBhbmltYXRpb24gZnJhbWUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcmV0dXJuIHtBbmltYXRpb25GcmFtZX0gVGhlIGN1cnJlbnQgZnJhbWUgb2YgdGhlIEFuaW1hdGlvblxuICAgKi9cbiAgZ2V0Q3VycmVudEZyYW1lKCl7XG4gICAgaWYodGhpcy5hbmltKXtcbiAgICAgIHJldHVybiB0aGlzLmFuaW0uZ2V0Q3VycmVudEZyYW1lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBzcHJpdGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dCBUaGUgSFRNTDUgZHJhd2luZyBjb250ZXh0XG4gICAqL1xuICBkcmF3KGNvbnRleHQpe1xuICAgIGlmKHRoaXMuYW5pbSl7XG4gICAgICB0aGlzLmFuaW0uZHJhdyhjb250ZXh0LCB0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgaW5zdGFuY2Ugb2YgU3ByaXRlIGl0IGlzIGNhbGxlZCB1cG9uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcmV0dXJuIHtTcHJpdGV9IEEgY2xvbmUgb2YgdGhlIFNwcml0ZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBTcHJpdGUoe1xuICAgICAgYW5pbTogdGhpcy5hbmltLmNsb25lKClcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNwcml0ZTtcblxuIiwiLyoqXG4gKiBUaGlzIHdyYXBzIHRoZSBib3gyZCB3b3JsZCB0aGF0IGNvbnRhaW5zIGJvZGllcywgc2hhcGVzLCBhbmQgcGVyZm9ybXMgdGhlIHBoeXNpY3MgY2FsY3VsYXRpb25zLlxuICogQG5hbWUgQm94XG4gKiBAY29uc3RydWN0b3IgQm94XG4gKi9cblxuY29uc3QgQ29udGFjdCA9IHJlcXVpcmUoJy4vbGlzdGVuZXJzL0NvbnRhY3QnKTtcblxuXG5jb25zb2xlLmxvZyhCb3gyRCwgJ0JveDJEJywgZ2xvYmFsLCB3aW5kb3cpO1xuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMkJvZHlEZWYgPSBCb3gyRC5EeW5hbWljcy5iMkJvZHlEZWY7XG5jb25zdCBCMkJvZHkgPSBCb3gyRC5EeW5hbWljcy5iMkJvZHk7XG5jb25zdCBCMkZpeHR1cmVEZWYgPSBCb3gyRC5EeW5hbWljcy5iMkZpeHR1cmVEZWY7XG5jb25zdCBCMkZpeHR1cmUgPSBCb3gyRC5EeW5hbWljcy5iMkZpeHR1cmU7XG5jb25zdCBCMldvcmxkID0gQm94MkQuRHluYW1pY3MuYjJXb3JsZDtcbmNvbnN0IEIyUG9seWdvblNoYXBlID0gQm94MkQuQ29sbGlzaW9uLlNoYXBlcy5iMlBvbHlnb25TaGFwZTtcbmNvbnN0IEIyQ2lyY2xlU2hhcGUgPSBCb3gyRC5Db2xsaXNpb24uU2hhcGVzLmIyQ2lyY2xlU2hhcGU7XG5cbmNsYXNzIEJveCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGN5Y2xlcyBwZXIgc2Vjb25kIGV4cGVjdGVkIGluIHVwZGF0ZSBjYWxjdWF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJ2YWxSYXRlID0gNjA7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byB0cnkgdG8gY29tcGVuc2F0ZSBjYWxjdWxhdGlvbnMgYmFzZWQgb24gcGVyZm9ybWFuY2VcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hZGFwdGl2ZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgdGhlIGJvZGllcyBpbiB0aGUgYm94MmQgd29ybGQgcmVmZXJlbmNlZCBieSB0aGVpciBnaXZlbiB1c2VyRGF0YVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9kaWVzTWFwID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRoZSBmaXh0dXJlcyBpbiB0aGUgYm94MmQgd29ybGQgcmVmZXJlbmNlZCBieSB0aGVpciBnaXZlbiB1c2VyRGF0YVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZml4dHVyZXNNYXAgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgdGhlIGpvaW50cyBpbiB0aGUgYm94MmQgd29ybGQgcmVmZXJlbmNlZCBieSB0aGVpciBnaXZlbiB1c2VyRGF0YVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuam9pbnRzTWFwID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnN0YW5jZSBvZiB0aGUgQm94MkQuRHluYW1pY3MuYjJXb3JsZCB3b3JsZCBjbGFzcyB0aGF0IHRoZSBib2RpZXMsIGZpeHR1cmVzLCBhbmQgam9pbnRzIGFyZSB1c2VkIGluLlxuICAgICAqIEB0eXBlIHtCMldvcmxkfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmIyV29ybGQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHggY29tcG9uZW50IG9mIHRoZSBiMldvcmxkJ3MgZ3Jhdml0eSBpbiBtZXRlcnMvc2Vjb25kIHNxdWFyZWRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmdyYXZpdHlYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgYjJXb3JsZCdzIGdyYXZpdHkgaW4gbWV0ZXJzL3NlY29uZCBzcXVhcmVkXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ncmF2aXR5WSA9IDkuODtcblxuICAgIC8qKlxuICAgICAqIEFsbG93IGJveDJkIHRvIHNraXAgcGh5c2ljcyBjYWxjdWxhdGlvbnMgb24gYm9kaWVzIGF0IHJlc3QgZm9yIHBlcmZvcm1hbmNlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYWxsb3dTbGVlcCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGFkZCBhIGxpc3RlbmVyIHRvIGNvbGxpc2lvbiBldmVudHMuIERlZmF1bHQgYmVoYXZpb3IgYWRkcyBjb2xsaXNpb24gZGF0YSB0byBlbnRpdGllcyBvbiB1cGRhdGUgY3ljbGVcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHZlQ29sbGlzaW9ucyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQSBjb250YWN0IGxpc3RlbmVyIGZvciBjYWxsYmFja3Mgb24gY29sbGlzaW9uIGV2ZW50cy4gRGVmYXVsdCBpcyB0aGlzIGJveCBpdHNlbGYuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb250YWN0TGlzdGVuZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGNvbGxpc2lvbnMuIEluc3RhbnRpYXRlZCBpbiB1cGRhdGUgaWYgcmVzb2x2ZUNvbGxpc2lvbnMgaXMgdHJ1ZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29sbGlzaW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHBpeGVscyB0aGF0IHJlcHJlc250IG9uZSBtZXRlciBpbiB0aGUgYm94MmQgd29ybGQuICgzMCBwaXhlbHMgfiAxIG1ldGVyIGluIGJveDJkKVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc2NhbGUgPSAzMDtcblxuICAgIHRoaXMuYm9kaWVzTWFwID0ge307XG4gICAgdGhpcy5maXh0dXJlc01hcCA9IHt9O1xuICAgIHRoaXMuam9pbnRzTWFwID0ge307XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuYjJXb3JsZCA9IG5ldyBCMldvcmxkKG5ldyBCMlZlYzIodGhpcy5ncmF2aXR5WCwgdGhpcy5ncmF2aXR5WSksIHRoaXMuYWxsb3dTbGVlcCk7XG5cbiAgICBpZih0aGlzLmludGVydmFsUmF0ZSl7XG4gICAgICB0aGlzLmludGVydmFsUmF0ZSA9IHBhcnNlSW50KHRoaXMuaW50ZXJ2YWxSYXRlLCAxMCk7XG4gICAgfVxuXG5cbiAgICBpZih0aGlzLnJlc29sdmVDb2xsaXNpb25zKXtcbiAgICAgIHRoaXMuY29udGFjdExpc3RlbmVyID0gbmV3IENvbnRhY3QoKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmNvbnRhY3RMaXN0ZW5lcil7XG4gICAgICB0aGlzLmFkZENvbnRhY3RMaXN0ZW5lcih0aGlzLmNvbnRhY3RMaXN0ZW5lcik7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBib3gyZCBwaHlzaWNzIGNhbGN1bGF0aW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBtaWxsaXMgVGhlIG1pbGxpc2Vjb25kcyB1c2VkIHRvIGRldGVybWluZSBmcmFtZXJhdGUgZm9yIGJveDJkIHN0ZXBcbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgYW1vdW50IG9mIG1pbGxpc2Vjb25kcyB0aGUgdXBkYXRlIHRvb2tcbiAgICovXG4gIHVwZGF0ZShtaWxsaXMpIHtcbiAgICAvLyBjb25zb2xlLmxvZygndXBkYXRlIG1pbGxpcycsIG1pbGxpcyk7XG5cbiAgICBpZih0aGlzLmNvbnRhY3RMaXN0ZW5lciAmJiB0aGlzLmNvbnRhY3RMaXN0ZW5lci5yZXNldCl7XG4gICAgICB0aGlzLmNvbnRhY3RMaXN0ZW5lci5yZXNldCgpO1xuICAgIH1cblxuICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7XG4gICAgaWYobWlsbGlzKXtcbiAgICAgIHRoaXMuYjJXb3JsZC5TdGVwKG1pbGxpcyAvIDEwMDAgLyogZnJhbWUtcmF0ZSAqLywgMTAgLyogdmVsb2NpdHkgaXRlcmF0aW9ucyAqLywgMTAgLypwb3NpdGlvbiBpdGVyYXRpb25zKi8pO1xuICAgICAgdGhpcy5iMldvcmxkLkNsZWFyRm9yY2VzKCk7XG4gICAgfWVsc2V7XG4gICAgICB2YXIgc3RlcFJhdGUgPSAodGhpcy5hZGFwdGl2ZSkgPyAoc3RhcnQgLSB0aGlzLmxhc3RUaW1lc3RhbXApIC8gMTAwMCA6ICgxIC8gdGhpcy5pbnRlcnZhbFJhdGUpO1xuICAgICAgdGhpcy5iMldvcmxkLlN0ZXAoc3RlcFJhdGUgLyogZnJhbWUtcmF0ZSAqLywgMTAgLyogdmVsb2NpdHkgaXRlcmF0aW9ucyAqLywgMTAgLypwb3NpdGlvbiBpdGVyYXRpb25zKi8pO1xuICAgICAgdGhpcy5iMldvcmxkLkNsZWFyRm9yY2VzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChEYXRlLm5vdygpIC0gc3RhcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG9iamVjdHMgaW4gdGhlIGJveDJkIHdvcmxkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGUgb2YgdGhlIGJveDJkIHdvcmxkXG4gICAqL1xuICBnZXRTdGF0ZSgpIHtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICAgIGZvciAodmFyIGIgPSB0aGlzLmIyV29ybGQuR2V0Qm9keUxpc3QoKTsgYjsgYiA9IGIubV9uZXh0KSB7XG4gICAgICAgIGlmIChiLklzQWN0aXZlKCkgJiYgdHlwZW9mIGIuR2V0VXNlckRhdGEoKSAhPT0gJ3VuZGVmaW5lZCcgJiYgYi5HZXRVc2VyRGF0YSgpICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RhdGVbYi5HZXRVc2VyRGF0YSgpXSA9IHtcbiAgICAgICAgICAgIHg6IGIuR2V0UG9zaXRpb24oKS54LFxuICAgICAgICAgICAgeTogYi5HZXRQb3NpdGlvbigpLnksXG4gICAgICAgICAgICBhbmdsZTogYi5HZXRBbmdsZSgpLFxuICAgICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICAgIHg6IGIuR2V0V29ybGRDZW50ZXIoKS54LFxuICAgICAgICAgICAgICB5OiBiLkdldFdvcmxkQ2VudGVyKCkueVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbmVhclZlbG9jaXR5OiBiLm1fbGluZWFyVmVsb2NpdHksXG4gICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IGIubV9hbmd1bGFyVmVsb2NpdHlcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmKHRoaXMuY29udGFjdExpc3RlbmVyICYmIHRoaXMuY29udGFjdExpc3RlbmVyLmNvbGxpc2lvbnMpe1xuICAgICAgICAgICAgc3RhdGVbYi5HZXRVc2VyRGF0YSgpXS5jb2xsaXNpb25zID0gdGhpcy5jb250YWN0TGlzdGVuZXIuY29sbGlzaW9uc1tiLkdldFVzZXJEYXRhKCldIHx8IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc3RhdGUgaW4gdGhlIEVudGl0eSBvYmplY3RzIHRoYXQgYXJlIG1vZGlmaWVkIGJ5IGJveDJkIGNhbGN1bGF0aW9ucy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBlbnRpdGllcyBBbiBhcnJheSBvciBtYXAgb2YgRW50aXR5IG9iamVjdHNcbiAgICovXG4gIHVwZGF0ZUV4dGVybmFsU3RhdGUoZW50aXRpZXMpe1xuICAgIC8vdXBkYXRlIHRoZSBkeWFubWljIHNoYXBlcyB3aXRoIGJveDJkIGNhbGN1bGF0aW9uc1xuICAgIHZhciBib2RpZXNTdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICBmb3IgKHZhciBpZCBpbiBib2RpZXNTdGF0ZSkge1xuICAgICAgdmFyIGVudGl0eSA9IGVudGl0aWVzW2lkXTtcbiAgICAgIC8vdXBkYXRlIGFueSBkeW5hbWljIGJvZGllc1xuICAgICAgaWYgKGVudGl0eSAmJiAhZW50aXR5LnN0YXRpY0JvZHkpe1xuICAgICAgICBlbnRpdHkudXBkYXRlKGJvZGllc1N0YXRlW2lkXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG1hcCBvZiBlbnRpdGllcyB0byB0aGUgQm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdH0gYm9keUVudGl0aWVzIE1hcCBvZiBlbnRpdGllc1xuICAgKi9cbiAgc2V0Qm9kaWVzKGJvZHlFbnRpdGllcykge1xuICAgIGZvcih2YXIgaWQgaW4gYm9keUVudGl0aWVzKSB7XG4gICAgICB2YXIgZW50aXR5ID0gYm9keUVudGl0aWVzW2lkXTtcbiAgICAgIHRoaXMuYWRkQm9keShlbnRpdHkpO1xuICAgIH1cbiAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gRW50aXR5IHRvIHRoZSBib3gyZCB3b3JsZCB3aGljaCB3aWxsIGludGVybmFsbHkgYmUgY29udmVydGVkIHRvIGEgYm94MmQgYm9keSBhbmQgZml4dHVyZSAoYXV0byBzY2FsZWQgd2l0aCBCb3gncyBzY2FsZSBwcm9wZXJ0eSBpZiB0aGUgZW50aXR5IGhhc24ndCBiZWVuIHNjYWxlZCB5ZXQpXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEFueSBFbnRpdHkgb2JqZWN0XG4gICAqL1xuICBhZGRCb2R5KGVudGl0eSkge1xuICAgIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG5cbiAgICBpZighZW50aXR5LmFscmVhZHlTY2FsZWQpe1xuICAgICAgZW50aXR5LnNjYWxlU2hhcGUoMSAvIHRoaXMuc2NhbGUpO1xuICAgICAgZW50aXR5LnNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICB9XG5cbiAgICB2YXIgYm9keURlZiA9IG5ldyBCMkJvZHlEZWYoKTtcbiAgICB2YXIgZml4RGVmID0gbmV3IEIyRml4dHVyZURlZigpO1xuICAgIHZhciBpLGoscG9pbnRzLHZlYyx2ZWNzO1xuICAgIGZpeERlZi5yZXN0aXR1dGlvbiA9IGVudGl0eS5yZXN0aXR1dGlvbjtcbiAgICBmaXhEZWYuZGVuc2l0eSA9IGVudGl0eS5kZW5zaXR5O1xuICAgIGZpeERlZi5mcmljdGlvbiA9IGVudGl0eS5mcmljdGlvbjtcblxuXG4gICAgLy90aGVzZSB0aHJlZSBwcm9wcyBhcmUgZm9yIGN1c3RvbSBjb2xsaXNpb24gZmlsdGVyaW5nXG4gICAgaWYoZW50aXR5Lm1hc2tCaXRzICE9IG51bGwpe1xuICAgICAgZml4RGVmLmZpbHRlci5tYXNrQml0cyA9IGVudGl0eS5tYXNrQml0cztcbiAgICB9XG4gICAgaWYoZW50aXR5LmNhdGVnb3J5Qml0cyAhPSBudWxsKXtcbiAgICAgIGZpeERlZi5maWx0ZXIuY2F0ZWdvcnlCaXRzID0gZW50aXR5LmNhdGVnb3J5Qml0cztcbiAgICB9XG4gICAgaWYoZW50aXR5Lmdyb3VwSW5kZXggIT0gbnVsbCl7XG4gICAgICBmaXhEZWYuZmlsdGVyLmdyb3VwSW5kZXggPSBlbnRpdHkuZ3JvdXBJbmRleDtcbiAgICB9XG5cbiAgICBpZihlbnRpdHkuc3RhdGljQm9keSl7XG4gICAgICBib2R5RGVmLnR5cGUgPSAgQjJCb2R5LmIyX3N0YXRpY0JvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvZHlEZWYudHlwZSA9IEIyQm9keS5iMl9keW5hbWljQm9keTtcbiAgICB9XG5cbiAgICBib2R5RGVmLnBvc2l0aW9uLnggPSBlbnRpdHkueDtcbiAgICBib2R5RGVmLnBvc2l0aW9uLnkgPSBlbnRpdHkueTtcbiAgICBib2R5RGVmLnVzZXJEYXRhID0gZW50aXR5LmlkO1xuICAgIGJvZHlEZWYuYW5nbGUgPSBlbnRpdHkuYW5nbGU7XG4gICAgYm9keURlZi5saW5lYXJEYW1waW5nID0gZW50aXR5LmxpbmVhckRhbXBpbmc7XG4gICAgYm9keURlZi5hbmd1bGFyRGFtcGluZyA9IGVudGl0eS5hbmd1bGFyRGFtcGluZztcbiAgICB2YXIgYm9keSA9IHRoaXMuYjJXb3JsZC5DcmVhdGVCb2R5KGJvZHlEZWYpO1xuXG5cbiAgICBpZiAoZW50aXR5LnJhZGl1cykgeyAvL2NpcmNsZVxuICAgICAgZml4RGVmLnNoYXBlID0gbmV3IEIyQ2lyY2xlU2hhcGUoZW50aXR5LnJhZGl1cyk7XG4gICAgICBib2R5LkNyZWF0ZUZpeHR1cmUoZml4RGVmKTtcbiAgICB9IGVsc2UgaWYgKGVudGl0eS5wb2ludHMpIHsgLy9wb2x5Z29uXG4gICAgICBwb2ludHMgPSBbXTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBlbnRpdHkucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZlYyA9IG5ldyBCMlZlYzIoKTtcbiAgICAgICAgdmVjLlNldChlbnRpdHkucG9pbnRzW2ldLngsIGVudGl0eS5wb2ludHNbaV0ueSk7XG4gICAgICAgIHBvaW50c1tpXSA9IHZlYztcbiAgICAgIH1cbiAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMlBvbHlnb25TaGFwZSgpO1xuICAgICAgZml4RGVmLnNoYXBlLlNldEFzQXJyYXkocG9pbnRzLCBwb2ludHMubGVuZ3RoKTtcbiAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgIH0gZWxzZSBpZihlbnRpdHkucG9seXMpIHsgLy9jb21wbGV4IG9iamVjdFxuICAgICAgICBmb3IgKGogPSAwOyBqIDwgZW50aXR5LnBvbHlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBwb2ludHMgPSBlbnRpdHkucG9seXNbal07XG4gICAgICAgICAgICB2ZWNzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVjID0gbmV3IEIyVmVjMigpO1xuICAgICAgICAgICAgICAgIHZlYy5TZXQocG9pbnRzW2ldLngsIHBvaW50c1tpXS55KTtcbiAgICAgICAgICAgICAgICB2ZWNzW2ldID0gdmVjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZml4RGVmLnNoYXBlID0gbmV3IEIyUG9seWdvblNoYXBlKCk7XG4gICAgICAgICAgICBmaXhEZWYuc2hhcGUuU2V0QXNBcnJheSh2ZWNzLCB2ZWNzLmxlbmd0aCk7XG4gICAgICAgICAgICBib2R5LkNyZWF0ZUZpeHR1cmUoZml4RGVmKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7IC8vcmVjdGFuZ2xlXG4gICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJQb2x5Z29uU2hhcGUoKTtcbiAgICAgIGZpeERlZi5zaGFwZS5TZXRBc0JveChlbnRpdHkuaGFsZldpZHRoLCBlbnRpdHkuaGFsZkhlaWdodCk7XG4gICAgICBib2R5LkNyZWF0ZUZpeHR1cmUoZml4RGVmKTtcbiAgICB9XG5cblxuICAgIHRoaXMuYm9kaWVzTWFwW2VudGl0eS5pZF0gPSBib2R5O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcG9zaXRpb24gb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIG5ldyB4IGNvb3JkaW5hdGUgaW4gYm94MmQgc3BhY2VcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIG5ldyB5IGNvb3JkaW5hdGUgaW4gYm94MmQgc3BhY2VcbiAgICovXG4gIHNldFBvc2l0aW9uKGJvZHlJZCwgeCwgeSl7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0UG9zaXRpb24obmV3IEIyVmVjMih4LCB5KSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmdsZSBvZiBhbiBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgVGhlIG5ldyBhbmdsZSBvZiB0aGUgYm9keSBpbiByYWRpYW5zXG4gICAqL1xuICBzZXRBbmdsZShib2R5SWQsIGFuZ2xlKXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgY29uc29sZS5sb2coJ3NldCBhbmdsZScsIGJvZHkuc2V0QW5nbGUsIGJvZHkpO1xuICAgIGJvZHkuc2V0QW5nbGUoYW5nbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGluZWFyIHZlbG9jaXR5IG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSBuZXcgeCBjb21wb25lbnQgb2YgdGhlIHZlbG9jaXR5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSBuZXcgeSBjb21wb25lbnQgb2YgdGhlIHZlbG9jaXR5XG4gICAqL1xuICBzZXRMaW5lYXJWZWxvY2l0eShib2R5SWQsIHgsIHkpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldExpbmVhclZlbG9jaXR5KG5ldyBCMlZlYzIoeCwgeSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5ndWxhciB2ZWxvY2l0eSBvZiBhbiBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVsb2NpdHkgVGhlIGFuZ3VsYXIgdmVsb2NpdHkgZm9yIHRoZSBib2R5XG4gICAqL1xuICBzZXRBbmd1bGFyVmVsb2NpdHkoYm9keUlkLCB2ZWxvY2l0eSl7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0QW5ndWxhclZlbG9jaXR5KHZlbG9jaXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhbiBpbXB1bHNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlcyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGltcHVsc2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgaW1wdWxzZSBwb3dlci5cbiAgICovXG4gIGFwcGx5SW1wdWxzZURlZ3JlZXMoYm9keUlkLCBkZWdyZWVzLCBwb3dlcikge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LkFwcGx5SW1wdWxzZShcbiAgICAgIG5ldyBCMlZlYzIoTWF0aC5zaW4oZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKSkgKiBwb3dlcixcbiAgICAgIE1hdGguY29zKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIgKiAtMSksXG4gICAgICBib2R5LkdldFdvcmxkQ2VudGVyKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEgZm9yY2UgdG8gYSBib2R5IGF0IGFuIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzIFRoZSBhbmdsZSBpbiB3aGljaCB0byBhcHBseSB0aGUgZm9yY2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgcG93ZXIgb2YgdGhlIGZvcmNlLiAoVGhlIGFiaWxpdHkgdG8gZGVzdHJveSBhIHBsYW5ldCBpcyBpbnNpZ25pZmljYW50IG5leHQgdG8gdGhpcylcbiAgICovXG4gIGFwcGx5Rm9yY2VEZWdyZWVzKGJvZHlJZCwgZGVncmVlcywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUZvcmNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MoZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKSkgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYW4gaW1wdWxzZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gcmFkaWFuc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBpbXB1bHNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIGltcHVsc2UgcG93ZXIuXG4gICAqL1xuICBhcHBseUltcHVsc2UoYm9keUlkLCByYWRpYW5zLCBwb3dlcikge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LkFwcGx5SW1wdWxzZShcbiAgICAgIG5ldyBCMlZlYzIoTWF0aC5zaW4ocmFkaWFucykgKiBwb3dlcixcbiAgICAgIE1hdGguY29zKHJhZGlhbnMpICogcG93ZXIgKiAtMSksXG4gICAgICBib2R5LkdldFdvcmxkQ2VudGVyKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEgZm9yY2UgdG8gYSBib2R5IGF0IGFuIGFuZ2xlIGluIHJhZGlhbnNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIFRoZSBhbmdsZSBpbiB3aGljaCB0byBhcHBseSB0aGUgZm9yY2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgcG93ZXIgb2YgdGhlIGZvcmNlLiAoVGhlIGFiaWxpdHkgdG8gZGVzdHJveSBhIHBsYW5ldCBpcyBpbnNpZ25pZmljYW50IG5leHQgdG8gdGhpcylcbiAgICovXG4gIGFwcGx5Rm9yY2UoYm9keUlkLCByYWRpYW5zLCBwb3dlcikge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LkFwcGx5Rm9yY2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKHJhZGlhbnMpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhyYWRpYW5zKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuZ2xlIG9mIGEgZHluYW1pYyBib2R5IGluIHJhZGlhbnNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIFRoZSBhbmdsZSB0byBzZXQgdGhlIGJvZHkgdG8uXG4gICAqL1xuICBzZXRBbmdsZShib2R5SWQsIHJhZGlhbnMpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRBbmdsZShyYWRpYW5zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuZ3VsYXJ5IHZlbG9jaXR5IG9mIGEgZHluYW1pYyBib2R5XG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVsb2NpdHkgVGhlIHZlbG9jaXR5IHRvIHNldCB0aGUgYm9keSB0by5cbiAgICovXG4gIHNldEFuZ2x1bGFyVmVsb2NpdHkoYm9keUlkLCB2ZWxvY2l0eSkge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldEFuZ3VsYXJWZWxvY2l0eSh2ZWxvY2l0eSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBcHBseSB0b3JxdWUgKHJvdGF0aW9uIGZvcmNlKSB0byBhIGJvZHkuXG4gICAqIFBvc2l0aXZlIHZhbHVlcyBhcmUgY2xvY2t3aXNlLCBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBwb3dlciBvZiB0aGUgdG9ycXVlLlxuICAgKi9cbiAgYXBwbHlUb3JxdWUoYm9keUlkLCBwb3dlcikge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LkFwcGx5VG9ycXVlKHBvd2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB3b3JsZCdzIGdyYXZpdHlcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtPYmplY3R9IHZlY3RvciBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcyBpbiBtZXRlcnMgcGVyIHNlY29uZCBzcXVhcmVkLlxuICAgKi9cbiAgc2V0R3Jhdml0eSh2ZWN0b3IpIHtcbiAgICB0aGlzLmIyV29ybGQuU2V0R3Jhdml0eShuZXcgQjJWZWMyKHZlY3Rvci54LCB2ZWN0b3IueSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGJvZHkgZnJvbSB0aGUgYm94MmQgd29ybGRcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqL1xuICByZW1vdmVCb2R5KGlkKSB7XG4gICAgaWYodGhpcy5ib2RpZXNNYXBbaWRdKXtcbiAgICAgIGlmKHRoaXMuZml4dHVyZXNNYXBbaWRdKXtcbiAgICAgICAgdGhpcy5ib2RpZXNNYXBbaWRdLkRlc3Ryb3lGaXh0dXJlKHRoaXMuZml4dHVyZXNNYXBbaWRdKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYjJXb3JsZC5EZXN0cm95Qm9keSh0aGlzLmJvZGllc01hcFtpZF0pO1xuICAgICAgLy9kZWxldGUgdGhpcy5maXh0dXJlc01hcFtpZF07XG4gICAgICBkZWxldGUgdGhpcy5ib2RpZXNNYXBbaWRdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXYWtlIHVwIGEgYm9keSBpbiB0aGUgYm94MmQgd29ybGQgc28gdGhhdCBib3gyZCB3aWxsIGNvbnRpbnVlIHRvIHJ1biBjYWxjdWxhdGlvbnMgb24gaXQuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKi9cbiAgd2FrZVVwQm9keShpZCkge1xuICAgIGlmKHRoaXMuYm9kaWVzTWFwW2lkXSl7XG4gICAgICB0aGlzLmJvZGllc01hcFtpZF0uU2V0QXdha2UodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNvbnRhY3RMaXN0ZW5lciB0byB0aGUgYjJXb3JsZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrcyBPYmplY3QgY29udGFpbmluZyBhIGJlZ2luQ29udGFudCwgZW5kQ29udGFjdCBhbmQvb3IgcHJlU29sdmUvcG9zdFNvbHZlIGtleXMgYW5kIGNhbGxiYWNrc1xuICAgKi9cbiAgYWRkQ29udGFjdExpc3RlbmVyKGNvbnRhY3RMaXN0ZW5lcil7XG4gICAgdmFyIGxpc3RlbmVyID0gbmV3IEJveDJELkR5bmFtaWNzLmIyQ29udGFjdExpc3RlbmVyKCk7XG4gICAgaWYoY29udGFjdExpc3RlbmVyLmJlZ2luQ29udGFjdCl7XG4gICAgICBsaXN0ZW5lci5CZWdpbkNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KXtcbiAgICAgICAgY29udGFjdExpc3RlbmVyLmJlZ2luQ29udGFjdChjb250YWN0Lm1fZml4dHVyZUEubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QubV9maXh0dXJlQi5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZihjb250YWN0TGlzdGVuZXIuZW5kQ29udGFjdCl7XG4gICAgICBsaXN0ZW5lci5FbmRDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5lbmRDb250YWN0KGNvbnRhY3QubV9maXh0dXJlQS5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdC5tX2ZpeHR1cmVCLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmKGNvbnRhY3RMaXN0ZW5lci5wcmVTb2x2ZSl7XG4gICAgICBsaXN0ZW5lci5QcmVTb2x2ZSA9IGZ1bmN0aW9uKGNvbnRhY3QsIG9sZE1hbmlmb2xkKXtcbiAgICAgICAgY29udGFjdExpc3RlbmVyLnByZVNvbHZlKGNvbnRhY3QubV9maXh0dXJlQS5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdC5tX2ZpeHR1cmVCLm1fYm9keS5tX3VzZXJEYXRhLCBvbGRNYW5pZm9sZCwgY29udGFjdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoY29udGFjdExpc3RlbmVyLnBvc3RTb2x2ZSl7XG4gICAgICBsaXN0ZW5lci5Qb3N0U29sdmUgPSBmdW5jdGlvbihjb250YWN0LCBpbXB1bHNlKXtcbiAgICAgICAgY29udGFjdExpc3RlbmVyLnBvc3RTb2x2ZShjb250YWN0Lm1fZml4dHVyZUEubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QubV9maXh0dXJlQi5tX2JvZHkubV91c2VyRGF0YSwgaW1wdWxzZSwgY29udGFjdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmIyV29ybGQuU2V0Q29udGFjdExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBqb2ludCBmcm9tIHRoZSB3b3JsZC5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uLCBhbmQgQkVGT1JFIGFueSBib2RpZXMgY29ubmVjdGVkIHRvIHRoZSBqb2ludCBhcmUgcmVtb3ZlZCFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBqb2ludElkIFRoZSBpZCBvZiBqb2ludCB0byBiZSBkZXN0cm95ZWQuXG4gICAqL1xuICByZW1vdmVKb2ludChqb2ludElkKSB7XG4gICAgaWYodGhpcy5qb2ludHNNYXBbam9pbnRJZF0pe1xuICAgICAgdGhpcy5iMldvcmxkLkRlc3Ryb3lKb2ludCh0aGlzLmpvaW50c01hcFtqb2ludElkXSk7XG4gICAgICBkZWxldGUgdGhpcy5qb2ludHNNYXBbam9pbnRJZF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGpvaW50IHRvIHRoZSBib3gyZCB3b3JsZC5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtKb2ludH0gQSBqb2ludCBkZWZpbml0aW9uLlxuICAgKi9cbiAgYWRkSm9pbnQoam9pbnQpIHtcbiAgICBpZihqb2ludCAmJiBqb2ludC5pZCAmJiAhdGhpcy5qb2ludHNNYXBbam9pbnQuaWRdKXtcblxuICAgICAgaWYoIWpvaW50LmFscmVhZHlTY2FsZWQgJiYgam9pbnQuc2NhbGVKb2ludExvY2F0aW9uKXtcbiAgICAgICAgam9pbnQuc2NhbGVKb2ludExvY2F0aW9uKDEgLyB0aGlzLnNjYWxlKTtcbiAgICAgICAgam9pbnQuc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYjJKb2ludCA9IGpvaW50LmNyZWF0ZUIySm9pbnQodGhpcyk7XG4gICAgICBpZihiMkpvaW50KXtcbiAgICAgICAgdGhpcy5qb2ludHNNYXBbam9pbnQuaWRdID0gYjJKb2ludDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCb3g7XG5cbiIsImNvbnN0IHdhbGxSZXN0aXR1dGlvbiA9IDE7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBcImVudGl0aWVzXCI6IFtcbiAgICB7XG4gICAgICBcInBvaW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogLTEwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDU2OC4xMDExMyxcbiAgICAgICAgICBcInlcIjogLTEwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDU2OC4xMDExMyxcbiAgICAgICAgICBcInlcIjogMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwiaWRcIjogXCJ1bGVmdHdcIixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uXG4gICAgfSxcbiAgICB7XG4gICAgICBcInBvaW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAxMDgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwid2FsbFwiOiB0cnVlLFxuICAgICAgXCJpZFwiOiBcImxsZWZ0d1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInBvaW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogLTEwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDIwMjAsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxOTIwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxMzUxLjg5ODg3LFxuICAgICAgICAgIFwieVwiOiAwXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgXCJ4XCI6IDAsXG4gICAgICBcInlcIjogMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb24sXG4gICAgICBcImlkXCI6IFwidXJpZ2h0dHdcIixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIFwicG9pbnRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxMzUxLjg5ODg3LFxuICAgICAgICAgIFwieVwiOiAxMDgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTkyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMjAyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMjAyMCxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IDExODBcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBcInhcIjogMCxcbiAgICAgIFwieVwiOiAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJQb2x5Z29uXCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaWRcIjogXCJscmlnaHR0d1wiLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwid2FsbFwiOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJ4XCI6IDk2MCxcbiAgICAgIFwieVwiOiAxMTgwLFxuICAgICAgXCJoYWxmV2lkdGhcIjogMTAwMCxcbiAgICAgIFwiaGFsZkhlaWdodFwiOiAxMDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlJlY3RhbmdsZVwiLFxuICAgICAgXCJpZFwiOiBcImJvdHRvbXdcIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwid2FsbFwiOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJ4XCI6IDk2MCxcbiAgICAgIFwieVwiOiAtMTAwLFxuICAgICAgXCJoYWxmV2lkdGhcIjogMTAwMCxcbiAgICAgIFwiaGFsZkhlaWdodFwiOiAxMDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlJlY3RhbmdsZVwiLFxuICAgICAgXCJpZFwiOiBcInRvcHdcIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwid2FsbFwiOiB0cnVlLFxuICAgIH0sXG4gIF0sXG4gIFwiam9pbnRzXCI6IFtcbiAgXSxcbiAgXCJjYW52YXNcIjoge1xuICAgIFwiaGVpZ2h0XCI6IDYwMCxcbiAgICBcIndpZHRoXCI6IDgwMFxuICB9LFxuICBcImJhY2tJbWdcIjogbnVsbFxufTsiLCIvKiEgSGFtbWVyLkpTIC0gdjIuMC43IC0gMjAxNi0wNC0yMlxuICogaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgSm9yaWsgVGFuZ2VsZGVyO1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgZXhwb3J0TmFtZSwgdW5kZWZpbmVkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxudmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xudmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG52YXIgVFlQRV9GVU5DVElPTiA9ICdmdW5jdGlvbic7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgYWJzID0gTWF0aC5hYnM7XG52YXIgbm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZW91dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZEZuKGZuLCBjb250ZXh0KSwgdGltZW91dCk7XG59XG5cbi8qKlxuICogaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCB3ZSB3YW50IHRvIGV4ZWN1dGUgdGhlIGZuIG9uIGVhY2ggZW50cnlcbiAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp8QXJyYXl9IGFyZ1xuICogQHBhcmFtIHtTdHJpbmd9IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW52b2tlQXJyYXlBcmcoYXJnLCBmbiwgY29udGV4dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciBpO1xuXG4gICAgaWYgKCFvYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYmouZm9yRWFjaCkge1xuICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgb2JqLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogd3JhcCBhIG1ldGhvZCB3aXRoIGEgZGVwcmVjYXRpb24gd2FybmluZyBhbmQgc3RhY2sgdHJhY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtZXRob2QsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlID0gbmV3IEVycm9yKCdnZXQtc3RhY2stdHJhY2UnKTtcbiAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSwgJ3thbm9ueW1vdXN9KClAJykgOiAnVW5rbm93biBTdGFjayBUcmFjZSc7XG5cbiAgICAgICAgdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS53YXJuIHx8IHdpbmRvdy5jb25zb2xlLmxvZyk7XG4gICAgICAgIGlmIChsb2cpIHtcbiAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cbiAqIEByZXR1cm5zIHtPYmplY3R9IHRhcmdldFxuICovXG52YXIgYXNzaWduO1xuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59IGVsc2Uge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghbWVyZ2UgfHwgKG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIGRlc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgdGhhdCBleGlzdCBpbiBkZXN0IHdpbGwgbm90IGJlIG92ZXJ3cml0dGVuIGJ5IHNyY1xuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIG1lcmdlID0gZGVwcmVjYXRlKGZ1bmN0aW9uIG1lcmdlKGRlc3QsIHNyYykge1xuICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjLCB0cnVlKTtcbn0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuICovXG5mdW5jdGlvbiBpbmhlcml0KGNoaWxkLCBiYXNlLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG4gICAgICAgIGNoaWxkUDtcblxuICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICAgIGNoaWxkUC5fc3VwZXIgPSBiYXNlUDtcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFzc2lnbihjaGlsZFAsIHByb3BlcnRpZXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBzaW1wbGUgZnVuY3Rpb24gYmluZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuXG4gKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJnc11cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PSBUWVBFX0ZVTkNUSU9OKSB7XG4gICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cblxuLyoqXG4gKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuICogQHBhcmFtIHsqfSB2YWwxXG4gKiBAcGFyYW0geyp9IHZhbDJcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBpZlVuZGVmaW5lZCh2YWwxLCB2YWwyKSB7XG4gICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG59XG5cbi8qKlxuICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG4gKiBAbWV0aG9kIGhhc1BhcmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGluU3RyKHN0ciwgZmluZCkge1xuICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xufVxuXG4vKipcbiAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0U3RyKHN0cikge1xuICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGxcbiAqIEBwYXJhbSB7QXJyYXl9IHNyY1xuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XVxuICogQHJldHVybiB7Qm9vbGVhbnxOdW1iZXJ9IGZhbHNlIHdoZW4gbm90IGZvdW5kLCBvciB0aGUgaW5kZXhcbiAqL1xuZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkge1xuICAgIGlmIChzcmMuaW5kZXhPZiAmJiAhZmluZEJ5S2V5KSB7XG4gICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG5cbi8qKlxuICogY29udmVydCBhcnJheS1saWtlIG9iamVjdHMgdG8gcmVhbCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcbn1cblxuLyoqXG4gKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWVcbiAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG4gKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdXG4gKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuICovXG5mdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsID0ga2V5ID8gc3JjW2ldW2tleV0gOiBzcmNbaV07XG4gICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uIHNvcnRVbmlxdWVBcnJheShhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8qKlxuICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcbiAqL1xuZnVuY3Rpb24gcHJlZml4ZWQob2JqLCBwcm9wZXJ0eSkge1xuICAgIHZhciBwcmVmaXgsIHByb3A7XG4gICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IFZFTkRPUl9QUkVGSVhFUy5sZW5ndGgpIHtcbiAgICAgICAgcHJlZml4ID0gVkVORE9SX1BSRUZJWEVTW2ldO1xuICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblxuICAgICAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBnZXQgYSB1bmlxdWUgaWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG4gKi9cbnZhciBfdW5pcXVlSWQgPSAxO1xuZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG4gICAgcmV0dXJuIF91bmlxdWVJZCsrO1xufVxuXG4vKipcbiAqIGdldCB0aGUgd2luZG93IG9iamVjdCBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuICAgIHJldHVybiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cgfHwgd2luZG93KTtcbn1cblxudmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcblxudmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcbnZhciBTVVBQT1JUX1BPSU5URVJfRVZFTlRTID0gcHJlZml4ZWQod2luZG93LCAnUG9pbnRlckV2ZW50JykgIT09IHVuZGVmaW5lZDtcbnZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG52YXIgSU5QVVRfVFlQRV9UT1VDSCA9ICd0b3VjaCc7XG52YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcbnZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcbnZhciBJTlBVVF9UWVBFX0tJTkVDVCA9ICdraW5lY3QnO1xuXG52YXIgQ09NUFVURV9JTlRFUlZBTCA9IDI1O1xuXG52YXIgSU5QVVRfU1RBUlQgPSAxO1xudmFyIElOUFVUX01PVkUgPSAyO1xudmFyIElOUFVUX0VORCA9IDQ7XG52YXIgSU5QVVRfQ0FOQ0VMID0gODtcblxudmFyIERJUkVDVElPTl9OT05FID0gMTtcbnZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcbnZhciBESVJFQ1RJT05fVVAgPSA4O1xudmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cbnZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUO1xudmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xudmFyIERJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTDtcblxudmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcbnZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSW5wdXQobWFuYWdlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5lbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXG4gICAgLy8gc21hbGxlciB3cmFwcGVyIGFyb3VuZCB0aGUgaGFuZGxlciwgZm9yIHRoZSBzY29wZSBhbmQgdGhlIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1hbmFnZXIsXG4gICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuICAgIHRoaXMuZG9tSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cbklucHV0LnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG4gICAgdmFyIFR5cGU7XG4gICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblxuICAgIGlmIChpbnB1dENsYXNzKSB7XG4gICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuICAgICAgICBUeXBlID0gUG9pbnRlckV2ZW50SW5wdXQ7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7XG4gICAgfSBlbHNlIGlmICghU1VQUE9SVF9UT1VDSCkge1xuICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBUeXBlID0gVG91Y2hNb3VzZUlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xufVxuXG4vKipcbiAqIGhhbmRsZSBpbnB1dCBldmVudHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBpc0ZpcnN0ID0gKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuICAgIHZhciBpc0ZpbmFsID0gKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXG4gICAgaW5wdXQuaXNGaXJzdCA9ICEhaXNGaXJzdDtcbiAgICBpbnB1dC5pc0ZpbmFsID0gISFpc0ZpbmFsO1xuXG4gICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgbWFuYWdlci5zZXNzaW9uID0ge307XG4gICAgfVxuXG4gICAgLy8gc291cmNlIGV2ZW50IGlzIHRoZSBub3JtYWxpemVkIHZhbHVlIG9mIHRoZSBkb21FdmVudHNcbiAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcbiAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcbiAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTtcblxuICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG4gICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7XG5cbiAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG4gICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xufVxuXG4vKipcbiAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGNcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuICAgIHZhciBzZXNzaW9uID0gbWFuYWdlci5zZXNzaW9uO1xuICAgIHZhciBwb2ludGVycyA9IGlucHV0LnBvaW50ZXJzO1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIHN0b3JlIHRoZSBmaXJzdCBpbnB1dCB0byBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGFuZCBkaXJlY3Rpb25cbiAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuICAgIGlmIChwb2ludGVyc0xlbmd0aCA+IDEgJiYgIXNlc3Npb24uZmlyc3RNdWx0aXBsZSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfSBlbHNlIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dDtcbiAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcbiAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG5cbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcbiAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICBpbnB1dC5kZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBmaXJzdElucHV0LnRpbWVTdGFtcDtcblxuICAgIGlucHV0LmFuZ2xlID0gZ2V0QW5nbGUob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuICAgIGlucHV0LmRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXG4gICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cbiAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WCA9IG92ZXJhbGxWZWxvY2l0eS54O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSAoYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkpID8gb3ZlcmFsbFZlbG9jaXR5LnggOiBvdmVyYWxsVmVsb2NpdHkueTtcblxuICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG4gICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcblxuICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuICAgICAgICBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycykgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycyk7XG5cbiAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXG4gICAgLy8gZmluZCB0aGUgY29ycmVjdCB0YXJnZXRcbiAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG4gICAgICAgIHRhcmdldCA9IGlucHV0LnNyY0V2ZW50LnRhcmdldDtcbiAgICB9XG4gICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG4gICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2SW5wdXQgPSBzZXNzaW9uLnByZXZJbnB1dCB8fCB7fTtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuICAgICAgICBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcbiAgICAgICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuICAgICAgICB9O1xuXG4gICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBjZW50ZXIueCxcbiAgICAgICAgICAgIHk6IGNlbnRlci55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5wdXQuZGVsdGFYID0gcHJldkRlbHRhLnggKyAoY2VudGVyLnggLSBvZmZzZXQueCk7XG4gICAgaW5wdXQuZGVsdGFZID0gcHJldkRlbHRhLnkgKyAoY2VudGVyLnkgLSBvZmZzZXQueSk7XG59XG5cbi8qKlxuICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvblxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBsYXN0ID0gc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgfHwgaW5wdXQsXG4gICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuICAgICAgICB2ZWxvY2l0eSwgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIGRpcmVjdGlvbjtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuICAgICAgICB2YXIgZGVsdGFZID0gaW5wdXQuZGVsdGFZIC0gbGFzdC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgdmVsb2NpdHlYID0gdi54O1xuICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG4gICAgICAgIHZlbG9jaXR5ID0gKGFicyh2LngpID4gYWJzKHYueSkpID8gdi54IDogdi55O1xuICAgICAgICBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuXG4gICAgICAgIHNlc3Npb24ubGFzdEludGVydmFsID0gaW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuICAgICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG4gICAgICAgIHZlbG9jaXR5WCA9IGxhc3QudmVsb2NpdHlYO1xuICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcbiAgICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICBpbnB1dC52ZWxvY2l0eVggPSB2ZWxvY2l0eVg7XG4gICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbn1cblxuLyoqXG4gKiBjcmVhdGUgYSBzaW1wbGUgY2xvbmUgZnJvbSB0aGUgaW5wdXQgdXNlZCBmb3Igc3RvcmFnZSBvZiBmaXJzdElucHV0IGFuZCBmaXJzdE11bHRpcGxlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuICovXG5mdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuICAgIC8vIHdlIG9ubHkgbmVlZCBjbGllbnRYWSBmb3IgdGhlIGNhbGN1bGF0aW9uc1xuICAgIHZhciBwb2ludGVycyA9IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgICAgICBwb2ludGVyc1tpXSA9IHtcbiAgICAgICAgICAgIGNsaWVudFg6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFgpLFxuICAgICAgICAgICAgY2xpZW50WTogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcbiAgICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuICAgICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCxcbiAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcbiAgICAgICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHggPSAwLCB5ID0gMCwgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuICAgICAgICB4ICs9IHBvaW50ZXJzW2ldLmNsaWVudFg7XG4gICAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksXG4gICAgICAgIHk6IHJvdW5kKHkgLyBwb2ludGVyc0xlbmd0aClcbiAgICB9O1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgYmV0d2VlbiB0d28gcG9pbnRzLiB1bml0IGlzIGluIHB4IHBlciBtcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuICovXG5mdW5jdGlvbiBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG4gICAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIERJUkVDVElPTl9OT05FO1xuICAgIH1cblxuICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7XG4gICAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cbiAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFic29sdXRlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuICogQHBhcmFtIHtPYmplY3R9IHAyIHt4LCB5fVxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMVxuICogQHBhcmFtIHtPYmplY3R9IHAyXG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbmZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGRlZ3JlZXMgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gcm90YXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0Um90YXRpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXRBbmdsZShlbmRbMV0sIGVuZFswXSwgUFJPUFNfQ0xJRU5UX1hZKSArIGdldEFuZ2xlKHN0YXJ0WzFdLCBzdGFydFswXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG4gKi9cbmZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbnZhciBNT1VTRV9JTlBVVF9NQVAgPSB7XG4gICAgbW91c2Vkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG4gICAgbW91c2V1cDogSU5QVVRfRU5EXG59O1xuXG52YXIgTU9VU0VfRUxFTUVOVF9FVkVOVFMgPSAnbW91c2Vkb3duJztcbnZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcblxuLyoqXG4gKiBNb3VzZSBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUztcblxuICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOyAvLyBtb3VzZWRvd24gc3RhdGVcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTUVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkge1xuICAgICAgICAgICAgZXZlbnRUeXBlID0gSU5QVVRfRU5EO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBQT0lOVEVSX0lOUFVUX01BUCA9IHtcbiAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG4gICAgcG9pbnRlcm1vdmU6IElOUFVUX01PVkUsXG4gICAgcG9pbnRlcnVwOiBJTlBVVF9FTkQsXG4gICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuICAgIHBvaW50ZXJvdXQ6IElOUFVUX0NBTkNFTFxufTtcblxuLy8gaW4gSUUxMCB0aGUgcG9pbnRlciB0eXBlcyBpcyBkZWZpbmVkIGFzIGFuIGVudW1cbnZhciBJRTEwX1BPSU5URVJfVFlQRV9FTlVNID0ge1xuICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgMzogSU5QVVRfVFlQRV9QRU4sXG4gICAgNDogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcbn07XG5cbnZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcbnZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnO1xuXG4vLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcbmlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQgJiYgIXdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG59XG5cbi8qKlxuICogUG9pbnRlciBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gUE9JTlRFUl9XSU5ET1dfRVZFTlRTO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuc3RvcmUgPSAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cyA9IFtdKTtcbn1cblxuaW5oZXJpdChQb2ludGVyRXZlbnRJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gUEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGV2ZW50VHlwZU5vcm1hbGl6ZWQgPSBldi50eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnbXMnLCAnJyk7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcbiAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cbiAgICAgICAgLy8gZ2V0IGluZGV4IG9mIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblxuICAgICAgICAvLyBzdGFydCBhbmQgbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG4gICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5wdXNoKGV2KTtcbiAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3ZlcilcbiAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBwb2ludGVyVHlwZSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG4gICAgICAgICAgICBzdG9yZS5zcGxpY2Uoc3RvcmVJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQnO1xudmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBUb3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gU2luZ2xlVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gc2hvdWxkIHdlIGhhbmRsZSB0aGUgdG91Y2ggZXZlbnRzP1xuICAgICAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXG4gICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiB0b3VjaGVzWzBdLmxlbmd0aCAtIHRvdWNoZXNbMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblxuICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgYWxsID0gdW5pcXVlQXJyYXkoYWxsLmNvbmNhdChjaGFuZ2VkKSwgJ2lkZW50aWZpZXInLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2FsbCwgY2hhbmdlZF07XG59XG5cbnZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFRPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy50YXJnZXRJZHMgPSB7fTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGdldFRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG4gICAgICAgIGlmICghdG91Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzO1xuXG4gICAgLy8gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSB0b3VjaCwgdGhlIHByb2Nlc3MgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICBpZiAodHlwZSAmIChJTlBVVF9TVEFSVCB8IElOUFVUX01PVkUpICYmIGFsbFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcbiAgICB9XG5cbiAgICB2YXIgaSxcbiAgICAgICAgdGFyZ2V0VG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXSxcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG5cbiAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzXG4gICAgdGFyZ2V0VG91Y2hlcyA9IGFsbFRvdWNoZXMuZmlsdGVyKGZ1bmN0aW9uKHRvdWNoKSB7XG4gICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuICAgIH0pO1xuXG4gICAgLy8gY29sbGVjdCB0b3VjaGVzXG4gICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXJnZXRJZHNbdGFyZ2V0VG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuICAgICAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlc1xuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoIWNoYW5nZWRUYXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgLy8gbWVyZ2UgdGFyZ2V0VG91Y2hlcyB3aXRoIGNoYW5nZWRUYXJnZXRUb3VjaGVzIHNvIGl0IGNvbnRhaW5zIEFMTCB0b3VjaGVzLCBpbmNsdWRpbmcgJ2VuZCcgYW5kICdjYW5jZWwnXG4gICAgICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcbiAgICBdO1xufVxuXG4vKipcbiAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuICpcbiAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLlxuICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuXG52YXIgREVEVVBfVElNRU9VVCA9IDI1MDA7XG52YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblxuZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KCkge1xuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgaGFuZGxlciA9IGJpbmRGbih0aGlzLmhhbmRsZXIsIHRoaXMpO1xuICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXG4gICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuICAgIHRoaXMubGFzdFRvdWNoZXMgPSBbXTtcbn1cblxuaW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dEV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRNRWhhbmRsZXIobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcbiAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpO1xuXG4gICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgaW5wdXREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayhtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmRlc3Ryb3koKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hlcyhldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRMYXN0VG91Y2goZXZlbnREYXRhKSB7XG4gICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblxuICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLnByaW1hcnlUb3VjaCkge1xuICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuICAgICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcbiAgICAgICAgdmFyIGx0cyA9IHRoaXMubGFzdFRvdWNoZXM7XG4gICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpID0gbHRzLmluZGV4T2YobGFzdFRvdWNoKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuICAgIHZhciB4ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFgsIHkgPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuICAgICAgICB2YXIgZHggPSBNYXRoLmFicyh4IC0gdC54KSwgZHkgPSBNYXRoLmFicyh5IC0gdC55KTtcbiAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xudmFyIE5BVElWRV9UT1VDSF9BQ1RJT04gPSBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gIT09IHVuZGVmaW5lZDtcblxuLy8gbWFnaWNhbCB0b3VjaEFjdGlvbiB2YWx1ZVxudmFyIFRPVUNIX0FDVElPTl9DT01QVVRFID0gJ2NvbXB1dGUnO1xudmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xudmFyIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04gPSAnbWFuaXB1bGF0aW9uJzsgLy8gbm90IGltcGxlbWVudGVkXG52YXIgVE9VQ0hfQUNUSU9OX05PTkUgPSAnbm9uZSc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14JztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xudmFyIFRPVUNIX0FDVElPTl9NQVAgPSBnZXRUb3VjaEFjdGlvblByb3BzKCk7XG5cbi8qKlxuICogVG91Y2ggQWN0aW9uXG4gKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUb3VjaEFjdGlvbihtYW5hZ2VyLCB2YWx1ZSkge1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5zZXQodmFsdWUpO1xufVxuXG5Ub3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgICBpZiAodmFsdWUgPT0gVE9VQ0hfQUNUSU9OX0NPTVBVVEUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUFJFRklYRURfVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcbiAgICAgKi9cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvbXB1dGUgdGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlY29nbml6ZXIncyBzZXR0aW5nc1xuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgY29tcHV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGVhY2ggaW5wdXQgY3ljbGUgYW5kIHByb3ZpZGVzIHRoZSBwcmV2ZW50aW5nIG9mIHRoZSBicm93c2VyIGJlaGF2aW9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHRzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblxuICAgICAgICAvLyBpZiB0aGUgdG91Y2ggYWN0aW9uIGRpZCBwcmV2ZW50ZWQgb25jZSB0aGlzIHNlc3Npb25cbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1ldO1xuICAgICAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9YXTtcblxuICAgICAgICBpZiAoaGFzTm9uZSkge1xuICAgICAgICAgICAgLy9kbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcblxuICAgICAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIHZhciBpc1RhcE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCAyO1xuICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXG4gICAgICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzTm9uZSB8fFxuICAgICAgICAgICAgKGhhc1BhblkgJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHx8XG4gICAgICAgICAgICAoaGFzUGFuWCAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsIHByZXZlbnREZWZhdWx0IHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcgaW4gbW9zdCBjYXNlcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcbiAgICAgKi9cbiAgICBwcmV2ZW50U3JjOiBmdW5jdGlvbihzcmNFdmVudCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAvLyBub25lXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblxuICAgIC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuICAgIC8vIGZvciBkaWZmZXJlbnQgZGlyZWN0aW9ucywgZS5nLiBob3Jpem9udGFsIHBhbiBidXQgdmVydGljYWwgc3dpcGU/KVxuICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG4gICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgLy8gcGFuLXggT1IgcGFuLXlcbiAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBoYXNQYW5YID8gVE9VQ0hfQUNUSU9OX1BBTl9YIDogVE9VQ0hfQUNUSU9OX1BBTl9ZO1xuICAgIH1cblxuICAgIC8vIG1hbmlwdWxhdGlvblxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcbiAgICB9XG5cbiAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG4gICAgaWYgKCFOQVRJVkVfVE9VQ0hfQUNUSU9OKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRvdWNoTWFwID0ge307XG4gICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24odmFsKSB7XG5cbiAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG4gICAgICAgIC8vIGFsbCB2YWx1ZXMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIElFIDEwIGFuZCAxMS5cbiAgICAgICAgdG91Y2hNYXBbdmFsXSA9IGNzc1N1cHBvcnRzID8gd2luZG93LkNTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgdmFsKSA6IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdWNoTWFwO1xufVxuXG4vKipcbiAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICpcbiAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cbiAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwXG4gKlxuICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS5cbiAqXG4gKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG4gKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLlxuICpcbiAqICAgICAgICAgICAgICAgUG9zc2libGVcbiAqICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfFxuICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkXG4gKi9cbnZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG52YXIgU1RBVEVfQkVHQU4gPSAyO1xudmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xudmFyIFNUQVRFX0VOREVEID0gODtcbnZhciBTVEFURV9SRUNPR05JWkVEID0gU1RBVEVfRU5ERUQ7XG52YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG52YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cbi8qKlxuICogUmVjb2duaXplclxuICogRXZlcnkgcmVjb2duaXplciBuZWVkcyB0byBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cbiAgICB0aGlzLm1hbmFnZXIgPSBudWxsO1xuXG4gICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuICAgIHRoaXMub3B0aW9ucy5lbmFibGUgPSBpZlVuZGVmaW5lZCh0aGlzLm9wdGlvbnMuZW5hYmxlLCB0cnVlKTtcblxuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblxuICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG4gICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xufVxuXG5SZWNvZ25pemVyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgZGVmYXVsdHM6IHt9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1JlY29nbml6ZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG4gICAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcbiAgICAgICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlY29nbml6ZVdpdGgodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemVyIGNhbiBvbmx5IHJ1biB3aGVuIGFuIG90aGVyIGlzIGZhaWxpbmdcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuICAgICAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlmIHRoZSByZWNvZ25pemVyIGNhbiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFlvdSBzaG91bGQgdXNlIGB0cnlFbWl0YCBpbnN0ZWFkIG9mIGBlbWl0YCBkaXJlY3RseSB0byBjaGVja1xuICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYubWFuYWdlci5lbWl0KGV2ZW50LCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAncGFuc3RhcnQnIGFuZCAncGFubW92ZSdcbiAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXG4gICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG4gICAgICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYW5lbmQgYW5kIHBhbmNhbmNlbFxuICAgICAgICBpZiAoc3RhdGUgPj0gU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGF0IGFsbCB0aGUgcmVxdWlyZSBmYWlsdXJlIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQsXG4gICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5jYW5FbWl0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGl0J3MgZmFpbGluZyBhbnl3YXlcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuIHdlIGVtaXQ/XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuRW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5yZXF1aXJlRmFpbFtpXS5zdGF0ZSAmIChTVEFURV9GQUlMRUQgfCBTVEFURV9QT1NTSUJMRSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgLy8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSBpbnB1dERhdGFcbiAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcbiAgICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduKHt9LCBpbnB1dERhdGEpO1xuXG4gICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfUkVDT0dOSVpFRCB8IFNUQVRFX0NBTkNFTExFRCB8IFNUQVRFX0ZBSUxFRCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXG4gICAgICAgIC8vIHRoZSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZVxuICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkge1xuICAgICAgICAgICAgdGhpcy50cnlFbWl0KGlucHV0RGF0YUNsb25lKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHN0YXRlIG9mIHRoZSByZWNvZ25pemVyXG4gICAgICogdGhlIGFjdHVhbCByZWNvZ25pemluZyBoYXBwZW5zIGluIHRoaXMgbWV0aG9kXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICogQHJldHVybnMge0NvbnN0fSBTVEFURVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0RGF0YSkgeyB9LCAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGxlZCB3aGVuIHRoZSBnZXN0dXJlIGlzbid0IGFsbG93ZWQgdG8gcmVjb2duaXplXG4gICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG59O1xuXG4vKipcbiAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuICogQHBhcmFtIHtDb25zdH0gc3RhdGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gKi9cbmZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG4gICAgICAgIHJldHVybiAnY2FuY2VsJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgcmV0dXJuICdlbmQnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9DSEFOR0VEKSB7XG4gICAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG4gICAgICAgIHJldHVybiAnc3RhcnQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG4gKiBAcGFyYW0ge0NvbnN0fSBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG4gICAgICAgIHJldHVybiAnZG93bic7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1VQKSB7XG4gICAgICAgIHJldHVybiAndXAnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9MRUZUKSB7XG4gICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG4gICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlclxuICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gb3RoZXJSZWNvZ25pemVyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAqIEByZXR1cm5zIHtSZWNvZ25pemVyfVxuICovXG5mdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gb3RoZXJSZWNvZ25pemVyO1xufVxuXG4vKipcbiAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBBdHRyUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoQXR0clJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC5cbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZFxuICAgICAqL1xuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHJldHVybiBvcHRpb25Qb2ludGVycyA9PT0gMCB8fCBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvblBvaW50ZXJzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gaW5wdXQuZXZlbnRUeXBlO1xuXG4gICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuYXR0clRlc3QoaW5wdXQpO1xuXG4gICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcbiAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0FOQ0VMTEVEO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfRU5ERUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGFuXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBhbmQgbW92ZWQgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnBYID0gbnVsbDtcbiAgICB0aGlzLnBZID0gbnVsbDtcbn1cblxuaW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGFuJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTFxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1kpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH0sXG5cbiAgICBkaXJlY3Rpb25UZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gaW5wdXQuZGlzdGFuY2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247XG4gICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB2YXIgeSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG4gICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geSAhPSB0aGlzLnBZO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblxuICAgICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQaW5jaFxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXJzIGFyZSBtb3ZpbmcgdG93YXJkICh6b29tLWluKSBvciBhd2F5IGZyb20gZWFjaCBvdGhlciAoem9vbS1vdXQpLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQaW5jaFJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BpbmNoJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQuc2NhbGUgLSAxKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBpbk91dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFByZXNzXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbn1cblxuaW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncHJlc3MnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGltZTogMjUxLCAvLyBtaW5pbWFsIHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgcHJlc3NlZFxuICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9BVVRPXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPiBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCAoaW5wdXQuZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgIXZhbGlkVGltZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArICd1cCcsIGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSb3RhdGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChSb3RhdGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUm90YXRlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncm90YXRlJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFN3aXBlXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBTd2lwZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3N3aXBlJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgdmVsb2NpdHk6IDAuMyxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUGFuUmVjb2duaXplci5wcm90b3R5cGUuZ2V0VG91Y2hBY3Rpb24uY2FsbCh0aGlzKTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgdmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuICAgICAgICAgICAgaW5wdXQuZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkICYmXG4gICAgICAgICAgICBpbnB1dC5tYXhQb2ludGVycyA9PSB0aGlzLm9wdGlvbnMucG9pbnRlcnMgJiZcbiAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQSB0YXAgaXMgZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG9pbmcgYSBzbWFsbCB0YXAvY2xpY2suIE11bHRpcGxlIHRhcHMgYXJlIHJlY29nbml6ZWQgaWYgdGhleSBvY2N1clxuICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG4gKiBhIHNpbmdsZSB0YXAuXG4gKlxuICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG4gKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gVGFwUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvLyBwcmV2aW91cyB0aW1lIGFuZCBjZW50ZXIsXG4gICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG4gICAgdGhpcy5wVGltZSA9IGZhbHNlO1xuICAgIHRoaXMucENlbnRlciA9IGZhbHNlO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbn1cblxuaW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3RhcCcsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0YXBzOiAxLFxuICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuICAgICAgICB0aW1lOiAyNTAsIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG4gICAgICAgIHRocmVzaG9sZDogOSwgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG4gICAgICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG5cbiAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG4gICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cbiAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHRhcCBjb3VudCBtYXRjaGVzIHdlIGhhdmUgcmVjb2duaXplZCBpdCxcbiAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG4gICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzO1xuICAgICAgICAgICAgaWYgKHRhcENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgZmFpbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGFwQ291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbW1lcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpO1xuICAgIHJldHVybiBuZXcgTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuSGFtbWVyLlZFUlNJT04gPSAnMi4wLjcnO1xuXG4vKipcbiAqIGRlZmF1bHQgc2V0dGluZ3NcbiAqIEBuYW1lc3BhY2VcbiAqL1xuSGFtbWVyLmRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBpZiBET00gZXZlbnRzIGFyZSBiZWluZyB0cmlnZ2VyZWQuXG4gICAgICogQnV0IHRoaXMgaXMgc2xvd2VyIGFuZCB1bnVzZWQgYnkgc2ltcGxlIGltcGxlbWVudGF0aW9ucywgc28gZGlzYWJsZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGRvbUV2ZW50czogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cbiAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcbiAgICAgKi9cbiAgICB0b3VjaEFjdGlvbjogVE9VQ0hfQUNUSU9OX0NPTVBVVEUsXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgZW5hYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRVhQRVJJTUVOVEFMIEZFQVRVUkUgLS0gY2FuIGJlIHJlbW92ZWQvY2hhbmdlZFxuICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuICAgICAqIElmIE51bGwsIHRoZW4gaXQgaXMgYmVpbmcgc2V0IHRoZSB0byBtYWluIGVsZW1lbnQuXG4gICAgICogQHR5cGUge051bGx8RXZlbnRUYXJnZXR9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0VGFyZ2V0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogZm9yY2UgYW4gaW5wdXQgY2xhc3NcbiAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRDbGFzczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuICAgICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHByZXNldDogW1xuICAgICAgICAvLyBSZWNvZ25pemVyQ2xhc3MsIG9wdGlvbnMsIFtyZWNvZ25pemVXaXRoLCAuLi5dLCBbcmVxdWlyZUZhaWx1cmUsIC4uLl1cbiAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG4gICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfSwgWydyb3RhdGUnXV0sXG4gICAgICAgIFtTd2lwZVJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfV0sXG4gICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXIsIHtldmVudDogJ2RvdWJsZXRhcCcsIHRhcHM6IDJ9LCBbJ3RhcCddXSxcbiAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cbiAgICBdLFxuXG4gICAgLyoqXG4gICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cbiAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqL1xuICAgIGNzc1Byb3BzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlIHRoZSBXaW5kb3dzIFBob25lIGdyaXBwZXJzIHdoZW4gcHJlc3NpbmcgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuICAgICAgICAgKiBPbiBpT1MsIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0IHN1Y2ggYXMgYSBsaW5rLCBTYWZhcmkgZGlzcGxheXNcbiAgICAgICAgICogYSBjYWxsb3V0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxpbmsuIFRoaXMgcHJvcGVydHkgYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgY2FsbG91dC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgY29udGVudFpvb21pbmc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJEcmFnOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlcyB0aGUgaGlnaGxpZ2h0IGNvbG9yIHNob3duIHdoZW4gdGhlIHVzZXIgdGFwcyBhIGxpbmsgb3IgYSBKYXZhU2NyaXB0XG4gICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3JnYmEoMCwwLDAsMCknXG4gICAgICAgICAqL1xuICAgICAgICB0YXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknXG4gICAgfVxufTtcblxudmFyIFNUT1AgPSAxO1xudmFyIEZPUkNFRF9TVE9QID0gMjtcblxuLyoqXG4gKiBNYW5hZ2VyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0ID0gdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0IHx8IGVsZW1lbnQ7XG5cbiAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcblxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuXG4gICAgdG9nZ2xlQ3NzUHJvcHModGhpcywgdHJ1ZSk7XG5cbiAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpO1xuICAgICAgICBpdGVtWzJdICYmIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChpdGVtWzJdKTtcbiAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuICAgIH0sIHRoaXMpO1xufVxuXG5NYW5hZ2VyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcbiAgICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG4gICAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG4gICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBXaGVuIGZvcmNlZCwgdGhlIHJlY29nbml6ZXIgY3ljbGUgaXMgc3RvcHBlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuICAgICAqIGNhbGxlZCBieSB0aGUgaW5wdXRIYW5kbGVyIGZ1bmN0aW9uIG9uIGV2ZXJ5IG1vdmVtZW50IG9mIHRoZSBwb2ludGVycyAodG91Y2hlcylcbiAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXI7XG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cbiAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgIC8vIHNvIHRoZSByZWNvZ25pemVyJ3Mgc3RhdGUgbmVlZHMgdG8gYmUgQkVHQU4sIENIQU5HRUQsIEVOREVEIG9yIFJFQ09HTklaRURcbiAgICAgICAgLy8gaWYgbm8gcmVjb2duaXplciBpcyBkZXRlY3RpbmcgYSB0aGluZywgaXQgaXMgc2V0IHRvIGBudWxsYFxuICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblxuICAgICAgICAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZFxuICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cbiAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyIHx8IChjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSkge1xuICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07XG5cbiAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cbiAgICAgICAgICAgIC8vIDEuICAgYWxsb3cgaWYgdGhlIHNlc3Npb24gaXMgTk9UIGZvcmNlZCBzdG9wcGVkIChzZWUgdGhlIC5zdG9wKCkgbWV0aG9kKVxuICAgICAgICAgICAgLy8gMi4gICBhbGxvdyBpZiB3ZSBzdGlsbCBoYXZlbid0IHJlY29nbml6ZWQgYSBnZXN0dXJlIGluIHRoaXMgc2Vzc2lvbiwgb3IgdGhlIHRoaXMgcmVjb2duaXplciBpcyB0aGUgb25lXG4gICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgICAgIC8vIDMuICAgYWxsb3cgaWYgdGhlIHJlY29nbml6ZXIgaXMgYWxsb3dlZCB0byBydW4gc2ltdWx0YW5lb3VzIHdpdGggdGhlIGN1cnJlbnQgcmVjb2duaXplZCByZWNvZ25pemVyLlxuICAgICAgICAgICAgLy8gICAgICB0aGlzIGNhbiBiZSBzZXR1cCB3aXRoIHRoZSBgcmVjb2duaXplV2l0aCgpYCBtZXRob2Qgb24gdGhlIHJlY29nbml6ZXIuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcbiAgICAgICAgICAgICAgICAgICAgIWN1clJlY29nbml6ZXIgfHwgcmVjb2duaXplciA9PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcbiAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5jYW5SZWNvZ25pemVXaXRoKGN1clJlY29nbml6ZXIpKSkgeyAvLyAzXG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZXNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG4gICAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgJiYgcmVjb2duaXplci5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCkpIHtcbiAgICAgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxOdWxsfVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAocmVjb2duaXplciBpbnN0YW5jZW9mIFJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlY29nbml6ZXJzW2ldLm9wdGlvbnMuZXZlbnQgPT0gcmVjb2duaXplcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ2FkZCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGV4aXN0aW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb2duaXplcnMucHVzaChyZWNvZ25pemVyKTtcbiAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTtcblxuICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuICAgICAgICBpZiAocmVjb2duaXplcikge1xuICAgICAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoYW5kbGVyc1tldmVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSAmJiBoYW5kbGVyc1tldmVudF0uc3BsaWNlKGluQXJyYXkoaGFuZGxlcnNbZXZlbnRdLCBoYW5kbGVyKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZW1pdCBldmVudCB0byB0aGUgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdICYmIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnNsaWNlKCk7XG4gICAgICAgIGlmICghaGFuZGxlcnMgfHwgIWhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG4gICAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcbiAgICAgKiBpdCBkb2Vzbid0IHVuYmluZCBkb20gZXZlbnRzLCB0aGF0IGlzIHRoZSB1c2VyIG93biByZXNwb25zaWJpbGl0eVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgJiYgdG9nZ2xlQ3NzUHJvcHModGhpcywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtCb29sZWFufSBhZGRcbiAqL1xuZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHByb3A7XG4gICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHByb3AgPSBwcmVmaXhlZChlbGVtZW50LnN0eWxlLCBuYW1lKTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbcHJvcF07XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCAnJztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHMgPSB7fTtcbiAgICB9XG59XG5cbi8qKlxuICogdHJpZ2dlciBkb20gZXZlbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKSB7XG4gICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTtcbiAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG59XG5cbmFzc2lnbihIYW1tZXIsIHtcbiAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsXG4gICAgSU5QVVRfTU9WRTogSU5QVVRfTU9WRSxcbiAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcbiAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCxcblxuICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcbiAgICBTVEFURV9CRUdBTjogU1RBVEVfQkVHQU4sXG4gICAgU1RBVEVfQ0hBTkdFRDogU1RBVEVfQ0hBTkdFRCxcbiAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG4gICAgU1RBVEVfUkVDT0dOSVpFRDogU1RBVEVfUkVDT0dOSVpFRCxcbiAgICBTVEFURV9DQU5DRUxMRUQ6IFNUQVRFX0NBTkNFTExFRCxcbiAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblxuICAgIERJUkVDVElPTl9OT05FOiBESVJFQ1RJT05fTk9ORSxcbiAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG4gICAgRElSRUNUSU9OX1JJR0hUOiBESVJFQ1RJT05fUklHSFQsXG4gICAgRElSRUNUSU9OX1VQOiBESVJFQ1RJT05fVVAsXG4gICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuICAgIERJUkVDVElPTl9IT1JJWk9OVEFMOiBESVJFQ1RJT05fSE9SSVpPTlRBTCxcbiAgICBESVJFQ1RJT05fVkVSVElDQUw6IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXG4gICAgTWFuYWdlcjogTWFuYWdlcixcbiAgICBJbnB1dDogSW5wdXQsXG4gICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLFxuXG4gICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcbiAgICBNb3VzZUlucHV0OiBNb3VzZUlucHV0LFxuICAgIFBvaW50ZXJFdmVudElucHV0OiBQb2ludGVyRXZlbnRJbnB1dCxcbiAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcbiAgICBTaW5nbGVUb3VjaElucHV0OiBTaW5nbGVUb3VjaElucHV0LFxuXG4gICAgUmVjb2duaXplcjogUmVjb2duaXplcixcbiAgICBBdHRyUmVjb2duaXplcjogQXR0clJlY29nbml6ZXIsXG4gICAgVGFwOiBUYXBSZWNvZ25pemVyLFxuICAgIFBhbjogUGFuUmVjb2duaXplcixcbiAgICBTd2lwZTogU3dpcGVSZWNvZ25pemVyLFxuICAgIFBpbmNoOiBQaW5jaFJlY29nbml6ZXIsXG4gICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuICAgIFByZXNzOiBQcmVzc1JlY29nbml6ZXIsXG5cbiAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG4gICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycyxcbiAgICBlYWNoOiBlYWNoLFxuICAgIG1lcmdlOiBtZXJnZSxcbiAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBpbmhlcml0OiBpbmhlcml0LFxuICAgIGJpbmRGbjogYmluZEZuLFxuICAgIHByZWZpeGVkOiBwcmVmaXhlZFxufSk7XG5cbi8vIHRoaXMgcHJldmVudHMgZXJyb3JzIHdoZW4gSGFtbWVyIGlzIGxvYWRlZCBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EXG4vLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cbnZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fSkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmZyZWVHbG9iYWwuSGFtbWVyID0gSGFtbWVyO1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gSGFtbWVyO1xuICAgIH0pO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBIYW1tZXI7XG59IGVsc2Uge1xuICAgIHdpbmRvd1tleHBvcnROYW1lXSA9IEhhbW1lcjtcbn1cblxufSkod2luZG93LCBkb2N1bWVudCwgJ0hhbW1lcicpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmVuZG9ycyA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ107XG5cbmZvcih2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LkF1ZGlvQ29udGV4dDsgKyt4KSB7XG4gIHdpbmRvdy5BdWRpb0NvbnRleHQgPSB3aW5kb3dbdmVuZG9yc1t4XSsnQXVkaW9Db250ZXh0J107XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2luZG93LkF1ZGlvQ29udGV4dDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gcmVtb3ZlRXh0ZW5zaW9uKHBhdGgpe1xuICAvLyBvbmx5IHN0cmlwcyBvZmYgZXh0ZW5zaW9ucyB0aGF0IGhhdmUgbGVuZ3RoIG9mIDQgb3IgbGVzc1xuICAvLyByZWdleCBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxODMxMC9yZWd1bGFyLWV4cHJlc3Npb24tdG8tcmVtb3ZlLWEtZmlsZXMtZXh0ZW5zaW9uXG4gIHJldHVybiBwYXRoLnJlcGxhY2UoLyguKilcXC5bXi5dezEsNH0kLywgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlbW92ZUV4dGVuc2lvbjtcbiIsImNvbnN0IGF2ZXJhZ2VQb2ludHMgPSByZXF1aXJlKCcuL3V0aWxzL2F2ZXJhZ2VQb2ludHMnKTtcbmNvbnN0IGRlZ3JlZXNUb1JhZGlhbnMgPSByZXF1aXJlKCcuL3V0aWxzL2RlZ3JlZXNUb1JhZGlhbnMnKTtcbmNvbnN0IHJhZGlhbnNUb0RlZ3JlZXMgPSByZXF1aXJlKCcuL3V0aWxzL3JhZGlhbnNUb0RlZ3JlZXMnKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uID0gcmVxdWlyZSgnLi91dGlscy9wb2ludEluUG9seWdvbicpO1xuY29uc3QgZGlzdGFuY2UgPSByZXF1aXJlKCcuL3V0aWxzL2Rpc3RhbmNlJyk7XG5jb25zdCBkZWdyZWVzRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vdXRpbHMvZGVncmVlc0Zyb21DZW50ZXInKTtcbmNvbnN0IHJhZGlhbnNGcm9tQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yYWRpYW5zRnJvbUNlbnRlcicpO1xuY29uc3Qgc2NhbGVQb2ludHMgPSByZXF1aXJlKCcuL3V0aWxzL3NjYWxlUG9pbnRzJyk7XG5jb25zdCB0cmFuc2xhdGVQb2ludHMgPSByZXF1aXJlKCcuL3V0aWxzL3RyYW5zbGF0ZVBvaW50cycpO1xuY29uc3QgaW5zaWRlQ2FudmFzID0gcmVxdWlyZSgnLi91dGlscy9pbnNpZGVDYW52YXMnKTtcbmNvbnN0IHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIgPSByZXF1aXJlKCcuL3V0aWxzL3JvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXInKTtcbmNvbnN0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgPSByZXF1aXJlKCcuL3V0aWxzL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInKTtcblxuXG4vKipcbiAqIE1hdGggdXRpbGl0eSBsaWJyYXJpZXNcbiAqIEBleHBvcnRzIHV0aWxzXG4gKi9cbmNvbnN0IHV0aWxzID0ge1xuICAvKipcbiAgICogR2V0cyB0aGUgYXZlcmFnZSBwb2ludCB2YWx1ZSBpbiBhbiBhcnJheSBvZiBwb2ludHMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHNcbiAgICogQHJldHVybiB7T2JqZWN0fSBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlc1xuICAgKi9cbiAgYXZlcmFnZVBvaW50cyxcblxuICAvKipcbiAgICogQ29udmVydCBkZWdyZWVzIHRvIHJhaWRhbnNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiByYWRpYW5zXG4gICAqL1xuICBkZWdyZWVzVG9SYWRpYW5zLFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHJhZGlhbnMgdG8gZGVncmVlc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnNcbiAgICogQHJldHVybiB7TnVtYmVyfSBBIHZhbHVlIGluIGRlZ3JlZXNcbiAgICovXG4gIHJhZGlhbnNUb0RlZ3JlZXMsXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluIGEgcG9seWdvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtBcnJheX0gcG9seWdvbiBBcnJheSBvZiBwb2ludHNcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG4gICAqL1xuICBwb2ludEluUG9seWdvbixcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAyIHBvaW50c1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50MSBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludDIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBkaXN0YW5jZVxuICAgKi9cbiAgZGlzdGFuY2UsXG5cbiAgLyoqXG4gICAqIERlZ3JlZXMgYSBwb2ludCBpcyBvZmZzZXQgZnJvbSBhIGNlbnRlciBwb2ludFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiBkZWdyZWVzXG4gICAqL1xuICBkZWdyZWVzRnJvbUNlbnRlcixcblxuICAvKipcbiAgICogUmFkaWFucyBhIHBvaW50IGlzIG9mZnNldCBmcm9tIGEgY2VudGVyIHBvaW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gY2VudGVyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBBIHZhbHVlIGluIHJhZGlhbnNcbiAgICovXG4gIHJhZGlhbnNGcm9tQ2VudGVyLFxuXG4gIC8qKlxuICAgKiBTY2FsZSBhIHBvaW50IG9yIGFycmF5IG9mIHBvaW50cy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBwb2ludHMgQSBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICogQHBhcmFtIHtPYmplY3R9IHNjYWxlIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7T2JqZWN0fEFycmF5fSBBIHNjYWxlZCBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICovXG4gIHNjYWxlUG9pbnRzLFxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgYSBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBwb2ludHMgQSBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9mZnNldCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdHxBcnJheX0gQSB0cmFuc2xhdGVkIHBvaW50IG9yIGFycmF5IG9mIHBvaW50c1xuICAgKi9cbiAgdHJhbnNsYXRlUG9pbnRzLFxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGEgcG9pbnQgaXMgaW5zaWRlIGEgY2FudmFzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXMgT2JqZWN0IHdpdGggaGVpZ2h0IGFuZCB3aWR0aCBwcm9wZXJ0aWVzXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgaW5zaWRlIGNhbnZhcyBlbHNlIGZhbHNlXG4gICAqL1xuICBpbnNpZGVDYW52YXMsXG5cbiAgLyoqXG4gICAqIEdldCBhIHBvaW50IGJhc2VkIGFyb3VuZCB0aGUgcm90YXRpb24gaW4gcmFkaWFucyBvZiBvbmUgcG9pbnQgYXJvdW5kIGEgY2VudGVyXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gY2VudGVyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIGFuIGFuZ2xlIGluIHJhZGlhbnNcbiAgICogQHJldHVybiB7T2JqZWN0fSBBIG5ldyBwb2ludCB0aGF0IGhhcyBiZWVuIHJvdGF0ZWRcbiAgICovXG4gIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIsXG5cbiAgLyoqXG4gICAqIEdldCBhIHBvaW50IGJhc2VkIGFyb3VuZCB0aGUgcm90YXRpb24gaW4gZGVncmVlcyBvZiBvbmUgcG9pbnQgYXJvdW5kIGEgY2VudGVyXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gY2VudGVyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIGFuIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICogQHJldHVybiB7T2JqZWN0fSBBIG5ldyBwb2ludCB0aGF0IGhhcyBiZWVuIHJvdGF0ZWRcbiAgICovXG4gIHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWxzO1xuIiwiXG5mdW5jdGlvbiBhdmVyYWdlUG9pbnRzKHBvaW50cyl7XG4gIHZhciByZXRWYWwgPSB7eDogMCwgeTogMH07XG4gIHBvaW50cy5mb3JFYWNoKHBvaW50cywgZnVuY3Rpb24ocG9pbnQpe1xuICAgIHJldFZhbC54Kz0gcG9pbnQueDtcbiAgICByZXRWYWwueSs9IHBvaW50Lnk7XG4gIH0pO1xuICByZXRWYWwueCA9IHJldFZhbC54IC8gcG9pbnRzLmxlbmd0aDtcbiAgcmV0VmFsLnkgPSByZXRWYWwueSAvIHBvaW50cy5sZW5ndGg7XG4gIHJldHVybiByZXRWYWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXZlcmFnZVBvaW50cztcbiIsImNvbnN0IHJhZGlhbnNUb0RlZ3JlZXMgPSByZXF1aXJlKCcuL3JhZGlhbnNUb0RlZ3JlZXMnKTtcbmNvbnN0IHJhZGlhbnNGcm9tQ2VudGVyID0gcmVxdWlyZSgnLi9yYWRpYW5zRnJvbUNlbnRlcicpO1xuXG5mdW5jdGlvbiBkZWdyZWVzRnJvbUNlbnRlcihjZW50ZXIsIHB0KXtcbiAgcmV0dXJuIHJhZGlhbnNUb0RlZ3JlZXMocmFkaWFuc0Zyb21DZW50ZXIoY2VudGVyLCBwdCkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZ3JlZXNGcm9tQ2VudGVyO1xuIiwiY29uc3Qgcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciA9IHJlcXVpcmUoJy4vcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcicpO1xuY29uc3QgZGVncmVlc1RvUmFkaWFucyA9IHJlcXVpcmUoJy4vZGVncmVlc1RvUmFkaWFucycpOyBcblxuZnVuY3Rpb24gcm90YXRlRGVncmVlc0Fyb3VuZENlbnRlcihjZW50ZXIsIHB0LCBhbmdsZSkge1xuICByZXR1cm4gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXIsIHB0LCBkZWdyZWVzVG9SYWRpYW5zKGFuZ2xlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcm90YXRlRGVncmVlc0Fyb3VuZENlbnRlcjsiLCIvKipcbiAqIFRoaXMgdHlwZSBvZiBzcHJpdGUgaXMgYmFzZWQgb2ZmIG9mIHRoZSBleGNlbGxlbnQgaW1hZ2VzIGZyb20gUmVpbmVyJ3MgdGlsZXNldHM6IGh0dHA6Ly93d3cucmVpbmVyc3RpbGVzZXRzLmRlL1xuICogPGJyPlxuICogY3JlYXR1cmVzIGhhdmUgd2Fsa2luZywgaWRsZSwgYW5kIGR5aW5nIGFuaW1hdGlvbnMgaW4gOCBpc29tZXRyaWMgZGlyZWN0aW9uc1xuICogVGhlIGFuaW1hdGlvbnMgZGlyZWN0aW9ucyBhcmUgaW4gRSxOLE5FLE5XLFMsU0UsU1csVyAoYWxwaGFiZXRpY2FsKSBvcmRlciBzaW1wbHkgYmVjYXVzZSB0aGF0J3NcbiAqIGhvdyB0aGV5IHdlcmUgc3RpdGNoZWQgdG9nZXRoZXIgdXNpbmcgSW1hZ2VNYWdpY2suXG4gKlxuICogQG5hbWUgQ3JlYXR1cmVcbiAqIEBjb25zdHJ1Y3RvciBDcmVhdHVyZVxuICogQGV4dGVuZHMgU3ByaXRlXG4gKi9cblxuY29uc3QgU3ByaXRlID0gcmVxdWlyZSgnLi4vU3ByaXRlJyk7XG5jb25zdCBBbmltYXRpb24gPSByZXF1aXJlKCcuLi9BbmltYXRpb24nKTtcblxuXG4vKipcbiogQSBtYXAgb2Ygc3RhdGljIGNvbnN0YW50cyBmb3IgaW50ZXJuYWwgdXNlXG4qIEB0eXBlIHtPYmplY3R9XG4qIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiogQHByb3BlcnR5IHtOdW1iZXJ9IEVBU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IE5PUlRIRUFTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IE5PUlRIV0VTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gU09VVEhFQVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gU09VVEhXRVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gV0VTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX1dBTEtJTkcgYSBzdGF0ZSB0aGUgY3JlYXR1cmUgY2FuIGJlIGluXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9EWUlORyBhIHN0YXRlIHRoZSBjcmVhdHVyZSBjYW4gYmUgaW5cbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX0lETEUgYSBzdGF0ZSB0aGUgY3JlYXR1cmUgY2FuIGJlIGluXG4qL1xuY29uc3QgRUFTVCA9IDA7XG5jb25zdCBOT1JUSCA9IDE7XG5jb25zdCBOT1JUSEVBU1QgPSAyO1xuY29uc3QgTk9SVEhXRVNUID0gMztcbmNvbnN0IFNPVVRIID0gNDtcbmNvbnN0IFNPVVRIRUFTVCA9IDU7XG5jb25zdCBTT1VUSFdFU1QgPSA2O1xuY29uc3QgV0VTVCA9IDc7XG5jb25zdCBTVEFURV9XQUxLSU5HID0gMDtcbmNvbnN0IFNUQVRFX0RZSU5HID0gMTtcbmNvbnN0IFNUQVRFX0lETEUgPSAyO1xuXG5cbmNsYXNzIENyZWF0dXJlIGV4dGVuZHMgU3ByaXRlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNyZWF0dXJlLiBXaWxsIGJlIGEgdmFsdWUgZnJvbSB0aGUgc3RhdGljIGNvbnN0YW50cy5cbiAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0lETEU7XG5cbiAgICAvKipcbiAgICAqIEFuIGFycmF5IG9mIEFuaW1hdGlvbiBvYmplY3RzIChvbmUgZm9yIGVhY2ggZGlyZWN0aW9uKSB0byBkaXNwbGF5IHRoZSBjcmVhdHVyZSBpbiBhIHdhbGtpbmcgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLndhbGtpbmdBbmltcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgKiBBbiBhcnJheSBvZiBBbmltYXRpb24gb2JqZWN0cyAob25lIGZvciBlYWNoIGRpcmVjdGlvbikgdG8gZGlzcGxheSB0aGUgY3JlYXR1cmUgaW4gYSBkeWluZyBzdGF0ZVxuICAgICogQHR5cGUge0FycmF5fVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMuZHlpbmdBbmltcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgKiBBbiBhcnJheSBvZiBBbmltYXRpb24gb2JqZWN0cyAob25lIGZvciBlYWNoIGRpcmVjdGlvbikgdG8gZGlzcGxheSB0aGUgY3JlYXR1cmUgaW4gYW4gaWRsZSBzdGF0ZVxuICAgICogQHR5cGUge0FycmF5fVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMuaWRsZUFuaW1zID0gW107XG5cbiAgICAvKipcbiAgICAqIFRoZSBjdXJyZW50IGRpcmVjdGlvbiB0aGF0IHRoZSBjcmVhdHVyZSBpcyBwb2ludGVkLiBXaWxsIGJlIGEgdmFsdWUgZnJvbSB0aGUgc3RhdGljIGNvbnN0YW5zdHMuXG4gICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMuZGlyZWN0aW9uID0gRUFTVDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGlzIGNyZWF0dXJlJ3MgY3VycmVudCBkaXJlY3Rpb24gKGZyYW1lKSwgYW5kIGNoYW5nZXMgd2hpY2ggYW5pbWF0aW9uIGl0IHNob3VsZCBiZSB1c2luZyBpZiBuZWNjZXNhcnkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGVEaXJlY3Rpb24oZWxhcHNlZFRpbWUpe1xuICAgIHRoaXMueCArPSB0aGlzLmR4ICogZWxhcHNlZFRpbWU7XG4gICAgdGhpcy55ICs9IHRoaXMuZHkgKiBlbGFwc2VkVGltZTtcblxuICAgIGlmKHRoaXMuc3RhdGUgIT09IHRoaXMuc3RhdGljcy5TVEFURV9EWUlORyl7XG4gICAgICBpZih0aGlzLmR4ID4gMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuRUFTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4ID09PSAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEg7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA+IDAgJiYgdGhpcy5keSA8IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5OT1JUSEVBU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA8IDAgJiYgdGhpcy5keSA8IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5OT1JUSFdFU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPiAwICYmIHRoaXMuZHkgPiAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuU09VVEhFQVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPCAwICYmIHRoaXMuZHkgPiAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuU09VVEhXRVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPCAwICYmIHRoaXMuZHkgPT09IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5XRVNUO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmR4ID09PSAwICYmIHRoaXMuZHkgPT09IDApe1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0aWNzLlNUQVRFX0lETEU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0aWNzLlNUQVRFX1dBTEtJTkc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBjcmVhdHVyZSdzIGN1cnJlbnQgYW5pbWF0aW9uLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlQW5pbWF0aW9ucyhlbGFwc2VkVGltZSl7XG4gICAgaWYodGhpcy5zdGF0ZSA9PT0gdGhpcy5zdGF0aWNzLlNUQVRFX1dBTEtJTkcpe1xuICAgICAgdGhpcy5hbmltID0gdGhpcy53YWxraW5nQW5pbXNbdGhpcy5kaXJlY3Rpb25dO1xuICAgIH0gZWxzZSBpZih0aGlzLnN0YXRlID09PSB0aGlzLnN0YXRpY3MuU1RBVEVfRFlJTkcpe1xuICAgICAgdGhpcy5hbmltID0gdGhpcy5keWluZ0FuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbmltID0gdGhpcy5pZGxlQW5pbXNbdGhpcy5kaXJlY3Rpb25dO1xuICAgIH1cbiAgICB0aGlzLmFuaW0udXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGNyZWF0ZSBhbmltYXRpb25zIGZyb20gYSBzaGVldCBvZiB0aWxlc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyYW1lQ291bnQgTnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgYW5pbWF0aW9uXG4gICAqIEBwYXJhbSAge051bWJlcnxBcnJheX0gZnJhbWVUaW1lcyBWYWx1ZSBvciBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBhbW91bnQgb2YgdGltZSBwZXIgZnJhbWVcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltZyBJbWFnZSBzaGVldCB0byBjcmVhdGUgYW5pbWF0aW9uIGZyb21cbiAgICogQHBhcmFtICB7TnVtYmVyfSB3IFdpZHRoIG9mIGVhY2ggdGlsZSBpbiBwaXhlbHNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBoIEhlaWdodCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0geVNsb3QgU2xvdCBvbiBZIGF4aXMgdG8gc3RhcnQgY3JlYXRpbmcgdGlsZXNcbiAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIEFuaW1hdGlvbnMgZ2VuZXJhdGVkIHVzaW5nIHBhcmFtZXRlcnNcbiAgICovXG4gIGNyZWF0ZUFuaW1hdGlvbnMoZnJhbWVDb3VudCwgZnJhbWVUaW1lcywgaW1nLCBoLCB3LCB5U2xvdCl7XG4gICAgdmFyIGFuaW1zID0gW107XG4gICAgdmFyIGlzRlRBcnJheSA9IEFycmF5LmlzQXJyYXkoZnJhbWVUaW1lcyk7XG4gICAgdmFyIGN1cnJlbnRGcmFtZVRpbWUgPSAxO1xuICAgIGlmKCF5U2xvdCl7XG4gICAgICB5U2xvdCA9IDA7XG4gICAgfVxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCA4OyBpKyspe1xuICAgICAgYW5pbXNbaV0gPSBuZXcgQW5pbWF0aW9uKHtcbiAgICAgICAgaGVpZ2h0OiBoLFxuICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgaW1hZ2U6IGltZ1xuICAgICAgfSk7XG4gICAgICBmb3IodmFyIGogPSAwOyBqIDwgZnJhbWVDb3VudDsgaisrKXtcbiAgICAgICAgaWYoaXNGVEFycmF5KXtcbiAgICAgICAgICBjdXJyZW50RnJhbWVUaW1lID0gZnJhbWVUaW1lc1tqXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50RnJhbWVUaW1lID0gZnJhbWVUaW1lcztcbiAgICAgICAgfVxuICAgICAgICBhbmltc1tpXS5hZGRGcmFtZShjdXJyZW50RnJhbWVUaW1lLCBqICsgZnJhbWVDb3VudCAqIGksIHlTbG90KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFuaW1zO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ3JlYXR1cmU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IENpcmNsZSA9IHJlcXVpcmUoJy4vZW50aXRpZXMvQ2lyY2xlJyk7XG5jb25zdCBNdWx0aVBvbHlnb24gPSByZXF1aXJlKCcuL2VudGl0aWVzL011bHRpUG9seWdvbicpO1xuY29uc3QgUG9seWdvbiA9IHJlcXVpcmUoJy4vZW50aXRpZXMvUG9seWdvbicpO1xuY29uc3QgUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9lbnRpdGllcy9SZWN0YW5nbGUnKTtcblxudmFyIGVudGl0aWVzID0ge1xuICBDaXJjbGUsXG4gIE11bHRpUG9seWdvbixcbiAgUG9seWdvbixcbiAgUmVjdGFuZ2xlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVudGl0aWVzO1xuIiwiLyoqXG4gKiBUaGlzIEVudGl0eSBpcyBmb3IgYnVpbGRpbmcgY29tcGxleCBhbmQgcG9zc2libHkgY29uY2F2ZSBzaGFwZXNcbiAqIEBuYW1lIE11bHRpUG9seWdvblxuICogQGNvbnN0cnVjdG9yIE11bHRpUG9seWdvblxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvc2NhbGVQb2ludHMnKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IHRyYW5zbGF0ZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3RyYW5zbGF0ZVBvaW50cycpO1xuXG5jbGFzcyBNdWx0aVBvbHlnb24gZXh0ZW5kcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgcG9seWdvbnNcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIE11bHRpUG9seWdvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucG9seXMgPSBbXTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgZWFjaCBwb2x5Z29uIGluIHRoZSBlbnRpdHlcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY3R4IHRoZSBIVE1MNSAyZCBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBzY2FsZSB0byBkcmF3IHRoZSBlbnRpdHkgYXRcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG5cbiAgICBmb3IodmFyIGogPSAwOyBqIDwgdGhpcy5wb2x5cy5sZW5ndGg7IGorKyl7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKCh0aGlzLnggKyB0aGlzLnBvbHlzW2pdWzBdLngpICogc2NhbGUsICh0aGlzLnkgKyB0aGlzLnBvbHlzW2pdWzBdLnkpICogc2NhbGUpO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBvbHlzW2pdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICBjdHgubGluZVRvKCh0aGlzLnBvbHlzW2pdW2ldLnggKyB0aGlzLngpICogc2NhbGUsICh0aGlzLnBvbHlzW2pdW2ldLnkgKyB0aGlzLnkpICogc2NhbGUpO1xuICAgICAgfVxuICAgICAgY3R4LmxpbmVUbygodGhpcy54ICsgdGhpcy5wb2x5c1tqXVswXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2x5c1tqXVswXS55KSAqIHNjYWxlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gICAgc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGlzIHNoYXBlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgTXVsdGlQb2x5Z29uI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIGFtb3VudCB0aGUgc2hhcGUgc2hvdWxkIHNjYWxlXG4gICAqL1xuICBzY2FsZVNoYXBlKHNjYWxlKXtcbiAgICB0aGlzLnBvbHlzID0gc2NhbGVQb2ludHModGhpcy5wb2x5cywgc2NhbGUpO1xuICAgIHN1cC5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgTXVsdGlQb2x5Z29uLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIE11bHRpUG9seWdvbiNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBvaW50IGlzIGluIHNoYXBlIGVsc2UgZmFsc2VcbiAgICovXG4gIHBvaW50SW5TaGFwZShwb2ludCl7XG4gICAgZm9yKHZhciBqID0gMDsgaiA8IHRoaXMucG9seXMubGVuZ3RoOyBqKyspe1xuICAgICAgaWYocG9pbnRJblBvbHlnb24ocG9pbnQsIHRyYW5zbGF0ZVBvaW50cyh0aGlzLnBvbHlzW2pdLCB0aGlzKSkpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBNdWx0aVBvbHlnb247XG4iLCIvKipcbiAqIFRoaXMgRW50aXR5IHJlcHJlc2VudHMgYSBSZWN0YW5nbGVcbiAqIEBuYW1lIFJlY3RhbmdsZVxuICogQGNvbnN0cnVjdG9yIFJlY3RhbmdsZVxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcblxuY2xhc3MgUmVjdGFuZ2xlIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEhhbGYgb2YgdGhlIFJlY3RhbmdsZSdzIHRvdGFsIHdpZHRoXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgUmVjdGFuZ2xlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oYWxmV2lkdGggPSAxO1xuICAgIC8qKlxuICAgICAqIEhhbGYgb2YgdGhlIFJlY3RhbmdsZSdzIHRvdGFsIHdpZHRoXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgUmVjdGFuZ2xlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oYWxmSGVpZ2h0ID0gMTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIFJlY3RhbmdsZSBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVjdGFuZ2xlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgYXQgd2hpY2ggdG8gZHJhd1xuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICAodGhpcy54LXRoaXMuaGFsZldpZHRoKSAqIHNjYWxlLFxuICAgICAgKHRoaXMueS10aGlzLmhhbGZIZWlnaHQpICogc2NhbGUsXG4gICAgICAodGhpcy5oYWxmV2lkdGgqMikgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZIZWlnaHQqMikgKiBzY2FsZVxuICAgICk7XG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAodGhpcy54LXRoaXMuaGFsZldpZHRoKSAqIHNjYWxlLFxuICAgICAgKHRoaXMueS10aGlzLmhhbGZIZWlnaHQpICogc2NhbGUsXG4gICAgICAodGhpcy5oYWxmV2lkdGgqMikgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZIZWlnaHQqMikgKiBzY2FsZVxuICAgICk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gICAgc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGlzIHNoYXBlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVjdGFuZ2xlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIGFtb3VudCB0aGUgc2hhcGUgc2hvdWxkIHNjYWxlXG4gICAqL1xuICBzY2FsZVNoYXBlKHNjYWxlKXtcbiAgICB0aGlzLmhhbGZIZWlnaHQgPSB0aGlzLmhhbGZIZWlnaHQgKiBzY2FsZTtcbiAgICB0aGlzLmhhbGZXaWR0aCA9IHRoaXMuaGFsZldpZHRoICogc2NhbGU7XG4gICAgc3VwZXIuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb2ludCBpcyBpbiBzaGFwZSBlbHNlIGZhbHNlXG4gICAqL1xuICBwb2ludEluU2hhcGUocG9pbnQpe1xuICAgIHJldHVybiAoKHBvaW50LnggPj0gKHRoaXMueCAtIHRoaXMuaGFsZldpZHRoKSkgJiYgKHBvaW50LnggPD0gKHRoaXMueCArIHRoaXMuaGFsZldpZHRoKSkgJiYgKHBvaW50LnkgPj0gKHRoaXMueSAtIHRoaXMuaGFsZkhlaWdodCkpICYmIChwb2ludC55IDw9ICh0aGlzLnkgKyB0aGlzLmhhbGZIZWlnaHQpKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWN0YW5nbGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IERpc3RhbmNlID0gcmVxdWlyZSgnLi9qb2ludHMvRGlzdGFuY2UnKTtcbmNvbnN0IFByaXNtYXRpYyA9IHJlcXVpcmUoJy4vam9pbnRzL1ByaXNtYXRpYycpO1xuY29uc3QgUmV2b2x1dGUgPSByZXF1aXJlKCcuL2pvaW50cy9SZXZvbHV0ZScpO1xuXG52YXIgam9pbnRzID0ge1xuICBEaXN0YW5jZSxcbiAgUHJpc21hdGljLFxuICBSZXZvbHV0ZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBqb2ludHM7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGRpc3RhbmNlIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIFRoaXMgdHlwZSBvZiBqb2ludCBmb3JjZXMgdHdvIGJvZGllcyB0byBrZWVwIGEgY29uc3RhbnQgZGlzdGFuY2UgZm9yIGVhY2ggb3RoZXIuXG4gKiBAbmFtZSBEaXN0YW5jZVxuICogQGNvbnN0cnVjdG9yIERpc3RhbmNlXG4gKiBAZXh0ZW5kcyBKb2ludFxuICovXG5cbmNvbnN0IEpvaW50ID0gcmVxdWlyZSgnLi9Kb2ludCcpO1xuXG5cbi8vIGJveDJkIGdsb2JhbHNcbmNvbnN0IEIyVmVjMiA9IEJveDJELkNvbW1vbi5NYXRoLmIyVmVjMjtcbmNvbnN0IEIyRGlzdGFuY2VKb2ludERlZiA9IEJveDJELkR5bmFtaWNzLkpvaW50cy5iMkRpc3RhbmNlSm9pbnREZWY7XG5cbmNsYXNzIERpc3RhbmNlIGV4dGVuZHMgSm9pbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQSBwb2ludCBvbiB0aGUgc2Vjb25kIGVudGl0eSB3aGVyZSB0aGUgam9pbnQgd2lsbCBiZSBhdHRhY2hlZC4gSWYgbm8gcG9pbnQgaXMgc3BlY2lmaWVkLCB0aGUgc2Vjb25kIGJvZHkgd2lsbCBiZSBhdHRhY2hlZCBhdCBpdHMgY2VudGVyIHBvaW50LlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIERpc3RhbmNlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib2R5UG9pbnQyID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGVzIHRoZSBwb3NpdGlvbnMgYm9kaWVzIHRoYXQgdGhlIGpvaW50IGFyZSBjb25uZWN0ZWQgYXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRGlzdGFuY2UjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgc2NhbGUgdG8gbXVsdGlwbHkgdGhlIGRpbWVudGlvbnMgYnlcbiAgICovXG4gIHNjYWxlSm9pbnRMb2NhdGlvbihzY2FsZSl7XG4gICAgaWYoc2NhbGUgJiYgdGhpcy5ib2R5UG9pbnQyKXtcbiAgICAgIHRoaXMuYm9keVBvaW50Mi54ID0gdGhpcy5ib2R5UG9pbnQyLnggKiBzY2FsZTtcbiAgICAgIHRoaXMuYm9keVBvaW50Mi55ID0gdGhpcy5ib2R5UG9pbnQyLnkgKiBzY2FsZTtcbiAgICAgIHRoaXMuYWxyZWFkeVNjYWxlZCA9IHRydWU7XG4gICAgfVxuICAgIHN1cGVyLnNjYWxlSm9pbnRMb2NhdGlvbihzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgYWRkcyB0aGlzIGpvaW50IGluIHRoZSBCb3gyZCB3b3JsZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBEaXN0YW5jZSNcbiAgICogQHBhcmFtIHtCb3h9IHRoZSBib3ggaW4gd2hpY2ggdG8gY3JlYXRlIHRoZSBqb2ludC5cbiAgICogQHJldHVybiB7YjJKb2ludH0gSm9pbnQgY3JlYXRlZCBieSBib3gyZFxuICAgKi9cbiAgY3JlYXRlQjJKb2ludChib3gpe1xuICAgIGlmKGJveCAmJiBib3guYm9kaWVzTWFwICYmIGJveC5iMldvcmxkICYmIGJveC5qb2ludHNNYXAgJiYgIWJveC5qb2ludHNNYXBbdGhpcy5pZF0pe1xuICAgICAgY29uc3QgYm9keTEgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMV07XG4gICAgICBjb25zdCBib2R5MiA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQyXTtcbiAgICAgIGlmKGJvZHkxICYmIGJvZHkyKXtcbiAgICAgICAgbGV0IHZlYzEsIHZlYzI7XG4gICAgICAgIGlmKHRoaXMuYm9keVBvaW50MSl7XG4gICAgICAgICAgdmVjMSA9IG5ldyBCMlZlYzIodGhpcy5ib2R5UG9pbnQxLngsIHRoaXMuYm9keVBvaW50MS55KTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmJvZHlQb2ludDIpe1xuICAgICAgICAgIHZlYzIgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50Mi54LCB0aGlzLmJvZHlQb2ludDIueSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVjMSA9IHZlYzEgfHwgYm9keTEuR2V0V29ybGRDZW50ZXIoKTtcbiAgICAgICAgdmVjMiA9IHZlYzIgfHwgYm9keTIuR2V0V29ybGRDZW50ZXIoKTtcbiAgICAgICAgY29uc3Qgam9pbnQgPSBuZXcgQjJEaXN0YW5jZUpvaW50RGVmKCk7XG4gICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCB2ZWMyKTtcblxuICAgICAgICBpZiAodGhpcy5qb2ludEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGpvaW50LCB0aGlzLmpvaW50QXR0cmlidXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJveC5iMldvcmxkLkNyZWF0ZUpvaW50KGpvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEaXN0YW5jZTtcbiIsIi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgcHJpc21hdGljIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIFRoaXMgdHlwZSBvZiBqb2ludCBmb3JjZXMgYSBib2R5IHRvIGtlZXAgaXRzIGFuZ2xlIHJvdGF0aW9uIGNvbnNpdGVudCB3aXRoIGFub3RoZXIgYm9keVxuICogQG5hbWUgUHJpc21hdGljXG4gKiBAY29uc3RydWN0b3IgUHJpc21hdGljXG4gKiBAZXh0ZW5kcyBKb2ludFxuICovXG5cbmNvbnN0IEpvaW50ID0gcmVxdWlyZSgnLi9Kb2ludCcpO1xuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMlByaXNtYXRpY0pvaW50RGVmID0gQm94MkQuRHluYW1pY3MuSm9pbnRzLmIyUHJpc21hdGljSm9pbnREZWY7XG5cbmNsYXNzIFByaXNtYXRpYyBleHRlbmRzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCB3aXRoIHggYW5kIHkgbnVtZXJpYyBjb21wb25lbnRzIHJlcHJlc2VudGluZyB0aGUgbGluZSBpbiB3aGljaCB0aGUgZW50aXRpZXMgY2FuIG1vdmUgcmVsYXRpdmUgdG8gZWFjaCBvdGhlclxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIFByaXNtYXRpYyNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYXhpc1NjYWxlID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgYWRkcyB0aGlzIGpvaW50IGluIHRoZSBCb3gyZCB3b3JsZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQcmlzbWF0aWMjXG4gICAqIEBwYXJhbSB7Qm94fSB0aGUgYm94IGluIHdoaWNoIHRvIGNyZWF0ZSB0aGUgam9pbnQuXG4gICAqIEByZXR1cm4ge2IySm9pbnR9IEpvaW50IGNyZWF0ZWQgYnkgYm94MmRcbiAgICovXG4gIGNyZWF0ZUIySm9pbnQoYm94KXtcbiAgICBpZihib3ggJiYgYm94LmJvZGllc01hcCAmJiBib3guYjJXb3JsZCAmJiBib3guam9pbnRzTWFwICYmICFib3guam9pbnRzTWFwW3RoaXMuaWRdKXtcbiAgICAgIGNvbnN0IGJvZHkxID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDFdO1xuICAgICAgY29uc3QgYm9keTIgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMl07XG4gICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgIGxldCB2ZWMxO1xuICAgICAgICBpZih0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVjMSA9IHZlYzEgfHwgYm9keTEuR2V0V29ybGRDZW50ZXIoKTtcbiAgICAgICAgdmFyIGpvaW50ID0gbmV3IEIyUHJpc21hdGljSm9pbnREZWYoKTtcbiAgICAgICAgdmFyIGF4aXM7XG4gICAgICAgIGlmKHRoaXMuYXhpc1NjYWxlKXtcbiAgICAgICAgICBheGlzID0gbmV3IEIyVmVjMih0aGlzLmF4aXNTY2FsZS54LCB0aGlzLmF4aXNTY2FsZS55KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgYXhpcyA9IG5ldyBCMlZlYzIoMSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgam9pbnQuSW5pdGlhbGl6ZShib2R5MSwgYm9keTIsIHZlYzEsIGF4aXMpO1xuXG4gICAgICAgIGlmICh0aGlzLmpvaW50QXR0cmlidXRlcykge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oam9pbnQsIHRoaXMuam9pbnRBdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm94LmIyV29ybGQuQ3JlYXRlSm9pbnQoam9pbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByaXNtYXRpYztcbiIsIi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgcmV2b2x1dGUgam9pbnQgYmV0d2VlbiB0d28gYm9kaWVzLlxuICogVGhpcyBhbGxvdyBmb3Igcm90YXRpb24gb2Ygb25lIGJvZHkgYXJvdW5kIGEgcG9pbnQgb2YgYW5vdGhlci5cbiAqIEBuYW1lIFJldm9sdXRlXG4gKiBAY29uc3RydWN0b3IgUmV2b2x1dGVcbiAqIEBleHRlbmRzIEpvaW50XG4gKi9cblxuY29uc3QgSm9pbnQgPSByZXF1aXJlKCcuL0pvaW50Jyk7XG5cbi8vIGJveDJkIGdsb2JhbHNcbmNvbnN0IEIyVmVjMiA9IEJveDJELkNvbW1vbi5NYXRoLmIyVmVjMjtcbmNvbnN0IEIyUmV2b2x1dGVKb2ludERlZiA9IEJveDJELkR5bmFtaWNzLkpvaW50cy5iMlJldm9sdXRlSm9pbnREZWY7XG5cblxuY2xhc3MgUmV2b2x1dGUgZXh0ZW5kcyBKb2ludCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmV2b2x1dGUjXG4gICAqIEBwYXJhbSB7Qm94fSB0aGUgYm94IGluIHdoaWNoIHRvIGNyZWF0ZSB0aGUgam9pbnQuXG4gICAqIEByZXR1cm4ge2IySm9pbnR9IEpvaW50IGNyZWF0ZWQgYnkgYm94MmRcbiAgICovXG4gIGNyZWF0ZUIySm9pbnQoYm94KXtcbiAgICBpZihib3ggJiYgYm94LmJvZGllc01hcCAmJiBib3guYjJXb3JsZCAmJiBib3guam9pbnRzTWFwICYmICFib3guam9pbnRzTWFwW3RoaXMuaWRdKXtcbiAgICAgICAgdmFyIGJvZHkxID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDFdO1xuICAgICAgICB2YXIgYm9keTIgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMl07XG4gICAgICAgIGlmKGJvZHkxICYmIGJvZHkyKXtcbiAgICAgICAgICB2YXIgdmVjMTtcbiAgICAgICAgICBpZih0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgICAgICAgdmVjMSA9IG5ldyBCMlZlYzIodGhpcy5ib2R5UG9pbnQxLngsIHRoaXMuYm9keVBvaW50MS55KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmVjMSA9IHZlYzEgfHwgYm9keTEuR2V0V29ybGRDZW50ZXIoKTtcbiAgICAgICAgICB2YXIgam9pbnQgPSBuZXcgQjJSZXZvbHV0ZUpvaW50RGVmKCk7XG4gICAgICAgICAgdmFyIGF4aXM7XG4gICAgICAgICAgam9pbnQuSW5pdGlhbGl6ZShib2R5MSwgYm9keTIsIHZlYzEsIGF4aXMpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuam9pbnRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGpvaW50LCB0aGlzLmpvaW50QXR0cmlidXRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBib3guYjJXb3JsZC5DcmVhdGVKb2ludChqb2ludCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmV2b2x1dGU7XG4iLCIvKipcbiAqIFRoaXMgY29udGFjdCBsaXN0ZW5lciBmb3IgdGhlIEJveDJkIHdvcmxkIGFzc2lnbnMgY29sbGlzaW9uIG9iamVjdHMgdG8gZW50aXRpZXMgd2hlbiB0aGV5IGNvbGxpZGUuXG4gKiBAbmFtZSBDb250YWN0XG4gKiBAY29uc3RydWN0b3IgQ29udGFjdFxuICovXG5cbmNsYXNzIENvbnRhY3Qge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuY29sbGlzaW9ucyA9IHRoaXMuY29sbGlzaW9ucyB8fCB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHN0YXRlIG9mIHRoZSBjb250YWN0IGxpc3RlbmVyIHBlciBpdGVyYXRpb24gb2YgdGhlIGJveCB3b3JsZCBjYWxjdWxhdGlvbnMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICovXG4gIHJlc2V0KCl7XG4gICAgdGhpcy5jb2xsaXNpb25zID0ge307XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBib3gyZCBjb2xsaXNvbiBiZWdpbnNcbiAgICogQGZ1bmN0aW9uIGJlZ2luQ29udGFjdFxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQSBJZCBvZiBib2R5IEFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQiBJZCBvZiBib2R5IEJcbiAgICogQHBhcmFtIHtiMkNvbnRhY250fSBjb250YWN0IFRoZSBib3gyZCBjb250YWN0IG9iamVjdC5cbiAgICovXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgYm94MmQgY29sbGlzb24gZW5kc1xuICAgKiBAZnVuY3Rpb24gZW5kQ29udGFjdFxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQSBJZCBvZiBib2R5IEFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQiBJZCBvZiBib2R5IEJcbiAgICogQHBhcmFtIHtiMkNvbnRhY3R9IGNvbnRhY3QgVGhlIGJveDJkIGNvbnRhY3Qgb2JqZWN0LlxuICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIGEgYm94MmQgY29sbGlzb24gaXMgcmVzb2x2ZWRcbiAgICogQGZ1bmN0aW9uIHByZVNvbHZlXG4gICAqIEBtZW1iZXJPZiBDb250YWN0I1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRBIElkIG9mIGJvZHkgQVxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRCIElkIG9mIGJvZHkgQlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2xkTWFuaWZvbGQgT2xkIG1hbmlmb2xkIG9iamVjdCBwYXNzZWQgaW50byBwcmVTb2x2ZSBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge2IyQ29udGFjdH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICovXG5cbiAgLyoqXG4gICAqIENhbGxlZCBhZnRlciBhIGJveDJkIGNvbGxpc29uIGlzIHJlc29sdmVkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQSBJZCBvZiBib2R5IEFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQiBJZCBvZiBib2R5IEJcbiAgICogQHBhcmFtIHtPYmplY3R9IGltcHVsc2UgSW1wdWxzZSBvYmplY3QgcGFzc2VkIGludG8gcG9zdFNvbHZlIGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7YjJDb250YWN0fSBjb250YWN0IFRoZSBib3gyZCBjb250YWN0IG9iamVjdC5cbiAgKi9cbiAgcG9zdFNvbHZlKGlkQSwgaWRCLCBpbXB1bHNlLCBjb250YWN0KXtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRBXSA9IHRoaXMuY29sbGlzaW9uc1tpZEFdIHx8IFtdO1xuICAgIHRoaXMuY29sbGlzaW9uc1tpZEFdLnB1c2goe2lkOiBpZEIsIGltcHVsc2U6IGltcHVsc2Uubm9ybWFsSW1wdWxzZXNbMF19KTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRCXSA9IHRoaXMuY29sbGlzaW9uc1tpZEJdIHx8IFtdO1xuICAgIHRoaXMuY29sbGlzaW9uc1tpZEJdLnB1c2goe2lkOiBpZEEsIGltcHVsc2U6IGltcHVsc2Uubm9ybWFsSW1wdWxzZXNbMF19KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRhY3Q7XG4iLCIvKipcbiAqIFRoaXMgaXMgYSBjb252ZW5pZW5jZSBvYmplY3QgdGhhdCBhbGxvd3MgZm9yIHF1aWNrbHkgY3JlYXRpbmcgYSBib3gyZCBiYXNlZCBnYW1lLlxuICogQG5hbWUgQm94R2FtZVxuICogQGNvbnN0cnVjdG9yIEJveEdhbWVcbiAqIEBleHRlbmRzIEdhbWVDb3JlXG4gKi9cblxuY29uc3QgR2FtZUNvcmUgPSByZXF1aXJlKCcuLi9HYW1lQ29yZScpO1xuY29uc3QgQm94ID0gcmVxdWlyZSgnLi9Cb3gnKTtcblxuY2xhc3MgQm94R2FtZSBleHRlbmRzIEdhbWVDb3JlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICBjb25zb2xlLmxvZygnYm94Z2FtZSBvcHRpb25zJywgb3B0aW9ucyk7XG4gICAgLyoqXG4gICAgICogVGhlIGluc3RhbmNlIG9mIEJveCB1c2VkIGZvciB0aGlzIGdhbWUuXG4gICAgICogQHR5cGUge0JveH1cbiAgICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm94ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGJveCBzaG91bGQgcGVyZm9ybSBjYWxjdWxhdGlvbnMgZHVyaW5nIGl0cyB1cGRhdGUgY3ljbGVcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm94VXBkYXRpbmcgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgRW50aXR5IG9iamVjdHMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIEJveFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVudGl0aWVzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIEpvaW50IG9iamVjdHMgdGhhdCBhcmUgYWRkZWQgdG8gdGhlIEJveFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmpvaW50cyA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYoIXRoaXMuYm94KXtcbiAgICAgIHRoaXMuYm94ID0gbmV3IEJveChvcHRpb25zLmJveE9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmKCF0aGlzLmVudGl0aWVzKXtcbiAgICAgIHRoaXMuZW50aXRpZXMgPSB7fTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5qb2ludHMpe1xuICAgICAgdGhpcy5qb2ludHMgPSB7fTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbGwgcGh5c2ljcyBjYWxjdWxhdGlvbnMgaW4gdGhlIEJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWlsbGlzIFRoZSBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIHBhc3NlZCBzaW5jZSBsYXN0IGl0ZXJhdGlvbiBvZiBnYW1lTG9vcFxuICAgKi9cbiAgdXBkYXRlQm94KG1pbGxpcyl7XG4gICAgaWYodGhpcy5ib3hVcGRhdGluZyl7XG4gICAgICB0aGlzLmJveC51cGRhdGUobWlsbGlzKTtcbiAgICAgIHRoaXMuYm94LnVwZGF0ZUV4dGVybmFsU3RhdGUodGhpcy5lbnRpdGllcyk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQWRkcyBhbiBFbnRpdHkgb2JqZWN0IHRvIGVudGl0aWVzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byBhZGRcbiAgICovXG4gIGFkZEJvZHkoZW50aXR5KXtcbiAgICB0aGlzLmVudGl0aWVzW2VudGl0eS5pZF0gPSBlbnRpdHk7XG4gICAgdGhpcy5ib3guYWRkQm9keShlbnRpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBzZXJpZXMgb2YgRW50aXR5IG9iamVjdHMgdG8gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7QXJyYXl8RW50aXR5fSBlbnRpdGllcyBDYW4gdGFrZSBhbiBhcnJheSBvZiBFbnRpdHkgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEVudGl0eSBvYmplY3RzXG4gICAqL1xuICBhZGRCb2RpZXMoZW50aXRpZXMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBbZW50aXRpZXNdO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLmFkZEJvZHkoZW50aXR5KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIEVudGl0eSBvYmplY3QgZnJvbSBlbnRpdGllcyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtICB7RW50aXR5fSBlbnRpdHkgRW50aXR5IHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlQm9keShlbnRpdHkpe1xuICAgIHRoaXMuYm94LnJlbW92ZUJvZHkoZW50aXR5LmlkKTtcbiAgICBkZWxldGUgdGhpcy5lbnRpdGllc1tlbnRpdHkuaWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBzZXJpZXMgb2YgRW50aXR5IG9iamVjdHMgZnJvbSBlbnRpdGllcyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtBcnJheXxFbnRpdHl9IGVudGl0aWVzIENhbiB0YWtlIGFuIGFycmF5IG9mIEVudGl0eSBvYmplY3RzIG9yIGFueSBudW1iZXIgb2YgRW50aXR5IG9iamVjdHNcbiAgICovXG4gIHJlbW92ZUJvZGllcyhlbnRpdGllcyl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoZW50aXRpZXMpKSB7XG4gICAgICBlbnRpdGllcyA9IFtlbnRpdGllc107XG4gICAgfVxuICAgIGVudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVCb2R5KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIEpvaW50IHRvIGpvaW50cyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtKb2ludH0gam9pbnQgSm9pbnQgdG8gYWRkXG4gICAqL1xuICBhZGRKb2ludChqb2ludCl7XG4gICAgdGhpcy5qb2ludHNbam9pbnQuaWRdID0gam9pbnQ7XG4gICAgdGhpcy5ib3guYWRkSm9pbnQoam9pbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBzZXJpZXMgb2YgSm9pbnQgb2JqZWN0cyB0byBqb2ludHMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7QXJyYXl8Sm9pbnR9IGpvaW50cyBDYW4gdGFrZSBhbiBhcnJheSBvZiBKb2ludCBvYmplY3RzIG9yIGFueSBudW1iZXIgb2YgSm9pbnQgb2JqZWN0c1xuICAgKi9cbiAgYWRkSm9pbnRzKGpvaW50cyl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoam9pbnRzKSkge1xuICAgICAgam9pbnRzID0gW2pvaW50c107XG4gICAgfVxuICAgIGpvaW50cy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIHRoaXMuYWRkSm9pbnQoZW50aXR5KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgSm9pbnQgZnJvbSBqb2ludHMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSAge0pvaW50fSBqb2ludCBKb2ludCB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUpvaW50KGpvaW50KXtcbiAgICB0aGlzLmJveC5yZW1vdmVKb2ludChqb2ludC5pZCk7XG4gICAgZGVsZXRlIHRoaXMuam9pbnRzW2pvaW50LmlkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgc2VyaWVzIG9mIEpvaW50IG9iamVjdHMgZnJvbSBqb2ludHMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7QXJyYXl8Sm9pbnR9IGpvaW50cyBDYW4gdGFrZSBhbiBhcnJheSBvZiBKb2ludCBvYmplY3RzIG9yIGFueSBudW1iZXIgb2YgSm9pbnQgb2JqZWN0c1xuICAgKi9cbiAgcmVtb3ZlSm9pbnRzKGpvaW50cyl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoam9pbnRzKSkge1xuICAgICAgam9pbnRzID0gW2pvaW50c107XG4gICAgfVxuICAgIGpvaW50cy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlSm9pbnQoZW50aXR5KTtcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJveEdhbWU7XG5cbiIsIlxuZnVuY3Rpb24gZHJhdyhjdHgsIHNjYWxlKSB7XG4gIGNvbnN0IHtmdWxsVywgZnVsbEgsIGhleFNpZGUsIHNpZGVXLCBzaW50MSwgYW5nMSwgc2ludDIsIGFuZzJ9ID0gdGhpcy5tZWFzdXJlbWVudHM7XG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICBcbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzBdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oc2lkZVcsIDEpO1xuICBjdHgubGluZVRvKGZ1bGxXIC0gc2lkZVcsIDEpO1xuICBjdHguc3Ryb2tlKCk7XG5cbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzNdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oc2lkZVcsIGZ1bGxIKTtcbiAgY3R4LmxpbmVUbyhmdWxsVyAtIHNpZGVXLCBmdWxsSCk7XG4gIGN0eC5zdHJva2UoKTtcblxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbMV0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhmdWxsVyAtIHNpZGVXLCAwKTtcbiAgY3R4LmxpbmVUbyhmdWxsVywgZnVsbEgvMik7XG4gIGN0eC5zdHJva2UoKTtcbiAgXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1syXS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKGZ1bGxXLCBmdWxsSC8yKTtcbiAgY3R4LmxpbmVUbyhmdWxsVyAtIHNpZGVXLCBmdWxsSCk7XG4gIGN0eC5zdHJva2UoKTtcbiAgXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1s0XS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHNpZGVXLCBmdWxsSCk7XG4gIGN0eC5saW5lVG8oMCwgZnVsbEgvMik7XG4gIGN0eC5zdHJva2UoKTtcbiAgXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1s1XS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKDAsIGZ1bGxILzIpO1xuICBjdHgubGluZVRvKHNpZGVXLCAwKTtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIHRoaXMucGxheWVycy5mb3JFYWNoKChwKSA9PiB7XG4gICAgaWYoIXAuZmFjZS5kZWFkKSB7XG4gICAgICBwLnBhZGRsZXNbMF0uZHJhdyhjdHgsIHNjYWxlKTtcbiAgICB9XG4gICAgcC5mYWNlLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH0pO1xuXG4gIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLmZvckVhY2goKGspID0+IHtcbiAgICBpZighdGhpcy5lbnRpdGllc1trXS5oaWRkZW4pIHtcbiAgICAgIHRoaXMuZW50aXRpZXNba10uZHJhdyhjdHgpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5iYWxsLmRyYXcoY3R4LCBzY2FsZSk7XG5cbiAgXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXc7IiwiaW1wb3J0IENpcmNsZSBmcm9tICdmcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9DaXJjbGUnO1xuaW1wb3J0IHJhZGlhbnNGcm9tQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyJztcbmltcG9ydCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInO1xuXG5jb25zdCBvcmlnaW4gPSB7eDogMCwgeTogMH07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhbGwgZXh0ZW5kcyBDaXJjbGUge1xuICBkcmF3KGN0eCwgc2NhbGUpIHtcbiAgICAvLyBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICAvLyBjdHguc2F2ZSgpO1xuICAgIC8vIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICAvLyBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIC8vIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICAvLyBjdHguZHJhd0ltYWdlKHRoaXMuaW1nLCB0aGlzLnggKiBzY2FsZSAtICh0aGlzLmltZy53aWR0aCAvIDIpLCB0aGlzLnkgKiBzY2FsZSAtICh0aGlzLmltZy5oZWlnaHQgLyAyKSk7XG4gICAgLy8gY3R4LnJlc3RvcmUoKTtcblxuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIGNvbnN0IHggPSB0aGlzLnggKiBzY2FsZTtcbiAgICBjb25zdCB5ID0gdGhpcy55ICogc2NhbGU7XG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5wdFJhZGl1czsgLy8gLyBzY2FsZTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDEyNywwLDAuNjYpJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh4LCB5LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcblxuICAgIGlmKHRoaXMubGluZWFyVmVsb2NpdHkpIHtcbiAgICAgIGNvbnN0IHRhaWxEaXNydXB0aW9uID0gMC4wNjtcbiAgICAgIGNvbnN0IHRhaWxEaXN0ID0gMC44NTtcblxuICAgICAgY29uc3QgcmFkcyA9IHJhZGlhbnNGcm9tQ2VudGVyKG9yaWdpbiwgdGhpcy5saW5lYXJWZWxvY2l0eSk7XG4gICAgICBjb25zdCBjZW50ZXIgPSB7eCwgeX07XG4gICAgICBjb25zdCB0YWlsU2VnbWVudHMgPSB0aGlzLmNhdWdodCA/IFsxLCAyXSA6IFsxLCAyLCAzLCA0LCA1XTtcbiAgICAgIGNvbnN0IHRhaWxzID0gdGFpbFNlZ21lbnRzLm1hcCgodCwgaWR4KSA9PiB7XG4gICAgICAgIHJldHVybiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlciwge3gsIHk6IHkgLSAocmFkaXVzICogKHRhaWxEaXN0ICogdCkpfSwgcmFkcyArIE1hdGguUEkgKyAodCAlIDIgPyB0YWlsRGlzcnVwdGlvbiA6IC10YWlsRGlzcnVwdGlvbikpO1xuICAgICAgfSk7XG5cbiAgICAgIFxuICAgICAgdGFpbHMuZm9yRWFjaCgodCwgaWR4KSA9PiB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDAsMC41KSc7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmFyYyh0LngsIHQueSwgcmFkaXVzIC0gKHJhZGl1cyAqICgoaWR4ICsgMSkgKiAwLjE1KSksIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfSk7XG4gICAgICBcblxuXG4gICAgfVxuXG4gICAgXG5cblxuICAgIFxuICAgIFxuXG4gIH1cbn1cbiIsIlxuY29uc29sZS5sb2coJ3d0ZiB0b28gbWFueSBicmlja3M/Jyk7XG5cbmxldCBicmlja3MgPSBbXG4gIFs2LDFdLFsxMCwxXSxbMTQsMV0sWzM0LDFdLFszOCwxXSxbNDIsMV0sXG4gIFs4LDNdLFsxMiwzXSxbMTYsM10sWzMyLDNdLFszNiwzXSxbNDAsM10sXG4gIFs2LDVdLFsxMCw1XSxbMTQsNV0sWzM0LDVdLFszOCw1XSxbNDIsNV0sXG4gIFs4LDddLFsxMiw3XSxbMTYsN10sWzMyLDddLFszNiw3XSxbNDAsN10sXG4gIFsxMCw5XSxbMTQsOV0sWzE4LDldLFszMCw5XSxbMzQsOV0sWzM4LDldLFxuICBbMTIsMTFdLFsxNiwxMV0sWzIwLDExXSxbMjQsMTFdLFsyOCwxMV0sWzMyLDExXSxbMzYsMTFdLFxuICBbMTQsMTNdLFsxOCwxM10sWzIyLDEzXSxbMjYsMTNdLFszMCwxM10sWzM0LDEzXSxcbiAgWzEyLDE1XSxbMTYsMTVdLFsyMCwxNV0sWzI0LDE1XSxbMjgsMTVdLFszMiwxNV0sWzM2LDE1XSxcbiAgWzE4LDE3XSxbMjIsMTddLFsyNiwxN10sWzMwLDE3XSxcbiAgWzI0LDE5XVxuXTtcblxuXG5icmlja3MgPSBicmlja3MubWFwKChiKSA9PiB7XG4gIGIgPSBbYlswXSAqIDEyLjUsIGJbMV0gKiAxMi41XTtcbiAgYlswXSA9IGJbMF0gLSAzMDA7XG4gIHJldHVybiBiO1xufSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgYnJpY2tzO1xuIiwiaW1wb3J0IFBvbHlnb24gZnJvbSAnZnJvemVuanMvYm94MmQvZW50aXRpZXMvUG9seWdvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyaWNrIGV4dGVuZHMgUG9seWdvbiB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIGNvbnN0IG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBcbiAgICBjdHguc2F2ZSgpO1xuICAgIC8vY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgIGN0eC5saW5lSm9pbiA9IFwicm91bmRcIjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsdGhpcy5wcmV5LCAwLCB0aGlzLnByZXkgKyB0aGlzLmhhbGZIZWlnaHQgKiAyKTtcblxuICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgY3R4LmZpbGxTdHlsZSk7XG4gICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAnIzQ0NCcpO1xuXG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnByZXgsIHRoaXMucHJleSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLnByZUFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy5wcmV4KSwgLSh0aGlzLnByZXkpKTtcbiAgICAvL1xuICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHRoaXMucHJleC10aGlzLmhhbGZXaWR0aCxcbiAgICAgIHRoaXMucHJleS10aGlzLmhhbGZIZWlnaHQsXG4gICAgICB0aGlzLmhhbGZXaWR0aCoyLFxuICAgICAgdGhpcy5oYWxmSGVpZ2h0KjJcbiAgICApO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgdGhpcy5wcmV4LXRoaXMuaGFsZldpZHRoLFxuICAgICAgdGhpcy5wcmV5LXRoaXMuaGFsZkhlaWdodCxcbiAgICAgIHRoaXMuaGFsZldpZHRoKjIsXG4gICAgICB0aGlzLmhhbGZIZWlnaHQqMlxuICAgICk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gICAgLy9zdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG59XG4iLCJpbXBvcnQgQ2lyY2xlIGZyb20gJ2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZSc7XG5cbmltcG9ydCByYWRpYW5zRnJvbUNlbnRlciBmcm9tICdmcm96ZW5qcy91dGlscy9yYWRpYW5zRnJvbUNlbnRlcic7XG5pbXBvcnQgcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciBmcm9tICdmcm96ZW5qcy91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFjZSBleHRlbmRzIENpcmNsZSB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIGNvbnN0IHNjYWxlZFggPSB0aGlzLnggKiBzY2FsZTtcbiAgICBjb25zdCBzY2FsZWRZID0gdGhpcy55ICogc2NhbGU7XG4gICAgY29uc3Qgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmRlYWQgPyB0aGlzLmRlYWRGaWxsU3R5bGUgOiB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmRlYWQgPyB0aGlzLmZpbGxTdHlsZSA6IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoc2NhbGVkWCwgc2NhbGVkWSwgdGhpcy5yYWRpdXMgKiBzY2FsZSwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGNvbnN0IGxlZnRFeWUgPSB7eDogc2NhbGVkWCAtIDE3LCB5OiBzY2FsZWRZIC0gMTV9O1xuICAgIGNvbnN0IHJpZ2h0RXllID0ge3g6IHNjYWxlZFggKyAxNywgeTogc2NhbGVkWSAtIDE1fTtcblxuICAgIGlmKCF0aGlzLmRlYWQpIHtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoc2NhbGVkWCAtIDE3LCBzY2FsZWRZIC0gMTUsIDEwLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHNjYWxlZFggKyAxNywgc2NhbGVkWSAtIDE1LCAxMCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY29uc3QgcmFkc0wgPSByYWRpYW5zRnJvbUNlbnRlcihsZWZ0RXllLCB7eDogdGhpcy5iYWxsLnggKiBzY2FsZSwgeTogdGhpcy5iYWxsLnkgKiBzY2FsZX0pO1xuICAgICAgY29uc3QgcmFkc1IgPSByYWRpYW5zRnJvbUNlbnRlcihyaWdodEV5ZSwge3g6IHRoaXMuYmFsbC54ICogc2NhbGUsIHk6IHRoaXMuYmFsbC55ICogc2NhbGV9KTtcblxuICAgICAgY29uc3QgbElyaXMgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGxlZnRFeWUsIHt4OiBzY2FsZWRYIC0gMTcsIHk6IHNjYWxlZFkgLSAyMH0sIHJhZHNMKTtcbiAgICAgIGNvbnN0IHJJcmlzID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihyaWdodEV5ZSwge3g6IHNjYWxlZFggKyAxNywgeTogc2NhbGVkWSAtIDIwfSwgcmFkc1IpO1xuXG4gICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMobElyaXMueCwgbElyaXMueSwgNiwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhySXJpcy54LCBySXJpcy55LCA2LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuXG4gICAgICAvLyBjdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKGxlZnRFeWUueCAtIDEwLCBsZWZ0RXllLnkgLSAxMCk7XG4gICAgICBjdHgubGluZVRvKGxlZnRFeWUueCArIDEwLCBsZWZ0RXllLnkgKyAxMCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8obGVmdEV5ZS54ICsgMTAsIGxlZnRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8obGVmdEV5ZS54IC0gMTAsIGxlZnRFeWUueSArIDEwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhyaWdodEV5ZS54IC0gMTAsIHJpZ2h0RXllLnkgLSAxMCk7XG4gICAgICBjdHgubGluZVRvKHJpZ2h0RXllLnggKyAxMCwgcmlnaHRFeWUueSArIDEwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhyaWdodEV5ZS54ICsgMTAsIHJpZ2h0RXllLnkgLSAxMCk7XG4gICAgICBjdHgubGluZVRvKHJpZ2h0RXllLnggLSAxMCwgcmlnaHRFeWUueSArIDEwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBcblxuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcblxuICB9XG59XG4iLCJpbXBvcnQga2V5cyBmcm9tICdmcm96ZW5qcy9rZXlzJztcbmltcG9ydCByYWRpYW5zRnJvbUNlbnRlciBmcm9tICdmcm96ZW5qcy91dGlscy9yYWRpYW5zRnJvbUNlbnRlcic7XG5pbXBvcnQgc2NhbGVQb2ludHMgZnJvbSAnZnJvemVuanMvdXRpbHMvc2NhbGVQb2ludHMnO1xuXG5jb25zdCBzcGVlZCA9IDEwO1xuXG5mdW5jdGlvbiBoYW5kbGVEaXJlY3Rpb24oZ2FtZSwgZmlyZUtleSAsbGVmdEtleSwgcmlnaHRLZXksIHBsYXllcklkKSB7XG4gIGxldCBsUHJlc3NlZCA9IGdhbWUuaW5wdXRNYW5hZ2VyLmtleUFjdGlvbnNbbGVmdEtleV0uaXNQcmVzc2VkKCk7XG4gIGlmKGdhbWUuaW5wdXRNYW5hZ2VyLmtleUFjdGlvbnNbZmlyZUtleV0uaXNQcmVzc2VkKCkpIHtcbiAgICBnYW1lLnBsYXllcnNbcGxheWVySWRdLmZpcmVQcmVzc2VkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBnYW1lLnBsYXllcnNbcGxheWVySWRdLmZpcmVQcmVzc2VkID0gZmFsc2U7XG4gIH1cbiAgaWYobFByZXNzZWQgfHwgZ2FtZS5pbnB1dE1hbmFnZXIua2V5QWN0aW9uc1tyaWdodEtleV0uaXNQcmVzc2VkKCkpIHtcbiAgICBpZihsUHJlc3NlZCkge1xuICAgICAgcmV0dXJuIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZGlyZWN0aW9uID0gLTE7XG4gICAgfVxuICAgIHJldHVybiBnYW1lLnBsYXllcnNbcGxheWVySWRdLmRpcmVjdGlvbiA9IDE7XG4gIH0gXG5cbiAgZ2FtZS5wbGF5ZXJzW3BsYXllcklkXS5kaXJlY3Rpb24gPSAwO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVJbnB1dChpbSkge1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywga2V5cy5TTEFTSCwga2V5cy5MRUZULCBrZXlzLlJJR0hULCAyKTtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsICdRJywgJ1cnLCAnRScsIDUpO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ1gnLCAnQycsICdWJywgNCk7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnQicsICdOJywgJ00nLCAzKTtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsICdUJywgJ1knLCAnVScsIDApO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ08nLCAnUCcsIGtleXMuT1BFTl9CUkFDS0VULCAxKTtcblxuXG4gIGlmKGltLmtleUFjdGlvbnNba2V5cy5VUF0uaXNQcmVzc2VkKCkpe1xuICAgIHRoaXMuYm94LmFwcGx5SW1wdWxzZURlZ3JlZXMoJ2JhbGwnLCAwLCBzcGVlZCk7XG4gIH1cblxuICBpZihpbS5rZXlBY3Rpb25zW2tleXMuRE9XTl0uaXNQcmVzc2VkKCkpe1xuICAgIHRoaXMuYm94LmFwcGx5SW1wdWxzZURlZ3JlZXMoJ2JhbGwnLCAxODAsIHNwZWVkKTtcbiAgfVxuXG4gIGlmKGltLmtleUFjdGlvbnMuQS5pc1ByZXNzZWQoKSl7XG4gICAgdGhpcy5ib3guYXBwbHlUb3JxdWUoJ2JhbGwnLCAtc3BlZWQgKiAxMDApO1xuICB9XG5cbiAgaWYoaW0ua2V5QWN0aW9ucy5ELmlzUHJlc3NlZCgpKXtcbiAgICB0aGlzLmJveC5hcHBseVRvcnF1ZSgnYmFsbCcsIHNwZWVkICAqIDEwMCk7XG4gIH1cblxuICAvLyBpZihpbS5tb3VzZUFjdGlvbi5pc1ByZXNzZWQoKSl7XG4gIC8vICAgdGhpcy5ib3guYXBwbHlJbXB1bHNlKCdiYWxsJywgcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5lbnRpdGllcy5iYWxsLCBzY2FsZVBvaW50cyhpbS5tb3VzZUFjdGlvbi5wb3NpdGlvbiwgMS90aGlzLmJveC5zY2FsZSkpLCBzcGVlZCk7XG4gIC8vIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlSW5wdXQ7IiwiaW1wb3J0IHsgYm94MmQsIHV0aWxzLCBrZXlzIH0gZnJvbSAnZnJvemVuanMnO1xuXG5pbXBvcnQgYm94RGF0YSBmcm9tICcuL2JveERhdGEnO1xuaW1wb3J0IGRyYXcgZnJvbSAnLi9kcmF3JztcbmltcG9ydCBCYWxsIGZyb20gJy4vQmFsbCc7XG5pbXBvcnQgcmF3QnJpY2tzIGZyb20gJy4vYnJpY2tzJztcbmltcG9ydCBjb2xvcnMgZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IEJyaWNrIGZyb20gJy4vQnJpY2snO1xuaW1wb3J0IEZhY2UgZnJvbSAnLi9GYWNlJztcbmltcG9ydCBoYW5kbGVJbnB1dCBmcm9tICcuL2hhbmRsZUlucHV0JztcblxuY29uc3QgeyBCb3hHYW1lLCBlbnRpdGllcywgam9pbnRzIH0gPSBib3gyZDtcbmNvbnN0IHsgcmFkaWFuc0Zyb21DZW50ZXIsIHNjYWxlUG9pbnRzLCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLCBkaXN0YW5jZSwgcmFkaWFuc1RvRGVncmVlcyB9ID0gdXRpbHM7XG5cbmNvbnN0IHBsYXllclNwZWVkID0gMC4wMDI3O1xuY29uc3QgZGlzdEZyb21BbmNob3IgPSAyOTU7XG5jb25zdCBiYWxsU3BlZWQgPSA0MDA7XG5jb25zdCByYW5kb21BbmdsZVNwcmVhZCA9ICgoTWF0aC5QSSAqIDIpIC8gMzYwKSAqIDEuNzU7XG5jb25zdCBCUklDS19ERUFUSF9BTklNID0gMjUwMDtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tQW5nbGVPZmZzZXQoKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpID8gLShNYXRoLnJhbmRvbSgpICogcmFuZG9tQW5nbGVTcHJlYWQpIDogTWF0aC5yYW5kb20oKSAqIHJhbmRvbUFuZ2xlU3ByZWFkO1xufVxuXG4vLyBGdWxsIEhEIEdhbWUgIVxuY29uc3QgZnVsbFcgPSAxOTIwO1xuY29uc3QgZnVsbEggPSAxMDgwO1xuY29uc3QgaGV4U2lkZSA9IDc4My43OTc3Mzg0NDQxMztcbmNvbnN0IHNpZGVXID0gNTY4LjEwMTEzMDc3NzY5O1xuY29uc3Qgc2ludDEgPSA1NDAgLyBoZXhTaWRlO1xuY29uc3QgYW5nMSA9IE1hdGguYXNpbihzaW50MSk7XG5jb25zdCBzaW50MiA9IHNpZGVXIC8gaGV4U2lkZTtcbmNvbnN0IGFuZzIgPSBNYXRoLmFzaW4oc2ludDIpXG5jb25zb2xlLmxvZygnYW5nbGUgaW4gcmFkaWFucycsIGFuZzEsIGFuZzIpO1xuY29uc3QgY2VudGVyUG9pbnQgPSB7eDogMCwgeTogMH07XG5cblxuLy9zZXR1cCBhIEdhbWVDb3JlIGluc3RhbmNlXG5jb25zdCBnYW1lID0gbmV3IEJveEdhbWUoe1xuICBjYW52YXNJZDogJ2NhbnZhcycsXG4gIGdhbWVBcmVhSWQ6ICdnYW1lQXJlYScsXG4gIGNhbnZhc1BlcmNlbnRhZ2U6IDEsXG4gIGJveE9wdGlvbnM6IHtyZXNvbHZlQ29sbGlzaW9uczogdHJ1ZSwgZ3Jhdml0eVk6IDB9LFxuICBkcmF3OiBkcmF3LFxuICBsb2FkUmVzb3VyY2VzOiBmdW5jdGlvbihybSkge1xuICAgIHRoaXMuZXhwbG9zaW9ucyA9IFtdO1xuICAgIHRoaXMuZXhwbG9zaW9ucy5wdXNoKHJtLmxvYWRTb3VuZCgnc291bmRzL2V4cGxvc2lvbjUnKSk7XG4gICAgdGhpcy5leHBsb3Npb25zLnB1c2gocm0ubG9hZFNvdW5kKCdzb3VuZHMvZXhwbG9zaW9uNycpKTtcbiAgICB0aGlzLmV4cGxvc2lvbnMucHVzaChybS5sb2FkU291bmQoJ3NvdW5kcy9leHBsb3Npb244JykpO1xuICAgIHRoaXMuc2NyZWFtID0gcm0ubG9hZFNvdW5kKCdzb3VuZHMvc2NyZWFtJyk7XG4gIH0sXG4gIGluaXRJbnB1dDogZnVuY3Rpb24oaW0pe1xuICAgIGltLmFkZEFycm93S2V5QWN0aW9ucygpO1xuICAgIGltLmFkZEtleUFjdGlvbihbJ0EnLCdEJywgXG4gICAgICAnUScsJ1cnLCdFJyxcbiAgICAgICdYJywnQycsJ1YnLFxuICAgICAgJ0InLCdOJywnTScsXG4gICAgICAnVCcsJ1knLCdVJyxcbiAgICAgICdPJywnUCcsIGtleXMuT1BFTl9CUkFDS0VULFxuICAgICAga2V5cy5TTEFTSF0pO1xuICB9LFxuICBoYW5kbGVJbnB1dCxcbiAgZ2V0QnJpY2tzTGVmdDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICBpZih0aGlzLmVudGl0aWVzW2tdLmJyaWNrKSB7XG4gICAgICAgICAgcmV0dXJuIGFjYyArIDE7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgMCk7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24obWlsbGlzKSB7XG4gICAgdGhpcy51cGRhdGVCb3gobWlsbGlzKTtcblxuICAgIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLmZvckVhY2goKGspID0+IHtcbiAgICAgIGNvbnN0IGVudCA9IHRoaXMuZW50aXRpZXNba107XG4gICAgICBpZihlbnQuYnJpY2tQaWVjZSkge1xuICAgICAgICBlbnQubGlmZSA9IGVudC5saWZlIC0gbWlsbGlzO1xuICAgICAgICBpZihlbnQubGlmZSA8IDApIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnQuZmlsbFN0eWxlID0gY29sb3JzLnJnYmEoZW50LnBsYXllcklkLCBlbnQubGlmZSAvIEJSSUNLX0RFQVRIX0FOSU0gKiAwLjYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmKHRoaXMuYmFsbCkge1xuICAgICAgXG4gICAgICBpZih0aGlzLmJhbGwuY29sbGlzaW9ucyAmJiB0aGlzLmJhbGwuY29sbGlzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnYmFsbCcsIHRoaXMuYmFsbC5jb2xsaXNpb25zKTtcbiAgICAgICAgdGhpcy5iYWxsLmNvbGxpc2lvbnMuZm9yRWFjaCgoZXQpID0+IHtcbiAgICAgICAgICBjb25zdCBlbnQgPSB0aGlzLmVudGl0aWVzW2V0LmlkXTtcbiAgICAgICAgICBpZihlbnQpIHtcbiAgICAgICAgICAgIGlmKGVudC5icmljaykge1xuICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoZXQpO1xuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYnJpY2sga2lsbCcsIGVudCk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbE9wcyA9IHtcbiAgICAgICAgICAgICAgICB4OiBlbnQueCAqIDMwLFxuICAgICAgICAgICAgICAgIHk6IGVudC55ICogMzAsXG4gICAgICAgICAgICAgICAgYnJpY2tQaWVjZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsaWZlOiBCUklDS19ERUFUSF9BTklNLFxuICAgICAgICAgICAgICAgIHN0YXRpY0JvZHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IDAuMDAxLFxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBlbnQucGxheWVySWQsXG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBjb2xvcnMucmdiKGVudC5wbGF5ZXJJZCksXG4gICAgICAgICAgICAgICAgZHJhd0NlbnRlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHJhd0xvY2F0aW9uOiBmYWxzZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBbMCwxLDIsMyw0LDVdLmZvckVhY2goKGIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaWxiT3BzID0ge1xuICAgICAgICAgICAgICAgICAgaGFsZkhlaWdodDogZW50LmhhbGZIZWlnaHQgLyAoKE1hdGgucmFuZG9tKCkgKiAyKSArIDIuNSksXG4gICAgICAgICAgICAgICAgICBoYWxmV2lkdGg6IGVudC5oYWxmV2lkdGggLyAoKE1hdGgucmFuZG9tKCkgKiAyKSArIDIuNSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaWxCID0gbmV3IGVudGl0aWVzLlJlY3RhbmdsZShPYmplY3QuYXNzaWduKHt9LCBsaWxPcHMsIGxpbGJPcHMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJvZHkobGlsQik7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3guc2V0QW5nbGUobGlsQi5pZCwgTWF0aC5yYW5kb20oKSAqIChNYXRoLlBJICogMikpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm94LmFwcGx5SW1wdWxzZShsaWxCLmlkLCBNYXRoLnJhbmRvbSgpICogKE1hdGguUEkgKiAyKSwgMzApO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgcmFuZEV4cGxvc2lvbiA9IHRoaXMuZXhwbG9zaW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmV4cGxvc2lvbnMubGVuZ3RoKV07XG4gICAgICAgICAgICAgIHJhbmRFeHBsb3Npb24ucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW50LmtpbmcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2tpbmcga2lsbCcsIGVudCk7XG4gICAgICAgICAgICAgIHRoaXMuc2NyZWFtLnBsYXkoKTtcbiAgICAgICAgICAgICAgZW50LmRlYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBicmljayA9IHRoaXMuZW50aXRpZXNba107XG4gICAgICAgICAgICAgICAgaWYoYnJpY2suYnJpY2sgJiYgYnJpY2sucGxheWVySWQgPT09IGVudC5wbGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGJyaWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW2VudC5wbGF5ZXJJZF0ucGFkZGxlcy5mb3JFYWNoKChwYWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkocGFkKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGVudCk7IC8vcmVtb3ZlIGZhY2UsIGJ1dCB3aWxsIHN0aWxsIGRyYXcgaXRcblxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW50LnBhZGRsZSkge1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMucGxheWVyc1tlbnQucGxheWVySWRdO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgYmFsbGZyb21BbmNob3IgPSBkaXN0YW5jZShwLmFuY2hvciwgdGhpcy5iYWxsKTtcbiAgICAgICAgICAgICAgY29uc3QgcGFkZGxlRnJvbUFuY2hvciA9IGRpc3RhbmNlKHAuYW5jaG9yLCBlbnQpO1xuXG4gICAgICAgICAgICAgIC8vaWdub3JlIGhpdHMgdG8gYm90dG9tIG9mIHBhZGRsZVxuICAgICAgICAgICAgICBpZihiYWxsZnJvbUFuY2hvciA+IHBhZGRsZUZyb21BbmNob3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuaGl0UGxheWVyID0gcDtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuaGl0UGFkZGxlID0gZW50O1xuICAgICAgICAgICAgICAgIGlmKHAuZmlyZVByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jYXVnaHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBhZGRsZVBvc2l0aW9uID0gcC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jYXVnaHRQbGF5ZXJJZCA9IGVudC5wbGF5ZXJJZDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jYXVnaHRQb3NpdGlvbiA9IHt4OiB0aGlzLmJhbGwueCwgeTogdGhpcy5iYWxsLnl9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCclYyBPaCBteSBoZWF2ZW5zISAnLCAnYmFja2dyb3VuZDogIzIyMjsgY29sb3I6ICNiYWRhNTUnKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJyVjcGFkZGxlaGl0ICcgKyBlbnQucGxheWVySWQsICdmb250LXNpemU6IDEuNWVtOyBiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogJyArIHBsYXllcnNbZW50LnBsYXllcklkXS5jb2xvcik7XG5cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZW50LndhbGwpIHtcbiAgICAgICAgICAgICAgdGhpcy5iYWxsLndhbGxIaXRzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmJhbGwud2FsbEhpdHMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVCYWxsKCl7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVtb3ZlQm9keSh0aGlzLmJhbGwpO1xuICAgICAgICB0aGlzLmJhbGwuYW5ndWxhclZlbG9jaXR5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYWxsLnByZXZMaW5lYXJWZWxvY2l0eSA9IHRoaXMuYmFsbC5saW5lYXJWZWxvY2l0eTtcbiAgICAgICAgdGhpcy5iYWxsLmxpbmVhclZlbG9jaXR5ID0gbnVsbDtcbiAgICAgICAgaWYodGhpcy5iYWxsLmNhdWdodCkge1xuICAgICAgICAgIGNvbnN0IGNhdWdodFBsYXllciA9IHRoaXMucGxheWVyc1t0aGlzLmJhbGwuY2F1Z2h0UGxheWVySWRdO1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uRGVsdGEgPSBjYXVnaHRQbGF5ZXIucG9zaXRpb24gLSB0aGlzLmJhbGwuY2F1Z2h0UGFkZGxlUG9zaXRpb24gKyAoTWF0aC5QSSAqIDIpO1xuICAgICAgICAgIGNvbnN0IG5ld0JhbGxMb2MgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNhdWdodFBsYXllci5hbmNob3IsIHRoaXMuYmFsbC5jYXVnaHRQb3NpdGlvbiwgcG9zaXRpb25EZWx0YSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2NhdWdodCcsIHBvc2l0aW9uRGVsdGEsIG5ld0JhbGxMb2MpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMuYmFsbC54ID0gbmV3QmFsbExvYy54O1xuICAgICAgICAgIHRoaXMuYmFsbC55ID0gbmV3QmFsbExvYy55O1xuICAgICAgICAgIGlmKGNhdWdodFBsYXllci5maXJlUHJlc3NlZCkge1xuICAgICAgICAgICAgLy9zdGlsbCBjYXVnaHRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgYnJpY2tzTGVmdCA9IHRoaXMuZ2V0QnJpY2tzTGVmdCgpO1xuICAgICAgICAgICAgY29uc3QgbmV3U3BlZWQgPSBiYWxsU3BlZWQgKyAoMzMwIC0gYnJpY2tzTGVmdCk7IC8vIHNwZWVkIHVwIGFzIGJyaWNrcyBnbyBhd2F5XG4gICAgICAgICAgICB0aGlzLmFkZEJvZHkodGhpcy5iYWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZGRsZUFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5iYWxsLmhpdFBsYXllci5hbmNob3IsIHRoaXMuYmFsbC5oaXRQbGF5ZXIucGFkZGxlc1swXSk7XG4gICAgICAgICAgICBjb25zdCBiYWxsQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gcGFkZGxlQW5nbGUgLSBiYWxsQW5nbGU7XG4gICAgICAgICAgICB0aGlzLmJveC5hcHBseUZvcmNlKHRoaXMuYmFsbC5pZCwgcGFkZGxlQW5nbGUgLSAoZGVsdGEgKiA1KSwgbmV3U3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5iYWxsLmhpdFBhZGRsZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGJyaWNrc0xlZnQgPSB0aGlzLmdldEJyaWNrc0xlZnQoKTtcbiAgICAgICAgICBjb25zdCBuZXdTcGVlZCA9IGJhbGxTcGVlZCArICgzMzAgLSBicmlja3NMZWZ0KTsgLy8gc3BlZWQgdXAgYXMgYnJpY2tzIGdvIGF3YXlcbiAgICAgICAgICBjb25zdCBhbmdsZU9mZnNldCA9IGdldFJhbmRvbUFuZ2xlT2Zmc2V0KCk7XG4gICAgICAgICAgdGhpcy5hZGRCb2R5KHRoaXMuYmFsbCk7XG4gICAgICAgICAgaWYodGhpcy5iYWxsLmhpdFBhZGRsZSkge1xuICAgICAgICAgICAgY29uc3QgcGFkZGxlQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsLmhpdFBsYXllci5wYWRkbGVzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGJhbGxBbmdsZSA9IHJhZGlhbnNGcm9tQ2VudGVyKHRoaXMuYmFsbC5oaXRQbGF5ZXIuYW5jaG9yLCB0aGlzLmJhbGwpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBwYWRkbGVBbmdsZSAtIGJhbGxBbmdsZTtcbiAgICAgICAgICAgIHRoaXMuYm94LmFwcGx5Rm9yY2UodGhpcy5iYWxsLmlkLCBwYWRkbGVBbmdsZSAtIChkZWx0YSAqIDUpICsgYW5nbGVPZmZzZXQsIG5ld1NwZWVkKTtcbiAgICAgICAgICAgIHRoaXMuYmFsbC5oaXRQYWRkbGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYmFsbGhpdHMnLCB0aGlzLmJhbGwud2FsbEhpdHMsIGFuZ2xlT2Zmc2V0LCBhbmdsZU9mZnNldCAqIHRoaXMuYmFsbC53YWxsSGl0cyk7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSByYWRpYW5zRnJvbUNlbnRlcihjZW50ZXJQb2ludCwgdGhpcy5iYWxsLnByZXZMaW5lYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICB0aGlzLmJveC5hcHBseUZvcmNlKHRoaXMuYmFsbC5pZCwgZGlyZWN0aW9uICsgYW5nbGVPZmZzZXQgKyAoYW5nbGVPZmZzZXQgKiB0aGlzLmJhbGwud2FsbEhpdHMpLCBuZXdTcGVlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL3JlZ3VsYXRlIGJhbGwgc3BlZWQ7XG4gICAgXG4gICAgICB9XG4gICAgfVxuICAgIFxuXG5cbiAgICBnYW1lLnBsYXllcnMuZm9yRWFjaCgocCwgaWR4KSA9PiB7XG4gICAgICBpZighcC5mYWNlLmRlYWQpIHtcbiAgICAgICAgaWYocC5kaXJlY3Rpb24gPiAwICYmIHAucG9zaXRpb24gPCBNYXRoLlBJKSB7XG4gICAgICAgICAgcC5wb3NpdGlvbiArPSAocGxheWVyU3BlZWQgKiBtaWxsaXMpO1xuICAgICAgICAgIHAucG9zaXRpb24gPSBNYXRoLm1pbihwLnBvc2l0aW9uLCBNYXRoLlBJKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHAuZGlyZWN0aW9uIDwgMCAmJiBwLnBvc2l0aW9uID4gMCkge1xuICAgICAgICAgIHAucG9zaXRpb24gLT0gKHBsYXllclNwZWVkICogbWlsbGlzKTtcbiAgICAgICAgICBwLnBvc2l0aW9uID0gTWF0aC5tYXgocC5wb3NpdGlvbiwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NvbnN0IG5ld1BhZGRsZVB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwLmFuY2hvciwge3g6IHAuYW5jaG9yLngsIHk6IHAuYW5jaG9yLnkgKyAoZGlzdEZyb21BbmNob3IgLyAzMCl9LCBwLmFuZ2xlICsgcC5wb3NpdGlvbiAtIChNYXRoLlBJIC8gMikpO1xuICAgICAgICBjb25zdCBuZXdQYWRkbGVQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIocC5wdCwge3g6IHAucHQueCwgeTogcC5wdC55ICsgZGlzdEZyb21BbmNob3J9LCBwLmFuZ2xlICsgcC5wb3NpdGlvbiAtIChNYXRoLlBJIC8gMikpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFkZGxlT3BzID0gcC5wYWRkbGVPcHM7IC8vIE9iamVjdC5hc3NpZ24oe30sIHAucGFkZGxlT3BzLCBuZXdQYWRkbGVQdCk7XG4gICAgICAgIHBhZGRsZU9wcy54ID0gbmV3UGFkZGxlUHQueDtcbiAgICAgICAgcGFkZGxlT3BzLnkgPSBuZXdQYWRkbGVQdC55O1xuICAgICAgICBcblxuICAgICAgICBwYWRkbGVPcHMucG9pbnRzID0gW1xuICAgICAgICAgIHt4OiBwYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgICAgICAgIHt4OiBwYWRkbGVPcHMuaGFsZldpZHRoICogMC43LCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodCAvIDJ9LFxuICAgICAgICAgIHt4OiBwYWRkbGVPcHMuaGFsZldpZHRoICogMC40LCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICAgICAge3g6IC1wYWRkbGVPcHMuaGFsZldpZHRoICogMC40LCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICAgICAge3g6IC1wYWRkbGVPcHMuaGFsZldpZHRoICogMC43LCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodCAvIDJ9LFxuICAgICAgICAgIHt4OiAtcGFkZGxlT3BzLmhhbGZXaWR0aCwgeTogLXBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgICAgXTtcblxuICAgICAgICBpZihwLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgICAgcGFkZGxlT3BzLnN0cm9rZVN0eWxlID0gcC5jb2xvckNvbXBsZW1lbnQ7XG4gICAgICAgICAgcGFkZGxlT3BzLmxpbmVXaWR0aCA9IDU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFkZGxlT3BzLnN0cm9rZVN0eWxlID0gcC5jb2xvcjtcbiAgICAgICAgICBwYWRkbGVPcHMubGluZVdpZHRoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIFxuICAgICAgICBwYWRkbGVPcHMucG9pbnRzID0gcC5wYWRkbGVPcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgICAgICAgIHJldHVybiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlclBvaW50LCBvcHB0LCBwLmFuZ2xlICsgcC5wb3NpdGlvbiAtIChNYXRoLlBJIC8gMikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcC51cGRhdGUrKztcbiAgICAgICAgcGFkZGxlT3BzLmlkID0gaWR4ICsgJ3BhZGRsZScgKyBwLnVwZGF0ZTsgXG4gICAgICAgIGNvbnN0IHBhZGRsZSA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKHBhZGRsZU9wcyk7XG4gICAgICAgIC8vY29uc3QgcGFkZGxlMiA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKE9iamVjdC5hc3NpZ24oe30sIHBhZGRsZU9wcywge2lkOiBwLnBhZGRsZTIuaWR9KSk7XG4gICAgICAgIC8vZ2FtZS5yZW1vdmVCb2R5KHAucGFkZGxlKTtcbiAgICAgICAgLy9nYW1lLnJlbW92ZUJvZHkocC5wYWRkbGUyKTtcbiAgICAgICAgZ2FtZS5hZGRCb2R5KHBhZGRsZSk7XG4gICAgICAgIC8vZ2FtZS5hZGRCb2R5KHBhZGRsZTIpO1xuICAgICAgICBwLnBhZGRsZXMucHVzaChwYWRkbGUpO1xuICAgICAgICBpZihwLnBhZGRsZXMubGVuZ3RoID4gMykge1xuICAgICAgICAgIGNvbnN0IGZpcnN0ID0gcC5wYWRkbGVzLnNoaWZ0KCk7XG4gICAgICAgICAgZ2FtZS5yZW1vdmVCb2R5KGZpcnN0KTtcbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cbn0pO1xuXG5jb25zdCBiYWxsUHJvcHMgPSB7XG4gIHg6IGZ1bGxXIC8gMixcbiAgeTogZnVsbEggLyAyLFxuICBwdFJhZGl1czogMTAsXG4gIHJhZGl1czogMTAsXG4gIHBvaW50czogWzAsMSwyLDMsNCw1LDYsNyw4XSxcbiAgaWQ6ICdiYWxsJyxcbiAgd2FsbEhpdHM6IDAsXG4gIGhpZGRlbjogdHJ1ZVxufTtcblxuYmFsbFByb3BzLnBvaW50cyA9IGJhbGxQcm9wcy5wb2ludHMubWFwKChwLCBpZHgpID0+IHtcbiAgY29uc3QgbmV3UHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlclBvaW50LCB7eDogMCwgeTogYmFsbFByb3BzLnB0UmFkaXVzfSwgKChNYXRoLlBJICogMikgLyBiYWxsUHJvcHMucG9pbnRzLmxlbmd0aCkgKiBpZHgpO1xuICByZXR1cm4gbmV3UHRcbn0pO1xuXG5nYW1lLmJhbGwgPSBuZXcgQmFsbChiYWxsUHJvcHMpO1xuZ2FtZS5hZGRCb2R5KGdhbWUuYmFsbCk7XG5cbiAgLy9hZGQgZXZlcnl0aGluZyB0byBib3ggZnJvbSB0aGUgYm94RGF0YVxuYm94RGF0YS5lbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3BzKXtcbiAgY29uc3QgRW50aXR5ID0gZW50aXRpZXNbcHJvcHMudHlwZV07XG4gIGlmKEVudGl0eSl7XG4gICAgcHJvcHMuZHJhd0NlbnRlciA9IGZhbHNlO1xuICAgIGdhbWUuYWRkQm9keShuZXcgRW50aXR5KHByb3BzKSk7XG4gIH1cbn0pO1xuXG5cbmNvbnN0IHBjdCA9IDAuNjA0MzEyMjM4OTU0NzkxODU4MzsgXG5cbmNvbnN0IGFuZ3MgPSBbXG4gIDAsXG4gIGFuZzEsXG4gIGFuZzIgKyAoTWF0aC5QSS8yKSxcbiAgTWF0aC5QSSxcbiAgTWF0aC5QSSArIGFuZzEsXG4gIChNYXRoLlBJICogMS41KSArIGFuZzJcbl07XG5cbmxldCBjID0gW1xuICBbZnVsbFcgLyAyLCAwXSxcbiAgW2Z1bGxXIC0gKHNpZGVXICogcGN0KSwgKGZ1bGxIIC8gMikgKiAoMSAtIHBjdCldLFxuICBbZnVsbFcgLSAoc2lkZVcgKiBwY3QpLCAoZnVsbEggLyAyKSArICgoZnVsbEggLyAyKSAqIHBjdCldLFxuICBbZnVsbFcgLyAyLCBmdWxsSF0sXG4gIFtzaWRlVyAqIHBjdCwgKGZ1bGxIIC8gMikgKyAoKGZ1bGxIIC8gMikgKiBwY3QpXSxcbiAgW3NpZGVXICogcGN0LCAoZnVsbEggLyAyKSAqICgxIC0gcGN0KV0sXG5dO1xuXG5jb25zdCBwbGF5ZXJzID0gYy5tYXAoKGNwdCwgaWR4KSA9PiB7XG4gIHJldHVybiB7XG4gICAgcHQ6IHt4OiBjcHRbMF0sIHk6IGNwdFsxXX0sXG4gICAgY29sb3I6IGNvbG9ycy5yZ2IoaWR4KSxcbiAgICBjb2xvckNvbXBsZW1lbnQ6IGNvbG9ycy5jb21wbGVtZW50KGlkeCksXG4gICAgYW5nbGU6IGFuZ3NbaWR4XSxcbiAgICBkaXJlY3Rpb246IDAsXG4gICAgcG9zaXRpb246IE1hdGguUEkgLyAyLFxuICAgIHVwZGF0ZTogMFxuICB9XG59KTtcblxuY29uc29sZS5sb2coJ3BsYXllcnMnLCBwbGF5ZXJzKTtcblxuY29uc3Qgb3JpZ2luID0gcGxheWVyc1swXS5wdDtcblxucGxheWVycy5mb3JFYWNoKChwLCBpZHgpID0+IHtcbiAgY29uc29sZS5sb2coJ2NyZWF0aW5nIHBsYXllcicsIHApO1xuICBjb25zdCBwcHQgPSBwLnB0O1xuXG4gIGNvbnN0IG5ld0ZhY2VQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIocHB0LCB7eDogcHB0LngsIHk6IHBwdC55ICsgNTV9LCBwLmFuZ2xlKTtcbiAgY29uc3QgY2lyID0gbmV3IEZhY2Uoe1xuICAgIHg6IG5ld0ZhY2VQdC54LFxuICAgIHk6IG5ld0ZhY2VQdC55LFxuICAgIHJhZGl1czogNTAsXG4gICAgc3RhdGljQm9keTogdHJ1ZSxcbiAgICByZXN0aXR1dGlvbjogMixcbiAgICBmaWxsU3R5bGU6IHAuY29sb3IsXG4gICAgZGVhZEZpbGxTdHlsZTogY29sb3JzLnJnYmEoaWR4LCAwLjI1KSxcbiAgICBraW5nOiB0cnVlLFxuICAgIGJhbGw6IGdhbWUuYmFsbCxcbiAgICBwbGF5ZXJJZDogaWR4LFxuICB9KTtcbiAgZ2FtZS5hZGRCb2R5KGNpcik7XG4gIHAuZmFjZSA9IGNpcjtcblxuICBjb25zdCBuZXdQYWRkbGVQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIocHB0LCB7eDogcHB0LngsIHk6IHBwdC55ICsgZGlzdEZyb21BbmNob3J9LCBwLmFuZ2xlKTtcbiAgcC5wYWRkbGVPcHMgPSB7XG4gICAgeDogbmV3UGFkZGxlUHQueCxcbiAgICB5OiBuZXdQYWRkbGVQdC55LFxuICAgIGhhbGZXaWR0aDogNTUsXG4gICAgaGFsZkhlaWdodDogMTIsXG4gICAgcmVzdGl0dXRpb246IDEsXG4gICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgIHN0cm9rZVN0eWxlOiBwLmNvbG9yLFxuICAgIHBhZGRsZTogdHJ1ZSxcbiAgICBkcmF3Q2VudGVyOiBmYWxzZSxcbiAgICBwbGF5ZXJJZDogaWR4LFxuICAgIGRlbnNpdHk6IDEwMCxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIGlkOiBpZHggKyAncGFkZGxlMCcsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIGRyYXdMb2NhdGlvbjogZmFsc2UsXG4gIH07XG4gIHAucGFkZGxlT3BzLnBvaW50cyA9IFtcbiAgICB7eDogcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IHAucGFkZGxlT3BzLmhhbGZXaWR0aCwgeTogcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IC1wLnBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IHAucGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgIHt4OiAtcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gIF07XG5cbiAgcC5wYWRkbGVPcHMucG9pbnRzID0gcC5wYWRkbGVPcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgIHJldHVybiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlclBvaW50LCBvcHB0LCBwLmFuZ2xlKTtcbiAgfSk7XG4gIGNvbnN0IHBhZGRsZSA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKHAucGFkZGxlT3BzKTtcbiAgZ2FtZS5hZGRCb2R5KHBhZGRsZSk7XG4gIHAucGFkZGxlcyA9IFtwYWRkbGVdO1xuXG4gIHAuYW5jaG9yID0gbmV3IGVudGl0aWVzLkNpcmNsZSh7XG4gICAgeDogcC5wdC54LFxuICAgIHk6IHAucHQueSxcbiAgICByYWRpdXM6IDAuMSxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIHBsYXllcklkOiBpZHgsXG4gICAgaGlkZGVuOiB0cnVlXG4gIH0pO1xuICBnYW1lLmFkZEJvZHkocC5hbmNob3IpO1xuXG4gIHBhZGRsZS5kaXN0YW5jZSA9IGRpc3RhbmNlKHAuYW5jaG9yLCBwYWRkbGUpO1xuXG4gIGNvbnN0IGNKb2ludCA9IG5ldyBqb2ludHMuRGlzdGFuY2Uoe2JvZHlJZDE6IHAuYW5jaG9yLmlkLCBib2R5SWQyOiBwYWRkbGUuaWQsIGlkOiBNYXRoLnJhbmRvbSgpICsgJ2onfSk7XG4gIGdhbWUuYWRkSm9pbnQoY0pvaW50KTtcblxuICByYXdCcmlja3MuZm9yRWFjaCgocmIsIGpkeCkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IHtcbiAgICAgIHg6IHJiWzBdICsgKGZ1bGxXIC8gMiksXG4gICAgICB5OiByYlsxXSxcbiAgICAgIGhhbGZXaWR0aDogMjUsXG4gICAgICBoYWxmSGVpZ2h0OiAxMi41LFxuICAgICAgc3RhdGljQm9keTogdHJ1ZSxcbiAgICAgIHJlc3RpdHV0aW9uOiAxLjUsXG4gICAgICBwbGF5ZXJJZDogaWR4LFxuICAgICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgICAgYnJpY2s6IHRydWUsXG4gICAgICBwcmVBbmdsZTogcC5hbmdsZSxcbiAgICB9O1xuICBcbiAgICBjb25zdCBwdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIob3JpZ2luLCBvcHMsIHAuYW5nbGUpO1xuICAgIFxuICAgIG9wcy54ID0gcHQueDtcbiAgICBvcHMueSA9IHB0Lnk7XG4gIFxuICBcbiAgICBvcHMueCArPSAocHB0LnggLSBwbGF5ZXJzWzBdLnB0LngpO1xuICAgIG9wcy55ICs9IChwcHQueSAtIHBsYXllcnNbMF0ucHQueSk7XG5cbiAgICBvcHMucG9pbnRzID0gW1xuICAgICAge3g6IG9wcy5oYWxmV2lkdGgsIHk6IC1vcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogb3BzLmhhbGZXaWR0aCwgeTogb3BzLmhhbGZIZWlnaHR9LFxuICAgICAge3g6IC1vcHMuaGFsZldpZHRoLCB5OiBvcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogLW9wcy5oYWxmV2lkdGgsIHk6IC1vcHMuaGFsZkhlaWdodH0sXG4gICAgXTtcblxuICAgIG9wcy5wb2ludHMgPSBvcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyUG9pbnQsIG9wcHQsIHAuYW5nbGUpO1xuICAgIH0pO1xuXG4gICAgb3BzLnByZXggPSBvcHMueDtcbiAgICBvcHMucHJleSA9IG9wcy55O1xuICBcbiAgICBjb25zdCBiID0gbmV3IEJyaWNrKG9wcyk7XG4gICAgZ2FtZS5hZGRCb2R5KGIpO1xuXG4gIH0pO1xuXG59KTtcblxuZ2FtZS5tZWFzdXJlbWVudHMgPSB7ZnVsbFcsIGZ1bGxILCBoZXhTaWRlLCBzaWRlVywgc2ludDEsIGFuZzEsIHNpbnQyLCBhbmcyfTtcbmdhbWUucGxheWVycyA9IHBsYXllcnM7XG5cbi8vaWYgeW91IHdhbnQgdG8gdGFrZSBhIGxvb2sgYXQgdGhlIGdhbWUgb2JqZWN0IGluIGRldiB0b29sc1xuY29uc29sZS5sb2coZ2FtZSk7XG53aW5kb3cuZ2FtZSA9IGdhbWU7XG5cbi8vbGF1bmNoIHRoZSBnYW1lIVxuZ2FtZS5ydW4oKTtcbmdhbWUuYm94LmFwcGx5Rm9yY2VEZWdyZWVzKCdiYWxsJywgTWF0aC5yYW5kb20oKSAqIDM2MCwgYmFsbFNwZWVkKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=