!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=48)}([function(t,e){t.exports={CANCEL:3,HELP:6,BACK_SPACE:8,TAB:9,CLEAR:12,RETURN:13,ENTER:14,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINTSCREEN:44,INSERT:45,DELETE:46,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,SEMICOLON:59,EQUALS:61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}},function(t,e){t.exports=function(t={x:0,y:0},e){return t.x===e.x&&t.y===e.y?0:t.x===e.x?t.y>e.y?0:Math.PI:t.y===e.y?t.x>e.x?1.5*Math.PI:Math.PI/2:t.x<e.x&&t.y>e.y?Math.atan((e.x-t.x)/(t.y-e.y)):t.x<e.x&&t.y<e.y?Math.PI/2+Math.atan((e.y-t.y)/(e.x-t.x)):t.x>e.x&&t.y<e.y?Math.PI+Math.atan((t.x-e.x)/(e.y-t.y)):1.5*Math.PI+Math.atan((t.y-e.y)/(t.x-e.x))}},function(t,e){t.exports=function(t={x:0,y:0},e,i){const s=Math.sin(i),n=Math.cos(i),o={};o.x=e.x-t.x,o.y=e.y-t.y;const a=o.x*n-o.y*s,r=o.x*s+o.y*n;return o.x=a+t.x,o.y=r+t.y,o}},function(e,s){const n=[[0,221,0],[221,0,0],[238,0,238],[160,82,45],[0,0,221],[255,165,0]];function o(t){var e,i,s;return hsv=new Object,max=(e=t.r,i=t.g,s=t.b,e>i?e>s?e:s:i>s?i:s),dif=max-function(t,e,i){return t<e?t<i?t:i:e<i?e:i}(t.r,t.g,t.b),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:t.r==max?hsv.hue=60*(t.g-t.b)/dif:t.g==max?hsv.hue=120+60*(t.b-t.r)/dif:t.b==max&&(hsv.hue=240+60*(t.r-t.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}e.exports={colors:n,rgb:function(t){const e=n[t];return console.log("colors",e,t),`rgb(${e[0]},${e[1]},${e[2]})`},rgba:function(t,e){const i=n[t];return`rgba(${i[0]},${i[1]},${i[2]},${e})`},complement:function(e){const s=n[e];console.log("colorsc",s,e);const a=o({r:s[0],g:s[1],b:s[2]});a.hue=function(t,e){for(t+=e;t>=360;)t-=360;for(;t<0;)t+=360;return t}(a.hue,180);const r=function(e){var s=new Object;if(0==e.saturation)s.r=s.g=s.b=Math.round(2.55*e.value);else{switch(e.hue/=60,e.saturation/=100,e.value/=100,i=Math.floor(e.hue),f=e.hue-i,p=e.value*(1-e.saturation),q=e.value*(1-e.saturation*f),t=e.value*(1-e.saturation*(1-f)),i){case 0:s.r=e.value,s.g=t,s.b=p;break;case 1:s.r=q,s.g=e.value,s.b=p;break;case 2:s.r=p,s.g=e.value,s.b=t;break;case 3:s.r=p,s.g=q,s.b=e.value;break;case 4:s.r=t,s.g=p,s.b=e.value;break;default:s.r=e.value,s.g=p,s.b=q}s.r=Math.round(255*s.r),s.g=Math.round(255*s.g),s.b=Math.round(255*s.b)}return s}(a);return`rgb(${r.r},${r.g},${r.b})`}}},function(t,e,i){const s=i(7),n=i(27);t.exports=class extends s{constructor(t={}){super(t),this.radius=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),this.staticBody||(t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.beginPath(),t.moveTo(this.x*e,this.y*e),t.lineTo(this.x*e,this.y*e-this.radius*e),t.closePath(),t.stroke(),t.restore()),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.radius=this.radius*t,super.scaleShape(t)}pointInShape(t){return n(t,this)<=this.radius}}},function(t,e,i){window.frozenjs={GameCore:i(13),InputManager:i(14),ResourceManager:i(18),MouseAction:i(16),TouchAction:i(15),keys:i(0),Animation:i(23),AnimFrame:i(24),utils:i(34),Sprite:i(28),reiner:{Creature:i(38)},sounds:{WebAudio:i(22)},box2d:{entities:i(39),joints:i(42),Box:i(29),BoxGame:i(47)}},t.exports=window.frozenjs},function(t,e){t.exports=function t(e,i){return e=Array.isArray(e)?e.map(function(e){return t(e,i)}):"object"==typeof i?{x:e.x*i.x,y:e.y*i.y}:{x:e.x*i,y:e.y*i}}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.x=0,this.y=0,this.scale=null,this.angle=0,this.center=null,this.drawLocation=!0,this.drawCenter=!0,this.restitution=.3,this.density=1,this.friction=.9,this.linearDamping=0,this.linearVelocity=null,this.angularVelocity=0,this.angularDamping=0,this.staticBody=!1,this.fillStyle="rgba(128,128,128,0.5)",this.strokeStyle="#000",this.lineWidth=1,this.maskBits=null,this.categoryBits=null,this.groupIndex=null,Object.assign(this,t)}update(t){Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,this.drawLocation&&(t.fillStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,4,0,2*Math.PI,!0),t.closePath(),t.fill()),this.center&&this.drawCenter&&(t.fillStyle=this.centerStyle||"yellow",t.beginPath(),t.arc(this.center.x*e,this.center.y*e,2,0,2*Math.PI,!0),t.closePath(),t.fill()),t.lineWidth=i}scaleShape(t){this.x=this.x*t,this.y=this.y*t,this.alreadyScaled=!0}}},function(t,e){const i={NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3};t.exports=class{constructor(t={}){this.name=null,this.behavior=0,this.amount=0,this.state=0,this.statics=i,Object.assign(this,t),this.reset()}reset(){this.state=i.STATE_RELEASED,this.amount=0}tap(){this.press(),this.release()}press(){this.state=i.STATE_PRESSED,this.behavior===i.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)}pressAmt(t){this.state!==i.STATE_WAITING_FOR_RELEASE&&(this.amount+=t,this.state=i.STATE_WAITING_FOR_RELEASE)}release(){this.state=i.STATE_RELEASED}isPressed(){return this.state===i.STATE_PRESSED}getAmount(){var t=this.amount;return 0!==t&&(this.state===i.STATE_RELEASED?this.amount=0:this.behavior===i.DETECT_INITAL_PRESS_ONLY&&(this.state=i.STATE_WAITING_FOR_RELEASE,this.amount=0)),t}}},function(t,e,i){"use strict";t.exports=function(t,e){if(!t||!e)return!1;for(var i=e.points||e,s=!1,n=i.length-1,o=0;o<i.length;n=o++){var a=i[o].x,r=i[o].y,h=i[n].x,l=i[n].y;r>t.y!=l>t.y&&t.x<(h-a)*(t.y-r)/(l-r)+a&&(s=!s)}return s}},function(t,e){t.exports=function t(e,i){return Array.isArray(e)?e=e.map(function(e){return t(e,i)}):(e={x:e.x,y:e.y},null!=i.x&&(e.x+=i.x),null!=i.y&&(e.y+=i.y)),e}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.bodyId1=null,this.bodyId2=null,this.bodyPoint1=null,this.jointAttributes=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint1&&(this.bodyPoint1.x=this.bodyPoint1.x*t,this.bodyPoint1.y=this.bodyPoint1.y*t,this.alreadyScaled=!0)}}},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.points=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var s=1;s<this.points.length;s++)t.lineTo((this.points[s].x+this.x)*e,(this.points[s].y+this.y)*e);t.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e),t.closePath(),t.fill(),t.stroke(),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.points=n(this.points,t),super.scaleShape(t)}pointInShape(t){return o(t,a(this.points,this))}}},function(t,e,i){const s=i(14),n=i(18);t.exports=class{constructor(t={}){this.isRunning=!1,this.canvasId=null,this.maxStep=40,this.contextType="2d",this.height=0,this.width=0,this.resourceManager=null,this.inputManager=null,this.loadingForeground="#00F",this.loadingBackground="#FFF",this.gameAreaId=null,this.canvasPercentage=0,Object.assign(this,t),this.resourceManager||(this.resourceManager=new n)}setHeight(t){this.height=t,this.canvas.height=t}setWidth(t){this.width=t,this.canvas.width=t}stop(){this.isRunning=!1}run(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())}loadResources(t){}init(){this.canvas||(this.canvas=document.getElementById(this.canvasId)),this.canvas?(this.context||(this.context=this.canvas.getContext(this.contextType)),this.context?(this.setHeight(this.height||this.canvas.height),this.setWidth(this.width||this.canvas.width),this.inputManager||(this.gameAreaId&&this.canvasPercentage?this.inputManager=new s({canvas:this.canvas,gameArea:document.getElementById(this.gameAreaId),canvasPercentage:this.canvasPercentage}):this.inputManager=new s({canvas:this.canvas})),this.inputManager.resize(),this.isRunning=!0):alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")):alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")}initInput(t){}handleInput(t,e){}gameLoop(){this.currTime=(new Date).getTime(),this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep),this.prevTime=this.currTime,this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())}launchLoop(){this.elapsedTime=0;var t=Date.now();this.currTime=t,this.prevTime=t,this.loopRunner=this.loopRunner.bind(this),window.requestAnimationFrame(this.loopRunner)}loopRunner(){this.gameLoop(),window.requestAnimationFrame(this.loopRunner)}update(t){}updateLoadingScreen(t){}draw(t){"2d"===this.contextType&&(t.font="14px sans-serif",t.fillText("This game does not have its own draw function!",10,50))}drawLoadingScreen(t){if(this.resourceManager&&"2d"===this.contextType){t.fillStyle=this.loadingBackground,t.fillRect(0,0,this.width,this.height),t.fillStyle=this.loadingForeground,t.strokeStyle=this.loadingForeground;var e=Math.floor(this.height/12);t.font="bold "+e+"px sans-serif",t.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",.1*this.width,.55*this.height),t.strokeRect(.1*this.width,.7*this.height,.8*this.width,.1*this.height),t.fillRect(.1*this.width,.7*this.height,.8*this.width*this.resourceManager.getPercentComplete()/100,.1*this.height),t.lineWidth=4}}}},function(t,e,i){const s=i(31),n=i(8),o=i(15),a=i(16),r=i(17),h=i(0);function l(t,e,i){return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function c(t){return parseFloat(t)||0}function u(t){var e=function(t){return window.getComputedStyle(t,null)||{}}(t),i=c(e.marginLeft),s=c(e.marginTop);return{w:i+c(e.marginRight),h:s+c(e.marginBottom)}}t.exports=class{constructor(t={}){function e(t){t.remove()}if(this.keyActions=null,this.mouseAction=null,this.touchAction=null,this.canvas=null,this.handleMouse=!0,this.handleTouch=!0,this.handleKeys=!0,this.gameArea=null,this.canvasPercentage=null,this.emulateMouse=!0,this.hammer=null,Object.assign(this,t),this.hammer||(this.hammer=new s(document.body,{prevent_default:!0,drag_max_touches:0,hold:!1})),this.keyActions||(this.keyActions={}),this.handleKeys&&(this.pushCleanup(l(document,"keydown",this.keydown.bind(this)),e),this.pushCleanup(l(document,"keyup",this.keyup.bind(this)),e)),"ontouchstart"in document?(this.pushCleanup(l(document,"touchstart",this.touchstart.bind(this)),e),this.pushCleanup(l(document,"touchmove",this.touchmove.bind(this)),e),this.pushCleanup(l(document,"touchend",this.touchend.bind(this)),e)):(this.pushCleanup(l(document,"mousedown",this.mousedown.bind(this)),e),this.pushCleanup(l(document,"mousemove",this.mousemove.bind(this)),e),this.pushCleanup(l(document,"mouseup",this.mouseup.bind(this)),e)),this.mouseAction||(this.mouseAction=new a),this.touchAction||(this.touchAction=new o),this.emulateMouse,this.gameArea&&this.canvasPercentage){var i=this.resize.bind(this);this.pushCleanup(l(window,"resize",i),e),this.pushCleanup(l(window,"orientationchange",i),e)}this.normalizePoint=this.normalizePoint.bind(this),this.insideCanvas=this.insideCanvas.bind(this)}on(t,e){var i=this.hammer,s=this.removeCleanup;i.on(t,e);var n=this.pushCleanup([t,e],function(t){i.off.apply(i,t)});return{remove:function(){s(n),n()}}}insideCanvas(t){return r(t,this.canvas)}mapToKey(t,e){this.keyActions[e]=t}addKeyAction(t,e){Array.isArray(t)||(t=[t]);const i=t.map(t=>{const i=new n;return e&&(i.behavior=i.detectInitialPressOnly),this.mapToKey(i,t),i});return i.length>1?i:i[0]}addArrowKeyActions(){this.addKeyAction(h.UP),this.addKeyAction(h.DOWN),this.addKeyAction(h.LEFT),this.addKeyAction(h.RIGHT)}mouseUp(t){this.mouseup(t)}mouseup(t){this.mouseAction.release(this.normalizePoint(t))}mouseDown(t){this.mousedown(t)}mousedown(t){this.mouseAction.release(null);var e=this.normalizePoint(t);this.mouseAction.insideCanvas=this.insideCanvas(e),this.mouseAction.press(e)}mouseMove(t){this.mousemove(t)}mousemove(t){this.mouseAction.position=this.normalizePoint(t)}touchStart(t){this.touchstart(t)}touchstart(t){this.touchAction.release(null),console.log(t.touches,t);const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.insideCanvas=e.some(this.insideCanvas),this.touchAction.press(e),this.emulateMouse&&this.mousedown(t.touches[0])}touchEnd(t){this.touchend(t)}touchend(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.release(e),this.emulateMouse&&this.mouseUp(t.touches[0])}touchMove(t){this.touchmove(t)}touchmove(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.positions=e,this.touchAction.startPositions&&t.preventDefault(),this.emulateMouse&&this.mousemove(t.touches[0])}getKeyAction(t){return this.keyActions?this.keyActions[t.keyCode]||this.keyActions[String.fromCharCode(t.keyCode)]:null}keyPressed(t){this.keydown(t)}keyDown(t){this.keydown(t)}keydown(t){var e=this.getKeyAction(t);e&&!e.isPressed()&&e.press()}keyReleased(t){this.keyup(t)}keyup(t){var e=this.getKeyAction(t);e&&e.release()}getMouseLoc(t){return this.normalizePoint(t)}normalizePoint(t){if(t){var e=(i=this.canvas,{x:(s=i.getBoundingClientRect()).left,y:s.top});return this.zoomRatio?{x:Math.round((t.clientX-e.x)/this.zoomRatio),y:Math.round((t.clientY-e.y)/this.zoomRatio)}:{x:Math.round(t.clientX-e.x),y:Math.round(t.clientY-e.y)}}var i,s}resize(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var t=this.canvas.width,e=this.canvas.height,i=u(document.body),s=window.innerWidth-i.w,n=window.innerHeight-i.h,o=t/e,a="",r="";s/n>o?(a=(s=n*o)+"px",r=n+"px"):(a=s+"px",r=Math.round(s/o)+"px"),this.zoomRatio=s/t*this.canvasPercentage,this.gameArea.style.width=a,this.gameArea.style.height=r;var h=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.width=h,this.canvas.style.height=h,this.canvas.style.display="block",this.canvas.style.marginLeft="auto",this.canvas.style.marginRight="auto"}}pushCleanup(t,e){}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPositions=null,this.endPositions=null,this.positions=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPositions=t,this.positions=t,super.press(t)}release(t){this.endPositions=t,super.release(t)}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPosition=null,this.endPosition=null,this.position=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPosition=t,this.position=t,super.press(t)}release(t){this.endPosition=t||this.position,super.release(t)}}},function(t,e){t.exports=function(t,e){return!(t.x<0||t.x>e.width||t.y<0||t.y>e.height)}},function(t,e,i){"use strict";const s=i(19),n=i(21),o=i(22);var a={};function r(t,e){var i=e;return t&&(i=[t,e].join("/")),i.replace(/\/{2,}/g,"/")}function h(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(e.width,0),i.scale(-1,1),i.drawImage(t,0,0),e.toDataURL()}function l(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(0,e.height),i.scale(1,-1),i.drawImage(t,0,0),e.toDataURL()}class c{constructor(t){var e=this;e.name=t,e.complete=!1,e.img=new Image,e.img.addEventListener("load",function(){e.complete=!0},!1)}load(){this.img.src=this.name}}t.exports=class{constructor(t={}){this.allLoaded=!1,this.imageDir=null,this.soundDir=null,this.resourceList=a,Object.assign(this,t),this.Sound||(s("WebAudio")?this.Sound=o:this.Sound=n)}loadImage(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.imageDir,t);if(this.resourceList[e])return this.resourceList[e].img;this.allLoaded=!1;const i=new c(e);return i.load(),this.resourceList[e]=i,i.img});return e?i[0]:i}loadSound(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.soundDir,t);if(this.resourceList[e])return this.resourceList[e];this.allLoaded=!1;const i=new this.Sound(e);return this.resourceList[e]=i,i});return e?i[0]:i}flipImage(t,e,i){this.allLoaded=!1;const s=new c(t);this.resourceList[t]=s;const n=new Image;return n.addEventListener("load",function t(){s.img.src=i(n),n.removeEventListener("load",t)}),n.src=e.src,s.img}flipImageX(t,e){return this.flipImage(t,e,h)}flipImageY(t,e){return this.flipImage(t,e,l)}resourcesReady(){if(this.allLoaded)return!0;for(var t in this.resourceList)if(!this.resourceList[t].complete)return!1;return this.allLoaded=!0,!0}getPercentComplete(){var t=0,e=0;for(var i in this.resourceList)e++,this.resourceList[i].complete&&(t+=1);return 0===e?0:Math.round(t/e*100)}}},function(t,e,i){"use strict";(function(e){i(32);t.exports=function t(i){return"shittySound"==i?!(!t("android")&&!t("ios")||!t("webkit")):"android"==i?parseFloat(navigator.userAgent.split("Android ")[1])||void 0:"ios"!=i&&("webkit"==i?parseFloat(navigator.userAgent.split("WebKit/")[1])||void 0:"WebAudio"==i?!!e.AudioContext:"touch"===i&&"ontouchstart"in document.documentElement)}}).call(this,i(20))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){const i={"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"};t.exports=class{constructor(t={}){this.name=null,this.complete=!1,this.probably=[],this.maybe=[],Object.assign(this,t),this.formats=i,"string"==typeof t&&this.load(t)}load(t){this.name=t,this.complete=!0}loop(t){}play(t,e){}_initAudio(t,e){}_chooseFormat(){if(!this.probably.length&&!this.maybe.length){var t,e,i=new Audio;for(t in this.formats)"probably"!==(e=i.canPlayType(t))?"maybe"!==e||this.maybe.push(this.formats[t]):this.probably.push(this.formats[t])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""}_nextFormat(){return this.probably.length>1?(this.probably.shift(),this.probably[0]):1===this.probably.length&&(this.probably.length=0,this.maybe.length)?this.maybe[0]:this.maybe.length>1?(this.maybe.shift(),this.maybe[0]):(1===this.maybe.length&&(this.maybe.length=0),"")}}},function(t,e,i){const s=i(21),n=i(33),o=i(19);var a=null;if(o("WebAudio")&&(a=new window.AudioContext),o("shittySound")){document.addEventListener("touchstart",function t(){const e=a.createBufferSource();e.buffer=a.createBuffer(1,1,22050),e.connect(a.destination),e.start(0),document.removeEventListener("touchstart",t)})}t.exports=class extends s{constructor(t={}){super(t),this.audioContext=a,this.buffer=null,Object.assign(this,t)}load(t){var e=this;this.name=t;var i=n(t);i===t&&(t=i+this._chooseFormat());var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(t){e.audioContext.decodeAudioData(t.target.response,function(t){e.buffer=t,e.complete=!0},function(t){e._nextFormat()?e.load(e.name):e.complete=!0})},s.send()}loop(t){this.buffer&&this._initAudio(t,!0).start(0)}play(t,e){this.buffer&&(e=e||0,this._initAudio(t,!1).start(e))}_initAudio(t,e){e="boolean"==typeof e&&e;var i=this.audioContext.createBufferSource();if(i.buffer=this.buffer,i.loop=e,t){var s=this.audioContext.createGain();s.gain.value=t,i.connect(s),s.connect(this.audioContext.destination)}else i.connect(this.audioContext.destination);return i}}},function(t,e,i){const s=i(24);class n{constructor(t={}){this.currFrameIndex=0,this.animTime=0,this.totalDuration=0,this.height=64,this.width=64,this.image=null,this.offsetX=0,this.offsetY=0,this.frames=void 0,Object.assign(this,t),this.start()}createFromSheet(t,e,i,s,o,a){var r=new n({image:i,height:o,width:s}),h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<t;c++)l=h?e[c]:e,r.addFrame(l,c,a);return r}clone(){return new n({image:this.image,frames:this.frames,totalDuration:this.totalDuration})}addFrame(t,e,i){this.frames||(this.frames=[]),this.totalDuration+=t,this.frames.push(new s({endTime:this.totalDuration,image:this.image,imgSlotX:e,imgSlotY:i}))}start(){this.animTime=0,this.currFrameIndex=0}update(t){if(this.frames.length>1)for(this.animTime+=t,this.animTime>=this.totalDuration&&(this.animTime=this.animTime%this.totalDuration,this.currFrameIndex=0);this.animTime>this.frames[this.currFrameIndex].endTime;)this.currFrameIndex++}getCurrentFrame(){return 0===this.frames.length?null:this.frames[this.currFrameIndex]}draw(t,e,i){var s=this.getCurrentFrame();t.drawImage(this.image,s.imgSlotX*this.width+this.offsetX,s.imgSlotY*this.height+this.offsetY,this.width,this.height,e,i,this.width,this.height)}}t.exports=n},function(t,e){t.exports=class{constructor(t={}){this.endTime=0,this.imgSlotX=0,this.imgSlotY=0,this.image=null,Object.assign(this,t)}}},function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e){const i=180/Math.PI;t.exports=function(t){return t*i}},function(t,e){t.exports=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}},function(t,e){class i{constructor(t={}){this.x=0,this.y=0,this.dx=0,this.dy=0,this.maxSpeed=0,this.name=null,this.collisionRadius=40,Object.assign(this,t)}update(t){this.x+=this.dx*t,this.y+=this.dy*t,this.anim.update(t)}limitSpeed(t){return this.maxSpeed&&Math.abs(t)>this.maxSpeed?t>0?this.maxSpeed:t<0?this.maxSpeed:0:t}getCurrentFrame(){if(this.anim)return this.anim.getCurrentFrame()}draw(t){this.anim&&this.anim.draw(t,this.x,this.y)}clone(){return new i({anim:this.anim.clone()})}}t.exports=i},function(t,e,i){(function(e){const s=i(46);console.log(Box2D,"Box2D",e,window);const n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.b2BodyDef,a=Box2D.Dynamics.b2Body,r=Box2D.Dynamics.b2FixtureDef,h=(Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2World),l=Box2D.Collision.Shapes.b2PolygonShape,c=Box2D.Collision.Shapes.b2CircleShape;t.exports=class{constructor(t={}){this.intervalRate=60,this.adaptive=!1,this.bodiesMap=null,this.fixturesMap=null,this.jointsMap=null,this.b2World=null,this.gravityX=0,this.gravityY=9.8,this.allowSleep=!0,this.resolveCollisions=!1,this.contactListener=null,this.collisions=null,this.scale=30,this.bodiesMap={},this.fixturesMap={},this.jointsMap={},Object.assign(this,t),this.b2World=new h(new n(this.gravityX,this.gravityY),this.allowSleep),this.intervalRate&&(this.intervalRate=parseInt(this.intervalRate,10)),this.resolveCollisions&&(this.contactListener=new s),this.contactListener&&this.addContactListener(this.contactListener)}update(t){this.contactListener&&this.contactListener.reset&&this.contactListener.reset();var e=Date.now();if(t)this.b2World.Step(t/1e3,10,10),this.b2World.ClearForces();else{var i=this.adaptive?(e-this.lastTimestamp)/1e3:1/this.intervalRate;this.b2World.Step(i,10,10),this.b2World.ClearForces()}return Date.now()-e}getState(){for(var t={},e=this.b2World.GetBodyList();e;e=e.m_next)e.IsActive()&&void 0!==e.GetUserData()&&null!==e.GetUserData()&&(t[e.GetUserData()]={x:e.GetPosition().x,y:e.GetPosition().y,angle:e.GetAngle(),center:{x:e.GetWorldCenter().x,y:e.GetWorldCenter().y},linearVelocity:e.m_linearVelocity,angularVelocity:e.m_angularVelocity},this.contactListener&&this.contactListener.collisions&&(t[e.GetUserData()].collisions=this.contactListener.collisions[e.GetUserData()]||null));return t}updateExternalState(t){var e=this.getState();for(var i in e){var s=t[i];s&&!s.staticBody&&s.update(e[i])}}setBodies(t){for(var e in t){var i=t[e];this.addBody(i)}this.ready=!0}addBody(t){t.alreadyScaled||(t.scaleShape(1/this.scale),t.scale=this.scale);var e,i,s,h,u,d=new o,p=new r;p.restitution=t.restitution,p.density=t.density,p.friction=t.friction,null!=t.maskBits&&(p.filter.maskBits=t.maskBits),null!=t.categoryBits&&(p.filter.categoryBits=t.categoryBits),null!=t.groupIndex&&(p.filter.groupIndex=t.groupIndex),t.staticBody?d.type=a.b2_staticBody:d.type=a.b2_dynamicBody,d.position.x=t.x,d.position.y=t.y,d.userData=t.id,d.angle=t.angle,d.linearDamping=t.linearDamping,d.angularDamping=t.angularDamping;var y=this.b2World.CreateBody(d);if(t.radius)p.shape=new c(t.radius),y.CreateFixture(p);else if(t.points){for(s=[],e=0;e<t.points.length;e++)(h=new n).Set(t.points[e].x,t.points[e].y),s[e]=h;p.shape=new l,p.shape.SetAsArray(s,s.length),y.CreateFixture(p)}else if(t.polys)for(i=0;i<t.polys.length;i++){for(s=t.polys[i],u=[],e=0;e<s.length;e++)(h=new n).Set(s[e].x,s[e].y),u[e]=h;p.shape=new l,p.shape.SetAsArray(u,u.length),y.CreateFixture(p)}else p.shape=new l,p.shape.SetAsBox(t.halfWidth,t.halfHeight),y.CreateFixture(p);this.bodiesMap[t.id]=y}setPosition(t,e,i){this.bodiesMap[t].SetPosition(new n(e,i))}setAngle(t,e){var i=this.bodiesMap[t];console.log("set angle",i.setAngle,i),i.setAngle(e)}setLinearVelocity(t,e,i){this.bodiesMap[t].SetLinearVelocity(new n(e,i))}setAngularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyImpulseDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyForceDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyImpulse(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}applyForce(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}setAngle(t,e){this.bodiesMap[t].SetAngle(e)}setAnglularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyTorque(t,e){this.bodiesMap[t].ApplyTorque(e)}setGravity(t){this.b2World.SetGravity(new n(t.x,t.y))}removeBody(t){this.bodiesMap[t]&&(this.fixturesMap[t]&&this.bodiesMap[t].DestroyFixture(this.fixturesMap[t]),this.b2World.DestroyBody(this.bodiesMap[t]),delete this.bodiesMap[t])}wakeUpBody(t){this.bodiesMap[t]&&this.bodiesMap[t].SetAwake(!0)}addContactListener(t){var e=new Box2D.Dynamics.b2ContactListener;t.beginContact&&(e.BeginContact=function(e){t.beginContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.endContact&&(e.EndContact=function(e){t.endContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.preSolve&&(e.PreSolve=function(e,i){t.preSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),t.postSolve&&(e.PostSolve=function(e,i){t.postSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),this.b2World.SetContactListener(e)}removeJoint(t){this.jointsMap[t]&&(this.b2World.DestroyJoint(this.jointsMap[t]),delete this.jointsMap[t])}addJoint(t){if(t&&t.id&&!this.jointsMap[t.id]){!t.alreadyScaled&&t.scaleJointLocation&&(t.scaleJointLocation(1/this.scale),t.scale=this.scale);var e=t.createB2Joint(this);e&&(this.jointsMap[t.id]=e)}}}}).call(this,i(20))},function(t,e){t.exports={entities:[{points:[{x:-100,y:-100},{x:568.10113,y:-100},{x:568.10113,y:0},{x:0,y:540},{x:-100,y:540}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",id:"uleftw",hidden:!0,wall:!0,restitution:1},{points:[{x:-100,y:540},{x:0,y:540},{x:568.10113,y:1080},{x:568.10113,y:1180},{x:-100,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,hidden:!0,wall:!0,id:"lleftw"},{points:[{x:1351.89887,y:-100},{x:2020,y:-100},{x:2020,y:540},{x:1920,y:540},{x:1351.89887,y:0}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"urighttw",hidden:!0,wall:!0},{points:[{x:1351.89887,y:1080},{x:1920,y:540},{x:2020,y:540},{x:2020,y:1180},{x:1351.89887,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"lrighttw",hidden:!0,wall:!0},{x:960,y:1180,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"bottomw",restitution:1,hidden:!0,wall:!0},{x:960,y:-100,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"topw",restitution:1,hidden:!0,wall:!0}],joints:[],canvas:{height:600,width:800},backImg:null}},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(n,o,a,r){"use strict";var h,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),u="function",d=Math.round,p=Math.abs,y=Date.now;function f(t,e,i){return setTimeout(A(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function v(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=n.console&&(n.console.warn||n.console.log);return o&&o.call(n.console,s,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==r&&null!==s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign;var x=v(function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&t[s[n]]===r)&&(t[s[n]]=e[s[n]]),n++;return t},"extend","Use `assign`."),b=v(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function T(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&h(s,i)}function A(t,e){return function(){return t.apply(e,arguments)}}function P(t,e){return typeof t==u?t.apply(e&&e[0]||r,e):t}function S(t,e){return t===r?e:t}function w(t,e,i){g(C(e),function(e){t.addEventListener(e,i,!1)})}function M(t,e,i){g(C(e),function(e){t.removeEventListener(e,i,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function D(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function W(t){return Array.prototype.slice.call(t,0)}function _(t,e,i){for(var s=[],n=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];D(n,a)<0&&s.push(t[o]),n[o]=a,o++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s}function k(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((s=(i=l[o])?i+n:e)in t)return s;o++}return r}var O=1;function L(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var R="ontouchstart"in n,B=k(n,"PointerEvent")!==r,F=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=25,j=1,H=2,U=4,z=8,G=1,Y=2,X=4,V=8,J=16,K=Y|X,q=V|J,$=K|q,Q=["x","y"],Z=["clientX","clientY"];function tt(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){P(t.options.enable,[t])&&i.handler(e)},this.init()}function et(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&j&&s-n==0,a=e&(U|z)&&s-n==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=it(e));n>1&&!i.firstMultiple?i.firstMultiple=it(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,h=a?a.center:o.center,l=e.center=st(s);e.timeStamp=y(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(h,l),e.distance=at(h,l),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};e.eventType!==j&&o.eventType!==U||(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=a?(u=a.pointers,d=s,at(d[0],d[1],Z)/at(u[0],u[1],Z)):1,e.rotation=a?function(t,e){return rt(e[1],e[0],Z)+rt(t[1],t[0],Z)}(a.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=z&&(h>N||a.velocity===r)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,u=nt(h,l,c);s=u.x,n=u.y,i=p(u.x)>p(u.y)?u.x:u.y,o=ot(l,c),t.lastInterval=e}else i=a.velocity,s=a.velocityX,n=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=o}(i,e);var u,d;var f=t.element;E(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function it(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:y(),pointers:e,center:st(e),deltaX:t.deltaX,deltaY:t.deltaY}}function st(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:d(i/e),y:d(s/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?Y:X:e<0?V:J}function at(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function rt(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(L(this.element),this.evWin,this.domHandler)}};var ht={mousedown:j,mousemove:H,mouseup:U},lt="mousedown",ct="mousemove mouseup";function ut(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}T(ut,tt,{handler:function(t){var e=ht[t.type];e&j&&0===t.button&&(this.pressed=!0),e&H&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:j,pointermove:H,pointerup:U,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},yt="pointerdown",ft="pointermove pointerup pointercancel";function mt(){this.evEl=yt,this.evWin=ft,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(yt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),T(mt,tt,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=dt[s],o=pt[t.pointerType]||t.pointerType,a="touch"==o,r=D(e,t.pointerId,"pointerId");n&j&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):n&(U|z)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var gt={touchstart:j,touchmove:H,touchend:U,touchcancel:z},vt="touchstart",xt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}T(bt,tt,{handler:function(t){var e=gt[t.type];if(e===j&&(this.started=!0),this.started){var i=function(t,e){var i=W(t.touches),s=W(t.changedTouches);e&(U|z)&&(i=_(i.concat(s),"identifier",!0));return[i,s]}.call(this,t,e);e&(U|z)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Tt={touchstart:j,touchmove:H,touchend:U,touchcancel:z},At="touchstart touchmove touchend touchcancel";function Pt(){this.evTarget=At,this.targetIds={},tt.apply(this,arguments)}T(Pt,tt,{handler:function(t){var e=Tt[t.type],i=function(t,e){var i=W(t.touches),s=this.targetIds;if(e&(j|H)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,a=W(t.changedTouches),r=[],h=this.target;if(o=i.filter(function(t){return E(t.target,h)}),e===j)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;n=0;for(;n<a.length;)s[a[n].identifier]&&r.push(a[n]),e&(U|z)&&delete s[a[n].identifier],n++;if(!r.length)return;return[_(o.concat(r),"identifier",!0),r]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var St=2500,wt=25;function Mt(){tt.apply(this,arguments);var t=A(this.handler,this);this.touch=new Pt(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout(function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)},St)}}T(Mt,tt,{handler:function(t,e,i){var s="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)(function(t,e){t&j?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|z)&&Et.call(this,e)}).call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],o=Math.abs(e-n.x),a=Math.abs(i-n.y);if(o<=wt&&a<=wt)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=k(c.style,"touchAction"),Ct=It!==r,Dt="auto",Wt="manipulation",_t="none",kt="pan-x",Ot="pan-y",Lt=function(){if(!Ct)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)}),t}();function Rt(t,e){this.manager=t,this.set(e)}Rt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&this.manager.element.style&&Lt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){P(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(I(t,_t))return _t;var e=I(t,kt),i=I(t,Ot);if(e&&i)return _t;if(e||i)return e?kt:Ot;if(I(t,Wt))return Wt;return Dt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=I(s,_t)&&!Lt[_t],o=I(s,Ot)&&!Lt[Ot],a=I(s,kt)&&!Lt[kt];if(n){var r=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(r&&h&&l)return}if(!a||!o)return n||o&&i&K||a&&i&q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Bt=1,Ft=2,Nt=4,jt=8,Ht=jt,Ut=16;function zt(t){this.options=h({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Bt,this.simultaneous={},this.requireFail=[]}function Gt(t){return t&Ut?"cancel":t&jt?"end":t&Nt?"move":t&Ft?"start":""}function Yt(t){return t==J?"down":t==V?"up":t==Y?"left":t==X?"right":""}function Xt(t,e){var i=e.manager;return i?i.get(t):t}function Vt(){zt.apply(this,arguments)}function Jt(){Vt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Vt.apply(this,arguments)}function qt(){zt.apply(this,arguments),this._timer=null,this._input=null}function $t(){Vt.apply(this,arguments)}function Qt(){Vt.apply(this,arguments)}function Zt(){zt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=S(e.recognizers,te.defaults.preset),new ee(t,e)}zt.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===D(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=D(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<jt&&s(e.options.event+Gt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=jt&&s(e.options.event+Gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Bt)))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!P(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ht|Ut|32)&&(this.state=Bt),this.state=this.process(e),this.state&(Ft|Nt|jt|Ut)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},T(Vt,zt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Ft|Nt),n=this.attrTest(t);return s&&(i&z||!n)?e|Ut:s||n?i&U?e|jt:e&Ft?e|Nt:Ft:32}}),T(Jt,Vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Ot),t&q&&e.push(kt),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&K?(n=0===o?G:o<0?Y:X,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===a?G:a<0?V:J,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return Vt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(Kt,Vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),T(qt,zt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(U|z)&&!n)this.reset();else if(t.eventType&j)this.reset(),this._timer=f(function(){this.state=Ht,this.tryEmit()},e.time,this);else if(t.eventType&U)return Ht;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ht&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}}),T($t,Vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),T(Qt,Vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|q,pointers:1},getTouchAction:function(){return Jt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(K|q)?e=t.overallVelocity:i&K?e=t.overallVelocityX:i&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T(Zt,zt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&j&&0===this.count)return this.failTimeout();if(s&&n&&i){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Ht,this.tryEmit()},e.interval,this),Ft):Ht}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$t,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Qt,{direction:K}],[Jt,{direction:K},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var i;this.options=h({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(B?mt:F?Pt:R?Mt:ut))(i,et),this.touchAction=new Rt(this,this.options.touchAction),ie(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ie(t,e){var i,s=t.element;s.style&&(g(t.options.cssProps,function(n,o){i=k(s.style,o),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Ht)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Ft|Nt|jt)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof zt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=D(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return g(C(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return g(C(t),function(t){e?i[t]&&i[t].splice(D(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(te,{INPUT_START:j,INPUT_MOVE:H,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:Bt,STATE_BEGAN:Ft,STATE_CHANGED:Nt,STATE_ENDED:jt,STATE_RECOGNIZED:Ht,STATE_CANCELLED:Ut,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:X,DIRECTION_UP:V,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:q,DIRECTION_ALL:$,Manager:ee,Input:tt,TouchAction:Rt,TouchInput:Pt,MouseInput:ut,PointerEventInput:mt,TouchMouseInput:Mt,SingleTouchInput:bt,Recognizer:zt,AttrRecognizer:Vt,Tap:Zt,Pan:Jt,Swipe:Qt,Pinch:Kt,Rotate:$t,Press:qt,on:w,off:M,each:g,merge:b,extend:x,assign:h,inherit:T,bindFn:A,prefixed:k}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=te,(s=function(){return te}.call(e,i,e,t))===r||(t.exports=s)}(window,document)},function(t,e,i){"use strict";for(var s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.AudioContext;++n)window.AudioContext=window[s[n]+"AudioContext"];t.exports=window.AudioContext},function(t,e,i){"use strict";t.exports=function(t){return t.replace(/(.*)\.[^.]{1,4}$/,"")}},function(t,e,i){const s=i(35),n=i(25),o=i(26),a=i(9),r=i(27),h=i(36),l=i(1),c=i(6),u=i(10),d=i(17),p=i(37),y={averagePoints:s,degreesToRadians:n,radiansToDegrees:o,pointInPolygon:a,distance:r,degreesFromCenter:h,radiansFromCenter:l,scalePoints:c,translatePoints:u,insideCanvas:d,rotateRadiansAroundCenter:i(2),rotateDegreesAroundCenter:p};t.exports=y},function(t,e){t.exports=function(t){var e={x:0,y:0};return t.forEach(t,function(t){e.x+=t.x,e.y+=t.y}),e.x=e.x/t.length,e.y=e.y/t.length,e}},function(t,e,i){const s=i(26),n=i(1);t.exports=function(t,e){return s(n(t,e))}},function(t,e,i){const s=i(2),n=i(25);t.exports=function(t,e,i){return s(t,e,n(i))}},function(t,e,i){const s=i(28),n=i(23),o=0,a=2;t.exports=class extends s{constructor(t={}){super(t),this.state=a,this.walkingAnims=[],this.dyingAnims=[],this.idleAnims=[],this.direction=o,Object.assign(this,t)}updateDirection(t){this.x+=this.dx*t,this.y+=this.dy*t,this.state!==this.statics.STATE_DYING&&(this.dx>0&&0===this.dy?this.direction=this.statics.EAST:0===this.dx&&this.dy<0?this.direction=this.statics.NORTH:this.dx>0&&this.dy<0?this.direction=this.statics.NORTHEAST:this.dx<0&&this.dy<0?this.direction=this.statics.NORTHWEST:0===this.dx&&this.dy>0?this.direction=this.statics.SOUTH:this.dx>0&&this.dy>0?this.direction=this.statics.SOUTHEAST:this.dx<0&&this.dy>0?this.direction=this.statics.SOUTHWEST:this.dx<0&&0===this.dy&&(this.direction=this.statics.WEST),0===this.dx&&0===this.dy?this.state=this.statics.STATE_IDLE:this.state=this.statics.STATE_WALKING)}updateAnimations(t){this.state===this.statics.STATE_WALKING?this.anim=this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?this.anim=this.dyingAnims[this.direction]:this.anim=this.idleAnims[this.direction],this.anim.update(t)}createAnimations(t,e,i,s,o,a){var r=[],h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<8;c++){r[c]=new n({height:s,width:o,image:i});for(var u=0;u<t;u++)l=h?e[u]:e,r[c].addFrame(l,u+t*c,a)}return r}}},function(t,e,i){"use strict";var s={Circle:i(4),MultiPolygon:i(40),Polygon:i(12),Rectangle:i(41)};t.exports=s},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.polys=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle;for(var s=0;s<this.polys.length;s++){t.beginPath(),t.moveTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e);for(var n=1;n<this.polys[s].length;n++)t.lineTo((this.polys[s][n].x+this.x)*e,(this.polys[s][n].y+this.y)*e);t.lineTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e),t.closePath(),t.fill(),t.stroke()}t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.polys=n(this.polys,t),sup.scaleShape(t)}pointInShape(t){for(var e=0;e<this.polys.length;e++)if(o(t,a(this.polys[e],this)))return!0;return!1}}},function(t,e,i){const s=i(7);t.exports=class extends s{constructor(t={}){super(t),this.halfWidth=1,this.halfHeight=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.fillRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.strokeRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.halfHeight=this.halfHeight*t,this.halfWidth=this.halfWidth*t,super.scaleShape(t)}pointInShape(t){return t.x>=this.x-this.halfWidth&&t.x<=this.x+this.halfWidth&&t.y>=this.y-this.halfHeight&&t.y<=this.y+this.halfHeight}}},function(t,e,i){"use strict";var s={Distance:i(43),Prismatic:i(44),Revolute:i(45)};t.exports=s},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2DistanceJointDef;t.exports=class extends s{constructor(t={}){super(t),this.bodyPoint2=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint2&&(this.bodyPoint2.x=this.bodyPoint2.x*t,this.bodyPoint2.y=this.bodyPoint2.y*t,this.alreadyScaled=!0),super.scaleJointLocation(t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){let s,a;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),this.bodyPoint2&&(a=new n(this.bodyPoint2.x,this.bodyPoint2.y)),s=s||e.GetWorldCenter(),a=a||i.GetWorldCenter();const r=new o;return r.Initialize(e,i,s,a),this.jointAttributes&&Object.assign(r,this.jointAttributes),t.b2World.CreateJoint(r)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2PrismaticJointDef;t.exports=class extends s{constructor(t={}){super(t),this.axisScale=null,Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const s=t.bodiesMap[this.bodyId1],a=t.bodiesMap[this.bodyId2];if(s&&a){let r;this.bodyPoint1&&(r=new n(this.bodyPoint1.x,this.bodyPoint1.y)),r=r||s.GetWorldCenter();var e,i=new o;return e=this.axisScale?new n(this.axisScale.x,this.axisScale.y):new n(1,0),i.Initialize(s,a,r,e),this.jointAttributes&&Object.assign(i,this.jointAttributes),t.b2World.CreateJoint(i)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2RevoluteJointDef;t.exports=class extends s{constructor(t={}){super(t),Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){var e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){var s;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),s=s||e.GetWorldCenter();var a=new o;return a.Initialize(e,i,s,void 0),this.jointAttributes&&Object.assign(a,this.jointAttributes),t.b2World.CreateJoint(a)}}}}},function(t,e){t.exports=class{constructor(t={}){Object.assign(this,t),this.collisions=this.collisions||{}}reset(){this.collisions={}}postSolve(t,e,i,s){this.collisions[t]=this.collisions[t]||[],this.collisions[t].push({id:e,impulse:i.normalImpulses[0]}),this.collisions[e]=this.collisions[e]||[],this.collisions[e].push({id:t,impulse:i.normalImpulses[0]})}}},function(t,e,i){const s=i(13),n=i(29);t.exports=class extends s{constructor(t={}){super(t),console.log("boxgame options",t),this.box=null,this.boxUpdating=!0,this.entities=null,this.joints=null,Object.assign(this,t),this.box||(this.box=new n(t.boxOptions)),this.entities||(this.entities={}),this.joints||(this.joints={})}updateBox(t){this.boxUpdating&&(this.box.update(t),this.box.updateExternalState(this.entities))}addBody(t){this.entities[t.id]=t,this.box.addBody(t)}addBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addBody(t)})}removeBody(t){this.box.removeBody(t.id),delete this.entities[t.id]}removeBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeBody(t)})}addJoint(t){this.joints[t.id]=t,this.box.addJoint(t)}addJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addJoint(t)})}removeJoint(t){this.box.removeJoint(t.id),delete this.joints[t.id]}removeJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeJoint(t)})}}},function(t,e,i){"use strict";i.r(e);var s=i(5),n=i(30),o=i.n(n);var a=function(t,e){const{fullW:i,fullH:s,hexSide:n,sideW:o,sint1:a,ang1:r,sint2:h,ang2:l}=this.measurements;t.clearRect(0,0,this.width,this.height),t.strokeStyle=this.players[0].color,t.beginPath(),t.moveTo(o,1),t.lineTo(i-o,1),t.stroke(),t.strokeStyle=this.players[3].color,t.beginPath(),t.moveTo(o,s),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[1].color,t.beginPath(),t.moveTo(i-o,0),t.lineTo(i,s/2),t.stroke(),t.strokeStyle=this.players[2].color,t.beginPath(),t.moveTo(i,s/2),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[4].color,t.beginPath(),t.moveTo(o,s),t.lineTo(0,s/2),t.stroke(),t.strokeStyle=this.players[5].color,t.beginPath(),t.moveTo(0,s/2),t.lineTo(o,0),t.stroke(),this.players.forEach(i=>{i.face.dead||i.paddles[0].draw(t,e),i.face.draw(t,e)}),Object.keys(this.entities).forEach(e=>{this.entities[e].hidden||this.entities[e].draw(t)}),this.ball.draw(t,e)},r=i(4),h=i.n(r),l=i(1),c=i.n(l),u=i(2),d=i.n(u);const p={x:0,y:0};console.log("wtf too many bricks?");let y=[[6,1],[10,1],[14,1],[34,1],[38,1],[42,1],[8,3],[12,3],[16,3],[32,3],[36,3],[40,3],[6,5],[10,5],[14,5],[34,5],[38,5],[42,5],[8,7],[12,7],[16,7],[32,7],[36,7],[40,7],[10,9],[14,9],[18,9],[30,9],[34,9],[38,9],[12,11],[16,11],[20,11],[24,11],[28,11],[32,11],[36,11],[14,13],[18,13],[22,13],[26,13],[30,13],[34,13],[12,15],[16,15],[20,15],[24,15],[28,15],[32,15],[36,15],[18,17],[22,17],[26,17],[30,17],[24,19]];var f=y=y.map(t=>((t=[12.5*t[0],12.5*t[1]])[0]=t[0]-300,t)),m=i(3),g=i.n(m),v=i(12),x=i.n(v);class b extends x.a{draw(t,e){const i=t.lineWidth;t.save(),t.lineWidth=1,t.lineJoin="round",t.fillStyle=this.fillStyle;const s=t.createLinearGradient(0,this.prey,0,this.prey+2*this.halfHeight);s.addColorStop(0,t.fillStyle),s.addColorStop(1,"#444"),t.translate(this.prex,this.prey),t.rotate(this.preAngle),t.translate(-this.prex,-this.prey),t.fillStyle=s,t.strokeStyle=this.strokeStyle,t.fillRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.strokeRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.restore(),t.lineWidth=i}}class T extends h.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=t.lineWidth;t.lineWidth=2,t.fillStyle=this.dead?this.deadFillStyle:this.fillStyle,t.strokeStyle=this.dead?this.fillStyle:this.strokeStyle,t.beginPath(),t.arc(i,s,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const o={x:i-17,y:s-15},a={x:i+17,y:s-15};if(this.dead)t.lineWidth=2,t.strokeStyle=this.fillStyle,t.beginPath(),t.moveTo(o.x-10,o.y-10),t.lineTo(o.x+10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(o.x+10,o.y-10),t.lineTo(o.x-10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x-10,a.y-10),t.lineTo(a.x+10,a.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x+10,a.y-10),t.lineTo(a.x-10,a.y+10),t.stroke();else{t.lineWidth=1,t.fillStyle="#FFF",t.beginPath(),t.arc(i-17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.beginPath(),t.arc(i+17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const n=c()(o,{x:this.ball.x*e,y:this.ball.y*e}),r=c()(a,{x:this.ball.x*e,y:this.ball.y*e}),h=d()(o,{x:i-17,y:s-20},n),l=d()(a,{x:i+17,y:s-20},r);t.fillStyle="black",t.beginPath(),t.arc(h.x,h.y,6,0,2*Math.PI,!0),t.closePath(),t.fill(),t.beginPath(),t.arc(l.x,l.y,6,0,2*Math.PI,!0),t.closePath(),t.fill()}t.lineWidth=n}}var A=i(0),P=i.n(A);i(6);const S=10;function w(t,e,i,s,n){let o=t.inputManager.keyActions[i].isPressed();if(t.inputManager.keyActions[e].isPressed()?t.players[n].firePressed=!0:t.players[n].firePressed=!1,o||t.inputManager.keyActions[s].isPressed())return t.players[n].direction=o?-1:1;t.players[n].direction=0}var M=function(t){w(this,P.a.SLASH,P.a.LEFT,P.a.RIGHT,2),w(this,"Q","W","E",5),w(this,"X","C","V",4),w(this,"B","N","M",3),w(this,"T","Y","U",0),w(this,"O","P",P.a.OPEN_BRACKET,1),t.keyActions[P.a.UP].isPressed()&&this.box.applyImpulseDegrees("ball",0,S),t.keyActions[P.a.DOWN].isPressed()&&this.box.applyImpulseDegrees("ball",180,S),t.keyActions.A.isPressed()&&this.box.applyTorque("ball",100*-S),t.keyActions.D.isPressed()&&this.box.applyTorque("ball",100*S)};const{BoxGame:E,entities:I,joints:C}=s.box2d,{radiansFromCenter:D,scalePoints:W,rotateRadiansAroundCenter:_,distance:k,radiansToDegrees:O}=s.utils,L=2*Math.PI/360*1.75;const R=568.10113077769,B=Math.asin(.6889532509648748),F=Math.asin(.7248057794927981);console.log("angle in radians",B,F);const N={x:0,y:0},j=new E({canvasId:"canvas",gameAreaId:"gameArea",canvasPercentage:1,boxOptions:{resolveCollisions:!0,gravityY:0},draw:a,loadResources:function(t){this.explosions=[],this.explosions.push(t.loadSound("sounds/explosion5")),this.explosions.push(t.loadSound("sounds/explosion7")),this.explosions.push(t.loadSound("sounds/explosion8"))},initInput:function(t){t.addArrowKeyActions(),t.addKeyAction(["A","D","Q","W","E","X","C","V","B","N","M","T","Y","U","O","P",s.keys.OPEN_BRACKET,s.keys.SLASH])},handleInput:M,getBricksLeft:function(){return Object.keys(this.entities).reduce((t,e)=>this.entities[e].brick?t+1:t,0)},update:function(t){if(this.updateBox(t),Object.keys(this.entities).forEach(e=>{const i=this.entities[e];i.brickPiece&&(i.life=i.life-t,i.life<0?this.removeBody(i):i.fillStyle=g.a.rgba(i.playerId,i.life/2500*.6))}),this.ball&&this.ball.collisions&&this.ball.collisions.length){if(this.ball.collisions.forEach(t=>{const e=this.entities[t.id];if(e){if(e.brick){this.removeBody(t),console.log("brick kill",e);const i={x:30*e.x,y:30*e.y,brickPiece:!0,life:2500,staticBody:!1,density:.001,playerId:e.playerId,fillStyle:g.a.rgb(e.playerId),drawCenter:!1,drawLocation:!1};[0,1,2,3,4,5].forEach(t=>{const s={halfHeight:e.halfHeight/(2*Math.random()+2.5),halfWidth:e.halfWidth/(2*Math.random()+2.5)},n=new I.Rectangle(Object.assign({},i,s));this.addBody(n),this.box.setAngle(n.id,Math.random()*(2*Math.PI)),this.box.applyImpulse(n.id,Math.random()*(2*Math.PI),30)}),this.explosions[Math.floor(Math.random()*this.explosions.length)].play()}else if(e.king)console.log("king kill",e),e.dead=!0,Object.keys(this.entities).forEach(t=>{const i=this.entities[t];i.brick&&i.playerId===e.playerId&&this.removeBody(i)}),this.players[e.playerId].paddles.forEach(t=>{this.removeBody(t)}),this.removeBody(e);else if(e.paddle){const t=this.players[e.playerId];k(t.anchor,this.ball)>k(t.anchor,e)&&(this.ball.hitPlayer=t,this.ball.hitPaddle=e,t.firePressed&&(this.ball.caught=!0,this.ball.caughtPaddlePosition=t.position,this.ball.caughtPlayerId=e.playerId,this.ball.caughtPosition={x:this.ball.x,y:this.ball.y})),console.log("%cpaddlehit "+e.playerId,"font-size: 1.5em; background: #222; color: "+G[e.playerId].color)}e.wall?this.ball.wallHits++:this.ball.wallHits=0}}),this.removeBody(this.ball),this.ball.angularVelocity=null,this.ball.prevLinearVelocity=this.ball.linearVelocity,this.ball.linearVelocity=null,this.ball.caught){const t=this.players[this.ball.caughtPlayerId],e=t.position-this.ball.caughtPaddlePosition+2*Math.PI,i=_(t.anchor,this.ball.caughtPosition,e);if(console.log("caught",e,i),this.ball.x=i.x,this.ball.y=i.y,t.firePressed);else{this.ball.caught=!1;const t=330-this.getBricksLeft()+1400;this.addBody(this.ball);const e=D(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),i=e-D(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,e-5*i,t),this.ball.hitPaddle=null}}else{const t=330-this.getBricksLeft()+1400,e=Math.round(Math.random())?-Math.random()*L:Math.random()*L;if(this.addBody(this.ball),this.ball.hitPaddle){const i=D(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),s=i-D(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,i-5*s+e,t),this.ball.hitPaddle=null}else{const i=D(N,this.ball.prevLinearVelocity);this.box.applyForce(this.ball.id,i+e+e*this.ball.wallHits,t)}}}j.players.forEach((e,i)=>{if(!e.face.dead){e.direction>0&&e.position<Math.PI?(e.position+=.0027*t,e.position=Math.min(e.position,Math.PI)):e.direction<0&&e.position>0&&(e.position-=.0027*t,e.position=Math.max(e.position,0));const s=_(e.pt,{x:e.pt.x,y:e.pt.y+295},e.angle+e.position-Math.PI/2),n=e.paddleOps;n.x=s.x,n.y=s.y,n.points=[{x:n.halfWidth,y:-n.halfHeight},{x:.7*n.halfWidth,y:n.halfHeight/2},{x:.4*n.halfWidth,y:n.halfHeight},{x:.4*-n.halfWidth,y:n.halfHeight},{x:.7*-n.halfWidth,y:n.halfHeight/2},{x:-n.halfWidth,y:-n.halfHeight}],e.firePressed?(n.strokeStyle=e.colorComplement,n.lineWidth=5):(n.strokeStyle=e.color,n.lineWidth=1),n.points=e.paddleOps.points.map(t=>_(N,t,e.angle+e.position-Math.PI/2)),e.update++,n.id=i+"paddle"+e.update;const o=new I.Polygon(n);if(j.addBody(o),e.paddles.push(o),e.paddles.length>3){const t=e.paddles.shift();j.removeBody(t)}}})}}),H={x:960,y:540,ptRadius:10,radius:10,points:[0,1,2,3,4,5,6,7,8],id:"ball",wallHits:0,hidden:!0};H.points=H.points.map((t,e)=>{return _(N,{x:0,y:H.ptRadius},2*Math.PI/H.points.length*e)}),j.ball=new class extends h.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=this.ptRadius;if(t.fillStyle="rgba(255,127,0,0.66)",t.beginPath(),t.arc(i,s,n,0,2*Math.PI,!0),t.closePath(),t.fill(),this.linearVelocity){const e=.06,o=.85,a=c()(p,this.linearVelocity),r={x:i,y:s};(this.caught?[1,2]:[1,2,3,4,5]).map((t,h)=>d()(r,{x:i,y:s-n*(o*t)},a+Math.PI+(t%2?e:-e))).forEach((e,i)=>{t.fillStyle="rgba(255,255,0,0.5)",t.beginPath(),t.arc(e.x,e.y,n-n*(.15*(i+1)),0,2*Math.PI,!0),t.closePath(),t.fill()})}}}(H),j.addBody(j.ball),o.a.entities.forEach(function(t){const e=I[t.type];e&&(t.drawCenter=!1,j.addBody(new e(t)))});const U=.6043122389547919,z=[0,B,F+Math.PI/2,Math.PI,Math.PI+B,1.5*Math.PI+F];const G=[[960,0],[1920-R*U,540*(1-U)],[1920-R*U,540+540*U],[960,1080],[R*U,540+540*U],[R*U,540*(1-U)]].map((t,e)=>({pt:{x:t[0],y:t[1]},color:g.a.rgb(e),colorComplement:g.a.complement(e),angle:z[e],direction:0,position:Math.PI/2,update:0}));console.log("players",G);const Y=G[0].pt;G.forEach((t,e)=>{console.log("creating player",t);const i=t.pt,s=_(i,{x:i.x,y:i.y+55},t.angle),n=new T({x:s.x,y:s.y,radius:50,staticBody:!0,restitution:2,fillStyle:t.color,deadFillStyle:g.a.rgba(e,.25),king:!0,ball:j.ball,playerId:e});j.addBody(n),t.face=n;const o=_(i,{x:i.x,y:i.y+295},t.angle);t.paddleOps={x:o.x,y:o.y,halfWidth:55,halfHeight:12,restitution:1,fillStyle:t.color,strokeStyle:t.color,paddle:!0,drawCenter:!1,playerId:e,density:100,staticBody:!0,id:e+"paddle0",hidden:!0,drawLocation:!1},t.paddleOps.points=[{x:t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight},{x:t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight}],t.paddleOps.points=t.paddleOps.points.map(e=>_(N,e,t.angle));const a=new I.Polygon(t.paddleOps);j.addBody(a),t.paddles=[a],t.anchor=new I.Circle({x:t.pt.x,y:t.pt.y,radius:.1,staticBody:!0,playerId:e,hidden:!0}),j.addBody(t.anchor),a.distance=k(t.anchor,a);const r=new C.Distance({bodyId1:t.anchor.id,bodyId2:a.id,id:Math.random()+"j"});j.addJoint(r),f.forEach((s,n)=>{const o={x:s[0]+960,y:s[1],halfWidth:25,halfHeight:12.5,staticBody:!0,restitution:1.5,playerId:e,fillStyle:t.color,brick:!0,preAngle:t.angle},a=_(Y,o,t.angle);o.x=a.x,o.y=a.y,o.x+=i.x-G[0].pt.x,o.y+=i.y-G[0].pt.y,o.points=[{x:o.halfWidth,y:-o.halfHeight},{x:o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:-o.halfHeight}],o.points=o.points.map(e=>_(N,e,t.angle)),o.prex=o.x,o.prey=o.y;const r=new b(o);j.addBody(r)})}),j.measurements={fullW:1920,fullH:1080,hexSide:783.79773844413,sideW:R,sint1:.6889532509648748,ang1:B,sint2:.7248057794927981,ang2:F},j.players=G,console.log(j),window.game=j,j.run(),j.box.applyForceDegrees("ball",360*Math.random(),1400)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3NjYWxlUG9pbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0dhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3BvaW50SW5Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy90cmFuc2xhdGVQb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9Kb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvR2FtZUNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvVG91Y2hBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL01vdXNlQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9pbnNpZGVDYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL1Jlc291cmNlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvaGFzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3NvdW5kcy9Tb3VuZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvc291bmRzL1dlYkF1ZGlvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9BbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0FuaW1GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGVncmVlc1RvUmFkaWFucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcmFkaWFuc1RvRGVncmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGlzdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94LmpzIiwid2VicGFjazovLy8uL3NyYy9ib3hEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW1tZXJqcy9oYW1tZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3NoaW1zL0F1ZGlvQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcmVtb3ZlRXh0ZW5zaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvYXZlcmFnZVBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvZGVncmVlc0Zyb21DZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3JlaW5lci9DcmVhdHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL011bHRpUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9qb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9EaXN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1ByaXNtYXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1Jldm9sdXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9saXN0ZW5lcnMvQ29udGFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94R2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQmFsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJpY2tzLmpzIiwid2VicGFjazovLy8uL3NyYy9Ccmljay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaGFuZGxlSW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDQU5DRUwiLCJIRUxQIiwiQkFDS19TUEFDRSIsIlRBQiIsIkNMRUFSIiwiUkVUVVJOIiwiRU5URVIiLCJTSElGVCIsIkNPTlRST0wiLCJBTFQiLCJQQVVTRSIsIkNBUFNfTE9DSyIsIkVTQ0FQRSIsIlNQQUNFIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkVORCIsIkhPTUUiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIkRPV04iLCJQUklOVFNDUkVFTiIsIklOU0VSVCIsIkRFTEVURSIsIk5VTTAiLCJOVU0xIiwiTlVNMiIsIk5VTTMiLCJOVU00IiwiTlVNNSIsIk5VTTYiLCJOVU03IiwiTlVNOCIsIk5VTTkiLCJTRU1JQ09MT04iLCJFUVVBTFMiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIkNPTlRFWFRfTUVOVSIsIk5VTVBBRDAiLCJOVU1QQUQxIiwiTlVNUEFEMiIsIk5VTVBBRDMiLCJOVU1QQUQ0IiwiTlVNUEFENSIsIk5VTVBBRDYiLCJOVU1QQUQ3IiwiTlVNUEFEOCIsIk5VTVBBRDkiLCJNVUxUSVBMWSIsIkFERCIsIlNFUEFSQVRPUiIsIlNVQlRSQUNUIiwiREVDSU1BTCIsIkRJVklERSIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIkYxMyIsIkYxNCIsIkYxNSIsIkYxNiIsIkYxNyIsIkYxOCIsIkYxOSIsIkYyMCIsIkYyMSIsIkYyMiIsIkYyMyIsIkYyNCIsIk5VTV9MT0NLIiwiU0NST0xMX0xPQ0siLCJVUF9EUEFEIiwiRE9XTl9EUEFEIiwiTEVGVF9EUEFEIiwiUklHSFRfRFBBRCIsIkNPTU1BIiwiUEVSSU9EIiwiU0xBU0giLCJCQUNLX1FVT1RFIiwiT1BFTl9CUkFDS0VUIiwiQkFDS19TTEFTSCIsIkNMT1NFX0JSQUNLRVQiLCJRVU9URSIsIk1FVEEiLCJjZW50ZXIiLCJ4IiwieSIsInB0IiwiTWF0aCIsIlBJIiwiYXRhbiIsImFuZ2xlIiwic2luIiwiY29zIiwibmV3UHQiLCJ4bmV3IiwieW5ldyIsImNvbG9ycyIsIlJHQjJIU1YiLCJyZ2IiLCJhIiwiYiIsImhzdiIsIm1heCIsImciLCJkaWYiLCJtaW4zIiwic2F0dXJhdGlvbiIsImh1ZSIsInJvdW5kIiwiaWQiLCJjb25zb2xlIiwibG9nIiwicmdiYSIsImNvbXBsZW1lbnQiLCJoIiwiSHVlU2hpZnQiLCJ0ZW1wcmdiIiwiZmxvb3IiLCJmIiwicSIsIkhTVjJSR0IiLCJFbnRpdHkiLCJkaXN0YW5jZSIsIltvYmplY3QgT2JqZWN0XSIsIm9wdGlvbnMiLCJzdXBlciIsInRoaXMiLCJyYWRpdXMiLCJhc3NpZ24iLCJjdHgiLCJzY2FsZSIsIm9nTGluZVdpZHRoIiwibGluZVdpZHRoIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJjbG9zZVBhdGgiLCJmaWxsIiwic3Ryb2tlIiwic3RhdGljQm9keSIsInNhdmUiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJtb3ZlVG8iLCJsaW5lVG8iLCJyZXN0b3JlIiwiZHJhdyIsInNjYWxlU2hhcGUiLCJwb2ludCIsIndpbmRvdyIsImZyb3plbmpzIiwiR2FtZUNvcmUiLCJJbnB1dE1hbmFnZXIiLCJSZXNvdXJjZU1hbmFnZXIiLCJNb3VzZUFjdGlvbiIsIlRvdWNoQWN0aW9uIiwia2V5cyIsIkFuaW1hdGlvbiIsIkFuaW1GcmFtZSIsInV0aWxzIiwiU3ByaXRlIiwicmVpbmVyIiwiQ3JlYXR1cmUiLCJzb3VuZHMiLCJXZWJBdWRpbyIsImJveDJkIiwiZW50aXRpZXMiLCJqb2ludHMiLCJCb3giLCJCb3hHYW1lIiwic2NhbGVQb2ludHMiLCJwb2ludHMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJyYW5kb20iLCJEYXRlIiwibm93IiwiZHJhd0xvY2F0aW9uIiwiZHJhd0NlbnRlciIsInJlc3RpdHV0aW9uIiwiZGVuc2l0eSIsImZyaWN0aW9uIiwibGluZWFyRGFtcGluZyIsImxpbmVhclZlbG9jaXR5IiwiYW5ndWxhclZlbG9jaXR5IiwiYW5ndWxhckRhbXBpbmciLCJtYXNrQml0cyIsImNhdGVnb3J5Qml0cyIsImdyb3VwSW5kZXgiLCJzdGF0ZSIsImNlbnRlclN0eWxlIiwiYWxyZWFkeVNjYWxlZCIsInN0YXRpY3MiLCJOT1JNQUwiLCJERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkiLCJTVEFURV9SRUxFQVNFRCIsIlNUQVRFX1BSRVNTRUQiLCJTVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFIiwiU1RBVEVfTU9WRUQiLCJiZWhhdmlvciIsImFtb3VudCIsInJlc2V0IiwicHJlc3MiLCJyZWxlYXNlIiwicHJlc3NBbXQiLCJyZXRWYWwiLCJwb2x5Z29uIiwicG9seSIsImluc2lkZVBvbHkiLCJqIiwibGVuZ3RoIiwieGkiLCJ5aSIsInhqIiwieWoiLCJ0cmFuc2xhdGVQb2ludHMiLCJ0cmFuc2xhdGlvbiIsImJvZHlJZDEiLCJib2R5SWQyIiwiYm9keVBvaW50MSIsImpvaW50QXR0cmlidXRlcyIsInBvaW50SW5Qb2x5Z29uIiwiaXNSdW5uaW5nIiwiY2FudmFzSWQiLCJtYXhTdGVwIiwiY29udGV4dFR5cGUiLCJoZWlnaHQiLCJ3aWR0aCIsInJlc291cmNlTWFuYWdlciIsImlucHV0TWFuYWdlciIsImxvYWRpbmdGb3JlZ3JvdW5kIiwibG9hZGluZ0JhY2tncm91bmQiLCJnYW1lQXJlYUlkIiwiY2FudmFzUGVyY2VudGFnZSIsIm5ld0hlaWdodCIsImNhbnZhcyIsIm5ld1dpZHRoIiwiaW5pdCIsImxvYWRSZXNvdXJjZXMiLCJpbml0SW5wdXQiLCJsYXVuY2hMb29wIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwic2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJnYW1lQXJlYSIsInJlc2l6ZSIsImFsZXJ0IiwiZWxhcHNlZFRpbWUiLCJjdXJyVGltZSIsImdldFRpbWUiLCJtaW4iLCJwcmV2VGltZSIsInJlc291cmNlc1JlYWR5IiwidXBkYXRlTG9hZGluZ1NjcmVlbiIsImRyYXdMb2FkaW5nU2NyZWVuIiwiaGFuZGxlSW5wdXQiLCJwYXVzZWQiLCJ1cGRhdGUiLCJzdGFydFRpbWUiLCJsb29wUnVubmVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2FtZUxvb3AiLCJmb250IiwiZmlsbFRleHQiLCJmaWxsUmVjdCIsInRleHRQeFNpemUiLCJnZXRQZXJjZW50Q29tcGxldGUiLCJzdHJva2VSZWN0IiwiSGFtbWVyIiwiR2FtZUFjdGlvbiIsImluc2lkZUNhbnZhcyIsIm9uIiwiZWxlbWVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRvUGl4ZWwiLCJwYXJzZUZsb2F0IiwiZ2V0TWFyZ2luRXh0ZW50cyIsIm5vZGUiLCJzdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwidyIsIm1hcmdpblJpZ2h0IiwibWFyZ2luQm90dG9tIiwiY2xlYW51cCIsInJlbW92ZSIsImtleUFjdGlvbnMiLCJtb3VzZUFjdGlvbiIsInRvdWNoQWN0aW9uIiwiaGFuZGxlTW91c2UiLCJoYW5kbGVUb3VjaCIsImhhbmRsZUtleXMiLCJlbXVsYXRlTW91c2UiLCJoYW1tZXIiLCJib2R5IiwicHJldmVudF9kZWZhdWx0IiwiZHJhZ19tYXhfdG91Y2hlcyIsImhvbGQiLCJwdXNoQ2xlYW51cCIsImtleWRvd24iLCJrZXl1cCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJub3JtYWxpemVQb2ludCIsImdlc3R1cmUiLCJyZW1vdmVDbGVhbnVwIiwiYXJncyIsIm9mZiIsImFwcGx5IiwiZ2FtZUFjdGlvbiIsImtleUNvZGUiLCJpbml0aWFsUHJlc3NPbmx5IiwiZ2FzIiwia2MiLCJnYSIsImRldGVjdEluaXRpYWxQcmVzc09ubHkiLCJtYXBUb0tleSIsImFkZEtleUFjdGlvbiIsImUiLCJjdXJyZW50UG9pbnQiLCJwb3NpdGlvbiIsInRvdWNoZXMiLCJjdXJyZW50UG9pbnRzIiwicHVzaCIsInNvbWUiLCJtb3VzZVVwIiwicG9zaXRpb25zIiwic3RhcnRQb3NpdGlvbnMiLCJwcmV2ZW50RGVmYXVsdCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImdldEtleUFjdGlvbiIsImlzUHJlc3NlZCIsImV2dCIsImNvb3Jkc00iLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwiem9vbVJhdGlvIiwiY2xpZW50WCIsImNsaWVudFkiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImJvZHlNYXJnaW5zIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwid2lkdGhUb0hlaWdodCIsIm5ld1dpZHRoU3R5bGUiLCJuZXdIZWlnaHRTdHlsZSIsImNhbnZhc1BlcmNlbnRhZ2VTdHlsZSIsImRpc3BsYXkiLCJlbmRQb3NpdGlvbnMiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRpb24iLCJoYXMiLCJTb3VuZCIsInJlc291cmNlTGlzdCIsIm5vcm1hbGl6ZVBhdGgiLCJiYXNlRGlyIiwicGF0aCIsImpvaW5lZFBhdGgiLCJqb2luIiwicmVwbGFjZSIsImZsaXBYIiwiaW1hZ2UiLCJvZmZzY3JlZW5DYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwiZmxpcFkiLCJJbWFnZVdyYXBwZXIiLCJmaWxlbmFtZSIsInNlbGYiLCJjb21wbGV0ZSIsImltZyIsIkltYWdlIiwic3JjIiwiYWxsTG9hZGVkIiwiaW1hZ2VEaXIiLCJzb3VuZERpciIsImZpbGVzIiwic2luZ2xlRmlsZSIsImZpbGVMaXN0IiwiZmlsZSIsIndyYXBwZXIiLCJsb2FkIiwic291bmQiLCJmbGlwRm4iLCJpbWcyIiwiZG9GbGlwIiwiZmxpcEltYWdlIiwibnVtQ29tcGxldGUiLCJnbG9iYWwiLCJjaGVjayIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInNwbGl0IiwidW5kZWZpbmVkIiwiQXVkaW9Db250ZXh0IiwiZG9jdW1lbnRFbGVtZW50IiwiRnVuY3Rpb24iLCJmb3JtYXRzIiwiYXVkaW8vbXBlZyIsImF1ZGlvL3dlYm0iLCJhdWRpby9vZ2ciLCJhdWRpby93YXYiLCJhdWRpby9hYWMiLCJhdWRpby94LW00YSIsInByb2JhYmx5IiwibWF5YmUiLCJ2b2x1bWUiLCJsb29wIiwiY29kZWMiLCJyZXN1bHQiLCJhdWRpbyIsIkF1ZGlvIiwiY2FuUGxheVR5cGUiLCJzaGlmdCIsInJlbW92ZUV4dGVuc2lvbiIsImF1ZGlvQ29udGV4dCIsImhhbmRsZVNoaXR0eSIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInN0YXJ0IiwiYmFzZW5hbWUiLCJfY2hvb3NlRm9ybWF0IiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsImRlY29kZUF1ZGlvRGF0YSIsInRhcmdldCIsInJlc3BvbnNlIiwiZXJyIiwiX25leHRGb3JtYXQiLCJzZW5kIiwiX2luaXRBdWRpbyIsImdhaW5Ob2RlIiwiY3JlYXRlR2FpbiIsImdhaW4iLCJjdXJyRnJhbWVJbmRleCIsImFuaW1UaW1lIiwidG90YWxEdXJhdGlvbiIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZnJhbWVzIiwiZnJhbWVDb3VudCIsImZyYW1lVGltZXMiLCJ5U2xvdCIsImFuaW0iLCJpc0ZUQXJyYXkiLCJjdXJyZW50RnJhbWVUaW1lIiwiYWRkRnJhbWUiLCJkdXJhdGlvbiIsImltYWdlU2xvdFgiLCJpbWFnZVNsb3RZIiwiZW5kVGltZSIsImltZ1Nsb3RYIiwiaW1nU2xvdFkiLCJjZiIsImdldEN1cnJlbnRGcmFtZSIsInJhZENvbnN0IiwiZGVncmVlcyIsImRlZ0NvbnN0IiwicmFkaWFucyIsInAxIiwicDIiLCJzcXJ0IiwiZHgiLCJkeSIsIm1heFNwZWVkIiwiY29sbGlzaW9uUmFkaXVzIiwidiIsImFicyIsImNsb25lIiwiQ29udGFjdCIsIkJveDJEIiwiQjJWZWMyIiwiQ29tbW9uIiwiYjJWZWMyIiwiQjJCb2R5RGVmIiwiRHluYW1pY3MiLCJiMkJvZHlEZWYiLCJCMkJvZHkiLCJiMkJvZHkiLCJCMkZpeHR1cmVEZWYiLCJiMkZpeHR1cmVEZWYiLCJCMldvcmxkIiwiYjJGaXh0dXJlIiwiYjJXb3JsZCIsIkIyUG9seWdvblNoYXBlIiwiQ29sbGlzaW9uIiwiU2hhcGVzIiwiYjJQb2x5Z29uU2hhcGUiLCJCMkNpcmNsZVNoYXBlIiwiYjJDaXJjbGVTaGFwZSIsImludGVydmFsUmF0ZSIsImFkYXB0aXZlIiwiYm9kaWVzTWFwIiwiZml4dHVyZXNNYXAiLCJqb2ludHNNYXAiLCJncmF2aXR5WCIsImdyYXZpdHlZIiwiYWxsb3dTbGVlcCIsInJlc29sdmVDb2xsaXNpb25zIiwiY29udGFjdExpc3RlbmVyIiwiY29sbGlzaW9ucyIsInBhcnNlSW50IiwiYWRkQ29udGFjdExpc3RlbmVyIiwibWlsbGlzIiwiU3RlcCIsIkNsZWFyRm9yY2VzIiwic3RlcFJhdGUiLCJsYXN0VGltZXN0YW1wIiwiR2V0Qm9keUxpc3QiLCJtX25leHQiLCJJc0FjdGl2ZSIsIkdldFVzZXJEYXRhIiwiR2V0UG9zaXRpb24iLCJHZXRBbmdsZSIsIkdldFdvcmxkQ2VudGVyIiwibV9saW5lYXJWZWxvY2l0eSIsIm1fYW5ndWxhclZlbG9jaXR5IiwiYm9kaWVzU3RhdGUiLCJnZXRTdGF0ZSIsImVudGl0eSIsImJvZHlFbnRpdGllcyIsImFkZEJvZHkiLCJyZWFkeSIsInZlYyIsInZlY3MiLCJib2R5RGVmIiwiZml4RGVmIiwiZmlsdGVyIiwidHlwZSIsImIyX3N0YXRpY0JvZHkiLCJiMl9keW5hbWljQm9keSIsInVzZXJEYXRhIiwiQ3JlYXRlQm9keSIsInNoYXBlIiwiQ3JlYXRlRml4dHVyZSIsIlNldCIsIlNldEFzQXJyYXkiLCJwb2x5cyIsIlNldEFzQm94IiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImJvZHlJZCIsIlNldFBvc2l0aW9uIiwic2V0QW5nbGUiLCJTZXRMaW5lYXJWZWxvY2l0eSIsInZlbG9jaXR5IiwiU2V0QW5ndWxhclZlbG9jaXR5IiwicG93ZXIiLCJBcHBseUltcHVsc2UiLCJBcHBseUZvcmNlIiwiU2V0QW5nbGUiLCJBcHBseVRvcnF1ZSIsInZlY3RvciIsIlNldEdyYXZpdHkiLCJEZXN0cm95Rml4dHVyZSIsIkRlc3Ryb3lCb2R5IiwiU2V0QXdha2UiLCJsaXN0ZW5lciIsImIyQ29udGFjdExpc3RlbmVyIiwiYmVnaW5Db250YWN0IiwiQmVnaW5Db250YWN0IiwiY29udGFjdCIsIm1fZml4dHVyZUEiLCJtX2JvZHkiLCJtX3VzZXJEYXRhIiwibV9maXh0dXJlQiIsImVuZENvbnRhY3QiLCJFbmRDb250YWN0IiwicHJlU29sdmUiLCJQcmVTb2x2ZSIsIm9sZE1hbmlmb2xkIiwicG9zdFNvbHZlIiwiUG9zdFNvbHZlIiwiaW1wdWxzZSIsIlNldENvbnRhY3RMaXN0ZW5lciIsImpvaW50SWQiLCJEZXN0cm95Sm9pbnQiLCJqb2ludCIsInNjYWxlSm9pbnRMb2NhdGlvbiIsImIySm9pbnQiLCJjcmVhdGVCMkpvaW50Iiwiem9uZSIsImhpZGRlbiIsIndhbGwiLCJiYWNrSW1nIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJleHBvcnROYW1lIiwiVkVORE9SX1BSRUZJWEVTIiwiVEVTVF9FTEVNRU5UIiwiVFlQRV9GVU5DVElPTiIsInNldFRpbWVvdXRDb250ZXh0IiwiZm4iLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImJpbmRGbiIsImludm9rZUFycmF5QXJnIiwiYXJnIiwiZWFjaCIsIm9iaiIsIml0ZXJhdG9yIiwiZm9yRWFjaCIsImRlcHJlY2F0ZSIsIm1ldGhvZCIsIm1lc3NhZ2UiLCJkZXByZWNhdGlvbk1lc3NhZ2UiLCJFcnJvciIsInN0YWNrIiwid2FybiIsImFyZ3VtZW50cyIsIlR5cGVFcnJvciIsIm91dHB1dCIsImluZGV4IiwibmV4dEtleSIsImV4dGVuZCIsImRlc3QiLCJtZXJnZSIsImluaGVyaXQiLCJjaGlsZCIsImJhc2UiLCJwcm9wZXJ0aWVzIiwiY2hpbGRQIiwiYmFzZVAiLCJjb25zdHJ1Y3RvciIsIl9zdXBlciIsImJvb2xPckZuIiwidmFsIiwiaWZVbmRlZmluZWQiLCJ2YWwxIiwidmFsMiIsImFkZEV2ZW50TGlzdGVuZXJzIiwidHlwZXMiLCJzcGxpdFN0ciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiaGFzUGFyZW50IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluU3RyIiwic3RyIiwiZmluZCIsImluZGV4T2YiLCJ0cmltIiwiaW5BcnJheSIsImZpbmRCeUtleSIsInRvQXJyYXkiLCJzbGljZSIsInVuaXF1ZUFycmF5Iiwic29ydCIsInJlc3VsdHMiLCJ2YWx1ZXMiLCJwcmVmaXhlZCIsInByZWZpeCIsInByb3AiLCJjYW1lbFByb3AiLCJ0b1VwcGVyQ2FzZSIsIl91bmlxdWVJZCIsImdldFdpbmRvd0ZvckVsZW1lbnQiLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJwYXJlbnRXaW5kb3ciLCJTVVBQT1JUX1RPVUNIIiwiU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyIsIlNVUFBPUlRfT05MWV9UT1VDSCIsInRlc3QiLCJDT01QVVRFX0lOVEVSVkFMIiwiSU5QVVRfU1RBUlQiLCJJTlBVVF9NT1ZFIiwiSU5QVVRfRU5EIiwiSU5QVVRfQ0FOQ0VMIiwiRElSRUNUSU9OX05PTkUiLCJESVJFQ1RJT05fTEVGVCIsIkRJUkVDVElPTl9SSUdIVCIsIkRJUkVDVElPTl9VUCIsIkRJUkVDVElPTl9ET1dOIiwiRElSRUNUSU9OX0hPUklaT05UQUwiLCJESVJFQ1RJT05fVkVSVElDQUwiLCJESVJFQ1RJT05fQUxMIiwiUFJPUFNfWFkiLCJQUk9QU19DTElFTlRfWFkiLCJJbnB1dCIsIm1hbmFnZXIiLCJjYWxsYmFjayIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImV2IiwiZW5hYmxlIiwiaW5wdXRIYW5kbGVyIiwiZXZlbnRUeXBlIiwiaW5wdXQiLCJwb2ludGVyc0xlbiIsInBvaW50ZXJzIiwiY2hhbmdlZFBvaW50ZXJzTGVuIiwiY2hhbmdlZFBvaW50ZXJzIiwiaXNGaXJzdCIsImlzRmluYWwiLCJzZXNzaW9uIiwicG9pbnRlcnNMZW5ndGgiLCJmaXJzdElucHV0Iiwic2ltcGxlQ2xvbmVJbnB1dERhdGEiLCJmaXJzdE11bHRpcGxlIiwib2Zmc2V0Q2VudGVyIiwiZ2V0Q2VudGVyIiwidGltZVN0YW1wIiwiZGVsdGFUaW1lIiwiZ2V0QW5nbGUiLCJnZXREaXN0YW5jZSIsIm9mZnNldCIsIm9mZnNldERlbHRhIiwicHJldkRlbHRhIiwicHJldklucHV0IiwiZGVsdGFYIiwiZGVsdGFZIiwiY29tcHV0ZURlbHRhWFkiLCJvZmZzZXREaXJlY3Rpb24iLCJnZXREaXJlY3Rpb24iLCJvdmVyYWxsVmVsb2NpdHkiLCJnZXRWZWxvY2l0eSIsIm92ZXJhbGxWZWxvY2l0eVgiLCJvdmVyYWxsVmVsb2NpdHlZIiwiZW5kIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsIm1heFBvaW50ZXJzIiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwiZGlyZWN0aW9uIiwibGFzdCIsImxhc3RJbnRlcnZhbCIsImNvbXB1dGVJbnRlcnZhbElucHV0RGF0YSIsInNyY0V2ZW50IiwiY29tcHV0ZUlucHV0RGF0YSIsImVtaXQiLCJyZWNvZ25pemUiLCJwcm9wcyIsImF0YW4yIiwiZXZFbCIsImV2VGFyZ2V0IiwiZXZXaW4iLCJkZXN0cm95IiwiTU9VU0VfSU5QVVRfTUFQIiwiTU9VU0VfRUxFTUVOVF9FVkVOVFMiLCJNT1VTRV9XSU5ET1dfRVZFTlRTIiwiTW91c2VJbnB1dCIsInByZXNzZWQiLCJidXR0b24iLCJ3aGljaCIsInBvaW50ZXJUeXBlIiwiUE9JTlRFUl9JTlBVVF9NQVAiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmNhbmNlbCIsInBvaW50ZXJvdXQiLCJJRTEwX1BPSU5URVJfVFlQRV9FTlVNIiwiMiIsIjMiLCI0IiwiNSIsIlBPSU5URVJfRUxFTUVOVF9FVkVOVFMiLCJQT0lOVEVSX1dJTkRPV19FVkVOVFMiLCJQb2ludGVyRXZlbnRJbnB1dCIsInN0b3JlIiwicG9pbnRlckV2ZW50cyIsIk1TUG9pbnRlckV2ZW50IiwiUG9pbnRlckV2ZW50IiwicmVtb3ZlUG9pbnRlciIsImV2ZW50VHlwZU5vcm1hbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsImlzVG91Y2giLCJzdG9yZUluZGV4IiwicG9pbnRlcklkIiwic3BsaWNlIiwiU0lOR0xFX1RPVUNIX0lOUFVUX01BUCIsInRvdWNoY2FuY2VsIiwiU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMiLCJTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyIsIlNpbmdsZVRvdWNoSW5wdXQiLCJzdGFydGVkIiwiYWxsIiwiY2hhbmdlZCIsImNoYW5nZWRUb3VjaGVzIiwiY29uY2F0IiwiVE9VQ0hfSU5QVVRfTUFQIiwiVE9VQ0hfVEFSR0VUX0VWRU5UUyIsIlRvdWNoSW5wdXQiLCJ0YXJnZXRJZHMiLCJhbGxUb3VjaGVzIiwiaWRlbnRpZmllciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVGFyZ2V0VG91Y2hlcyIsInRvdWNoIiwiREVEVVBfVElNRU9VVCIsIkRFRFVQX0RJU1RBTkNFIiwiVG91Y2hNb3VzZUlucHV0IiwibW91c2UiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInNldExhc3RUb3VjaCIsImV2ZW50RGF0YSIsImxhc3RUb3VjaCIsImx0cyIsImlucHV0RXZlbnQiLCJpbnB1dERhdGEiLCJpc01vdXNlIiwic291cmNlQ2FwYWJpbGl0aWVzIiwiZmlyZXNUb3VjaEV2ZW50cyIsIlBSRUZJWEVEX1RPVUNIX0FDVElPTiIsIk5BVElWRV9UT1VDSF9BQ1RJT04iLCJUT1VDSF9BQ1RJT05fQVVUTyIsIlRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04iLCJUT1VDSF9BQ1RJT05fTk9ORSIsIlRPVUNIX0FDVElPTl9QQU5fWCIsIlRPVUNIX0FDVElPTl9QQU5fWSIsIlRPVUNIX0FDVElPTl9NQVAiLCJ0b3VjaE1hcCIsImNzc1N1cHBvcnRzIiwiQ1NTIiwic3VwcG9ydHMiLCJnZXRUb3VjaEFjdGlvblByb3BzIiwic2V0IiwiY29tcHV0ZSIsImFjdGlvbnMiLCJyZWNvZ25pemVycyIsInJlY29nbml6ZXIiLCJnZXRUb3VjaEFjdGlvbiIsImhhc1BhblgiLCJoYXNQYW5ZIiwiY2xlYW5Ub3VjaEFjdGlvbnMiLCJwcmV2ZW50RGVmYXVsdHMiLCJwcmV2ZW50ZWQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwicHJldmVudFNyYyIsIlNUQVRFX1BPU1NJQkxFIiwiU1RBVEVfQkVHQU4iLCJTVEFURV9DSEFOR0VEIiwiU1RBVEVfRU5ERUQiLCJTVEFURV9SRUNPR05JWkVEIiwiU1RBVEVfQ0FOQ0VMTEVEIiwiUmVjb2duaXplciIsImRlZmF1bHRzIiwic2ltdWx0YW5lb3VzIiwicmVxdWlyZUZhaWwiLCJzdGF0ZVN0ciIsImRpcmVjdGlvblN0ciIsImdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIiLCJvdGhlclJlY29nbml6ZXIiLCJBdHRyUmVjb2duaXplciIsIlBhblJlY29nbml6ZXIiLCJwWCIsInBZIiwiUGluY2hSZWNvZ25pemVyIiwiUHJlc3NSZWNvZ25pemVyIiwiX3RpbWVyIiwiX2lucHV0IiwiUm90YXRlUmVjb2duaXplciIsIlN3aXBlUmVjb2duaXplciIsIlRhcFJlY29nbml6ZXIiLCJwVGltZSIsInBDZW50ZXIiLCJjb3VudCIsInByZXNldCIsIk1hbmFnZXIiLCJyZWNvZ25pemVXaXRoIiwiZHJvcFJlY29nbml6ZVdpdGgiLCJyZXF1aXJlRmFpbHVyZSIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJldmVudCIsImFkZGl0aW9uYWxFdmVudCIsInRyeUVtaXQiLCJjYW5FbWl0IiwiaW5wdXREYXRhQ2xvbmUiLCJwcm9jZXNzIiwiYXR0clRlc3QiLCJvcHRpb25Qb2ludGVycyIsImlzUmVjb2duaXplZCIsImlzVmFsaWQiLCJ0aHJlc2hvbGQiLCJkaXJlY3Rpb25UZXN0IiwiaGFzTW92ZWQiLCJpbk91dCIsInRpbWUiLCJ2YWxpZFBvaW50ZXJzIiwidmFsaWRNb3ZlbWVudCIsInZhbGlkVGltZSIsImNsZWFyVGltZW91dCIsInRhcHMiLCJpbnRlcnZhbCIsInBvc1RocmVzaG9sZCIsInZhbGlkVG91Y2hUaW1lIiwiZmFpbFRpbWVvdXQiLCJ2YWxpZEludGVydmFsIiwidmFsaWRNdWx0aVRhcCIsInRhcENvdW50IiwiVkVSU0lPTiIsImRvbUV2ZW50cyIsImlucHV0Q2xhc3MiLCJjc3NQcm9wcyIsInVzZXJTZWxlY3QiLCJ0b3VjaFNlbGVjdCIsInRvdWNoQ2FsbG91dCIsImNvbnRlbnRab29taW5nIiwidXNlckRyYWciLCJ0YXBIaWdobGlnaHRDb2xvciIsImhhbmRsZXJzIiwib2xkQ3NzUHJvcHMiLCJ0b2dnbGVDc3NQcm9wcyIsIml0ZW0iLCJhZGQiLCJzdG9wIiwiZm9yY2UiLCJzdG9wcGVkIiwiY3VyUmVjb2duaXplciIsImV4aXN0aW5nIiwiZXZlbnRzIiwiZGF0YSIsImdlc3R1cmVFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInRyaWdnZXJEb21FdmVudCIsIlNUQVRFX0ZBSUxFRCIsIlRhcCIsIlBhbiIsIlN3aXBlIiwiUGluY2giLCJSb3RhdGUiLCJQcmVzcyIsInZlbmRvcnMiLCJhdmVyYWdlUG9pbnRzIiwiZGVncmVlc1RvUmFkaWFucyIsInJhZGlhbnNUb0RlZ3JlZXMiLCJkZWdyZWVzRnJvbUNlbnRlciIsInJhZGlhbnNGcm9tQ2VudGVyIiwicm90YXRlRGVncmVlc0Fyb3VuZENlbnRlciIsInJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIiLCJFQVNUIiwiU1RBVEVfSURMRSIsIndhbGtpbmdBbmltcyIsImR5aW5nQW5pbXMiLCJpZGxlQW5pbXMiLCJTVEFURV9EWUlORyIsIk5PUlRIIiwiTk9SVEhFQVNUIiwiTk9SVEhXRVNUIiwiU09VVEgiLCJTT1VUSEVBU1QiLCJTT1VUSFdFU1QiLCJXRVNUIiwiU1RBVEVfV0FMS0lORyIsImFuaW1zIiwiQ2lyY2xlIiwiTXVsdGlQb2x5Z29uIiwiUG9seWdvbiIsIlJlY3RhbmdsZSIsInN1cCIsIkRpc3RhbmNlIiwiUHJpc21hdGljIiwiUmV2b2x1dGUiLCJKb2ludCIsIkIyRGlzdGFuY2VKb2ludERlZiIsIkpvaW50cyIsImIyRGlzdGFuY2VKb2ludERlZiIsImJvZHlQb2ludDIiLCJib3giLCJib2R5MSIsImJvZHkyIiwidmVjMSIsInZlYzIiLCJJbml0aWFsaXplIiwiQ3JlYXRlSm9pbnQiLCJCMlByaXNtYXRpY0pvaW50RGVmIiwiYjJQcmlzbWF0aWNKb2ludERlZiIsImF4aXNTY2FsZSIsImF4aXMiLCJCMlJldm9sdXRlSm9pbnREZWYiLCJiMlJldm9sdXRlSm9pbnREZWYiLCJpZEEiLCJpZEIiLCJub3JtYWxJbXB1bHNlcyIsImJveFVwZGF0aW5nIiwiYm94T3B0aW9ucyIsInVwZGF0ZUV4dGVybmFsU3RhdGUiLCJyZW1vdmVCb2R5IiwiYWRkSm9pbnQiLCJyZW1vdmVKb2ludCIsInNyY19kcmF3IiwiZnVsbFciLCJmdWxsSCIsImhleFNpZGUiLCJzaWRlVyIsInNpbnQxIiwiYW5nMSIsInNpbnQyIiwiYW5nMiIsIm1lYXN1cmVtZW50cyIsImNsZWFyUmVjdCIsInBsYXllcnMiLCJjb2xvciIsImZhY2UiLCJkZWFkIiwicGFkZGxlcyIsImsiLCJiYWxsIiwib3JpZ2luIiwiYnJpY2tzIiwic3JjX2JyaWNrcyIsIkJyaWNrX0JyaWNrIiwiUG9seWdvbl9kZWZhdWx0IiwibGluZUpvaW4iLCJncmFkaWVudCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwicHJleSIsImFkZENvbG9yU3RvcCIsInByZXgiLCJwcmVBbmdsZSIsIkZhY2VfRmFjZSIsIkNpcmNsZV9kZWZhdWx0Iiwic2NhbGVkWCIsInNjYWxlZFkiLCJkZWFkRmlsbFN0eWxlIiwibGVmdEV5ZSIsInJpZ2h0RXllIiwicmFkc0wiLCJyYWRpYW5zRnJvbUNlbnRlcl9kZWZhdWx0IiwicmFkc1IiLCJsSXJpcyIsInJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXJfZGVmYXVsdCIsInJJcmlzIiwic3BlZWQiLCJoYW5kbGVEaXJlY3Rpb24iLCJnYW1lIiwiZmlyZUtleSIsImxlZnRLZXkiLCJyaWdodEtleSIsInBsYXllcklkIiwibFByZXNzZWQiLCJmaXJlUHJlc3NlZCIsInNyY19oYW5kbGVJbnB1dCIsImltIiwia2V5c19kZWZhdWx0IiwiYXBwbHlJbXB1bHNlRGVncmVlcyIsImFwcGx5VG9ycXVlIiwiZ2FtZV9yYWRpYW5zRnJvbUNlbnRlciIsImdhbWVfc2NhbGVQb2ludHMiLCJnYW1lX3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIiLCJyYW5kb21BbmdsZVNwcmVhZCIsImFzaW4iLCJjZW50ZXJQb2ludCIsInJtIiwiZXhwbG9zaW9ucyIsImxvYWRTb3VuZCIsImFkZEFycm93S2V5QWN0aW9ucyIsImdldEJyaWNrc0xlZnQiLCJyZWR1Y2UiLCJhY2MiLCJicmljayIsInVwZGF0ZUJveCIsImVudCIsImJyaWNrUGllY2UiLCJsaWZlIiwiY29sb3JzX2RlZmF1bHQiLCJldCIsImxpbE9wcyIsImxpbGJPcHMiLCJsaWxCIiwiYXBwbHlJbXB1bHNlIiwicGxheSIsImtpbmciLCJwYWQiLCJwYWRkbGUiLCJhbmNob3IiLCJoaXRQbGF5ZXIiLCJoaXRQYWRkbGUiLCJjYXVnaHQiLCJjYXVnaHRQYWRkbGVQb3NpdGlvbiIsImNhdWdodFBsYXllcklkIiwiY2F1Z2h0UG9zaXRpb24iLCJ3YWxsSGl0cyIsInByZXZMaW5lYXJWZWxvY2l0eSIsImNhdWdodFBsYXllciIsInBvc2l0aW9uRGVsdGEiLCJuZXdCYWxsTG9jIiwibmV3U3BlZWQiLCJwYWRkbGVBbmdsZSIsImRlbHRhIiwiYXBwbHlGb3JjZSIsImFuZ2xlT2Zmc2V0IiwiaWR4IiwibmV3UGFkZGxlUHQiLCJwYWRkbGVPcHMiLCJjb2xvckNvbXBsZW1lbnQiLCJvcHB0IiwiZmlyc3QiLCJiYWxsUHJvcHMiLCJwdFJhZGl1cyIsInRhaWxEaXNydXB0aW9uIiwidGFpbERpc3QiLCJyYWRzIiwiYm94RGF0YV9kZWZhdWx0IiwicGN0IiwiYW5ncyIsImNwdCIsImdhbWVfb3JpZ2luIiwicHB0IiwibmV3RmFjZVB0IiwiY2lyIiwiY0pvaW50IiwicmIiLCJqZHgiLCJvcHMiLCJydW4iLCJhcHBseUZvcmNlRGVncmVlcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsb0JDbEZBaEMsRUFBQUQsUUFBQSxDQUNBa0MsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLFdBQUEsRUFDQUMsSUFBQSxFQUNBQyxNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsSUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsVUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxHQUFBLEdBQ0FDLE1BQUEsR0FDQUMsS0FBQSxHQUNBQyxZQUFBLEdBQ0FDLE9BQUEsR0FDQUMsT0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsYUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQUMsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNB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Q0FBT2hlLEdBQUE4aEMsRUFBQS9qQixVQUFBOWQsR0FBQTZoQyxFQUFBOWpCLGFBR1A4akIsRUFBQXQ4QixPQUFBczhCLEVBQUF0OEIsT0FBQUcsSUFBQWk3QixHQUNhL0MsRUFBeUJHLEVBQUE0QyxFQUFBdG9DLEVBQUFnSSxRQUd0Q3doQyxFQUFBaEcsS0FBQWdHLEVBQUE5aEMsRUFDQThoQyxFQUFBbEcsS0FBQWtHLEVBQUE3aEMsRUFFQSxNQUFBZSxFQUFBLElBQWtCdTZCLEVBQUt1RyxHQUN2Qi9FLEVBQUFsZ0IsUUFBQTdiLE9BTUErN0IsRUFBQXBDLGFBQUEsQ0FBcUJSLE1BemJyQixLQXlicUJDLE1BeGJyQixLQXdicUJDLFFBdmJyQixnQkF1YnFCQyxRQUFBQyxNQXJickIsa0JBcWJxQkMsT0FBQUMsTUFuYnJCSCxrQkFtYnFCSSxRQUNyQnFDLEVBQUFsQyxVQUdBbjVCLFFBQUFDLElBQUFvN0IsR0FDQTc0QixPQUFBNjRCLE9BR0FBLEVBQUFnRixNQUNBaEYsRUFBQW5FLElBQUFvSixrQkFBQSxXQUFBN2hDLEtBQUF5RixTQTNjQSIsImZpbGUiOiJoZXhvdXQuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQ4KTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBDQU5DRUw6IDMsXG4gIEhFTFA6IDYsXG4gIEJBQ0tfU1BBQ0U6IDgsXG4gIFRBQjogOSxcbiAgQ0xFQVI6IDEyLFxuICBSRVRVUk46IDEzLFxuICBFTlRFUjogMTQsXG4gIFNISUZUOiAxNixcbiAgQ09OVFJPTDogMTcsXG4gIEFMVDogMTgsXG4gIFBBVVNFOiAxOSxcbiAgQ0FQU19MT0NLOiAyMCxcbiAgRVNDQVBFOiAyNyxcbiAgU1BBQ0U6IDMyLFxuICBQQUdFX1VQOiAzMyxcbiAgUEFHRV9ET1dOOiAzNCxcbiAgRU5EOiAzNSxcbiAgSE9NRTogMzYsXG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIFJJR0hUOiAzOSxcbiAgRE9XTjogNDAsXG4gIFBSSU5UU0NSRUVOOiA0NCxcbiAgSU5TRVJUOiA0NSxcbiAgREVMRVRFOiA0NixcbiAgTlVNMDogNDgsXG4gIE5VTTE6IDQ5LFxuICBOVU0yOiA1MCxcbiAgTlVNMzogNTEsXG4gIE5VTTQ6IDUyLFxuICBOVU01OiA1MyxcbiAgTlVNNjogNTQsXG4gIE5VTTc6IDU1LFxuICBOVU04OiA1NixcbiAgTlVNOTogNTcsXG4gIFNFTUlDT0xPTjogNTksXG4gIEVRVUFMUzogNjEsXG4gIEE6IDY1LFxuICBCOiA2NixcbiAgQzogNjcsXG4gIEQ6IDY4LFxuICBFOiA2OSxcbiAgRjogNzAsXG4gIEc6IDcxLFxuICBIOiA3MixcbiAgSTogNzMsXG4gIEo6IDc0LFxuICBLOiA3NSxcbiAgTDogNzYsXG4gIE06IDc3LFxuICBOOiA3OCxcbiAgTzogNzksXG4gIFA6IDgwLFxuICBROiA4MSxcbiAgUjogODIsXG4gIFM6IDgzLFxuICBUOiA4NCxcbiAgVTogODUsXG4gIFY6IDg2LFxuICBXOiA4NyxcbiAgWDogODgsXG4gIFk6IDg5LFxuICBaOiA5MCxcbiAgQ09OVEVYVF9NRU5VOiA5MyxcbiAgTlVNUEFEMDogOTYsXG4gIE5VTVBBRDE6IDk3LFxuICBOVU1QQUQyOiA5OCxcbiAgTlVNUEFEMzogOTksXG4gIE5VTVBBRDQ6IDEwMCxcbiAgTlVNUEFENTogMTAxLFxuICBOVU1QQUQ2OiAxMDIsXG4gIE5VTVBBRDc6IDEwMyxcbiAgTlVNUEFEODogMTA0LFxuICBOVU1QQUQ5OiAxMDUsXG4gIE1VTFRJUExZOiAxMDYsXG4gIEFERDogMTA3LFxuICBTRVBBUkFUT1I6IDEwOCxcbiAgU1VCVFJBQ1Q6IDEwOSxcbiAgREVDSU1BTDogMTEwLFxuICBESVZJREU6IDExMSxcbiAgRjE6IDExMixcbiAgRjI6IDExMyxcbiAgRjM6IDExNCxcbiAgRjQ6IDExNSxcbiAgRjU6IDExNixcbiAgRjY6IDExNyxcbiAgRjc6IDExOCxcbiAgRjg6IDExOSxcbiAgRjk6IDEyMCxcbiAgRjEwOiAxMjEsXG4gIEYxMTogMTIyLFxuICBGMTI6IDEyMyxcbiAgRjEzOiAxMjQsXG4gIEYxNDogMTI1LFxuICBGMTU6IDEyNixcbiAgRjE2OiAxMjcsXG4gIEYxNzogMTI4LFxuICBGMTg6IDEyOSxcbiAgRjE5OiAxMzAsXG4gIEYyMDogMTMxLFxuICBGMjE6IDEzMixcbiAgRjIyOiAxMzMsXG4gIEYyMzogMTM0LFxuICBGMjQ6IDEzNSxcbiAgTlVNX0xPQ0s6IDE0NCxcbiAgU0NST0xMX0xPQ0s6IDE0NSxcbiAgVVBfRFBBRDogMTc1LFxuICBET1dOX0RQQUQ6IDE3NixcbiAgTEVGVF9EUEFEOiAxNzcsXG4gIFJJR0hUX0RQQUQ6IDE3OCxcbiAgQ09NTUE6IDE4OCxcbiAgUEVSSU9EOiAxOTAsXG4gIFNMQVNIOiAxOTEsXG4gIEJBQ0tfUVVPVEU6IDE5MixcbiAgT1BFTl9CUkFDS0VUOiAyMTksXG4gIEJBQ0tfU0xBU0g6IDIyMCxcbiAgQ0xPU0VfQlJBQ0tFVDogMjIxLFxuICBRVU9URTogMjIyLFxuICBNRVRBOiAyMjRcbn07XG4iLCJcbmZ1bmN0aW9uIHJhZGlhbnNGcm9tQ2VudGVyKGNlbnRlciA9IHt4OiAwLjAsIHk6IDAuMH0sIHB0KXtcblxuICAvL3NhbWUgcG9pbnRcbiAgaWYoKGNlbnRlci54ID09PSBwdC54KSAmJiAoY2VudGVyLnkgPT09IHB0LnkpKXtcbiAgICByZXR1cm4gMDtcbiAgfWVsc2UgaWYoY2VudGVyLnggPT09IHB0Lngpe1xuICAgIGlmKGNlbnRlci55ID4gcHQueSl7XG4gICAgICByZXR1cm4gMDtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBNYXRoLlBJO1xuICAgIH1cbiAgfWVsc2UgaWYoY2VudGVyLnkgPT09IHB0Lnkpe1xuICAgIGlmKGNlbnRlci54ID4gcHQueCl7XG4gICAgICByZXR1cm4gMS41ICogTWF0aC5QSTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBNYXRoLlBJIC8gMjtcbiAgICB9XG4gIH1lbHNlIGlmKChjZW50ZXIueCA8IHB0LngpICYmIChjZW50ZXIueSA+IHB0LnkpKXtcbiAgICAvL3F1YWRyYW50IDFcbiAgICAvL2NvbnNvbGUubG9nKCdxdWFkMScsY2VudGVyLngsY2VudGVyLnkscHQueCxwdC55LCdvJyxwdC54IC0gY2VudGVyLngsJ2EnLHB0LnkgLSBjZW50ZXIueSk7XG4gICAgcmV0dXJuIE1hdGguYXRhbigocHQueCAtIGNlbnRlci54KS8oY2VudGVyLnkgLSBwdC55KSk7XG4gIH1cbiAgZWxzZSBpZigoY2VudGVyLnggPCBwdC54KSAmJiAoY2VudGVyLnkgPCBwdC55KSl7XG4gICAgLy9xdWFkcmFudCAyXG4gICAgLy9jb25zb2xlLmxvZygncXVhZDInLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSk7XG4gICAgcmV0dXJuIE1hdGguUEkgLyAyICsgTWF0aC5hdGFuKChwdC55IC0gY2VudGVyLnkpLyhwdC54IC0gY2VudGVyLngpKTtcbiAgfVxuICBlbHNlIGlmKChjZW50ZXIueCA+IHB0LngpICYmIChjZW50ZXIueSA8IHB0LnkpKXtcbiAgICAvL3F1YWRyYW50IDNcbiAgICAvL2NvbnNvbGUubG9nKCdxdWFkMycsY2VudGVyLngsY2VudGVyLnkscHQueCxwdC55KTtcbiAgICByZXR1cm4gTWF0aC5QSSArIE1hdGguYXRhbigoY2VudGVyLnggLSBwdC54KS8ocHQueSAtIGNlbnRlci55KSk7XG4gIH1cbiAgZWxzZXtcbiAgICAvL3F1YWRyYW50IDRcbiAgICAvL2NvbnNvbGUubG9nKCdxdWFkNCcsY2VudGVyLngsY2VudGVyLnkscHQueCxwdC55KTtcbiAgICByZXR1cm4gMS41ICogTWF0aC5QSSArIE1hdGguYXRhbigoY2VudGVyLnkgLSBwdC55KS8oY2VudGVyLnggLSBwdC54KSk7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJhZGlhbnNGcm9tQ2VudGVyO1xuIiwiXG5mdW5jdGlvbiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlciA9IHt4OiAwLjAsIHk6IDAuMH0sIHB0LCBhbmdsZSl7XG4gIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gIGNvbnN0IG5ld1B0ID0ge307XG5cbiAgLy8gdHJhbnNsYXRlIHBvaW50IGJhY2sgdG8gb3JpZ2luOlxuICBuZXdQdC54ID0gcHQueCAtIGNlbnRlci54O1xuICBuZXdQdC55ID0gcHQueSAtIGNlbnRlci55O1xuXG4gIC8vIHJvdGF0ZSBwb2ludFxuICBjb25zdCB4bmV3ID0gbmV3UHQueCAqIGMgLSBuZXdQdC55ICogcztcbiAgY29uc3QgeW5ldyA9IG5ld1B0LnggKiBzICsgbmV3UHQueSAqIGM7XG5cbiAgLy8gdHJhbnNsYXRlIHBvaW50IGJhY2s6XG4gIG5ld1B0LnggPSB4bmV3ICsgY2VudGVyLng7XG4gIG5ld1B0LnkgPSB5bmV3ICsgY2VudGVyLnk7XG4gIHJldHVybiBuZXdQdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyO1xuIiwiXG5jb25zdCBjb2xvcnMgPSBbXG4gIFswLCAyMjEsIDBdLFxuICBbMjIxLCAwLCAwXSxcbiAgLy8gWzIzOCwgMjM4LCAyMzhdLFxuICBbMjM4LCAwLCAyMzhdLFxuICBbMTYwLCA4MiwgNDVdLFxuICBbMCwgMCwgMjIxXSxcbiAgWzI1NSwgMTY1LCAwXSxcbl07XG5cbmZ1bmN0aW9uIHJnYihpZCkge1xuICBjb25zdCBjID0gY29sb3JzW2lkXTtcbiAgY29uc29sZS5sb2coJ2NvbG9ycycsIGMsIGlkKTtcbiAgcmV0dXJuIGByZ2IoJHtjWzBdfSwke2NbMV19LCR7Y1syXX0pYDtcbn1cblxuZnVuY3Rpb24gcmdiYShpZCwgYSkge1xuICBjb25zdCBjID0gY29sb3JzW2lkXTtcbiAgcmV0dXJuIGByZ2JhKCR7Y1swXX0sJHtjWzFdfSwke2NbMl19LCR7YX0pYDtcbn1cblxuXG4vLyAvLyBjb21wbGVtZW50XG4vLyB0ZW1wcmdiPXRoaXNyZ2I7XG4vLyB0ZW1waHN2PVJHQjJIU1YodGVtcHJnYik7XG4vLyB0ZW1waHN2Lmh1ZT1IdWVTaGlmdCh0ZW1waHN2Lmh1ZSwxODAuMCk7XG4vLyB0ZW1wcmdiPUhTVjJSR0IodGVtcGhzdik7XG5cbmZ1bmN0aW9uIGNvbXBsZW1lbnQoaWQpIHtcbiAgY29uc3QgYyA9IGNvbG9yc1tpZF07XG4gIGNvbnNvbGUubG9nKCdjb2xvcnNjJywgYywgaWQpO1xuICBjb25zdCBzdGFydCA9IHtyOiBjWzBdLCBnOiBjWzFdLCBiOiBjWzJdfTtcbiAgY29uc3QgaHN2ID0gUkdCMkhTVihzdGFydCk7O1xuICBoc3YuaHVlPUh1ZVNoaWZ0KGhzdi5odWUsMTgwLjApO1xuICBjb25zdCB0ZW1wcmdiPUhTVjJSR0IoaHN2KTtcbiAgcmV0dXJuIGByZ2IoJHt0ZW1wcmdiLnJ9LCR7dGVtcHJnYi5nfSwke3RlbXByZ2IuYn0pYDtcbn1cblxuZnVuY3Rpb24gUkdCMkhTVihyZ2IpIHtcbiAgICBoc3YgPSBuZXcgT2JqZWN0KCk7XG4gICAgbWF4PW1heDMocmdiLnIscmdiLmcscmdiLmIpO1xuICAgIGRpZj1tYXgtbWluMyhyZ2IucixyZ2IuZyxyZ2IuYik7XG4gICAgaHN2LnNhdHVyYXRpb249KG1heD09MC4wKT8wOigxMDAqZGlmL21heCk7XG4gICAgaWYgKGhzdi5zYXR1cmF0aW9uPT0wKSBoc3YuaHVlPTA7XG4gICAgZWxzZSBpZiAocmdiLnI9PW1heCkgaHN2Lmh1ZT02MC4wKihyZ2IuZy1yZ2IuYikvZGlmO1xuICAgIGVsc2UgaWYgKHJnYi5nPT1tYXgpIGhzdi5odWU9MTIwLjArNjAuMCoocmdiLmItcmdiLnIpL2RpZjtcbiAgICBlbHNlIGlmIChyZ2IuYj09bWF4KSBoc3YuaHVlPTI0MC4wKzYwLjAqKHJnYi5yLXJnYi5nKS9kaWY7XG4gICAgaWYgKGhzdi5odWU8MC4wKSBoc3YuaHVlKz0zNjAuMDtcbiAgICBoc3YudmFsdWU9TWF0aC5yb3VuZChtYXgqMTAwLzI1NSk7XG4gICAgaHN2Lmh1ZT1NYXRoLnJvdW5kKGhzdi5odWUpO1xuICAgIGhzdi5zYXR1cmF0aW9uPU1hdGgucm91bmQoaHN2LnNhdHVyYXRpb24pO1xuICAgIHJldHVybiBoc3Y7XG59XG5cbi8vIFJHQjJIU1YgYW5kIEhTVjJSR0IgYXJlIGJhc2VkIG9uIENvbG9yIE1hdGNoIFJlbWl4IFtodHRwOi8vY29sb3IudHd5c3RlZC5uZXQvXVxuLy8gd2hpY2ggaXMgYmFzZWQgb24gb3IgY29waWVkIGZyb20gQ29sb3JNYXRjaCA1SyBbaHR0cDovL2NvbG9ybWF0Y2guZGsvXVxuZnVuY3Rpb24gSFNWMlJHQihoc3YpIHtcbiAgICB2YXIgcmdiPW5ldyBPYmplY3QoKTtcbiAgICBpZiAoaHN2LnNhdHVyYXRpb249PTApIHtcbiAgICAgICAgcmdiLnI9cmdiLmc9cmdiLmI9TWF0aC5yb3VuZChoc3YudmFsdWUqMi41NSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaHN2Lmh1ZS89NjA7XG4gICAgICAgIGhzdi5zYXR1cmF0aW9uLz0xMDA7XG4gICAgICAgIGhzdi52YWx1ZS89MTAwO1xuICAgICAgICBpPU1hdGguZmxvb3IoaHN2Lmh1ZSk7XG4gICAgICAgIGY9aHN2Lmh1ZS1pO1xuICAgICAgICBwPWhzdi52YWx1ZSooMS1oc3Yuc2F0dXJhdGlvbik7XG4gICAgICAgIHE9aHN2LnZhbHVlKigxLWhzdi5zYXR1cmF0aW9uKmYpO1xuICAgICAgICB0PWhzdi52YWx1ZSooMS1oc3Yuc2F0dXJhdGlvbiooMS1mKSk7XG4gICAgICAgIHN3aXRjaChpKSB7XG4gICAgICAgIGNhc2UgMDogcmdiLnI9aHN2LnZhbHVlOyByZ2IuZz10OyByZ2IuYj1wOyBicmVhaztcbiAgICAgICAgY2FzZSAxOiByZ2Iucj1xOyByZ2IuZz1oc3YudmFsdWU7IHJnYi5iPXA7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IHJnYi5yPXA7IHJnYi5nPWhzdi52YWx1ZTsgcmdiLmI9dDsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogcmdiLnI9cDsgcmdiLmc9cTsgcmdiLmI9aHN2LnZhbHVlOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiByZ2Iucj10OyByZ2IuZz1wOyByZ2IuYj1oc3YudmFsdWU7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiByZ2Iucj1oc3YudmFsdWU7IHJnYi5nPXA7IHJnYi5iPXE7XG4gICAgICAgIH1cbiAgICAgICAgcmdiLnI9TWF0aC5yb3VuZChyZ2IucioyNTUpO1xuICAgICAgICByZ2IuZz1NYXRoLnJvdW5kKHJnYi5nKjI1NSk7XG4gICAgICAgIHJnYi5iPU1hdGgucm91bmQocmdiLmIqMjU1KTtcbiAgICB9XG4gICAgcmV0dXJuIHJnYjtcbn1cblxuLy9BZGRpbmcgSHVlU2hpZnQgdmlhIEphY29iIChzZWUgY29tbWVudHMpXG5mdW5jdGlvbiBIdWVTaGlmdChoLHMpIHsgXG4gICAgaCs9czsgd2hpbGUgKGg+PTM2MC4wKSBoLT0zNjAuMDsgd2hpbGUgKGg8MC4wKSBoKz0zNjAuMDsgcmV0dXJuIGg7IFxufVxuXG4vL21pbiBtYXggdmlhIEhhaXJnYW1pX01hc3RlciAoc2VlIGNvbW1lbnRzKVxuZnVuY3Rpb24gbWluMyhhLGIsYykgeyBcbiAgICByZXR1cm4gKGE8Yik/KChhPGMpP2E6Yyk6KChiPGMpP2I6Yyk7IFxufSBcbmZ1bmN0aW9uIG1heDMoYSxiLGMpIHsgXG4gICAgcmV0dXJuIChhPmIpPygoYT5jKT9hOmMpOigoYj5jKT9iOmMpOyBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbG9ycyxcbiAgcmdiLFxuICByZ2JhLFxuICBjb21wbGVtZW50XG59OyIsIi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgQ2lyY2xlIGJvZHkgYW5kIHNoYXBlIGluIGEgQm94MmQgd29ybGRcbiAqIEBuYW1lIENpcmNsZVxuICogQGNvbnN0cnVjdG9yIENpcmNsZVxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbmNvbnN0IGRpc3RhbmNlID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZGlzdGFuY2UnKTtcblxuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgRW50aXR5e1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIGNpcmNsZS5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBDaXJjbGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1cyA9IDE7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBDaXJjbGUgYXQgYSBnaXZlbiBzY2FsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggVGhlIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIGF0IHdoaWNoIHRvIGRyYXdcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmModGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlLCB0aGlzLnJhZGl1cyAqIHNjYWxlLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgaWYoIXRoaXMuc3RhdGljQm9keSl7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICAgIGN0eC5saW5lVG8odGhpcy54ICogc2NhbGUsICh0aGlzLnkgKiBzY2FsZSkgLSAodGhpcy5yYWRpdXMgKiBzY2FsZSkpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuXG4gICAgc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGlzIHNoYXBlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIGFtb3VudCB0aGUgc2hhcGUgc2hvdWxkIHNjYWxlXG4gICAqL1xuICBzY2FsZVNoYXBlKHNjYWxlKXtcbiAgICB0aGlzLnJhZGl1cyA9IHRoaXMucmFkaXVzICogc2NhbGU7XG4gICAgc3VwZXIuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgQ2lyY2xlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBvaW50IGlzIGluIHNoYXBlIGVsc2UgZmFsc2VcbiAgICovXG4gIHBvaW50SW5TaGFwZShwb2ludCl7XG4gICAgcmV0dXJuIChkaXN0YW5jZShwb2ludCwgdGhpcykgPD0gdGhpcy5yYWRpdXMpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDaXJjbGU7XG4iLCJcbndpbmRvdy5mcm96ZW5qcyA9IHtcbiAgR2FtZUNvcmUgOiByZXF1aXJlKCcuL0dhbWVDb3JlJyksXG4gIElucHV0TWFuYWdlciA6IHJlcXVpcmUoJy4vSW5wdXRNYW5hZ2VyJyksXG4gIFJlc291cmNlTWFuYWdlciA6IHJlcXVpcmUoJy4vUmVzb3VyY2VNYW5hZ2VyJyksXG4gIE1vdXNlQWN0aW9uIDogcmVxdWlyZSgnLi9Nb3VzZUFjdGlvbicpLFxuICBUb3VjaEFjdGlvbiA6IHJlcXVpcmUoJy4vVG91Y2hBY3Rpb24nKSxcbiAga2V5cyA6IHJlcXVpcmUoJy4va2V5cycpLFxuICBBbmltYXRpb246IHJlcXVpcmUoJy4vQW5pbWF0aW9uJyksXG4gIEFuaW1GcmFtZTogcmVxdWlyZSgnLi9BbmltRnJhbWUnKSxcbiAgdXRpbHMgOiByZXF1aXJlKCcuL3V0aWxzJyksXG4gIFNwcml0ZSA6IHJlcXVpcmUoJy4vU3ByaXRlJyksXG4gIHJlaW5lciA6IHtcbiAgICBDcmVhdHVyZSA6IHJlcXVpcmUoJy4vcmVpbmVyL0NyZWF0dXJlJylcbiAgfSxcbiAgc291bmRzIDoge1xuICAgIFdlYkF1ZGlvIDogcmVxdWlyZSgnLi9zb3VuZHMvV2ViQXVkaW8nKVxuICB9LFxuICBib3gyZCA6IHtcbiAgICBlbnRpdGllcyA6IHJlcXVpcmUoJy4vYm94MmQvZW50aXRpZXMnKSxcbiAgICBqb2ludHM6IHJlcXVpcmUoJy4vYm94MmQvam9pbnRzJyksXG4gICAgQm94IDogcmVxdWlyZSgnLi9ib3gyZC9Cb3gnKSxcbiAgICBCb3hHYW1lIDogcmVxdWlyZSgnLi9ib3gyZC9Cb3hHYW1lJylcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuZnJvemVuanM7XG4iLCJcbmZ1bmN0aW9uIHNjYWxlUG9pbnRzKHBvaW50cywgc2NhbGUpe1xuICBpZihBcnJheS5pc0FycmF5KHBvaW50cykpe1xuICAgIHBvaW50cyA9IHBvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpe1xuICAgICAgcmV0dXJuIHNjYWxlUG9pbnRzKHBvaW50LCBzY2FsZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZih0eXBlb2Ygc2NhbGUgPT09ICdvYmplY3QnKXtcbiAgICBwb2ludHMgPSB7XG4gICAgICB4OiBwb2ludHMueCAqIHNjYWxlLngsXG4gICAgICB5OiBwb2ludHMueSAqIHNjYWxlLnlcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHBvaW50cyA9IHtcbiAgICAgIHg6IHBvaW50cy54ICogc2NhbGUsXG4gICAgICB5OiBwb2ludHMueSAqIHNjYWxlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNjYWxlUG9pbnRzO1xuIiwiZnVuY3Rpb24gZ2VuSWQoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICsgJ18nICsgRGF0ZS5ub3coKTtcbn1cblxuLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBib2R5IGFuZCBzaGFwZSBpbiBhIEJveDJkIHdvcmxkIHVzaW5nIHBvc2l0aW9ucyBhbmQgc2l6ZXMgcmVsYXRpdmUgdG8gdGhlIEJveDJkIHdvcmxkIGluc3RhbmNlLlxuICogQG5hbWUgRW50aXR5XG4gKiBAY29uc3RydWN0b3IgRW50aXR5XG4gKi9cblxuY2xhc3MgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBpbiB3aGljaCB0byByZWZlcmVuY2UgdGhpcyBvYmplY3QuIEFsc28gdGhlIHVzZXJEYXRhIHByb3BlcnR5IGZvciBib3gyZCBib2RpZXMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuaWQgPSBvcHRpb25zLmlkIHx8IGdlbklkKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBjb21wb25lbnQgb2YgdGhlIGVudGl0eSdzIGxvY2F0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMueCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeSBjb21wb25lbnQgb2YgdGhlIGVudGl0eSdzIGxvY2F0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMueSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgaW4gcGl4ZWxzIHBlciBtZXRlciBpbiB3aGljaCB0byByZXByZXNlbnQgdGhpcyBFbnRpdHkgaW4gdGhlIGJveDJkIHdvcmxkXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuc2NhbGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYW5nbGUgdGhhdCB0aGlzIGVudGl0eSBpcyByb3RhdGVkIGF0XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuYW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHggYW5kIHkgbG9jYXRpb25zIG9mIHdoYXQgYm94MmQgY29uc2lkZXJzIHRoZSBlbml0eSdzIGNlbnRlciBvZiBtYXNzXG4gICAgICogQHR5cGUge1BvaW50fVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5jZW50ZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBkcmF3IHRoZSB4LHkgbG9jYXRpb24gb2YgYW4gZW50aXR5XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5kcmF3TG9jYXRpb24gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBkcmF3IHRoZSBjZW50ZXIgcG9pbnQgb2YgYW4gZW50aXR5XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgIHRoaXMuZHJhd0NlbnRlciA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudGFnZSBvZiBmb3JjZSBpbiB3aGljaCB0aGUgZW50aXR5IHdpbGwgYm91bmNlIGJhY2sgZnJvbSBhbm90aGVyIGJhc2VkIG9uIGl0cyBmb3JjZSBwcmUtY29sbGlzaW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMucmVzdGl0dXRpb24gPSAwLjM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHdvLWRpbWVuc2lvbmFsIGRlbnNpdHkgb2YgdGhlIGVudGl0eS4gIE1hc3MgLyBhcmVhLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmRlbnNpdHkgPSAxLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIGZyaWN0aW9uIG9uIHRoIHN1cmZhY2Ugb2YgdGhpcyBlbnRpdHlcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5mcmljdGlvbiA9IDAuOTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgbGluZWFyIHZlbG9jaXR5IHRoZSBlbnRpdHkgc2hvdWxkIGxvc2Ugb3ZlciB0aW1lXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMubGluZWFyRGFtcGluZyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVsb2NpdHkgaW4gbWV0ZXJzL3NlY29uZCBnaXZlbiB0byB0aGlzIGVudGl0eSBieSBib3gyZCBjYWxjdWxhdGlvbnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5saW5lYXJWZWxvY2l0eSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5ndWxhciB2ZWxvY2l0eSBpbiByYWRpYW5zL3NlY29uZCBnaXZlbiB0byB0aGlzIGVudGl0eSBieSBib3gyZCBjYWxjdWxhdGlvbnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mIGFtb3VudCBvZiBhbmd1bGFyIHZlbG9jaXR5IGFuIGVudGl0eSBzaG91bGQgbG9zZSBvdmVyIHRpbWVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5hbmd1bGFyRGFtcGluZyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgZW50aXR5IGRvZXMgY2hhbmdlIGl0cyBwb3NpdGlvbiBhbmQgYW5nbGUgYXMgdGhlIHJlc3VsdCBvZiBib3gyZCBjYWxjdWxhdGlvbnNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuc3RhdGljQm9keSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpbGxTdHlsZSB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuZmlsbFN0eWxlID0gJ3JnYmEoMTI4LDEyOCwxMjgsMC41KSc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3Ryb2tlU3R5bGUgdG8gdXNlIGZvciB0aGUgZW50aXR5J3MgZGVmYXVsdCByZW5kZXJlclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLnN0cm9rZVN0eWxlID0gJyMwMDAnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxpbmUgd2lkdGggdG8gdXNlIGZvciB0aGUgZW50aXR5J3MgZGVmYXVsdCByZW5kZXJlclxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmxpbmVXaWR0aCA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBkZXRlcm1pbmluZyB3aGljaCBvdGhlciB0eXBlcyBvZiBlbnRpdGllcyB0aGlzIGJvZHkgd2lsbCBjb2xsaWRlIHdpdGguXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMubWFza0JpdHMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIDE2IGJpdCBpbnRlZ2VyIHVzZWQgaW4gZGVzY3JpYmluZyB0aGUgdHlwZSB0aGF0IHRoaXMgZW5pdGl0eSBpcyBmb3IgY29sbGlzaW9ucy5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5jYXRlZ29yeUJpdHMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIDE2IGJpdCBpbnRlZ2VyIHVzZWQgaW4gb3ZlcmlkaW5nIG1hc2tCaXRzIGFuZCBjYXRlZ29yeUJpdHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuZ3JvdXBJbmRleCA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGlzIGVudGl0eSB3aXRoIHRoZSBzdGF0ZSBwYXNzZWQgaW5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBTdGF0ZSB0byBtZXJnZSB3aXRoIHRoaXMgb2JqZWN0XG4gICAqL1xuICB1cGRhdGUoc3RhdGUpe1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBFbnRpdHkgYXQgYSBnaXZlbiBzY2FsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggVGhlIEhUTUw1IDJkIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIHRvIGRyYXcgdGhlIGVudGl0eSBhdFxuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcblxuICAgIC8vIGJsYWNrIGNpcmNsZSBpbiBlbnRpdHkncyBsb2NhdGlvblxuICAgIGlmKHRoaXMuZHJhd0xvY2F0aW9uKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmModGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlLCA0LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgIH1cbiAgICBcbiAgICAvLyB5ZWxsb3cgY2lyY2xlIGluIGVudGl0eSdzIGdlb21ldHJpYyBjZW50ZXJcbiAgICBpZih0aGlzLmNlbnRlciAmJiB0aGlzLmRyYXdDZW50ZXIpe1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY2VudGVyU3R5bGUgfHwgJ3llbGxvdyc7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHRoaXMuY2VudGVyLnggKiBzY2FsZSwgdGhpcy5jZW50ZXIueSAqIHNjYWxlLCAyLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgIH1cblxuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZXMgdGhlIHBvc2l0aW9uIGFuZCBkaW1lbnNpb25zIG9mIHRoaXMgc2hhcGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIHRvIG11bHRpcGx5IHRoZSBkaW1lbnRpb25zIGJ5XG4gICAqL1xuICBzY2FsZVNoYXBlKHNjYWxlKXtcbiAgICB0aGlzLnggPSB0aGlzLnggKiBzY2FsZTtcbiAgICB0aGlzLnkgPSB0aGlzLnkgKiBzY2FsZTtcbiAgICB0aGlzLmFscmVhZHlTY2FsZWQgPSB0cnVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRW50aXR5O1xuXG4iLCIvKipcbiAqIFRoZSBHYW1lQWN0aW9uIGhhbmRsZXMgRE9NIGV2ZW50cyBmb3IgdXNlIGluIGdhbWVzLlxuICogQG5hbWUgR2FtZUFjdGlvblxuICogQGNvbnN0cnVjdG9yIEdhbWVBY3Rpb25cbiAqL1xuXG4vKipcbiAqIEEgbWFwIG9mIHN0YXRpYyBjb25zdGFudHMgZm9yIGludGVybmFsIHVzZVxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IE5PUk1BTCBOb3JtYWwgYmVoYXZpb3IuIFRoZSBpc1ByZXNzZWQoKSBtZXRob2QgcmV0dXJucyB0cnVlIGFzIGxvbmcgYXMgdGhlIGtleSBpcyBoZWxkIGRvd24uXG4gKiBAcHJvcGVydHkge051bWJlcn0gREVURUNUX0lOSVRBTF9QUkVTU19PTkxZIEluaXRpYWwgcHJlc3MgYmVoYXZpb3IuIFRoZSBpc1ByZXNzZWQoKSBtZXRob2QgcmV0dXJucyB0cnVlIG9ubHkgYWZ0ZXIgdGhlIGtleSBpcyBmaXJzdCBwcmVzc2VkLCBhbmQgbm90IGFnYWluIHVudGlsIHRoZSBrZXkgaXMgcmVsZWFzZWQgYW5kIHByZXNzZWQgYWdhaW4uXG4gKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfUkVMRUFTRUQgVmFsdWUgZm9yIHJlbGVhc2VkIHN0YXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfUFJFU1NFRCBWYWx1ZSBmb3IgcHJlc3NlZCBzdGF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0UgVmFsdWUgZm9yIHdhaXRpbmcgZm9yIHJlbGVhc2Ugc3RhdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9NT1ZFRCBWYWx1ZSBmb3IgbW92ZWQgc3RhdGVcbiAqL1xuY29uc3Qgc3RhdGljcyA9IHtcbiAgTk9STUFMOiAwLFxuICBERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFk6IDEsXG4gIFNUQVRFX1JFTEVBU0VEOiAwLFxuICBTVEFURV9QUkVTU0VEOiAxLFxuICBTVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFOiAyLFxuICBTVEFURV9NT1ZFRDogM1xufTtcblxuY2xhc3MgR2FtZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgLyoqXG4gICAgICogQSBuYW1lIHRvIHJlZmVyZW5jZSB0aGUgR2FtZUFjdGlvbiB3aXRoXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBkZXRlY3Qgb25seSB0aGUgaW50aWFsIHByZXNzIG9mIHRoZSBnYW1lIGFjdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJlaGF2aW9yID0gMDtcblxuICAgIC8qKlxuICAgICAqIEhvdyBtYW55IHRpbWVzIHRoZSBHYW1lQWN0aW9uIGhhcyBiZWVuIHByZXNzZWRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hbW91bnQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEdhbWVBY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZSA9IDA7XG5cbiAgICB0aGlzLnN0YXRpY3MgPSBzdGF0aWNzO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhpcyBHYW1lQWN0aW9uIHNvIHRoYXQgaXQgYXBwZWFycyBsaWtlIGl0IGhhc24ndCBiZWVuIHByZXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1JFTEVBU0VEO1xuICAgIHRoaXMuYW1vdW50ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUYXBzIHRoaXMgR2FtZUFjdGlvbi4gU2FtZSBhcyBjYWxsaW5nIHByZXNzKCkgZm9sbG93ZWQgYnkgcmVsZWFzZSgpLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICB0YXAoKSB7XG4gICAgdGhpcy5wcmVzcygpO1xuICAgIHRoaXMucmVsZWFzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUga2V5IHdhcyBwcmVzc2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICBwcmVzcygpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9QUkVTU0VEO1xuICAgIGlmKHRoaXMuYmVoYXZpb3IgPT09IHN0YXRpY3MuREVURUNUX0lOSVRBTF9QUkVTU19PTkxZKXtcbiAgICAgIHRoaXMucHJlc3NBbXQoMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUga2V5IHdhcyBwcmVzc2VkIGEgc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcywgb3IgdGhhdCB0aGUgbW91c2UgbW92ZSBhIHNwZWNpZmllZCBkaXN0YW5jZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKiBAcGFyYW0ge051bWJlcn0gYW1vdW50IHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSBpcyBwcmVzc2VkXG4gICAqL1xuICBwcmVzc0FtdChhbW91bnQpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc3RhdGljcy5TVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFKSB7XG4gICAgICB0aGlzLmFtb3VudCArPSBhbW91bnQ7XG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIGtleSB3YXMgcmVsZWFzZWRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgcmVsZWFzZSgpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9SRUxFQVNFRDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGtleSB3YXMgcHJlc3NlZCBvciBub3Qgc2luY2UgbGFzdCBjaGVja2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGtleSBpcyBwcmVzc2VkLCBlbHNlIGZhbHNlXG4gICAqL1xuICBpc1ByZXNzZWQoKSB7XG4gICAgaWYodGhpcy5zdGF0ZSA9PT0gc3RhdGljcy5TVEFURV9QUkVTU0VEKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvciBrZXlzLCB0aGlzIGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcHJlc3NlZCBzaW5jZSBpdCB3YXMgbGFzdCBjaGVja2VkLlxuICAgKiBGb3IgbW91c2UgbW92ZW1lbnQsIHRoaXMgaXMgdGhlIGRpc3RhbmNlIG1vdmVkLlxuICAgKlxuICAgKiBUaGlzIFJlc2V0cyB0aGUgYW1vdW50IHRvIHplcm8gYWZ0ZXIgYmVpbmcgY2hlY2tlZCFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyBwcmVzc2VkIG9yIGRpc3RhbmNlIG1vdXNlIHdhcyBtb3ZlZFxuICAgKi9cbiAgZ2V0QW1vdW50KCkge1xuICAgIHZhciByZXRWYWwgPSB0aGlzLmFtb3VudDtcbiAgICBpZiAocmV0VmFsICE9PSAwKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gc3RhdGljcy5TVEFURV9SRUxFQVNFRCkge1xuICAgICAgICB0aGlzLmFtb3VudCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYmVoYXZpb3IgPT09IHN0YXRpY3MuREVURUNUX0lOSVRBTF9QUkVTU19PTkxZKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0U7XG4gICAgICAgIHRoaXMuYW1vdW50ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWVBY3Rpb247XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIFVzaW5nIFJheS1DYXN0aW5nIGZvcm11bGEgYmFzZWQgb25cbi8vIGh0dHA6Ly93d3cuZWNzZS5ycGkuZWR1L0hvbWVwYWdlcy93cmYvUmVzZWFyY2gvU2hvcnRfTm90ZXMvcG5wb2x5Lmh0bWxcbi8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9cbi8vIFJlLXdyaXR0ZW4gZm9yIG1vc3QgcmVhZGFiaWxpdHkgYW5kIGZvciB1c2Ugd2l0aCBwb2ludCBvYmplY3RzIGluc3RlYWQgb2YgYXJyYXlzXG5cbmZ1bmN0aW9uIHBvaW50SW5Qb2x5KHBvaW50LCBwb2x5Z29uKXtcbiAgaWYoIXBvaW50IHx8ICFwb2x5Z29uKXtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcG9seSA9IHBvbHlnb24ucG9pbnRzIHx8IHBvbHlnb247XG5cbiAgdmFyIGluc2lkZVBvbHkgPSBmYWxzZTtcbiAgdmFyIGogPSBwb2x5Lmxlbmd0aCAtIDE7XG5cbiAgZm9yKHZhciBpID0gMDsgaSA8IHBvbHkubGVuZ3RoOyBqID0gaSsrKXtcbiAgICB2YXIgeGkgPSBwb2x5W2ldLng7XG4gICAgdmFyIHlpID0gcG9seVtpXS55O1xuICAgIHZhciB4aiA9IHBvbHlbal0ueDtcbiAgICB2YXIgeWogPSBwb2x5W2pdLnk7XG5cbiAgICBpZih5aSA+IHBvaW50LnkgIT09IHlqID4gcG9pbnQueSl7XG4gICAgICBpZihwb2ludC54IDwgKHhqIC0geGkpICogKHBvaW50LnkgLSB5aSkgLyAoeWogLSB5aSkgKyB4aSl7XG4gICAgICAgIGluc2lkZVBvbHkgPSAhaW5zaWRlUG9seTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5zaWRlUG9seTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwb2ludEluUG9seTtcbiIsIlxuZnVuY3Rpb24gdHJhbnNsYXRlUG9pbnRzKHBvaW50cywgdHJhbnNsYXRpb24pe1xuICBpZihBcnJheS5pc0FycmF5KHBvaW50cykpe1xuICAgIHBvaW50cyA9IHBvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpe1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZVBvaW50cyhwb2ludCwgdHJhbnNsYXRpb24pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHBvaW50cyA9IHtcbiAgICAgIHg6IHBvaW50cy54LFxuICAgICAgeTogcG9pbnRzLnlcbiAgICB9O1xuXG4gICAgaWYodHJhbnNsYXRpb24ueCAhPSBudWxsKXtcbiAgICAgIHBvaW50cy54ICs9IHRyYW5zbGF0aW9uLng7XG4gICAgfVxuXG4gICAgaWYodHJhbnNsYXRpb24ueSAhPSBudWxsKXtcbiAgICAgIHBvaW50cy55ICs9IHRyYW5zbGF0aW9uLnk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwb2ludHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdHJhbnNsYXRlUG9pbnRzO1xuIiwiZnVuY3Rpb24gZ2VuSWQoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpICsgJ18nICsgRGF0ZS5ub3coKTtcbn1cblxuLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBAbmFtZSBKb2ludFxuICogQGNvbnN0cnVjdG9yIEpvaW50XG4gKi9cblxuXG5jbGFzcyBKb2ludCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgaW4gd2hpY2ggdG8gcmVmZXJlbmNlIHRoaXMgb2JqZWN0LiBBbHNvIHRoZSB1c2VyRGF0YSBwcm9wZXJ0eSBmb3IgYm94MmQgYm9kaWVzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlkIHx8IGdlbklkKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIGZpcnN0IGVudGl0eSB0aGF0IHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhpcyBqb2ludFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEpvaW50I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib2R5SWQxID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgc2Vjb25kIGVudGl0eSB0aGF0IHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhpcyBqb2ludFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEpvaW50I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib2R5SWQyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgcG9pbnQgb24gdGhlIGZpcnN0IGVudGl0eSB3aGVyZSBiZSBhdHRhY2hlZCB0byB0aGUgc2Vjb25kIGJvZHkuIElmIG5vIHBvaW50IGlzIHNwZWNpZmllZCwgdGhlIGZpcnN0IGJvZHkgd2lsbCBiZSBhdHRhY2hlZCBhdCBpdHMgY2VudGVyIHBvaW50LlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEpvaW50I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib2R5UG9pbnQxID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCB3aXRoIGFueSBvdGhlciBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIG1peGVkIGludG8gdGhlIGJveDJkIGpvaW50IGRlZmluaXRpb24uXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmpvaW50QXR0cmlidXRlcyA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcG9zaXRpb24gdGhhdCBvbiB0aGUgZmlyc3QgYm9keSB0aGF0IHRoZSBqb2ludCBpcyBjb25uZWN0ZWQgYXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgc2NhbGUgdG8gbXVsdGlwbHkgdGhlIGRpbWVudGlvbnMgYnlcbiAgICovXG4gIHNjYWxlSm9pbnRMb2NhdGlvbihzY2FsZSl7XG4gICAgaWYoc2NhbGUgJiYgdGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgIHRoaXMuYm9keVBvaW50MS54ID0gdGhpcy5ib2R5UG9pbnQxLnggKiBzY2FsZTtcbiAgICAgIHRoaXMuYm9keVBvaW50MS55ID0gdGhpcy5ib2R5UG9pbnQxLnkgKiBzY2FsZTtcbiAgICAgIHRoaXMuYWxyZWFkeVNjYWxlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSm9pbnQ7XG4iLCIvKipcbiAqIFRoaXMgRW50aXR5IHJlcHJlc2VudHMgYSBwb2x5Z29uIHdoaWNoIGlzIGJ1aWxkIGZyb20gYW4gYXJyYXkgb2YgcG9pbnRzLlxuICogQG5hbWUgUG9seWdvblxuICogQGNvbnN0cnVjdG9yIFBvbHlnb25cbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5jb25zdCBzY2FsZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3NjYWxlUG9pbnRzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3BvaW50SW5Qb2x5Z29uJyk7XG5jb25zdCB0cmFuc2xhdGVQb2ludHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcblxuY2xhc3MgUG9seWdvbiBleHRlbmRzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBvYmplY3RzIHRoYXQgaGF2ZSB4IGFuZCB5IHZhbHVlcy5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFBvbHlnb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgUG9seWdvbiBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUG9seWdvbiNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggVGhlIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIGF0IHdoaWNoIHRvIGRyYXdcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG5cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbygodGhpcy54ICsgdGhpcy5wb2ludHNbMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9pbnRzWzBdLnkpICogc2NhbGUpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICBjdHgubGluZVRvKCh0aGlzLnBvaW50c1tpXS54ICsgdGhpcy54KSAqIHNjYWxlLCAodGhpcy5wb2ludHNbaV0ueSArIHRoaXMueSkgKiBzY2FsZSk7XG4gICAgfVxuICAgIGN0eC5saW5lVG8oKHRoaXMueCArIHRoaXMucG9pbnRzWzBdLngpICogc2NhbGUsICh0aGlzLnkgKyB0aGlzLnBvaW50c1swXS55KSAqIHNjYWxlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgc2hhcGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIGFtb3VudCB0aGUgc2hhcGUgc2hvdWxkIHNjYWxlXG4gICAqL1xuICBzY2FsZVNoYXBlKHNjYWxlKXtcbiAgICB0aGlzLnBvaW50cyA9IHNjYWxlUG9pbnRzKHRoaXMucG9pbnRzLCBzY2FsZSk7XG4gICAgc3VwZXIuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFBvbHlnb24uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUG9seWdvbiNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBvaW50IGlzIGluIHNoYXBlIGVsc2UgZmFsc2VcbiAgICovXG4gIHBvaW50SW5TaGFwZShwb2ludCl7XG4gICAgcmV0dXJuIHBvaW50SW5Qb2x5Z29uKHBvaW50LCB0cmFuc2xhdGVQb2ludHModGhpcy5wb2ludHMsIHRoaXMpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvbHlnb247XG4iLCIvKipcbiAqIFRoZSBHYW1lQ29yZSBjbGFzcyBwcm92aWRlcyB0aGUgYmFzZSB0byBidWlsZCBnYW1lcyBvbi5cbiAqIEBuYW1lIEdhbWVDb3JlXG4gKiBAY29uc3RydWN0b3IgR2FtZUNvcmVcbiAqIEBleGFtcGxlXG4gKiB2YXIgbXlHYW1lID0gbmV3IEdhbWVDb3JlKHtcbiAqICAgY2FudmFzSWQ6ICdteUNhbnZhcycsXG4gKiAgIHVwZGF0ZTogZnVuY3Rpb24obWlsbGlzKXtcbiAqICAgICAvLyBkbyB1cGRhdGluZyBvZiBnYW1lIHN0YXRlXG4gKiAgIH0sXG4gKiAgIGRyYXc6IGZ1bmN0aW9uKGNvbnRleHQpe1xuICogICAgIC8vIGRvIGRyYXdpbmcgb2YgdGhlIGdhbWVcbiAqICAgfVxuICogfSk7XG4gKlxuICogLy9zdGFydCB0aGUgZ2FtZVxuICogbXlHYW1lLnJ1bigpO1xuICovXG5cbmNvbnN0IElucHV0TWFuYWdlciA9IHJlcXVpcmUoJy4vSW5wdXRNYW5hZ2VyJyk7XG5jb25zdCBSZXNvdXJjZU1hbmFnZXIgPSByZXF1aXJlKCcuL1Jlc291cmNlTWFuYWdlcicpO1xuXG5jbGFzcyBHYW1lQ29yZSB7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBnYW1lIHNob3VsZCBiZSBydW5uaW5nIGl0cyBsb29wXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgdG8gdXNlIHJlbmRlciB0aGUgZ2FtZSBvblxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNJZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBNYXggbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuIChpbiBjYXNlIHVzZXIgc3dpdGNoZXMgdGFicyBhbmQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBhdXNlcylcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubWF4U3RlcCA9IDQwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgY29udGV4dCB0byByZXF1ZXN0IGZyb20gdGhlIGNhbnZhcy4gIDJkIG9yIDNkXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHRUeXBlID0gJzJkJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIEdhbWUgYW5kIGNhbnZhc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBHYW1lIGFuZCBjYW52YXNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFJlc291cmNlTWFuYWdlciB0byBiZSB1c2VkIGZvciBnYW1lXG4gICAgICogQHR5cGUge1Jlc291cmNlTWFuYWdlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnJlc291cmNlTWFuYWdlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSW5wdXRNYW5hZ2VyIHRvIGJlIHVzZWQgZm9yIGdhbWVcbiAgICAgKiBAdHlwZSB7SW5wdXRNYW5hZ2VyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHlsZSB0byBiZSB1c2VkIGZvciB0aGUgZm9yZWdyb3VuZCB3aGlsZSBnYW1lIHJlc291cmNlcyBhcmUgbG9hZGluZ1xuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5sb2FkaW5nRm9yZWdyb3VuZCA9ICcjMDBGJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHlsZSB0byBiZSB1c2VkIGZvciB0aGUgYmFja2dyb3VuZCB3aGlsZSBnYW1lIHJlc291cmNlcyBhcmUgbG9hZGluZ1xuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5sb2FkaW5nQmFja2dyb3VuZCA9ICcjRkZGJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiBhIERPTSBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIGdhbWUncyBjYW52YXNcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ2FtZUFyZWFJZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudGFnZSAoMCB0byAxLjApIG9mIHRoZSBoZWlnaHQgYW5kIHdpZHRoIHRoZSBjYW52YXMgc2hvdWxkIHVzZSB0byBmaWxsIGluIGl0cyBjb250YWluZXIgRE9NIGVsZW1lbnRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzUGVyY2VudGFnZSA9IDA7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYoIXRoaXMucmVzb3VyY2VNYW5hZ2VyKXtcbiAgICAgIHRoaXMucmVzb3VyY2VNYW5hZ2VyID0gbmV3IFJlc291cmNlTWFuYWdlcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBoZWlnaHQgb24geW91ciBHYW1lQ29yZSBpbnN0YW5jZSBhbmQgb24geW91ciBjYW52YXMgcmVmZXJlbmNlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuZXdIZWlnaHQgVGhlIG5ldyBoZWlnaHQgZGVzaXJlZFxuICAgKi9cbiAgc2V0SGVpZ2h0KG5ld0hlaWdodCl7XG4gICAgdGhpcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHdpZHRoIG9uIHlvdXIgR2FtZUNvcmUgaW5zdGFuY2UgYW5kIG9uIHlvdXIgY2FudmFzIHJlZmVyZW5jZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gbmV3V2lkdGggVGhlIG5ldyB3aWR0aCBkZXNpcmVkXG4gICAqL1xuICBzZXRXaWR0aChuZXdXaWR0aCl7XG4gICAgdGhpcy53aWR0aCA9IG5ld1dpZHRoO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gbmV3V2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGUgZ2FtZSBsb29wIHRoYXQgaXQncyB0aW1lIHRvIHF1aXRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMYXVuY2hlcyB0aGUgZ2FtZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIHJ1bigpIHtcbiAgICBpZighdGhpcy5pc1J1bm5pbmcpe1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgICB0aGlzLmxvYWRSZXNvdXJjZXModGhpcy5yZXNvdXJjZU1hbmFnZXIpO1xuICAgICAgdGhpcy5pbml0SW5wdXQodGhpcy5pbnB1dE1hbmFnZXIpO1xuICAgICAgdGhpcy5sYXVuY2hMb29wKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbiBiZSBvdmVyaWRkZW4gaW4gR2FtZUNvcmUgc3ViY2xhc3NlcyB0byBsb2FkIGltYWdlcyBhbmQgc291bmRzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7UmVzb3VyY2VNYW5hZ2VyfSByZXNvdXJjZU1hbmFnZXJcbiAgICovXG4gIGxvYWRSZXNvdXJjZXMocmVzb3VyY2VNYW5hZ2VyKXtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNjcmVlbiBtb2RlIGFuZCBpbml0aWF0ZXMgYW5kIG9iamVjdHMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBpbml0KCkge1xuICAgIGlmKCF0aGlzLmNhbnZhcyl7XG4gICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY2FudmFzSWQpO1xuICAgIH1cbiAgICBpZighdGhpcy5jYW52YXMpe1xuICAgICAgXG4gICAgICBhbGVydCgnU29ycnksIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNhbnZhcy4gIEkgcmVjb21tZW5kIGFueSBicm93c2VyIGJ1dCBJbnRlcm5ldCBFeHBsb3JlcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZighdGhpcy5jb250ZXh0KXtcbiAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQodGhpcy5jb250ZXh0VHlwZSk7XG4gICAgfVxuICAgIGlmKCF0aGlzLmNvbnRleHQpe1xuICAgICAgYWxlcnQoJ1NvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhICcgKyB0aGlzLmNvbnRleHRUeXBlICsgJyBkcmF3aW5nIHN1cmZhY2Ugb24gY2FudmFzLiAgSSByZWNvbW1lbmQgYW55IGJyb3dzZXIgYnV0IEludGVybmV0IEV4cGxvcmVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRIZWlnaHQodGhpcy5oZWlnaHQgfHwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICB0aGlzLnNldFdpZHRoKHRoaXMud2lkdGggfHwgdGhpcy5jYW52YXMud2lkdGgpO1xuXG4gICAgaWYoIXRoaXMuaW5wdXRNYW5hZ2VyKXtcbiAgICAgIC8vaGFuZGxlIHJlc2l6aW5nIGlmIGdhbWVBcmVhIGFuZCBjYW52YXNQZXJjZW50YWdlIGFyZSBzcGVjaWZpZWRcbiAgICAgIGlmKHRoaXMuZ2FtZUFyZWFJZCAmJiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2Upe1xuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoe1xuICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXMsXG4gICAgICAgICAgZ2FtZUFyZWE6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZ2FtZUFyZWFJZCksXG4gICAgICAgICAgY2FudmFzUGVyY2VudGFnZTogdGhpcy5jYW52YXNQZXJjZW50YWdlXG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcih7XG4gICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmlucHV0TWFuYWdlci5yZXNpemUoKTtcblxuICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcmlkZGVuIGluIHRoZSBzdWJjbGFzc2VzIHRvIG1hcCB1c2VyIGlucHV0IHRvIGFjdGlvbnNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtJbnB1dE1hbmFnZXJ9IGlucHV0TWFuYWdlclxuICAgKi9cbiAgaW5pdElucHV0KGlucHV0TWFuYWdlcikge1xuXG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJpZGRlbiBpbiB0aGUgc3ViY2xhc3NlcyB0byBkZWFsIHdpdGggdXNlciBpbnB1dCBiZWZvcmUgdXBkYXRpbmcgdGhlIGdhbWUgc3RhdGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtJbnB1dE1hbmFnZXJ9IGlucHV0TWFuYWdlclxuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgaGFuZGxlSW5wdXQoaW5wdXRNYW5hZ2VyLGVsYXBzZWRUaW1lKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIHRocm91Z2ggdGhlIGdhbWUgbG9vcCB1bnRpbCBzdG9wKCkgaXMgY2FsbGVkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgZ2FtZUxvb3AoKSB7XG4gICAgdGhpcy5jdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHRoaXMuZWxhcHNlZFRpbWUgPSBNYXRoLm1pbih0aGlzLmN1cnJUaW1lIC0gdGhpcy5wcmV2VGltZSwgdGhpcy5tYXhTdGVwKTtcbiAgICB0aGlzLnByZXZUaW1lID0gdGhpcy5jdXJyVGltZTtcblxuICAgIC8vaXQncyB1c2luZyBhIHJlc291cmNlIG1hbmFnZXIsIGJ1dCByZXNvdXJjZXMgaGF2ZW4ndCBmaW5pc2hlZFxuICAgIGlmKHRoaXMucmVzb3VyY2VNYW5hZ2VyICYmICF0aGlzLnJlc291cmNlTWFuYWdlci5yZXNvdXJjZXNSZWFkeSgpKXtcbiAgICAgIHRoaXMudXBkYXRlTG9hZGluZ1NjcmVlbih0aGlzLmVsYXBzZWRUaW1lKTtcbiAgICAgIHRoaXMuZHJhd0xvYWRpbmdTY3JlZW4odGhpcy5jb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oYW5kbGVJbnB1dCh0aGlzLmlucHV0TWFuYWdlcix0aGlzLmVsYXBzZWRUaW1lKTtcbiAgICAgIGlmKCF0aGlzLnBhdXNlZCl7XG4gICAgICAgIC8vIHVwZGF0ZVxuICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLmVsYXBzZWRUaW1lKTtcbiAgICAgIH1cbiAgICAgIC8vIGRyYXcgdGhlIHNjcmVlblxuICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgIHRoaXMuZHJhdyh0aGlzLmNvbnRleHQpO1xuICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGF1bmNoZXMgdGhlIGdhbWUgbG9vcC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIGxhdW5jaExvb3AoKXtcbiAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDtcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmN1cnJUaW1lID0gc3RhcnRUaW1lO1xuICAgIHRoaXMucHJldlRpbWUgPSBzdGFydFRpbWU7XG5cbiAgICAvL25lZWQgdG8ga2VlcCB0aGUgY29udGV4dCBkZWZpbmVkIGhlcmUgc28gdGhlIGdhbWUgbG9vcCBoYXMgYWNjZXNzIHRvIGl0XG4gICAgdGhpcy5sb29wUnVubmVyID0gdGhpcy5sb29wUnVubmVyLmJpbmQodGhpcyk7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3BSdW5uZXIpO1xuICB9XG5cbiAgbG9vcFJ1bm5lcigpe1xuICAgIHRoaXMuZ2FtZUxvb3AoKTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubG9vcFJ1bm5lcik7XG4gIH1cblxuICAvKipcbiAgICogU2hvdWxkIGJlIG92ZXJyaWRkZW4gdG8gdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgZ2FtZS9hbmltYXRpb24gYmFzZWQgb24gdGhlIGFtb3VudCBvZiBlbGFwc2VkIHRpbWUgdGhhdCBoYXMgcGFzc2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlKGVsYXBzZWRUaW1lKSB7XG5cblxuICB9XG5cbiAgLyoqXG4gICAqIENhbiBiZSBvdmVycmlkZGVuIHRvIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGdhbWUvYW5pbWF0aW9uIHdoaWxlIGEgY3VzdG9tIGxvYWRpbmcgc2NyZWVuIGlzIGRpc3BsYXllZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZUxvYWRpbmdTY3JlZW4oZWxhcHNlZFRpbWUpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRvIHRoZSBzY3JlZW4uIFN1YmNsYXNzZXMgb3IgaW5zdGFuY2VzIG11c3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGFpbnQgaXRlbXMgdG8gdGhlIHNjcmVlbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IEFuIEhUTUw1IGNhbnZhcyBkcmF3aW5nIGNvbnRleHQuXG4gICAqL1xuICBkcmF3KGNvbnRleHQpe1xuICAgIGlmKHRoaXMuY29udGV4dFR5cGUgPT09ICcyZCcpe1xuICAgICAgY29udGV4dC5mb250ID0gXCIxNHB4IHNhbnMtc2VyaWZcIjtcbiAgICAgIGNvbnRleHQuZmlsbFRleHQoXCJUaGlzIGdhbWUgZG9lcyBub3QgaGF2ZSBpdHMgb3duIGRyYXcgZnVuY3Rpb24hXCIsIDEwLCA1MCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBwcm9ncmVzcyBvZiB0aGUgcmVzb3VyY2UgbWFuZ2VyIHRvIHRoZSBzY3JlZW4gd2hpbGUgbG9hZGluZy5cbiAgICogU3ViY2xhc3NlcyBvciBpbnN0YW5jZXMgbWF5IG92ZXJyaWRlIGZvciBjdXN0b20gbG9hZGluZyBhbmltYXRpb25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgQW4gSFRNTDUgY2FudmFzIGRyYXdpbmcgY29udGV4dC5cbiAgICovXG4gIGRyYXdMb2FkaW5nU2NyZWVuKGNvbnRleHQpe1xuICAgIGlmKHRoaXMucmVzb3VyY2VNYW5hZ2VyICYmICh0aGlzLmNvbnRleHRUeXBlID09PSAnMmQnKSl7XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMubG9hZGluZ0JhY2tncm91bmQ7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KDAsMCwgdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7XG5cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5sb2FkaW5nRm9yZWdyb3VuZDtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLmxvYWRpbmdGb3JlZ3JvdW5kO1xuXG4gICAgICB2YXIgdGV4dFB4U2l6ZSA9IE1hdGguZmxvb3IodGhpcy5oZWlnaHQvMTIpO1xuXG4gICAgICBjb250ZXh0LmZvbnQgPSBcImJvbGQgXCIgKyB0ZXh0UHhTaXplICsgXCJweCBzYW5zLXNlcmlmXCI7XG5cbiAgICAgIGNvbnRleHQuZmlsbFRleHQoXCJMb2FkaW5nLi4uIFwiICsgdGhpcy5yZXNvdXJjZU1hbmFnZXIuZ2V0UGVyY2VudENvbXBsZXRlKCkgKyBcIiVcIiwgdGhpcy53aWR0aCAqIDAuMSwgdGhpcy5oZWlnaHQgKiAwLjU1KTtcblxuICAgICAgY29udGV4dC5zdHJva2VSZWN0KHRoaXMud2lkdGggKiAwLjEsIHRoaXMuaGVpZ2h0ICogMC43LCB0aGlzLndpZHRoICogMC44LCB0aGlzLmhlaWdodCAqIDAuMSk7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KHRoaXMud2lkdGggKiAwLjEsIHRoaXMuaGVpZ2h0ICogMC43LCAodGhpcy53aWR0aCAqIDAuOCkgKiB0aGlzLnJlc291cmNlTWFuYWdlci5nZXRQZXJjZW50Q29tcGxldGUoKS8xMDAsIHRoaXMuaGVpZ2h0ICogMC4xKTtcblxuICAgICAgY29udGV4dC5saW5lV2lkdGggPSA0O1xuICAgIH1cbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gR2FtZUNvcmU7XG4iLCIvKipcbiAqIFRoZSBJbnB1dE1hbmFnZXIgaGFuZGxlcyBET00gZXZlbnRzIGZvciB1c2UgaW4gZ2FtZXMuXG4gKiBAbmFtZSBJbnB1dE1hbmFnZXJcbiAqIEBjb25zdHJ1Y3RvciBJbnB1dE1hbmFnZXJcbiAqL1xuXG5jb25zdCBIYW1tZXIgPSByZXF1aXJlKCdoYW1tZXJqcycpO1xuXG5jb25zdCBHYW1lQWN0aW9uID0gcmVxdWlyZSgnLi9HYW1lQWN0aW9uJyk7XG5jb25zdCBUb3VjaEFjdGlvbiA9IHJlcXVpcmUoJy4vVG91Y2hBY3Rpb24nKTtcbmNvbnN0IE1vdXNlQWN0aW9uID0gcmVxdWlyZSgnLi9Nb3VzZUFjdGlvbicpO1xuY29uc3QgaW5zaWRlQ2FudmFzID0gcmVxdWlyZSgnLi91dGlscy9pbnNpZGVDYW52YXMnKTtcbmNvbnN0IGtleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcblxuZnVuY3Rpb24gb24gKGVsZW1lbnQsIG5hbWUsIGhhbmRsZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3NpdGlvbihub2RlKXtcbiAgdmFyIGJvdW5kaW5nUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRpbmdSZWN0LmxlZnQsXG4gICAgeTogYm91bmRpbmdSZWN0LnRvcFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKG5vZGUpe1xuICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCkgfHwge307XG59XG5cbmZ1bmN0aW9uIHRvUGl4ZWwodmFsdWUpe1xuICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbn1cblxuZnVuY3Rpb24gZ2V0TWFyZ2luRXh0ZW50cyhub2RlKXtcbiAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgdmFyIGwgPSB0b1BpeGVsKHN0eWxlLm1hcmdpbkxlZnQpO1xuICB2YXIgdCA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luVG9wKTtcbiAgdmFyIHIgPSB0b1BpeGVsKHN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgdmFyIGIgPSB0b1BpeGVsKHN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gIHJldHVybiB7XG4gICAgdzogbCArIHIsXG4gICAgaDogdCArIGJcbiAgfTtcbn1cblxuY2xhc3MgSW5wdXRNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCBvZiBrZXlBY3Rpb25zIGJlaW5nIGxpc3RlbmVkIGZvclxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5rZXlBY3Rpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBNb3VzZUFjdGlvbiB0byBrZWVwIHRyYWNrIG9mIHRoZSBtb3VzZSdzIHN0YXRlXG4gICAgICogQHR5cGUge01vdXNlQWN0aW9ufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1vdXNlQWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBUb3VjaEFjdGlvbiB0byBrZWVwIHRyYWNrIG9mIHRvdWNoIGV2ZW50c1xuICAgICAqIEB0eXBlIHtUb3VjaEFjdGlvbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy50b3VjaEFjdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSFRNTDUgY2FudmFzIG9uIHdoaWNoIHRvIGxpc3RlbiBmb3IgZXZlbnRzXG4gICAgICogQHR5cGUge0NhbnZhc31cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gbGlzdGVuIGZvciBtb3VzZSBldmVudHNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICogQGRlcHJlY2F0ZWQgTW91c2UgaXMgYWx3YXlzIGhhbmRsZWQsIHVzZSBlbXVsYXRlTW91c2UgdG8gc3BlY2lmeSBob3cgdG8gaGFuZGxlIGl0XG4gICAgICovXG4gICAgdGhpcy5oYW5kbGVNb3VzZSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBsaXN0ZW4gZm9yIHRvdWNoIGV2ZW50c1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAZGVwcmVjYXRlZCBUb3VjaCBpcyBhbHdheXMgaGFuZGxlZCwgdXNlIGVtdWxhdGVNb3VzZSB0byBzcGVjaWZ5IGhvdyB0byBoYW5kbGUgaXRcbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZVRvdWNoID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGxpc3RlbiBmb3Iga2V5Ym9hcmQgZXZlbnRzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxlS2V5cyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgZ2FtZSdzIGNhbnZhc1xuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmdhbWVBcmVhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50YWdlICgwIHRvIDEuMCkgb2YgdGhlIGhlaWdodCBhbmQgd2lkdGggdGhlIGNhbnZhcyBzaG91bGQgdXNlIHRvIGZpbGwgaW4gaXRzIGNvbnRhaW5lciBET00gZWxlbWVudFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzUGVyY2VudGFnZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIG1vdXNlIGV2ZW50cyB3aGVuIHVzaW5nIHRvdWNoXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW11bGF0ZU1vdXNlID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIG9mIEhhbW1lci5qcyAtIFlvdSBjYW4gcGFzcyBpbiBhIEhhbW1lcigpIGNvbnN0cnVjdG9yIHdpdGggb3B0aW9ucyB0byBjdXN0b21pemUgeW91ciBIYW1tZXIgaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHQgSGFtbWVyIGluc3RhbmNlLCBib3VuZCB0byBkb2N1bWVudCwgd2l0aCBwcmV2ZW50X2RlZmF1bHQ6IHRydWUsIGRyYWdfbWF4X3RvdWNoZXM6IDAsIGFuZCBob2xkOiBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuaGFtbWVyID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICBpZighdGhpcy5oYW1tZXIpe1xuICAgICAgdGhpcy5oYW1tZXIgPSBuZXcgSGFtbWVyKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgcHJldmVudF9kZWZhdWx0OiB0cnVlLFxuICAgICAgICBkcmFnX21heF90b3VjaGVzOiAwLFxuICAgICAgICAvLyBIb2xkIHVzZXMgc2V0VGltZW91dCB3aGljaCBpcyB2ZXJ5IGJhZCBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgLy8gVE9ETzogRG8gd2Ugd2FudCB0byBhbGxvdyB0aGlzIHRvIGJlIG92ZXJyaWRkZW4/XG4gICAgICAgIGhvbGQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5rZXlBY3Rpb25zKXtcbiAgICAgIHRoaXMua2V5QWN0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFudXAoaGFuZGxlcil7XG4gICAgICBoYW5kbGVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuaGFuZGxlS2V5cyl7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMua2V5ZG93bi5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAna2V5dXAnLCB0aGlzLmtleXVwLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICB9XG5cbiAgICBpZignb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudCl7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAndG91Y2hzdGFydCcsIHRoaXMudG91Y2hzdGFydC5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy50b3VjaG1vdmUuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy50b3VjaGVuZC5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG5cbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdtb3VzZWRvd24nLCB0aGlzLm1vdXNlZG93bi5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5tb3VzZW1vdmUuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLm1vdXNldXAuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgIH1cblxuXG4gICAgaWYoIXRoaXMubW91c2VBY3Rpb24pe1xuICAgICAgdGhpcy5tb3VzZUFjdGlvbiA9IG5ldyBNb3VzZUFjdGlvbigpO1xuICAgIH1cblxuICAgIGlmKCF0aGlzLnRvdWNoQWN0aW9uKXtcbiAgICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24oKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG5cbiAgICAgIC8vZGEgaGVsbCBoYW1tZXIsIGdvdHRhIGRvIHRoaXMgb3Vyc2V2bGVzIG5vdz9cblxuICAgICAgLy8gdGhpcy5vbigndG91Y2gnLCB0aGlzLm1vdXNlZG93bi5iaW5kKHRoaXMpKTtcbiAgICAgIC8vIHRoaXMub24oJ2RyYWcnLCB0aGlzLm1vdXNlbW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgIC8vIHRoaXMub24oJ3JlbGVhc2UnLCB0aGlzLm1vdXNldXAuYmluZCh0aGlzKSk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAvL2RhIGhlbGwgaGFtbWVyLCBnb3R0YSBkbyB0aGlzIG91cnNldmxlcyBub3c/XG4gICAgICAvLyB0aGlzLm9uKCd0b3VjaCcsIHRoaXMudG91Y2hzdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgIC8vIHRoaXMub24oJ2RyYWcnLCB0aGlzLnRvdWNobW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgIC8vIHRoaXMub24oJ3JlbGVhc2UnLCB0aGlzLnRvdWNoZW5kLmJpbmQodGhpcykpO1xuXG4gICAgfVxuXG4gICAgaWYodGhpcy5nYW1lQXJlYSAmJiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2Upe1xuICAgICAgdmFyIGhhbmRsZXIgPSB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlc2l6ZSBjaGFuZ2VzXG5cbiAgICAgIHRoaXMucHVzaENsZWFudXAob24od2luZG93LCAncmVzaXplJywgaGFuZGxlciksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbih3aW5kb3csICdvcmllbnRhdGlvbmNoYW5nZScsIGhhbmRsZXIpLCBjbGVhbnVwKTtcbiAgICB9XG5cbiAgICB0aGlzLm5vcm1hbGl6ZVBvaW50ID0gdGhpcy5ub3JtYWxpemVQb2ludC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaW5zaWRlQ2FudmFzID0gdGhpcy5pbnNpZGVDYW52YXMuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGJpbmQgb3RoZXIgSGFtbWVyLmpzIGV2ZW50cyAoc3VjaCBhcyBTd2lwZSBvciBEb3VibGV0YXApO1xuICAgKiBXYXJuaW5nOiBPbmx5IHNldCBmbGFncyBvciB2YXJpYWJsZXMgaW4gdGhpcyBoYW5kbGVyLCBvdGhlcndpc2UgeW91ciBnYW1lIG1pZ2h0IGJlY29tZSBzbG93XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGdlc3R1cmUgVGhlIGdlc3R1cmUgdG8gYmluZFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gaGFuZGxlciBFdmVudCBoYW5kbGVyIGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlbW92ZSBmdW5jdGlvbiBmb3IgcmVtb3ZpbmcgdGhlIGV2ZW50LlxuICAgKi9cbiAgb24oZ2VzdHVyZSwgaGFuZGxlcil7XG4gICAgdmFyIGhhbW1lciA9IHRoaXMuaGFtbWVyO1xuICAgIHZhciByZW1vdmVDbGVhbnVwID0gdGhpcy5yZW1vdmVDbGVhbnVwO1xuXG4gICAgaGFtbWVyLm9uKGdlc3R1cmUsIGhhbmRsZXIpO1xuICAgIHZhciBjbGVhbnVwID0gdGhpcy5wdXNoQ2xlYW51cChbZ2VzdHVyZSwgaGFuZGxlcl0sIGZ1bmN0aW9uKGFyZ3Mpe1xuICAgICAgaGFtbWVyLm9mZi5hcHBseShoYW1tZXIsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgcmVtb3ZlQ2xlYW51cChjbGVhbnVwKTtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBwb2ludCBpcyB3aXRoaW4gdGhlIElucHV0TWFuYWdlcidzIGNhbnZhc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7UG9pbnR9IHBvaW50IFBvaW50IHRvIHRlc3RcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHBvaW50IGlzIGluc2lkZSB0aGlzIElucHV0TWFuYWdlcidzIGNhbnZhc1xuICAgKi9cbiAgaW5zaWRlQ2FudmFzKHBvaW50KXtcbiAgICByZXR1cm4gaW5zaWRlQ2FudmFzKHBvaW50LCB0aGlzLmNhbnZhcyk7XG4gIH1cblxuICAvKipcbiAgICogTWFwcyBhIEdhbWVBY3Rpb24gdG8gYSBzcGVjaWZpYyBrZXkuIFRoZSBrZXkgY29kZXMgYXJlIGRlZmluZWQgaW4gZG9qby5rZXlzLlxuICAgKiBJZiB0aGUga2V5IGFscmVhZHkgaGFzIGEgR2FtZUFjdGlvbiBtYXBwZWQgdG8gaXQsIHRoZSBuZXcgR2FtZUFjdGlvbiBvdmVyd3JpdGVzIGl0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtIHtHYW1lQWN0aW9ufSBnYW1lQWN0aW9uIHRoZSBHYW1lQWN0aW9uIHRvIG1hcFxuICAgKiBAcGFyYW0ge09iamVjdH0ga2V5Q29kZSBkb2pvLmtleXMga2V5IGNvZGUsIG9yIGNoYXJhY3RlclxuICAgKi9cbiAgbWFwVG9LZXkoZ2FtZUFjdGlvbiwga2V5Q29kZSl7XG4gICAgdGhpcy5rZXlBY3Rpb25zW2tleUNvZGVdID0gZ2FtZUFjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgR2FtZUFjdGlvbiB0byBhIGtleVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtIHtPYmplY3R8fEFycmF5fSBrZXlDb2RlIEtleSBjaGFyYWN0ZXIgb3IgZG9qby9rZXlzIGtleSBjb2RlXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5pdGlhbFByZXNzT25seSBEbyBvbmx5IG9uZSBmaXJlIG9mIHRoZSBhY3Rpb24gcGVyIGtleXByZXNzXG4gICAqIEByZXR1cm4ge0dhbWVBY3Rpb259IEdhbWVBY3Rpb24gdGhhdCBpcyBtYXBwZWQgdG8ga2V5Q29kZVxuICAgKi9cbiAgYWRkS2V5QWN0aW9uKGtleUNvZGUsIGluaXRpYWxQcmVzc09ubHkpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGtleUNvZGUpKSB7XG4gICAgICBrZXlDb2RlID0gW2tleUNvZGVdO1xuICAgIH1cbiAgICBjb25zdCBnYXMgPSBrZXlDb2RlLm1hcCgoa2MpID0+IHtcbiAgICAgIGNvbnN0IGdhID0gbmV3IEdhbWVBY3Rpb24oKTtcbiAgICAgIGlmKGluaXRpYWxQcmVzc09ubHkpe1xuICAgICAgICBnYS5iZWhhdmlvciA9IGdhLmRldGVjdEluaXRpYWxQcmVzc09ubHk7XG4gICAgICB9XG4gICAgICB0aGlzLm1hcFRvS2V5KGdhLCBrYyk7XG4gICAgICByZXR1cm4gZ2E7XG4gICAgfSk7XG4gICAgXG4gICAgaWYoZ2FzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiBnYXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdhc1swXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFycm93IGtleSBHYW1lQWN0aW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICovXG4gIGFkZEFycm93S2V5QWN0aW9ucygpe1xuICAgIHRoaXMuYWRkS2V5QWN0aW9uKGtleXMuVVApO1xuICAgIHRoaXMuYWRkS2V5QWN0aW9uKGtleXMuRE9XTik7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5MRUZUKTtcbiAgICB0aGlzLmFkZEtleUFjdGlvbihrZXlzLlJJR0hUKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBtb3VzZVVwKGUpIHtcbiAgICB0aGlzLm1vdXNldXAoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbW91c2V1cCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3VzZXVwKGUpe1xuICAgIHRoaXMubW91c2VBY3Rpb24ucmVsZWFzZSh0aGlzLm5vcm1hbGl6ZVBvaW50KGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZWRvd24gZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlRG93bihlKXtcbiAgICB0aGlzLm1vdXNlZG93bihlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZWRvd24gZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW91c2Vkb3duKGUpe1xuICAgIC8vIEVuc3VyZSBtb3VzZSBoYXMgYmVlbiByZWxlYXNlZFxuICAgIHRoaXMubW91c2VBY3Rpb24ucmVsZWFzZShudWxsKTtcbiAgICB2YXIgY3VycmVudFBvaW50ID0gdGhpcy5ub3JtYWxpemVQb2ludChlKTtcbiAgICB0aGlzLm1vdXNlQWN0aW9uLmluc2lkZUNhbnZhcyA9IHRoaXMuaW5zaWRlQ2FudmFzKGN1cnJlbnRQb2ludCk7XG4gICAgdGhpcy5tb3VzZUFjdGlvbi5wcmVzcyhjdXJyZW50UG9pbnQpO1xuICB9XG5cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbW91c2Vtb3ZlIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBtb3VzZU1vdmUoZSl7XG4gICAgdGhpcy5tb3VzZW1vdmUoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gbW91c2Vtb3ZlIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdXNlbW92ZShlKXtcbiAgICB0aGlzLm1vdXNlQWN0aW9uLnBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemVQb2ludChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaHN0YXJ0IGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBsb3dlcmNhc2UgbmFtZSBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICB0b3VjaFN0YXJ0KGUpe1xuICAgIHRoaXMudG91Y2hzdGFydChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaHN0YXJ0IGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHRvdWNoc3RhcnQoZSl7XG4gICAgLy8gRW5zdXJlIHRvdWNoIGhhcyBiZWVuIHJlbGVhc2VkXG4gICAgdGhpcy50b3VjaEFjdGlvbi5yZWxlYXNlKG51bGwpO1xuICAgIGNvbnNvbGUubG9nKGUudG91Y2hlcywgZSk7XG4gICAgLy9Ub3VjaExpc3QgZG9lc24ndCBpbXBsZW1lbnQgLm1hcCgpXG4gICAgY29uc3QgY3VycmVudFBvaW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50UG9pbnRzLnB1c2godGhpcy5ub3JtYWxpemVQb2ludChlLnRvdWNoZXNbaV0pKTtcbiAgICB9XG4gICAgdGhpcy50b3VjaEFjdGlvbi5pbnNpZGVDYW52YXMgPSBjdXJyZW50UG9pbnRzLnNvbWUodGhpcy5pbnNpZGVDYW52YXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24ucHJlc3MoY3VycmVudFBvaW50cyk7XG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuICAgICAgdGhpcy5tb3VzZWRvd24oZS50b3VjaGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG91Y2hlbmQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIHRvdWNoRW5kKGUpe1xuICAgIHRoaXMudG91Y2hlbmQoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24gdG91Y2hlbmQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgdG91Y2hlbmQoZSl7XG4gICAgLy9Ub3VjaExpc3QgZG9lc24ndCBpbXBsZW1lbnQgLm1hcCgpXG4gICAgY29uc3QgY3VycmVudFBvaW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50UG9pbnRzLnB1c2godGhpcy5ub3JtYWxpemVQb2ludChlLnRvdWNoZXNbaV0pKTtcbiAgICB9XG4gICAgdGhpcy50b3VjaEFjdGlvbi5yZWxlYXNlKGN1cnJlbnRQb2ludHMpO1xuICAgIGlmKHRoaXMuZW11bGF0ZU1vdXNlKXtcbiAgICAgIHRoaXMubW91c2VVcChlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaG1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIHRvdWNoTW92ZShlKXtcbiAgICB0aGlzLnRvdWNobW92ZShlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaG1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgdG91Y2htb3ZlKGUpe1xuICAgIC8vVG91Y2hMaXN0IGRvZXNuJ3QgaW1wbGVtZW50IC5tYXAoKVxuICAgIGNvbnN0IGN1cnJlbnRQb2ludHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUudG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY3VycmVudFBvaW50cy5wdXNoKHRoaXMubm9ybWFsaXplUG9pbnQoZS50b3VjaGVzW2ldKSk7XG4gICAgfVxuICAgIHRoaXMudG91Y2hBY3Rpb24ucG9zaXRpb25zID0gY3VycmVudFBvaW50cztcbiAgICBpZih0aGlzLnRvdWNoQWN0aW9uLnN0YXJ0UG9zaXRpb25zKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuICAgICAgdGhpcy5tb3VzZW1vdmUoZS50b3VjaGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBHYW1lQWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5Q29kZSBvbiB0aGUgZXZlbnQgb2JqZWN0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7R2FtZUFjdGlvbnxudWxsfSBUaGUgR2FtZUFjdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGtleUNvZGUgZWxzZSBudWxsXG4gICAqL1xuICBnZXRLZXlBY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLmtleUFjdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmtleUFjdGlvbnNbZS5rZXlDb2RlXSB8fCB0aGlzLmtleUFjdGlvbnNbU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleXByZXNzIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGtleWRvd24gaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAga2V5UHJlc3NlZChlKSB7XG4gICAgdGhpcy5rZXlkb3duKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleWRvd24gZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIGtleURvd24oZSl7XG4gICAgdGhpcy5rZXlkb3duKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleWRvd24gZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAga2V5ZG93bihlKSB7XG4gICAgdmFyIGdhbWVBY3Rpb24gPSB0aGlzLmdldEtleUFjdGlvbihlKTtcbiAgICBpZiAoZ2FtZUFjdGlvbiAmJiAhZ2FtZUFjdGlvbi5pc1ByZXNzZWQoKSkge1xuICAgICAgZ2FtZUFjdGlvbi5wcmVzcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBrZXl1cCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSBrZXl1cCBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBrZXlSZWxlYXNlZChlKXtcbiAgICB0aGlzLmtleXVwKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIGtleXVwKGUpIHtcbiAgICB2YXIgZ2FtZUFjdGlvbiA9IHRoaXMuZ2V0S2V5QWN0aW9uKGUpO1xuICAgIGlmIChnYW1lQWN0aW9uKSB7XG4gICAgICBnYW1lQWN0aW9uLnJlbGVhc2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBnZXQgYSBub3JtYWxpemVkIHBvaW50IG91dCBvZiBhbiBFdmVudCBvYmplY3RcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBldnQgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm4ge1BvaW50fSBOb3JtYWxpemVkIHBvaW50XG4gICAqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2Ygbm9ybWFsaXplUG9pbnQgZnVuY3Rpb24gKFNhbWUgZnVuY3Rpb25hbGl0eSwgZGlmZmVyZW50IG5hbWUpXG4gICAqL1xuICBnZXRNb3VzZUxvYyhldnQpe1xuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVBvaW50KGV2dCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBnZXQgYSBub3JtYWxpemVkIHBvaW50IG91dCBvZiBhbiBFdmVudCBvYmplY3RcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBldnQgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm4ge1BvaW50fSBOb3JtYWxpemVkIHBvaW50XG4gICAqL1xuICBub3JtYWxpemVQb2ludChldnQpe1xuICAgIGlmKGV2dCl7XG4gICAgICB2YXIgY29vcmRzTSA9IHBvc2l0aW9uKHRoaXMuY2FudmFzKTtcbiAgICAgIGlmKHRoaXMuem9vbVJhdGlvKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKChldnQuY2xpZW50WCAtIGNvb3Jkc00ueCkgLyB0aGlzLnpvb21SYXRpbyksXG4gICAgICAgICAgeTogTWF0aC5yb3VuZCgoZXZ0LmNsaWVudFkgLSBjb29yZHNNLnkpIC8gdGhpcy56b29tUmF0aW8pXG4gICAgICAgIH07XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiBNYXRoLnJvdW5kKGV2dC5jbGllbnRYIC0gY29vcmRzTS54KSxcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKGV2dC5jbGllbnRZIC0gY29vcmRzTS55KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlc2l6ZSB0aGUgY2FudmFzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKi9cbiAgcmVzaXplKCl7XG4gICAgaWYodGhpcy5nYW1lQXJlYSAmJiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2UgJiYgdGhpcy5jYW52YXMpe1xuICAgICAgdmFyIGNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuXG4gICAgICB2YXIgYm9keU1hcmdpbnMgPSBnZXRNYXJnaW5FeHRlbnRzKGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICB2YXIgbmV3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGJvZHlNYXJnaW5zLnc7XG4gICAgICB2YXIgbmV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gYm9keU1hcmdpbnMuaDtcblxuICAgICAgdmFyIHdpZHRoVG9IZWlnaHQgPSBjYW52YXNXaWR0aCAvIGNhbnZhc0hlaWdodDtcbiAgICAgIHZhciBuZXdXaWR0aFRvSGVpZ2h0ID0gbmV3V2lkdGggLyBuZXdIZWlnaHQ7XG5cbiAgICAgIHZhciBuZXdXaWR0aFN0eWxlID0gJyc7XG4gICAgICB2YXIgbmV3SGVpZ2h0U3R5bGUgPSAnJztcbiAgICAgIGlmIChuZXdXaWR0aFRvSGVpZ2h0ID4gd2lkdGhUb0hlaWdodCkge1xuICAgICAgICBuZXdXaWR0aCA9IG5ld0hlaWdodCAqIHdpZHRoVG9IZWlnaHQ7XG4gICAgICAgIG5ld1dpZHRoU3R5bGUgPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgIG5ld0hlaWdodFN0eWxlID0gbmV3SGVpZ2h0ICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1dpZHRoU3R5bGUgPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgIG5ld0hlaWdodFN0eWxlID0gTWF0aC5yb3VuZChuZXdXaWR0aCAvIHdpZHRoVG9IZWlnaHQpICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgdGhpcy56b29tUmF0aW8gPSBuZXdXaWR0aCAvIGNhbnZhc1dpZHRoICogdGhpcy5jYW52YXNQZXJjZW50YWdlO1xuXG4gICAgICB0aGlzLmdhbWVBcmVhLnN0eWxlLndpZHRoID0gbmV3V2lkdGhTdHlsZTtcbiAgICAgIHRoaXMuZ2FtZUFyZWEuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0U3R5bGU7XG5cbiAgICAgIHZhciBjYW52YXNQZXJjZW50YWdlU3R5bGUgPSBNYXRoLmZsb29yKHRoaXMuY2FudmFzUGVyY2VudGFnZSAqIDEwMCkgKyAnJSc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IGNhbnZhc1BlcmNlbnRhZ2VTdHlsZTtcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc1BlcmNlbnRhZ2VTdHlsZTtcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUubWFyZ2luTGVmdCA9ICdhdXRvJztcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLm1hcmdpblJpZ2h0ID0gJ2F1dG8nO1xuICAgIH1cbiAgfVxuXG4gIHB1c2hDbGVhbnVwKGEsIGIpe1xuICAgIC8vIGNvbnNvbGUubG9nKCdwdXNoQ2xlYW51cCcsIGEsIGIpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbnB1dE1hbmFnZXI7XG4iLCIvKipcbiAqIEEgR2FtZUFjdGlvbiB0aGF0IGhhbmRsZXMgVG91Y2ggZXZlbnRzXG4gKiBAbmFtZSBUb3VjaEFjdGlvblxuICogQGNvbnN0cnVjdG9yIFRvdWNoQWN0aW9uXG4gKiBAZXh0ZW5kcyB7R2FtZUFjdGlvbn1cbiAqL1xuXG5jb25zdCBHYW1lQWN0aW9uID0gcmVxdWlyZSgnLi9HYW1lQWN0aW9uJyk7XG5cbmNsYXNzIFRvdWNoQWN0aW9uIGV4dGVuZHMgR2FtZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBwb3NpdGlvbnMgd2hlcmUgdG91Y2hzdGFydCBoYXBwZW5lZFxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0UG9zaXRpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaGVuZCBoYXBwZW5lZFxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVuZFBvc2l0aW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBwb3NpdGlvbnMgd2hlcmUgdG91Y2htb3ZlIGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdldGhlciBhbnkgb2YgdGhlIHRvdWNoIGFjdGlvbnMgb3JpZ2luYXRlZCBpbnNpZGUgdGhlIGNhbnZhc1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW5zaWRlQ2FudmFzID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIHRvdWNoIHdhcyBpbml0aWF0ZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0UG9zaXRpb25zIEFycmF5IG9mIHBvaW50cyB3aGVyZSB0b3VjaCB3YXMgcHJlc3NlZFxuICAgKi9cbiAgcHJlc3Moc3RhcnRQb3NpdGlvbnMpe1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbnMgPSBzdGFydFBvc2l0aW9ucztcbiAgICB0aGlzLnBvc2l0aW9ucyA9IHN0YXJ0UG9zaXRpb25zO1xuICAgIHN1cGVyLnByZXNzKHN0YXJ0UG9zaXRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIHRvdWNoIHdhcyByZWxlYXNlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgKiBAcGFyYW0ge0FycmF5fSBlbmRQb3NpdGlvbnMgQXJyYXkgb2YgcG9pbnRzIHdoZXJlIHRvdWNoIHdhcyByZWxlYXNlZFxuICAgKi9cbiAgcmVsZWFzZShlbmRQb3NpdGlvbnMpe1xuICAgIHRoaXMuZW5kUG9zaXRpb25zID0gZW5kUG9zaXRpb25zO1xuICAgIHN1cGVyLnJlbGVhc2UoZW5kUG9zaXRpb25zKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFRvdWNoQWN0aW9uO1xuIiwiLyoqXG4gKiBBIEdhbWVBY3Rpb24gdGhhdCBoYW5kbGVzIE1vdXNlIGV2ZW50c1xuICogQG5hbWUgTW91c2VBY3Rpb25cbiAqIEBjb25zdHJ1Y3RvciBNb3VzZUFjdGlvblxuICogQGV4dGVuZHMge0dhbWVBY3Rpb259XG4gKi9cblxuY29uc3QgR2FtZUFjdGlvbiA9IHJlcXVpcmUoJy4vR2FtZUFjdGlvbicpO1xuXG5jbGFzcyBNb3VzZUFjdGlvbiBleHRlbmRzIEdhbWVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gd2hlcmUgbW91c2Vkb3duIGhhcHBlbmVkXG4gICAgICogQHR5cGUge1BvaW50fVxuICAgICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZXVwIGhhcHBlbmVkXG4gICAgICogQHR5cGUge1BvaW50fVxuICAgICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW5kUG9zaXRpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gd2hlcmUgbW91c2Vtb3ZlIGhhcHBlbmVkXG4gICAgICogQHR5cGUge1BvaW50fVxuICAgICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2V0aGVyIHRoZSBtb3VzZSBhY3Rpb24gb3JpZ2luYXRlZCBpbnNpZGUgdGhlIGNhbnZhc1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW5zaWRlQ2FudmFzID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIG1vdXNlIHdhcyBwcmVzc2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICBwcmVzcyhzdGFydFBvc2l0aW9uKXtcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xuICAgIHRoaXMucG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xuICAgIHN1cGVyLnByZXNzKHN0YXJ0UG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgbW91c2Ugd2FzIHJlbGVhc2VkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgTW91c2VBY3Rpb24jXG4gICAqIEBwYXJhbSAge1BvaW50fSBlbmRQb3NpdGlvbiBUaGUgcG9pbnQgd2hlcmUgbW91c2Ugd2FzIHJlbGVhc2VkXG4gICAqL1xuICByZWxlYXNlKGVuZFBvc2l0aW9uKXtcbiAgICB0aGlzLmVuZFBvc2l0aW9uID0gZW5kUG9zaXRpb24gfHwgdGhpcy5wb3NpdGlvbjtcbiAgICBzdXBlci5yZWxlYXNlKGVuZFBvc2l0aW9uKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vdXNlQWN0aW9uO1xuIiwiZnVuY3Rpb24gaW5zaWRlQ2FudmFzKHB0LCBjYW52YXMpe1xuICBpZigocHQueCA8IDApIHx8IChwdC54ID4gIGNhbnZhcy53aWR0aCkgfHwgKHB0LnkgPCAwKSB8fCAocHQueSA+IGNhbnZhcy5oZWlnaHQpKXtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNpZGVDYW52YXM7XG4iLCIvKipcbiAqIFRoZSBSZXNvdXJjZU1hbmFnZXIgaGFuZGxlcyBsb2FkaW5nIGltYWdlcyBhbmQgc291bmRzIGZvciB1c2UgaW4gZ2FtZXMuXG4gKiBAbmFtZSBSZXNvdXJjZU1hbmFnZXJcbiAqIEBjb25zdHJ1Y3RvciBSZXNvdXJjZU1hbmFnZXJcbiAqL1xuXG4gJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBoYXMgPSByZXF1aXJlKCcuL2hhcycpO1xuY29uc3QgU291bmQgPSByZXF1aXJlKCcuL3NvdW5kcy9Tb3VuZCcpO1xuY29uc3QgV2ViQXVkaW8gPSByZXF1aXJlKCcuL3NvdW5kcy9XZWJBdWRpbycpO1xuXG52YXIgcmVzb3VyY2VMaXN0ID0ge307XG5cbi8vVE9ETzogbW92ZSB0aGVzZSB0byBpdHMgb3duIG1vZHVsZSBmb3IgdW5pdCB0ZXN0aW5nP1xuZnVuY3Rpb24gbm9ybWFsaXplUGF0aChiYXNlRGlyLCBwYXRoKXtcbiAgdmFyIGpvaW5lZFBhdGggPSBwYXRoO1xuICBpZihiYXNlRGlyKXtcbiAgICBqb2luZWRQYXRoID0gW2Jhc2VEaXIsIHBhdGhdLmpvaW4oJy8nKTtcbiAgfVxuICByZXR1cm4gam9pbmVkUGF0aC5yZXBsYWNlKC9cXC97Mix9L2csICcvJyk7XG59XG5cbmZ1bmN0aW9uIGZsaXBYKGltYWdlKXtcbiAgdmFyIG9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBvZmZzY3JlZW5DYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgdmFyIGN0eCA9IG9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGN0eC50cmFuc2xhdGUob2Zmc2NyZWVuQ2FudmFzLndpZHRoLCAwKTtcbiAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gIHJldHVybiBvZmZzY3JlZW5DYW52YXMudG9EYXRhVVJMKCk7XG59XG5cbmZ1bmN0aW9uIGZsaXBZKGltYWdlKXtcbiAgdmFyIG9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBvZmZzY3JlZW5DYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgdmFyIGN0eCA9IG9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGN0eC50cmFuc2xhdGUoMCwgb2Zmc2NyZWVuQ2FudmFzLmhlaWdodCk7XG4gIGN0eC5zY2FsZSgxLCAtMSk7XG4gIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICByZXR1cm4gb2Zmc2NyZWVuQ2FudmFzLnRvRGF0YVVSTCgpO1xufVxuXG5jbGFzcyBJbWFnZVdyYXBwZXIge1xuICBjb25zdHJ1Y3RvcihmaWxlbmFtZSl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubmFtZSA9IGZpbGVuYW1lO1xuICAgIHNlbGYuY29tcGxldGUgPSBmYWxzZTtcbiAgICBzZWxmLmltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHNlbGYuaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuY29tcGxldGUgPSB0cnVlO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuXG4gIGxvYWQoKXtcbiAgICB0aGlzLmltZy5zcmMgPSB0aGlzLm5hbWU7XG4gIH1cbn1cblxuXG5jbGFzcyBSZXNvdXJjZU1hbmFnZXIge1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFsbCB0aGUgcmVzb3VyY2VzIGhhdmUgYmVlbiBsb2FkZWRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGRpcmVjdG9yeSB0byBsb2FkIGltYWdlcyBmcm9tXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWFnZURpciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBkaXJlY3RvcnkgdG8gbG9hZCBzb3VuZHMgZnJvbVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc291bmREaXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgYWxsIHRoZSByZXNvdXJjZXMgYnkgdGhlaXIgVVJMc1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmVzb3VyY2VMaXN0ID0gcmVzb3VyY2VMaXN0O1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIFRPRE8gbm90IHN1cmUgYSBiZXR0ZXIgd2F5XG4gICAgaWYoIXRoaXMuU291bmQpe1xuICAgICAgaWYoaGFzKCdXZWJBdWRpbycpKXtcbiAgICAgICAgdGhpcy5Tb3VuZCA9IFdlYkF1ZGlvO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgdGhpcy5Tb3VuZCA9IFNvdW5kO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbiBpbWFnZSAob3IgYSBjb2xsZWN0aW9uIG9mIGltYWdlcyksIGFuZCB0cmFja3MgaWYgaXQgaGFzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBmaWxlcyBGaWxlbmFtZSBvZiB0aGUgaW1hZ2UgcmVsYXRpdmUgdGhlIEdhbWUncyBIVE1MIHBhZ2UuXG4gICAqIEByZXR1cm5zIHtJbWFnZXxBcnJheX0gUmV0dXJuIHR5cGUgYmFzZWQgb24gYXJndW1lbnQ6IEltYWdlIGlmIFN0cmluZyBvciBBcnJheSBvZiBJbWFnZXMgaWYgQXJyYXlcbiAgICovXG4gIGxvYWRJbWFnZShmaWxlcyl7XG4gICAgbGV0IHNpbmdsZUZpbGUgPSBmYWxzZTtcbiAgICBpZighQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIHNpbmdsZUZpbGUgPSB0cnVlO1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVMaXN0ID0gZmlsZXMubWFwKChmaWxlKSA9PiB7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IG5vcm1hbGl6ZVBhdGgodGhpcy5pbWFnZURpciwgZmlsZSk7XG4gICAgICAvL2lmIHdlIGFscmVhZHkgaGF2ZSB0aGUgaW1hZ2UsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZih0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0pe1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdLmltZztcbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBuZXcgSW1hZ2VXcmFwcGVyKGZpbGVuYW1lKTtcbiAgICAgIC8vIE5lZWQgdG8gZXhwbGljaXRseSBjYWxsIGxvYWQgYmVjYXVzZSBmbGlwSW1hZ2UgYWxzbyB1c2VzIHRoaXMgb2JqZWN0XG4gICAgICAvLyB3aGljaCBpcyBwcm9iYWJseSBhIGJhZCBpZGVhIGFuZCBzaG91bGQgY2hhbmdlIGluIGZ1dHVyZVxuICAgICAgLy8gVE9ETzogZGlmZmVyZW50IG9iamVjdHMgZm9yIGZsaXBwZWQgaW1hZ2UgYW5kIHJlZ3VsYXIgaW1hZ2VcbiAgICAgIHdyYXBwZXIubG9hZCgpO1xuICAgICAgdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdID0gd3JhcHBlcjtcbiAgICAgIHJldHVybiB3cmFwcGVyLmltZztcbiAgICB9KTtcblxuICAgIHJldHVybiBzaW5nbGVGaWxlID8gZmlsZUxpc3RbMF0gOiBmaWxlTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhIHNvdW5kIGZpbGUgKG9yIGEgY29sbGVjdGlvbiBvZiBzb3VuZCBmaWxlcyksIGFuZCB0cmFja3MgaWYgaXQgaGFzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBmaWxlbmFtZSBGaWxlbmFtZSBvZiB0aGUgc291bmQgcmVsYXRpdmUgdGhlIEdhbWUncyBIVE1MIHBhZ2UuXG4gICAqIEByZXR1cm5zIHtTb3VuZHxBcnJheX0gUmV0dXJuIHR5cGUgYmFzZWQgb24gYXJndW1lbnQ6IFNvdW5kIE9iamVjdCBpZiBTdHJpbmcgb3IgQXJyYXkgb2YgU291bmQgT2JqZWN0cyBpZiBBcnJheVxuICAgKi9cbiAgbG9hZFNvdW5kKGZpbGVzKXtcbiAgICBsZXQgc2luZ2xlRmlsZSA9IGZhbHNlO1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgc2luZ2xlRmlsZSA9IHRydWU7XG4gICAgICBmaWxlcyA9IFtmaWxlc107XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZUxpc3QgPSBmaWxlcy5tYXAoKGZpbGUpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gbm9ybWFsaXplUGF0aCh0aGlzLnNvdW5kRGlyLCBmaWxlKTtcbiAgICAgIC8vaWYgd2UgYWxyZWFkeSBoYXZlIHRoZSBzb3VuZCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmKHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSl7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV07XG4gICAgICB9XG4gICAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgICBjb25zdCBzb3VuZCA9IG5ldyB0aGlzLlNvdW5kKGZpbGVuYW1lKTtcbiAgICAgIHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSA9IHNvdW5kO1xuICAgICAgcmV0dXJuIHNvdW5kO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNpbmdsZUZpbGUgPyBmaWxlTGlzdFswXSA6IGZpbGVMaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZsaXBzIGFuIGltYWdlIHVzaW5nIHRoZSBsb2dpYyBpbiBhIGZsaXAgZnVuY3Rpb24gcGFzc2VkIGFuZCBhdHRhY2hlcyB0byByZXNvdXJjZSBtYW5hZ2VyIHdpdGggbmFtZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbmFtZSBOYW1lIGZvciBjYWNoaW5nIGZsaXBwZWQgaW1hZ2VcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltYWdlIEltYWdlIHRvIGJlIGZsaXBwZWRcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGZsaXBGbiBGdW5jdGlvbiBjb250YWluaW5nIGxvZ2ljIHRvIGZsaXAgaW1hZ2VcbiAgICogQHJldHVybiB7SW1hZ2V9IEZsaXBwZWQgaW1hZ2VcbiAgICovXG4gIGZsaXBJbWFnZShuYW1lLCBpbWFnZSwgZmxpcEZuKXtcbiAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IG5ldyBJbWFnZVdyYXBwZXIobmFtZSk7XG4gICAgdGhpcy5yZXNvdXJjZUxpc3RbbmFtZV0gPSB3cmFwcGVyO1xuICAgIGNvbnN0IGltZzIgPSBuZXcgSW1hZ2UoKTtcbiAgICBmdW5jdGlvbiBkb0ZsaXAoKSB7XG4gICAgICB3cmFwcGVyLmltZy5zcmMgPSBmbGlwRm4oaW1nMik7XG4gICAgICBpbWcyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb0ZsaXApO1xuICAgIH1cbiAgICBpbWcyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb0ZsaXApO1xuICAgIGltZzIuc3JjID0gaW1hZ2Uuc3JjO1xuXG4gICAgcmV0dXJuIHdyYXBwZXIuaW1nO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsaXAgaW1hZ2UgYWxvbmcgeC1heGlzIHVzaW5nIGRlZmF1bHQgZmxpcCBsb2dpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbmFtZSBOYW1lIGZvciBjYWNoaW5nIGZsaXBwZWQgaW1hZ2VcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltYWdlIEltYWdlIHRvIGJlIGZsaXBwZWRcbiAgICogQHJldHVybiB7SW1hZ2V9IEZsaXBwZWQgaW1hZ2VcbiAgICovXG4gIGZsaXBJbWFnZVgobmFtZSwgaW1hZ2Upe1xuICAgIHJldHVybiB0aGlzLmZsaXBJbWFnZShuYW1lLCBpbWFnZSwgZmxpcFgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsaXAgaW1hZ2UgYWxvbmcgdGhlIHktYXhpcyB1c2luZyBkZWZhdWx0IGZsaXAgbG9naWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG5hbWUgTmFtZSBmb3IgY2FjaGluZyBmbGlwcGVkIGltYWdlXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWFnZSBJbWFnZSB0byBiZSBmbGlwcGVkXG4gICAqIEByZXR1cm4ge0ltYWdlfSBGbGlwcGVkIGltYWdlXG4gICAqL1xuICBmbGlwSW1hZ2VZKG5hbWUsIGltYWdlKXtcbiAgICByZXR1cm4gdGhpcy5mbGlwSW1hZ2UobmFtZSwgaW1hZ2UsIGZsaXBZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgcmVzb3VyY2VzIGhhdmUgZmluaXNoZWQgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICovXG4gIHJlc291cmNlc1JlYWR5KCl7XG4gICAgaWYodGhpcy5hbGxMb2FkZWQpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcih2YXIgZmlsZW5hbWUgaW4gdGhpcy5yZXNvdXJjZUxpc3Qpe1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV07XG4gICAgICAgIGlmKCFyZXNvdXJjZS5jb21wbGV0ZSl7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmFsbExvYWRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcGVyY2VudCBvZiByZXNvdXJjZXMgbG9hZGVkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgcGVyY2VudCBvZiByZXNvdXJjZXMgbG9hZGVkXG4gICAqL1xuICBnZXRQZXJjZW50Q29tcGxldGUoKXtcbiAgICB2YXIgbnVtQ29tcGxldGUgPSAwLjA7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yKHZhciBmaWxlbmFtZSBpbiB0aGlzLnJlc291cmNlTGlzdCl7XG4gICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV07XG4gICAgICBsZW5ndGgrKztcbiAgICAgIGlmKHJlc291cmNlLmNvbXBsZXRlKXtcbiAgICAgICAgbnVtQ29tcGxldGUgPSBudW1Db21wbGV0ZSArIDEuMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYobGVuZ3RoID09PSAwKXtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgobnVtQ29tcGxldGUgLyBsZW5ndGgpICogMTAwLjApO1xuICAgIH1cbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzb3VyY2VNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBoYWNreSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgaGFzXG5cbmNvbnN0IGdsb2JhbEF1ZGlvQ29udGV4dCA9IHJlcXVpcmUoJy4vc2hpbXMvQXVkaW9Db250ZXh0Jyk7XG5cblxuZnVuY3Rpb24gaGFzKGNoZWNrKXtcblxuICBpZihjaGVjayA9PSAnc2hpdHR5U291bmQnKXtcbiAgICByZXR1cm4gISEoKGhhcygnYW5kcm9pZCcpIHx8IGhhcygnaW9zJykpICYmIGhhcygnd2Via2l0JykpO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ2FuZHJvaWQnKXtcbiAgICByZXR1cm4gKHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zcGxpdChcIkFuZHJvaWQgXCIpWzFdKSB8fCB1bmRlZmluZWQpO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ2lvcycpe1xuICAgIC8vVE9ETyBuZWVkIHNvbWV0aGluZyBmb3IgdGhpc1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBlbHNlIGlmKGNoZWNrID09ICd3ZWJraXQnKXtcbiAgICByZXR1cm4gKHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zcGxpdChcIldlYktpdC9cIilbMV0pIHx8IHVuZGVmaW5lZCk7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnV2ViQXVkaW8nKXtcbiAgICByZXR1cm4gISFnbG9iYWwuQXVkaW9Db250ZXh0O1xuICB9XG4gIGVsc2UgaWYgKGNoZWNrID09PSAndG91Y2gnKSB7XG4gICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXM7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcbiAqIEFuIEF1ZGlvIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBnZW5lcmljIEFQSVxuICogQG5hbWUgU291bmRcbiAqIEBjb25zdHJ1Y3RvciBTb3VuZFxuICovXG5cblxuLyoqXG4gKiBNYXAgb2YgYXVkaW8gdHlwZXMgYW5kIGNvZGVjcyB1c2VkIGluIGZhbGxiYWNrIGxvYWRpbmcgb2Ygc291bmRzIDxicj5cbiAqIFJlZmVyZW5jZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9IVE1ML1N1cHBvcnRlZF9tZWRpYV9mb3JtYXRzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlck9mIFNvdW5kI1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby9tcGVnJyAnLm1wMydcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8vd2VibScgJy53ZWJtJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby9vZ2cnICcub2dnJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby93YXYnICcud2F2J1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby9hYWMnICcuYWFjJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby94LW00YScgJy5tNGEnXG4gKiBAZXhhbXBsZVxuICogLy8gVG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgZm9ybWF0czpcbiAqIC8vIERvIHRoaXMgYmVmb3JlIGxvYWRpbmcgYW55IHNvdW5kc1xuICogcmVxdWlyZShbXG4gKiAgICdmcm96ZW4vc291bmRzL1NvdW5kJ1xuICogXSwgZnVuY3Rpb24oU291bmQpe1xuICogICBTb3VuZC5wcm90b3R5cGUuZm9ybWF0cyA9IHtcbiAqICAgICAnYXVkaW8vbXBlZyc6ICcubXAzJyxcbiAqICAgICAnYXVkaW8vd2VibSc6ICcud2VibSdcbiAqICAgfTtcbiAqIH0pO1xuICovXG5jb25zdCBmb3JtYXRzID0ge1xuICAnYXVkaW8vbXBlZyc6ICcubXAzJyxcbiAgJ2F1ZGlvL3dlYm0nOiAnLndlYm0nLFxuICAnYXVkaW8vb2dnJzogJy5vZ2cnLFxuICAnYXVkaW8vd2F2JzogJy53YXYnLFxuICAnYXVkaW8vYWFjJzogJy5hYWMnLFxuICAnYXVkaW8veC1tNGEnOiAnLm00YSdcbn07XG5cblxuXG5jbGFzcyBTb3VuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgQXVkaW8gb2JqZWN0IC0gdHlwaWNhbGx5IHRoZSBmaWxlbmFtZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNpZ25hbHMgaWYgdGhlIEF1ZGlvIG9iamVjdCBoYXMgY29tcGxldGVkIGxvYWRpbmdcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBleHRlbnNpb25zIHRoZSBicm93c2VyIFwicHJvYmFibHlcIiBjYW4gcGxheVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnByb2JhYmx5ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBleHRlbnNpb25zIHRoZSBicm93c2VyIFwibWF5YmVcIiBjYW4gcGxheVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1heWJlID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5mb3JtYXRzID0gZm9ybWF0cztcblxuICAgIGlmKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyl7XG4gICAgICB0aGlzLmxvYWQob3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIHNvdW5kIGJ5IGZpbGVuYW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIG9mIHRoZSBmaWxlIHRvIGxvYWRcbiAgICovXG4gIGxvYWQoZmlsZW5hbWUpe1xuICAgIHRoaXMubmFtZSA9IGZpbGVuYW1lO1xuICAgIHRoaXMuY29tcGxldGUgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvb3AgdGhlIHNvdW5kIGF0IGEgY2VydGFpbiB2b2x1bWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgVmFsdWUgb2Ygdm9sdW1lIC0gYmV0d2VlbiAwIGFuZCAxXG4gICAqL1xuICBsb29wKHZvbHVtZSl7fVxuXG4gIC8qKlxuICAgKiBQbGF5IHRoZSBzb3VuZCBhdCBhIGNlcnRhaW4gdm9sdW1lIGFuZCBzdGFydCB0aW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwYXJhbSAge051bWJlcn0gdm9sdW1lICAgIFZhbHVlIG9mIHZvbHVtZSAtIGJldHdlZW4gMCBhbmQgMVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHN0YXJ0VGltZSBWYWx1ZSBvZiBtaWxsaXNlY29uZHMgaW50byB0aGUgdHJhY2sgdG8gc3RhcnRcbiAgICovXG4gIHBsYXkodm9sdW1lLCBzdGFydFRpbWUpe31cblxuICAvKipcbiAgICogTWV0aG9kIHVzZWQgdG8gY29uc3RydWN0IEF1ZGlvIG9iamVjdHMgaW50ZXJuYWxseVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSBWYWx1ZSBvZiB2b2x1bWUgLSBiZXR3ZWVuIDAgYW5kIDFcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gbG9vcCBXaGV0aGVyIG9yIG5vdCB0byBsb29wIGF1ZGlvXG4gICAqIEByZXR1cm4ge0F1ZGlvfSBBdWRpbyBvYmplY3QgdGhhdCB3YXMgY29uc3RydWN0ZWRcbiAgICovXG4gIF9pbml0QXVkaW8odm9sdW1lLCBsb29wKXt9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIHRvIGdlbmVyYXRlIGEgY2FjaGUgb2YgZXh0ZW5zaW9ucyAocHJvYmFibHkvbWF5YmUgYXJyYXlzKSB0byB0cnkgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IEZpcnN0IGV4dGVuc2lvbiB0byB0cnkgbG9hZGluZ1xuICAgKi9cbiAgX2Nob29zZUZvcm1hdCgpe1xuICAgIGlmKCF0aGlzLnByb2JhYmx5Lmxlbmd0aCAmJiAhdGhpcy5tYXliZS5sZW5ndGgpe1xuICAgICAgLy8gRmlndXJlIG91dCB0aGUgYmVzdCBleHRlbnNpb24gaWYgd2UgaGF2ZSBubyBjYWNoZVxuICAgICAgdmFyIGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICB2YXIgY29kZWM7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgZm9yKGNvZGVjIGluIHRoaXMuZm9ybWF0cyl7XG4gICAgICAgIHJlc3VsdCA9IGF1ZGlvLmNhblBsYXlUeXBlKGNvZGVjKTtcbiAgICAgICAgaWYocmVzdWx0ID09PSAncHJvYmFibHknKXtcbiAgICAgICAgICB0aGlzLnByb2JhYmx5LnB1c2godGhpcy5mb3JtYXRzW2NvZGVjXSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZihyZXN1bHQgPT09ICdtYXliZScpe1xuICAgICAgICAgIHRoaXMubWF5YmUucHVzaCh0aGlzLmZvcm1hdHNbY29kZWNdKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMucHJvYmFibHkubGVuZ3RoKXtcbiAgICAgIHJldHVybiB0aGlzLnByb2JhYmx5WzBdO1xuICAgIH1cblxuICAgIGlmKHRoaXMubWF5YmUubGVuZ3RoKXtcbiAgICAgIHJldHVybiB0aGlzLm1heWJlWzBdO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdXNlZCB0byByZW1vdmUgYSBleHRlbnNpb24gdGhhdCBkaWRuJ3Qgd29yayBhbmQgcmV0dXJuIHRoZSBuZXh0IHZpYWJsZSBleHRlbnNpb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7U3RyaW5nfSBOZXh0IGV4dGVuc2lvbiB0byB0cnkgbG9hZGluZ1xuICAgKi9cbiAgX25leHRGb3JtYXQoKXtcbiAgICBpZih0aGlzLnByb2JhYmx5Lmxlbmd0aCA+IDEpe1xuICAgICAgdGhpcy5wcm9iYWJseS5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvYmFibHlbMF07XG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9iYWJseS5sZW5ndGggPT09IDEpe1xuICAgICAgdGhpcy5wcm9iYWJseS5sZW5ndGggPSAwO1xuICAgICAgaWYodGhpcy5tYXliZS5sZW5ndGgpe1xuICAgICAgICByZXR1cm4gdGhpcy5tYXliZVswXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLm1heWJlLmxlbmd0aCA+IDEpe1xuICAgICAgdGhpcy5tYXliZS5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRoaXMubWF5YmVbMF07XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXliZS5sZW5ndGggPT09IDEpe1xuICAgICAgdGhpcy5tYXliZS5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU291bmQ7XG4iLCIvKipcbiAqIEFuIEF1ZGlvIG9iamVjdCB0aGF0IGltcGxlbWVudHMgV2ViQXVkaW8gaW50byBhIGdlbmVyaWMgQVBJXG4gKiBAbmFtZSBXZWJBdWRpb1xuICogQGNvbnN0cnVjdG9yIFdlYkF1ZGlvXG4gKiBAZXh0ZW5kcyBTb3VuZFxuICovXG5cbmNvbnN0IFNvdW5kID0gcmVxdWlyZSgnLi9Tb3VuZCcpO1xuY29uc3QgcmVtb3ZlRXh0ZW5zaW9uID0gcmVxdWlyZSgnLi4vdXRpbHMvcmVtb3ZlRXh0ZW5zaW9uJyk7XG5jb25zdCBoYXMgPSByZXF1aXJlKCcuLi9oYXMnKTtcblxudmFyIGF1ZGlvQ29udGV4dCA9IG51bGw7XG5cblxuaWYoaGFzKCdXZWJBdWRpbycpKXtcbiAgYXVkaW9Db250ZXh0ID0gbmV3IHdpbmRvdy5BdWRpb0NvbnRleHQoKTtcbn1cblxuaWYoaGFzKCdzaGl0dHlTb3VuZCcpKXtcbiAgLy8gU2ltaWxhciBzdHJhdGVneSB0byBodHRwczovL2dpdGh1Yi5jb20vQ3JlYXRlSlMvU291bmRKU1xuICBmdW5jdGlvbiBoYW5kbGVTaGl0dHkoKSB7XG4gICAgY29uc3Qgc291cmNlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIHNvdXJjZS5idWZmZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcbiAgICBzb3VyY2UuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlU2hpdHR5KTtcbiAgfVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlU2hpdHR5KTtcbn1cblxuY2xhc3MgV2ViQXVkaW8gZXh0ZW5kcyBTb3VuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgV2ViQXVkaW8gQXVkaW9Db250ZXh0IC0gdXNlZCB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gYSBzb3VuZFxuICAgICAqIEB0eXBlIHtBdWRpb0NvbnRleHR9XG4gICAgICogQG1lbWJlck9mIFdlYkF1ZGlvI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hdWRpb0NvbnRleHQgPSBhdWRpb0NvbnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc291bmQgYnVmZmVyXG4gICAgICogQHR5cGUge0J1ZmZlcn1cbiAgICAgKiBAbWVtYmVyT2YgV2ViQXVkaW8jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgbG9hZChmaWxlbmFtZSl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5uYW1lID0gZmlsZW5hbWU7XG5cbiAgICB2YXIgYmFzZW5hbWUgPSByZW1vdmVFeHRlbnNpb24oZmlsZW5hbWUpO1xuICAgIGlmKGJhc2VuYW1lID09PSBmaWxlbmFtZSl7XG4gICAgICBmaWxlbmFtZSA9IGJhc2VuYW1lICsgdGhpcy5fY2hvb3NlRm9ybWF0KCk7XG4gICAgfVxuICAgIC8vIGZpbGVuYW1lID0gcmVxLnRvVXJsKGZpbGVuYW1lKTtcblxuICAgIGZ1bmN0aW9uIGRlY29kZUF1ZGlvRGF0YShlKXtcbiAgICAgIC8vIERlY29kZSBhc3luY2hyb25vdXNseVxuICAgICAgc2VsZi5hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGUudGFyZ2V0LnJlc3BvbnNlLFxuICAgICAgICBmdW5jdGlvbihidWZmZXIpe1xuICAgICAgICAgIHNlbGYuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICAgIHNlbGYuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgIHZhciBmb3JtYXQgPSBzZWxmLl9uZXh0Rm9ybWF0KCk7XG4gICAgICAgICAgaWYoZm9ybWF0KXtcbiAgICAgICAgICAgIHNlbGYubG9hZChzZWxmLm5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGJyb3dzZXIgaGFzIEF1ZGlvQ29udGV4dCwgaXQncyBuZXcgZW5vdWdoIGZvciBYTUxIdHRwUmVxdWVzdFxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vcGVuKCdHRVQnLCBmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBkZWNvZGVBdWRpb0RhdGE7XG4gICAgcmVxdWVzdC5zZW5kKCk7XG4gIH1cblxuICBsb29wKHZvbHVtZSl7XG4gICAgLy8gUmV0dXJuIGVhcmx5IGlmIHdlIGRvbid0IGhhdmUgYSBidWZmZXIgdG8gcHJvdGVjdCBmcm9tIHVubG9hZGVkIHJlc291cmNlc1xuICAgIGlmKCF0aGlzLmJ1ZmZlcil7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF1ZGlvID0gdGhpcy5faW5pdEF1ZGlvKHZvbHVtZSwgdHJ1ZSk7XG4gICAgYXVkaW8uc3RhcnQoMCk7XG4gIH1cblxuICBwbGF5KHZvbHVtZSwgc3RhcnRUaW1lKXtcbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBhIGJ1ZmZlciB0byBwcm90ZWN0IGZyb20gdW5sb2FkZWQgcmVzb3VyY2VzXG4gICAgaWYoIXRoaXMuYnVmZmVyKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdGFydFRpbWUgPSBzdGFydFRpbWUgfHwgMDtcblxuICAgIHZhciBhdWRpbyA9IHRoaXMuX2luaXRBdWRpbyh2b2x1bWUsIGZhbHNlKTtcbiAgICBhdWRpby5zdGFydChzdGFydFRpbWUpO1xuICB9XG5cbiAgX2luaXRBdWRpbyh2b2x1bWUsIGxvb3Ape1xuICAgIGxvb3AgPSB0eXBlb2YgbG9vcCA9PT0gJ2Jvb2xlYW4nID8gbG9vcCA6IGZhbHNlO1xuXG4gICAgdmFyIHNvdXJjZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIHNvdXJjZS5idWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgaWYodm9sdW1lKXtcbiAgICAgIHZhciBnYWluTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSB2b2x1bWU7XG4gICAgICBzb3VyY2UuY29ubmVjdChnYWluTm9kZSk7XG4gICAgICBnYWluTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViQXVkaW87XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgYSBzZXJpZXMgb2YgZnJhbWVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkIGFzIGFuIGFuaW1hdGlvbi5cbiAqIEBuYW1lIEFuaW1hdGlvblxuICogQGNvbnN0cnVjdG9yIEFuaW1hdGlvblxuICovXG5cbmNvbnN0IEFuaW1GcmFtZSA9IHJlcXVpcmUoJy4vQW5pbUZyYW1lJyk7XG5cblxuY2xhc3MgQW5pbWF0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBmcmFtZSBiZWluZyB1c2VkIHRvIHJlbmRlciB0aGlzIEFuaW1hdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY3VyckZyYW1lSW5kZXggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHRoaXMgYW5pbWF0aW9uIGhhcyBiZWVuIHJ1bm5pbmdcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFuaW1UaW1lID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhIGNvbXBsZXRlIGN5Y2xlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy50b3RhbER1cmF0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgaW4gcGl4ZWxzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSA2NDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gNjQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgdG8gcmVuZGVyXG4gICAgICogQHR5cGUge0ltYWdlfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltYWdlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIG9mIHBpeGVscyBpbiB0aGUgeCBzbG90IGZyb20gdGhlIHNvdXJjZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBvZiBwaXhlbHMgaW4gdGhlIHkgc2xvdCBmcm9tIHRoZSBzb3VyY2UgaW1hZ2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldFkgPSAwO1xuXG4gICAgdGhpcy5mcmFtZXMgPSB1bmRlZmluZWQ7XG5cblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnN0YXJ0KCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBjcmVhdGUgYW4gYW5pbWF0aW9uIGZyb20gYSBzaGVldCBvZiB0aWxlc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUNvdW50IE51bWJlciBvZiBmcmFtZXMgaW4gdGhlIGFuaW1hdGlvblxuICAgKiBAcGFyYW0gIHtOdW1iZXJ8QXJyYXl9IGZyYW1lVGltZXMgVmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYW1vdW50IG9mIHRpbWUgcGVyIGZyYW1lXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWcgSW1hZ2Ugc2hlZXQgdG8gY3JlYXRlIGFuaW1hdGlvbiBmcm9tXG4gICAqIEBwYXJhbSAge051bWJlcn0gdyBXaWR0aCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0gaCBIZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlTbG90IFNsb3Qgb24gWSBheGlzIHRvIHN0YXJ0IGNyZWF0aW5nIHRpbGVzXG4gICAqIEByZXR1cm4ge0FuaW1hdGlvbn0gQW5pbWF0aW9uIGdlbmVyYXRlZCB1c2luZyBwYXJhbWV0ZXJzXG4gICAqL1xuICBjcmVhdGVGcm9tU2hlZXQoZnJhbWVDb3VudCwgZnJhbWVUaW1lcywgaW1nLCB3LCBoLCB5U2xvdCl7XG4gICAgdmFyIGFuaW0gPSBuZXcgQW5pbWF0aW9uKHtcbiAgICAgIGltYWdlOiBpbWcsXG4gICAgICBoZWlnaHQ6IGgsXG4gICAgICB3aWR0aDogd1xuICAgIH0pO1xuXG4gICAgdmFyIGlzRlRBcnJheSA9IEFycmF5LmlzQXJyYXkoZnJhbWVUaW1lcyk7XG5cbiAgICB2YXIgY3VycmVudEZyYW1lVGltZSA9IDE7XG4gICAgaWYoIXlTbG90KXtcbiAgICAgIHlTbG90ID0gMDtcbiAgICB9XG4gICAgZm9yKHZhciBqID0gMDsgaiA8IGZyYW1lQ291bnQ7IGorKyl7XG4gICAgICBpZihpc0ZUQXJyYXkpe1xuICAgICAgICBjdXJyZW50RnJhbWVUaW1lID0gZnJhbWVUaW1lc1tqXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRGcmFtZVRpbWUgPSBmcmFtZVRpbWVzO1xuICAgICAgfVxuICAgICAgYW5pbS5hZGRGcmFtZShjdXJyZW50RnJhbWVUaW1lLCBqLCB5U2xvdCk7XG4gICAgfVxuICAgIHJldHVybiBhbmltO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUgb2YgdGhpcyBhbmltYXRpb24uIFRoZSBsaXN0IG9mIGZyYW1lc1xuICAgKiBhcmUgc2hhcmVkIGJldHdlZW4gdGhlIHR3byBBbmltYXRpb25zLCBidXQgZWFjaCBBbmltYXRpb25cbiAgICogY2FuIGJlIGFuaW1hdGVkIGluZGVwZW5kZW50bHkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKi9cbiAgY2xvbmUoKXtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih7XG4gICAgICBpbWFnZTogdGhpcy5pbWFnZSxcbiAgICAgIGZyYW1lczogdGhpcy5mcmFtZXMsXG4gICAgICB0b3RhbER1cmF0aW9uOiB0aGlzLnRvdGFsRHVyYXRpb25cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGltYWdlIHRvIHRoZSBhbmltYXRpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGR1cmF0aW9uICh0aW1lIHRvIGRpc3BsYXkgdGhlIGltYWdlKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBEdXJhdGlvbiBvZiB0aGUgZnJhbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGltYWdlU2xvdFggU2xvdCBvbiB0aGUgWCBheGlzIGZvciB0aGUgZnJhbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGltYWdlU2xvdFkgU2xvdCBvbiB0aGUgWSBheGlzIGZvciB0aGUgZnJhbWVcbiAgICovXG4gIGFkZEZyYW1lKGR1cmF0aW9uLCBpbWFnZVNsb3RYLCBpbWFnZVNsb3RZKXtcbiAgICBpZighdGhpcy5mcmFtZXMpe1xuICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy50b3RhbER1cmF0aW9uICs9IGR1cmF0aW9uO1xuICAgIHRoaXMuZnJhbWVzLnB1c2gobmV3IEFuaW1GcmFtZSh7XG4gICAgICBlbmRUaW1lOiB0aGlzLnRvdGFsRHVyYXRpb24sXG4gICAgICBpbWFnZTogdGhpcy5pbWFnZSxcbiAgICAgIGltZ1Nsb3RYOiBpbWFnZVNsb3RYLFxuICAgICAgaW1nU2xvdFk6IGltYWdlU2xvdFlcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoaXMgYW5pbWF0aW9uIG92ZXIgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICovXG4gIHN0YXJ0KCl7XG4gICAgdGhpcy5hbmltVGltZSA9IDA7XG4gICAgdGhpcy5jdXJyRnJhbWVJbmRleCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGlzIGFuaW1hdGlvbidzIGN1cnJlbnQgaW1hZ2UgKGZyYW1lKSwgaWYgbmVjY2VzYXJ5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZShlbGFwc2VkVGltZSl7XG4gICAgaWYgKHRoaXMuZnJhbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuYW5pbVRpbWUgKz0gZWxhcHNlZFRpbWU7XG5cbiAgICAgIGlmICh0aGlzLmFuaW1UaW1lID49IHRoaXMudG90YWxEdXJhdGlvbikge1xuICAgICAgICB0aGlzLmFuaW1UaW1lID0gdGhpcy5hbmltVGltZSAlIHRoaXMudG90YWxEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5jdXJyRnJhbWVJbmRleCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0aGlzLmFuaW1UaW1lID4gdGhpcy5mcmFtZXNbdGhpcy5jdXJyRnJhbWVJbmRleF0uZW5kVGltZSkge1xuICAgICAgICB0aGlzLmN1cnJGcmFtZUluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhpcyBBbmltYXRpb24ncyBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS4gUmV0dXJucyBudWxsIGlmIHRoaXMgYW5pbWF0aW9uIGhhcyBubyBmcmFtZXMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcmV0dXJuIHtBbmltYXRpb25GcmFtZXxudWxsfSBUaGUgYW5pbWF0aW9uIGZyYW1lIGF0IHRoZSBjdXJyZW50IGZyYW1lIGluZGV4IG9yIG51bGwgaWYgbm8gZnJhbWVzIGFyZSBhdmFpbGFibGVcbiAgICovXG4gIGdldEN1cnJlbnRGcmFtZSgpe1xuICAgIGlmICh0aGlzLmZyYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmFtZXNbdGhpcy5jdXJyRnJhbWVJbmRleF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjdXJyZW50IGZyYW1lIGludG8gYSAyZCBjb250ZXh0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IFRoZSBIVE1MNSBkcmF3aW5nIGNhbnZhc1xuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIGluIHRoZSBncmFwaGljcyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgaW4gdGhlIGdyYXBoaWNzIGNvbnRleHRcbiAgICovXG4gIGRyYXcoY29udGV4dCwgeCwgeSl7XG4gICAgdmFyIGNmID0gdGhpcy5nZXRDdXJyZW50RnJhbWUoKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlLCBjZi5pbWdTbG90WCAqIHRoaXMud2lkdGggKyB0aGlzLm9mZnNldFgsIGNmLmltZ1Nsb3RZICogdGhpcy5oZWlnaHQgKyB0aGlzLm9mZnNldFksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB4LCB5LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRpb247XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgYSBhIHNpbmdsZSBmcmFtZSBpbiBhbiBhbmltYXRpb24uXG4gKiBAbmFtZSBBbmltYXRpb25GcmFtZVxuICogQGNvbnN0cnVjdG9yIEFuaW1hdGlvbkZyYW1lXG4gKiBAcGFyYW0ge09iamVjdH0gbWl4aW4gT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyB0byBtaXhpblxuICovXG5cbmNsYXNzIEFuaW1GcmFtZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZW5kaW5nIHRpbWUgaW4gbWlsbGlzZWNvbmRzIG9mIHRoaXMgZnJhbWUgcmVsYXRpdmUgdG8gaXRzIEFuaW1hdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbmRUaW1lID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIHRoZSBncm91cCBvZiBmcmFtZXMgY29udGFpbmVkIGluIGEgc2luZ2xlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltZ1Nsb3RYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgZ3JvdXAgb2YgZnJhbWVzIGNvbnRhaW5lZCBpbiBhIHNpbmdsZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWdTbG90WSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgdG8gcmVuZGVyXG4gICAgICogQHR5cGUge0ltYWdlfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb25GcmFtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbUZyYW1lO1xuIiwiY29uc3QgcmFkQ29uc3QgPSBNYXRoLlBJIC8gMTgwLjA7XG5cbmZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlcyl7XG4gIHJldHVybiBkZWdyZWVzICogcmFkQ29uc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVncmVlc1RvUmFkaWFucztcbiIsIlxuY29uc3QgZGVnQ29uc3QgPSAxODAuMCAvIE1hdGguUEk7XG5cbmZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXMocmFkaWFucyl7XG4gIHJldHVybiByYWRpYW5zICogZGVnQ29uc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmFkaWFuc1RvRGVncmVlcztcbiIsImZ1bmN0aW9uIGRpc3RhbmNlKHAxLCBwMil7XG4gIHJldHVybiBNYXRoLnNxcnQoICgocDIueCAtIHAxLngpICogKHAyLnggLSBwMS54KSkgKyAoKHAyLnkgLSBwMS55KSAqIChwMi55IC0gcDEueSkpICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGlzdGFuY2U7XG4iLCIvKipcbiAqIFRoZSBTcHJpdGUgY2xhc3MgcmVwcmVzZW50cyBhIHNpbXBsZSBhbmltYXRlZCBjaGFyYWN0ZXIgZm9yIGEgZ2FtZVxuICogQG5hbWUgU3ByaXRlXG4gKiBAY29uc3RydWN0b3IgU3ByaXRlXG4gKi9cblxuY2xhc3MgU3ByaXRlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBzcHJpdGUgaW4gcGl4ZWxzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy54ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgcG9zaXRpb24gb2YgdGhlIHNwcml0ZSBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnkgPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBjb21wb25lbnQgb2YgdGhlIHZlbG9jaXR5IGluIHBpeGVscyBwZXIgc2Vjb25kXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5keCA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHkgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmR5ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBzcGVlZCBhIHNwcml0ZSBjYW4gbW92ZSBpbiBlaXRoZXIgZGlyZWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tYXhTcGVlZCA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgU3ByaXRlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByYWRpdXMgb2YgdGhpcyBzcHJpdGUgaW4gcGl4ZWxzIGZvciBzaW1wbGUgY29sbGlzaW9uIGRldGVjdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29sbGlzaW9uUmFkaXVzID0gNDA7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBTcHJpdGUncyBBbmltYXRpb24gYW5kIGl0cyBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgdmVsb2NpdHkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgVGhlIGVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIHByZXZpb3VzIHVwZGF0ZVxuICAgKi9cbiAgdXBkYXRlKGVsYXBzZWRUaW1lKXtcbiAgICB0aGlzLnggKz0gdGhpcy5keCAqIGVsYXBzZWRUaW1lO1xuICAgIHRoaXMueSArPSB0aGlzLmR5ICogZWxhcHNlZFRpbWU7XG4gICAgdGhpcy5hbmltLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWF4U3BlZWQgdXAgdG8gdGhlIHNwZWVkIGxpbWl0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gdiBTcGVlZCBsaW1pdFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG1heFNwZWVkIHVwIHRvIHNwZWVkIGxpbWl0XG4gICAqL1xuICBsaW1pdFNwZWVkKHYpe1xuICAgIGlmKHRoaXMubWF4U3BlZWQpe1xuICAgICAgaWYoTWF0aC5hYnModikgPiB0aGlzLm1heFNwZWVkKXtcbiAgICAgICAgaWYodiA+IDApe1xuICAgICAgICAgIHJldHVybiB0aGlzLm1heFNwZWVkO1xuICAgICAgICB9ZWxzZSBpZih2IDwgMCl7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWF4U3BlZWQ7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAgMDtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB2O1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhpcyBTcHJpdGUncyBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEByZXR1cm4ge0FuaW1hdGlvbkZyYW1lfSBUaGUgY3VycmVudCBmcmFtZSBvZiB0aGUgQW5pbWF0aW9uXG4gICAqL1xuICBnZXRDdXJyZW50RnJhbWUoKXtcbiAgICBpZih0aGlzLmFuaW0pe1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbS5nZXRDdXJyZW50RnJhbWUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHNwcml0ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IFRoZSBIVE1MNSBkcmF3aW5nIGNvbnRleHRcbiAgICovXG4gIGRyYXcoY29udGV4dCl7XG4gICAgaWYodGhpcy5hbmltKXtcbiAgICAgIHRoaXMuYW5pbS5kcmF3KGNvbnRleHQsIHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBpbnN0YW5jZSBvZiBTcHJpdGUgaXQgaXMgY2FsbGVkIHVwb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEByZXR1cm4ge1Nwcml0ZX0gQSBjbG9uZSBvZiB0aGUgU3ByaXRlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFNwcml0ZSh7XG4gICAgICBhbmltOiB0aGlzLmFuaW0uY2xvbmUoKVxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3ByaXRlO1xuXG4iLCIvKipcbiAqIFRoaXMgd3JhcHMgdGhlIGJveDJkIHdvcmxkIHRoYXQgY29udGFpbnMgYm9kaWVzLCBzaGFwZXMsIGFuZCBwZXJmb3JtcyB0aGUgcGh5c2ljcyBjYWxjdWxhdGlvbnMuXG4gKiBAbmFtZSBCb3hcbiAqIEBjb25zdHJ1Y3RvciBCb3hcbiAqL1xuXG5jb25zdCBDb250YWN0ID0gcmVxdWlyZSgnLi9saXN0ZW5lcnMvQ29udGFjdCcpO1xuXG5cbmNvbnNvbGUubG9nKEJveDJELCAnQm94MkQnLCBnbG9iYWwsIHdpbmRvdyk7XG5cbi8vIGJveDJkIGdsb2JhbHNcbmNvbnN0IEIyVmVjMiA9IEJveDJELkNvbW1vbi5NYXRoLmIyVmVjMjtcbmNvbnN0IEIyQm9keURlZiA9IEJveDJELkR5bmFtaWNzLmIyQm9keURlZjtcbmNvbnN0IEIyQm9keSA9IEJveDJELkR5bmFtaWNzLmIyQm9keTtcbmNvbnN0IEIyRml4dHVyZURlZiA9IEJveDJELkR5bmFtaWNzLmIyRml4dHVyZURlZjtcbmNvbnN0IEIyRml4dHVyZSA9IEJveDJELkR5bmFtaWNzLmIyRml4dHVyZTtcbmNvbnN0IEIyV29ybGQgPSBCb3gyRC5EeW5hbWljcy5iMldvcmxkO1xuY29uc3QgQjJQb2x5Z29uU2hhcGUgPSBCb3gyRC5Db2xsaXNpb24uU2hhcGVzLmIyUG9seWdvblNoYXBlO1xuY29uc3QgQjJDaXJjbGVTaGFwZSA9IEJveDJELkNvbGxpc2lvbi5TaGFwZXMuYjJDaXJjbGVTaGFwZTtcblxuY2xhc3MgQm94IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY3ljbGVzIHBlciBzZWNvbmQgZXhwZWN0ZWQgaW4gdXBkYXRlIGNhbGN1YXRpb25zXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnRlcnZhbFJhdGUgPSA2MDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIHRyeSB0byBjb21wZW5zYXRlIGNhbGN1bGF0aW9ucyBiYXNlZCBvbiBwZXJmb3JtYW5jZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFkYXB0aXZlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0aGUgYm9kaWVzIGluIHRoZSBib3gyZCB3b3JsZCByZWZlcmVuY2VkIGJ5IHRoZWlyIGdpdmVuIHVzZXJEYXRhXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib2RpZXNNYXAgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgdGhlIGZpeHR1cmVzIGluIHRoZSBib3gyZCB3b3JsZCByZWZlcmVuY2VkIGJ5IHRoZWlyIGdpdmVuIHVzZXJEYXRhXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5maXh0dXJlc01hcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0aGUgam9pbnRzIGluIHRoZSBib3gyZCB3b3JsZCByZWZlcmVuY2VkIGJ5IHRoZWlyIGdpdmVuIHVzZXJEYXRhXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5qb2ludHNNYXAgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluc3RhbmNlIG9mIHRoZSBCb3gyRC5EeW5hbWljcy5iMldvcmxkIHdvcmxkIGNsYXNzIHRoYXQgdGhlIGJvZGllcywgZml4dHVyZXMsIGFuZCBqb2ludHMgYXJlIHVzZWQgaW4uXG4gICAgICogQHR5cGUge0IyV29ybGR9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYjJXb3JsZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBjb21wb25lbnQgb2YgdGhlIGIyV29ybGQncyBncmF2aXR5IGluIG1ldGVycy9zZWNvbmQgc3F1YXJlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ3Jhdml0eVggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgY29tcG9uZW50IG9mIHRoZSBiMldvcmxkJ3MgZ3Jhdml0eSBpbiBtZXRlcnMvc2Vjb25kIHNxdWFyZWRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmdyYXZpdHlZID0gOS44O1xuXG4gICAgLyoqXG4gICAgICogQWxsb3cgYm94MmQgdG8gc2tpcCBwaHlzaWNzIGNhbGN1bGF0aW9ucyBvbiBib2RpZXMgYXQgcmVzdCBmb3IgcGVyZm9ybWFuY2VcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hbGxvd1NsZWVwID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gYWRkIGEgbGlzdGVuZXIgdG8gY29sbGlzaW9uIGV2ZW50cy4gRGVmYXVsdCBiZWhhdmlvciBhZGRzIGNvbGxpc2lvbiBkYXRhIHRvIGVudGl0aWVzIG9uIHVwZGF0ZSBjeWNsZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdmVDb2xsaXNpb25zID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbnRhY3QgbGlzdGVuZXIgZm9yIGNhbGxiYWNrcyBvbiBjb2xsaXNpb24gZXZlbnRzLiBEZWZhdWx0IGlzIHRoaXMgYm94IGl0c2VsZi5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RMaXN0ZW5lciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2YgY29sbGlzaW9ucy4gSW5zdGFudGlhdGVkIGluIHVwZGF0ZSBpZiByZXNvbHZlQ29sbGlzaW9ucyBpcyB0cnVlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgcGl4ZWxzIHRoYXQgcmVwcmVzbnQgb25lIG1ldGVyIGluIHRoZSBib3gyZCB3b3JsZC4gKDMwIHBpeGVscyB+IDEgbWV0ZXIgaW4gYm94MmQpXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zY2FsZSA9IDMwO1xuXG4gICAgdGhpcy5ib2RpZXNNYXAgPSB7fTtcbiAgICB0aGlzLmZpeHR1cmVzTWFwID0ge307XG4gICAgdGhpcy5qb2ludHNNYXAgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5iMldvcmxkID0gbmV3IEIyV29ybGQobmV3IEIyVmVjMih0aGlzLmdyYXZpdHlYLCB0aGlzLmdyYXZpdHlZKSwgdGhpcy5hbGxvd1NsZWVwKTtcblxuICAgIGlmKHRoaXMuaW50ZXJ2YWxSYXRlKXtcbiAgICAgIHRoaXMuaW50ZXJ2YWxSYXRlID0gcGFyc2VJbnQodGhpcy5pbnRlcnZhbFJhdGUsIDEwKTtcbiAgICB9XG5cblxuICAgIGlmKHRoaXMucmVzb2x2ZUNvbGxpc2lvbnMpe1xuICAgICAgdGhpcy5jb250YWN0TGlzdGVuZXIgPSBuZXcgQ29udGFjdCgpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuY29udGFjdExpc3RlbmVyKXtcbiAgICAgIHRoaXMuYWRkQ29udGFjdExpc3RlbmVyKHRoaXMuY29udGFjdExpc3RlbmVyKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJveDJkIHBoeXNpY3MgY2FsY3VsYXRpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1pbGxpcyBUaGUgbWlsbGlzZWNvbmRzIHVzZWQgdG8gZGV0ZXJtaW5lIGZyYW1lcmF0ZSBmb3IgYm94MmQgc3RlcFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRoZSB1cGRhdGUgdG9va1xuICAgKi9cbiAgdXBkYXRlKG1pbGxpcykge1xuICAgIC8vIGNvbnNvbGUubG9nKCd1cGRhdGUgbWlsbGlzJywgbWlsbGlzKTtcblxuICAgIGlmKHRoaXMuY29udGFjdExpc3RlbmVyICYmIHRoaXMuY29udGFjdExpc3RlbmVyLnJlc2V0KXtcbiAgICAgIHRoaXMuY29udGFjdExpc3RlbmVyLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBpZihtaWxsaXMpe1xuICAgICAgdGhpcy5iMldvcmxkLlN0ZXAobWlsbGlzIC8gMTAwMCAvKiBmcmFtZS1yYXRlICovLCAxMCAvKiB2ZWxvY2l0eSBpdGVyYXRpb25zICovLCAxMCAvKnBvc2l0aW9uIGl0ZXJhdGlvbnMqLyk7XG4gICAgICB0aGlzLmIyV29ybGQuQ2xlYXJGb3JjZXMoKTtcbiAgICB9ZWxzZXtcbiAgICAgIHZhciBzdGVwUmF0ZSA9ICh0aGlzLmFkYXB0aXZlKSA/IChzdGFydCAtIHRoaXMubGFzdFRpbWVzdGFtcCkgLyAxMDAwIDogKDEgLyB0aGlzLmludGVydmFsUmF0ZSk7XG4gICAgICB0aGlzLmIyV29ybGQuU3RlcChzdGVwUmF0ZSAvKiBmcmFtZS1yYXRlICovLCAxMCAvKiB2ZWxvY2l0eSBpdGVyYXRpb25zICovLCAxMCAvKnBvc2l0aW9uIGl0ZXJhdGlvbnMqLyk7XG4gICAgICB0aGlzLmIyV29ybGQuQ2xlYXJGb3JjZXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKERhdGUubm93KCkgLSBzdGFydCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgb2JqZWN0cyBpbiB0aGUgYm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZSBvZiB0aGUgYm94MmQgd29ybGRcbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgICAgZm9yICh2YXIgYiA9IHRoaXMuYjJXb3JsZC5HZXRCb2R5TGlzdCgpOyBiOyBiID0gYi5tX25leHQpIHtcbiAgICAgICAgaWYgKGIuSXNBY3RpdmUoKSAmJiB0eXBlb2YgYi5HZXRVc2VyRGF0YSgpICE9PSAndW5kZWZpbmVkJyAmJiBiLkdldFVzZXJEYXRhKCkgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZVtiLkdldFVzZXJEYXRhKCldID0ge1xuICAgICAgICAgICAgeDogYi5HZXRQb3NpdGlvbigpLngsXG4gICAgICAgICAgICB5OiBiLkdldFBvc2l0aW9uKCkueSxcbiAgICAgICAgICAgIGFuZ2xlOiBiLkdldEFuZ2xlKCksXG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgeDogYi5HZXRXb3JsZENlbnRlcigpLngsXG4gICAgICAgICAgICAgIHk6IGIuR2V0V29ybGRDZW50ZXIoKS55XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluZWFyVmVsb2NpdHk6IGIubV9saW5lYXJWZWxvY2l0eSxcbiAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogYi5tX2FuZ3VsYXJWZWxvY2l0eVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYodGhpcy5jb250YWN0TGlzdGVuZXIgJiYgdGhpcy5jb250YWN0TGlzdGVuZXIuY29sbGlzaW9ucyl7XG4gICAgICAgICAgICBzdGF0ZVtiLkdldFVzZXJEYXRhKCldLmNvbGxpc2lvbnMgPSB0aGlzLmNvbnRhY3RMaXN0ZW5lci5jb2xsaXNpb25zW2IuR2V0VXNlckRhdGEoKV0gfHwgbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBpbiB0aGUgRW50aXR5IG9iamVjdHMgdGhhdCBhcmUgbW9kaWZpZWQgYnkgYm94MmQgY2FsY3VsYXRpb25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGVudGl0aWVzIEFuIGFycmF5IG9yIG1hcCBvZiBFbnRpdHkgb2JqZWN0c1xuICAgKi9cbiAgdXBkYXRlRXh0ZXJuYWxTdGF0ZShlbnRpdGllcyl7XG4gICAgLy91cGRhdGUgdGhlIGR5YW5taWMgc2hhcGVzIHdpdGggYm94MmQgY2FsY3VsYXRpb25zXG4gICAgdmFyIGJvZGllc1N0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgIGZvciAodmFyIGlkIGluIGJvZGllc1N0YXRlKSB7XG4gICAgICB2YXIgZW50aXR5ID0gZW50aXRpZXNbaWRdO1xuICAgICAgLy91cGRhdGUgYW55IGR5bmFtaWMgYm9kaWVzXG4gICAgICBpZiAoZW50aXR5ICYmICFlbnRpdHkuc3RhdGljQm9keSl7XG4gICAgICAgIGVudGl0eS51cGRhdGUoYm9kaWVzU3RhdGVbaWRdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbWFwIG9mIGVudGl0aWVzIHRvIHRoZSBCb3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBib2R5RW50aXRpZXMgTWFwIG9mIGVudGl0aWVzXG4gICAqL1xuICBzZXRCb2RpZXMoYm9keUVudGl0aWVzKSB7XG4gICAgZm9yKHZhciBpZCBpbiBib2R5RW50aXRpZXMpIHtcbiAgICAgIHZhciBlbnRpdHkgPSBib2R5RW50aXRpZXNbaWRdO1xuICAgICAgdGhpcy5hZGRCb2R5KGVudGl0eSk7XG4gICAgfVxuICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBFbnRpdHkgdG8gdGhlIGJveDJkIHdvcmxkIHdoaWNoIHdpbGwgaW50ZXJuYWxseSBiZSBjb252ZXJ0ZWQgdG8gYSBib3gyZCBib2R5IGFuZCBmaXh0dXJlIChhdXRvIHNjYWxlZCB3aXRoIEJveCdzIHNjYWxlIHByb3BlcnR5IGlmIHRoZSBlbnRpdHkgaGFzbid0IGJlZW4gc2NhbGVkIHlldClcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgQW55IEVudGl0eSBvYmplY3RcbiAgICovXG4gIGFkZEJvZHkoZW50aXR5KSB7XG4gICAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cblxuICAgIGlmKCFlbnRpdHkuYWxyZWFkeVNjYWxlZCl7XG4gICAgICBlbnRpdHkuc2NhbGVTaGFwZSgxIC8gdGhpcy5zY2FsZSk7XG4gICAgICBlbnRpdHkuc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIHZhciBib2R5RGVmID0gbmV3IEIyQm9keURlZigpO1xuICAgIHZhciBmaXhEZWYgPSBuZXcgQjJGaXh0dXJlRGVmKCk7XG4gICAgdmFyIGksaixwb2ludHMsdmVjLHZlY3M7XG4gICAgZml4RGVmLnJlc3RpdHV0aW9uID0gZW50aXR5LnJlc3RpdHV0aW9uO1xuICAgIGZpeERlZi5kZW5zaXR5ID0gZW50aXR5LmRlbnNpdHk7XG4gICAgZml4RGVmLmZyaWN0aW9uID0gZW50aXR5LmZyaWN0aW9uO1xuXG5cbiAgICAvL3RoZXNlIHRocmVlIHByb3BzIGFyZSBmb3IgY3VzdG9tIGNvbGxpc2lvbiBmaWx0ZXJpbmdcbiAgICBpZihlbnRpdHkubWFza0JpdHMgIT0gbnVsbCl7XG4gICAgICBmaXhEZWYuZmlsdGVyLm1hc2tCaXRzID0gZW50aXR5Lm1hc2tCaXRzO1xuICAgIH1cbiAgICBpZihlbnRpdHkuY2F0ZWdvcnlCaXRzICE9IG51bGwpe1xuICAgICAgZml4RGVmLmZpbHRlci5jYXRlZ29yeUJpdHMgPSBlbnRpdHkuY2F0ZWdvcnlCaXRzO1xuICAgIH1cbiAgICBpZihlbnRpdHkuZ3JvdXBJbmRleCAhPSBudWxsKXtcbiAgICAgIGZpeERlZi5maWx0ZXIuZ3JvdXBJbmRleCA9IGVudGl0eS5ncm91cEluZGV4O1xuICAgIH1cblxuICAgIGlmKGVudGl0eS5zdGF0aWNCb2R5KXtcbiAgICAgIGJvZHlEZWYudHlwZSA9ICBCMkJvZHkuYjJfc3RhdGljQm9keTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9keURlZi50eXBlID0gQjJCb2R5LmIyX2R5bmFtaWNCb2R5O1xuICAgIH1cblxuICAgIGJvZHlEZWYucG9zaXRpb24ueCA9IGVudGl0eS54O1xuICAgIGJvZHlEZWYucG9zaXRpb24ueSA9IGVudGl0eS55O1xuICAgIGJvZHlEZWYudXNlckRhdGEgPSBlbnRpdHkuaWQ7XG4gICAgYm9keURlZi5hbmdsZSA9IGVudGl0eS5hbmdsZTtcbiAgICBib2R5RGVmLmxpbmVhckRhbXBpbmcgPSBlbnRpdHkubGluZWFyRGFtcGluZztcbiAgICBib2R5RGVmLmFuZ3VsYXJEYW1waW5nID0gZW50aXR5LmFuZ3VsYXJEYW1waW5nO1xuICAgIHZhciBib2R5ID0gdGhpcy5iMldvcmxkLkNyZWF0ZUJvZHkoYm9keURlZik7XG5cblxuICAgIGlmIChlbnRpdHkucmFkaXVzKSB7IC8vY2lyY2xlXG4gICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJDaXJjbGVTaGFwZShlbnRpdHkucmFkaXVzKTtcbiAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgIH0gZWxzZSBpZiAoZW50aXR5LnBvaW50cykgeyAvL3BvbHlnb25cbiAgICAgIHBvaW50cyA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGVudGl0eS5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmVjID0gbmV3IEIyVmVjMigpO1xuICAgICAgICB2ZWMuU2V0KGVudGl0eS5wb2ludHNbaV0ueCwgZW50aXR5LnBvaW50c1tpXS55KTtcbiAgICAgICAgcG9pbnRzW2ldID0gdmVjO1xuICAgICAgfVxuICAgICAgZml4RGVmLnNoYXBlID0gbmV3IEIyUG9seWdvblNoYXBlKCk7XG4gICAgICBmaXhEZWYuc2hhcGUuU2V0QXNBcnJheShwb2ludHMsIHBvaW50cy5sZW5ndGgpO1xuICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgfSBlbHNlIGlmKGVudGl0eS5wb2x5cykgeyAvL2NvbXBsZXggb2JqZWN0XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBlbnRpdHkucG9seXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHBvaW50cyA9IGVudGl0eS5wb2x5c1tqXTtcbiAgICAgICAgICAgIHZlY3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZWMgPSBuZXcgQjJWZWMyKCk7XG4gICAgICAgICAgICAgICAgdmVjLlNldChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICAgICAgICAgIHZlY3NbaV0gPSB2ZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJQb2x5Z29uU2hhcGUoKTtcbiAgICAgICAgICAgIGZpeERlZi5zaGFwZS5TZXRBc0FycmF5KHZlY3MsIHZlY3MubGVuZ3RoKTtcbiAgICAgICAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHsgLy9yZWN0YW5nbGVcbiAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMlBvbHlnb25TaGFwZSgpO1xuICAgICAgZml4RGVmLnNoYXBlLlNldEFzQm94KGVudGl0eS5oYWxmV2lkdGgsIGVudGl0eS5oYWxmSGVpZ2h0KTtcbiAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgIH1cblxuXG4gICAgdGhpcy5ib2RpZXNNYXBbZW50aXR5LmlkXSA9IGJvZHk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgbmV3IHggY29vcmRpbmF0ZSBpbiBib3gyZCBzcGFjZVxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgbmV3IHkgY29vcmRpbmF0ZSBpbiBib3gyZCBzcGFjZVxuICAgKi9cbiAgc2V0UG9zaXRpb24oYm9keUlkLCB4LCB5KXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRQb3NpdGlvbihuZXcgQjJWZWMyKHgsIHkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuZ2xlIG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBUaGUgbmV3IGFuZ2xlIG9mIHRoZSBib2R5IGluIHJhZGlhbnNcbiAgICovXG4gIHNldEFuZ2xlKGJvZHlJZCwgYW5nbGUpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBjb25zb2xlLmxvZygnc2V0IGFuZ2xlJywgYm9keS5zZXRBbmdsZSwgYm9keSk7XG4gICAgYm9keS5zZXRBbmdsZShhbmdsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaW5lYXIgdmVsb2NpdHkgb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIG5ldyB4IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIG5ldyB5IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHlcbiAgICovXG4gIHNldExpbmVhclZlbG9jaXR5KGJvZHlJZCwgeCwgeSl7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0TGluZWFyVmVsb2NpdHkobmV3IEIyVmVjMih4LCB5KSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmd1bGFyIHZlbG9jaXR5IG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWxvY2l0eSBUaGUgYW5ndWxhciB2ZWxvY2l0eSBmb3IgdGhlIGJvZHlcbiAgICovXG4gIHNldEFuZ3VsYXJWZWxvY2l0eShib2R5SWQsIHZlbG9jaXR5KXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRBbmd1bGFyVmVsb2NpdHkodmVsb2NpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGFuIGltcHVsc2UgdG8gYSBib2R5IGF0IGFuIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzIFRoZSBhbmdsZSBpbiB3aGljaCB0byBhcHBseSB0aGUgaW1wdWxzZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBpbXB1bHNlIHBvd2VyLlxuICAgKi9cbiAgYXBwbHlJbXB1bHNlRGVncmVlcyhib2R5SWQsIGRlZ3JlZXMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlJbXB1bHNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MoZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKSkgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSBmb3JjZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gZGVncmVlc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBmb3JjZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBwb3dlciBvZiB0aGUgZm9yY2UuIChUaGUgYWJpbGl0eSB0byBkZXN0cm95IGEgcGxhbmV0IGlzIGluc2lnbmlmaWNhbnQgbmV4dCB0byB0aGlzKVxuICAgKi9cbiAgYXBwbHlGb3JjZURlZ3JlZXMoYm9keUlkLCBkZWdyZWVzLCBwb3dlcikge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LkFwcGx5Rm9yY2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhbiBpbXB1bHNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGltcHVsc2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgaW1wdWxzZSBwb3dlci5cbiAgICovXG4gIGFwcGx5SW1wdWxzZShib2R5SWQsIHJhZGlhbnMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlJbXB1bHNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihyYWRpYW5zKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MocmFkaWFucykgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSBmb3JjZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gcmFkaWFuc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBmb3JjZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBwb3dlciBvZiB0aGUgZm9yY2UuIChUaGUgYWJpbGl0eSB0byBkZXN0cm95IGEgcGxhbmV0IGlzIGluc2lnbmlmaWNhbnQgbmV4dCB0byB0aGlzKVxuICAgKi9cbiAgYXBwbHlGb3JjZShib2R5SWQsIHJhZGlhbnMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlGb3JjZShcbiAgICAgIG5ldyBCMlZlYzIoTWF0aC5zaW4ocmFkaWFucykgKiBwb3dlcixcbiAgICAgIE1hdGguY29zKHJhZGlhbnMpICogcG93ZXIgKiAtMSksXG4gICAgICBib2R5LkdldFdvcmxkQ2VudGVyKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5nbGUgb2YgYSBkeW5hbWljIGJvZHkgaW4gcmFkaWFuc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIGFuZ2xlIHRvIHNldCB0aGUgYm9keSB0by5cbiAgICovXG4gIHNldEFuZ2xlKGJvZHlJZCwgcmFkaWFucykge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldEFuZ2xlKHJhZGlhbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5ndWxhcnkgdmVsb2NpdHkgb2YgYSBkeW5hbWljIGJvZHlcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgdG8gc2V0IHRoZSBib2R5IHRvLlxuICAgKi9cbiAgc2V0QW5nbHVsYXJWZWxvY2l0eShib2R5SWQsIHZlbG9jaXR5KSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0QW5ndWxhclZlbG9jaXR5KHZlbG9jaXR5KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFwcGx5IHRvcnF1ZSAocm90YXRpb24gZm9yY2UpIHRvIGEgYm9keS5cbiAgICogUG9zaXRpdmUgdmFsdWVzIGFyZSBjbG9ja3dpc2UsIG5lZ2F0aXZlIHZhbHVlcyBhcmUgY291bnRlci1jbG9ja3dpc2UuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIHBvd2VyIG9mIHRoZSB0b3JxdWUuXG4gICAqL1xuICBhcHBseVRvcnF1ZShib2R5SWQsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlUb3JxdWUocG93ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHdvcmxkJ3MgZ3Jhdml0eVxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdH0gdmVjdG9yIEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzIGluIG1ldGVycyBwZXIgc2Vjb25kIHNxdWFyZWQuXG4gICAqL1xuICBzZXRHcmF2aXR5KHZlY3Rvcikge1xuICAgIHRoaXMuYjJXb3JsZC5TZXRHcmF2aXR5KG5ldyBCMlZlYzIodmVjdG9yLngsIHZlY3Rvci55KSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgYm9keSBmcm9tIHRoZSBib3gyZCB3b3JsZFxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICovXG4gIHJlbW92ZUJvZHkoaWQpIHtcbiAgICBpZih0aGlzLmJvZGllc01hcFtpZF0pe1xuICAgICAgaWYodGhpcy5maXh0dXJlc01hcFtpZF0pe1xuICAgICAgICB0aGlzLmJvZGllc01hcFtpZF0uRGVzdHJveUZpeHR1cmUodGhpcy5maXh0dXJlc01hcFtpZF0pO1xuICAgICAgfVxuICAgICAgdGhpcy5iMldvcmxkLkRlc3Ryb3lCb2R5KHRoaXMuYm9kaWVzTWFwW2lkXSk7XG4gICAgICAvL2RlbGV0ZSB0aGlzLmZpeHR1cmVzTWFwW2lkXTtcbiAgICAgIGRlbGV0ZSB0aGlzLmJvZGllc01hcFtpZF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdha2UgdXAgYSBib2R5IGluIHRoZSBib3gyZCB3b3JsZCBzbyB0aGF0IGJveDJkIHdpbGwgY29udGludWUgdG8gcnVuIGNhbGN1bGF0aW9ucyBvbiBpdC5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqL1xuICB3YWtlVXBCb2R5KGlkKSB7XG4gICAgaWYodGhpcy5ib2RpZXNNYXBbaWRdKXtcbiAgICAgIHRoaXMuYm9kaWVzTWFwW2lkXS5TZXRBd2FrZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY29udGFjdExpc3RlbmVyIHRvIHRoZSBiMldvcmxkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdH0gY2FsbGJhY2tzIE9iamVjdCBjb250YWluaW5nIGEgYmVnaW5Db250YW50LCBlbmRDb250YWN0IGFuZC9vciBwcmVTb2x2ZS9wb3N0U29sdmUga2V5cyBhbmQgY2FsbGJhY2tzXG4gICAqL1xuICBhZGRDb250YWN0TGlzdGVuZXIoY29udGFjdExpc3RlbmVyKXtcbiAgICB2YXIgbGlzdGVuZXIgPSBuZXcgQm94MkQuRHluYW1pY3MuYjJDb250YWN0TGlzdGVuZXIoKTtcbiAgICBpZihjb250YWN0TGlzdGVuZXIuYmVnaW5Db250YWN0KXtcbiAgICAgIGxpc3RlbmVyLkJlZ2luQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3Qpe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIuYmVnaW5Db250YWN0KGNvbnRhY3QubV9maXh0dXJlQS5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdC5tX2ZpeHR1cmVCLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmKGNvbnRhY3RMaXN0ZW5lci5lbmRDb250YWN0KXtcbiAgICAgIGxpc3RlbmVyLkVuZENvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KXtcbiAgICAgICAgY29udGFjdExpc3RlbmVyLmVuZENvbnRhY3QoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYoY29udGFjdExpc3RlbmVyLnByZVNvbHZlKXtcbiAgICAgIGxpc3RlbmVyLlByZVNvbHZlID0gZnVuY3Rpb24oY29udGFjdCwgb2xkTWFuaWZvbGQpe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIucHJlU29sdmUoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIG9sZE1hbmlmb2xkLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjb250YWN0TGlzdGVuZXIucG9zdFNvbHZlKXtcbiAgICAgIGxpc3RlbmVyLlBvc3RTb2x2ZSA9IGZ1bmN0aW9uKGNvbnRhY3QsIGltcHVsc2Upe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIucG9zdFNvbHZlKGNvbnRhY3QubV9maXh0dXJlQS5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdC5tX2ZpeHR1cmVCLm1fYm9keS5tX3VzZXJEYXRhLCBpbXB1bHNlLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuYjJXb3JsZC5TZXRDb250YWN0TGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGpvaW50IGZyb20gdGhlIHdvcmxkLlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24sIGFuZCBCRUZPUkUgYW55IGJvZGllcyBjb25uZWN0ZWQgdG8gdGhlIGpvaW50IGFyZSByZW1vdmVkIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGpvaW50SWQgVGhlIGlkIG9mIGpvaW50IHRvIGJlIGRlc3Ryb3llZC5cbiAgICovXG4gIHJlbW92ZUpvaW50KGpvaW50SWQpIHtcbiAgICBpZih0aGlzLmpvaW50c01hcFtqb2ludElkXSl7XG4gICAgICB0aGlzLmIyV29ybGQuRGVzdHJveUpvaW50KHRoaXMuam9pbnRzTWFwW2pvaW50SWRdKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW50c01hcFtqb2ludElkXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgam9pbnQgdG8gdGhlIGJveDJkIHdvcmxkLlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge0pvaW50fSBBIGpvaW50IGRlZmluaXRpb24uXG4gICAqL1xuICBhZGRKb2ludChqb2ludCkge1xuICAgIGlmKGpvaW50ICYmIGpvaW50LmlkICYmICF0aGlzLmpvaW50c01hcFtqb2ludC5pZF0pe1xuXG4gICAgICBpZigham9pbnQuYWxyZWFkeVNjYWxlZCAmJiBqb2ludC5zY2FsZUpvaW50TG9jYXRpb24pe1xuICAgICAgICBqb2ludC5zY2FsZUpvaW50TG9jYXRpb24oMSAvIHRoaXMuc2NhbGUpO1xuICAgICAgICBqb2ludC5zY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBiMkpvaW50ID0gam9pbnQuY3JlYXRlQjJKb2ludCh0aGlzKTtcbiAgICAgIGlmKGIySm9pbnQpe1xuICAgICAgICB0aGlzLmpvaW50c01hcFtqb2ludC5pZF0gPSBiMkpvaW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJveDtcblxuIiwiY29uc3Qgd2FsbFJlc3RpdHV0aW9uID0gMTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFwiZW50aXRpZXNcIjogW1xuICAgIHtcbiAgICAgIFwicG9pbnRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAtMTAwLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgXCJ4XCI6IDAsXG4gICAgICBcInlcIjogMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgXCJpZFwiOiBcInVsZWZ0d1wiLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwid2FsbFwiOiB0cnVlLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb25cbiAgICB9LFxuICAgIHtcbiAgICAgIFwicG9pbnRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAtMTAwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiA1NjguMTAxMTMsXG4gICAgICAgICAgXCJ5XCI6IDEwODBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiA1NjguMTAxMTMsXG4gICAgICAgICAgXCJ5XCI6IDExODBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAtMTAwLFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgXCJ4XCI6IDAsXG4gICAgICBcInlcIjogMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb24sXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgICBcImlkXCI6IFwibGxlZnR3XCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwicG9pbnRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxMzUxLjg5ODg3LFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMjAyMCxcbiAgICAgICAgICBcInlcIjogLTEwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDIwMjAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDE5MjAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IDBcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBcInhcIjogMCxcbiAgICAgIFwieVwiOiAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJQb2x5Z29uXCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaWRcIjogXCJ1cmlnaHR0d1wiLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwid2FsbFwiOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IDEwODBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxOTIwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJpZFwiOiBcImxyaWdodHR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBcInhcIjogOTYwLFxuICAgICAgXCJ5XCI6IDExODAsXG4gICAgICBcImhhbGZXaWR0aFwiOiAxMDAwLFxuICAgICAgXCJoYWxmSGVpZ2h0XCI6IDEwMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUmVjdGFuZ2xlXCIsXG4gICAgICBcImlkXCI6IFwiYm90dG9td1wiLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb24sXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBcInhcIjogOTYwLFxuICAgICAgXCJ5XCI6IC0xMDAsXG4gICAgICBcImhhbGZXaWR0aFwiOiAxMDAwLFxuICAgICAgXCJoYWxmSGVpZ2h0XCI6IDEwMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUmVjdGFuZ2xlXCIsXG4gICAgICBcImlkXCI6IFwidG9wd1wiLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb24sXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgfSxcbiAgXSxcbiAgXCJqb2ludHNcIjogW1xuICBdLFxuICBcImNhbnZhc1wiOiB7XG4gICAgXCJoZWlnaHRcIjogNjAwLFxuICAgIFwid2lkdGhcIjogODAwXG4gIH0sXG4gIFwiYmFja0ltZ1wiOiBudWxsXG59OyIsIi8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG4gKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG52YXIgVEVTVF9FTEVNRU5UID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbnZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBub3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBzZXQgYSB0aW1lb3V0IHdpdGggYSBnaXZlbiBzY29wZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gc2V0VGltZW91dENvbnRleHQoZm4sIHRpbWVvdXQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICogaWYgaXQgYWludCBhbiBhcnJheSB3ZSBkb24ndCB3YW50IHRvIGRvIGEgdGhpbmcuXG4gKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gKiBAcGFyYW0ge1N0cmluZ30gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgdGhlIHN1cHBsaWVkIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuICAgIHZhciBkZXByZWNhdGlvbk1lc3NhZ2UgPSAnREVQUkVDQVRFRCBNRVRIT0Q6ICcgKyBuYW1lICsgJ1xcbicgKyBtZXNzYWdlICsgJyBBVCBcXG4nO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuICAgICAgICB2YXIgc3RhY2sgPSBlICYmIGUuc3RhY2sgPyBlLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblxuICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcbiAgICAgICAgaWYgKGxvZykge1xuICAgICAgICAgICAgbG9nLmNhbGwod2luZG93LmNvbnNvbGUsIGRlcHJlY2F0aW9uTWVzc2FnZSwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG4gKi9cbnZhciBhc3NpZ247XG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2U9ZmFsc2VdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYywgbWVyZ2UpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG4gICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xufSwgJ21lcmdlJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG4gKi9cbmZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZSxcbiAgICAgICAgY2hpbGRQO1xuXG4gICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG4gICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gYmluZEZuKGZuLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cbiAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIHVzZSB0aGUgdmFsMiB3aGVuIHZhbDEgaXMgdW5kZWZpbmVkXG4gKiBAcGFyYW0geyp9IHZhbDFcbiAqIEBwYXJhbSB7Kn0gdmFsMlxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcbiAgICByZXR1cm4gKHZhbDEgPT09IHVuZGVmaW5lZCkgPyB2YWwyIDogdmFsMTtcbn1cblxuLyoqXG4gKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcbiAqIEBtZXRob2QgaGFzUGFyZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBzbWFsbCBpbmRleE9mIHdyYXBwZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG59XG5cbi8qKlxuICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcbiAqL1xuZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xccysvZyk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuICogQHBhcmFtIHtBcnJheX0gc3JjXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG4gKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn1cblxuLyoqXG4gKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xufVxuXG4vKipcbiAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cbiAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG4gKi9cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcbiAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2ldID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuICovXG5mdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG4gICAgdmFyIHByZWZpeCwgcHJvcDtcbiAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG4gICAgICAgIHByb3AgPSAocHJlZml4KSA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXG4gICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIGdldCBhIHVuaXF1ZSBpZFxuICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWRcbiAqL1xudmFyIF91bmlxdWVJZCA9IDE7XG5mdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG59XG5cbi8qKlxuICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG4gICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xufVxuXG52YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXG52YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xudmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xudmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbnZhciBJTlBVVF9UWVBFX1BFTiA9ICdwZW4nO1xudmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xudmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cbnZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cbnZhciBJTlBVVF9TVEFSVCA9IDE7XG52YXIgSU5QVVRfTU9WRSA9IDI7XG52YXIgSU5QVVRfRU5EID0gNDtcbnZhciBJTlBVVF9DQU5DRUwgPSA4O1xuXG52YXIgRElSRUNUSU9OX05PTkUgPSAxO1xudmFyIERJUkVDVElPTl9MRUZUID0gMjtcbnZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xudmFyIERJUkVDVElPTl9VUCA9IDg7XG52YXIgRElSRUNUSU9OX0RPV04gPSAxNjtcblxudmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG52YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG52YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXG52YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xudmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cbiAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcbiAgICAvLyBzbyB3aGVuIGRpc2FibGVkIHRoZSBpbnB1dCBldmVudHMgYXJlIGNvbXBsZXRlbHkgYnlwYXNzZWQuXG4gICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlcihldik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuSW5wdXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiByZW1vdmVFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICogQHJldHVybnMge0lucHV0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcbiAgICB2YXIgVHlwZTtcbiAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXG4gICAgaWYgKGlucHV0Q2xhc3MpIHtcbiAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG4gICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkge1xuICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG59XG5cbi8qKlxuICogaGFuZGxlIGlucHV0IGV2ZW50c1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG4gICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cbiAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cbiAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgIC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXG4gICAgLy8gZW1pdCBzZWNyZXQgZXZlbnRcbiAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblxuICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcbiAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG59XG5cbi8qKlxuICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG4gICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG4gICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9XG5cbiAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuICAgIHZhciBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblxuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpO1xuICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXG4gICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cbiAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG4gICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblxuICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WSA9IG92ZXJhbGxWZWxvY2l0eS55O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXG4gICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcbiAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXG4gICAgaW5wdXQubWF4UG9pbnRlcnMgPSAhc2Vzc2lvbi5wcmV2SW5wdXQgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiAoKGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+XG4gICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblxuICAgIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCk7XG5cbiAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuICAgIH1cbiAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcbiAgICB2YXIgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG4gICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuICAgICAgICAgICAgeDogcHJldklucHV0LmRlbHRhWCB8fCAwLFxuICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG4gICAgICAgIH07XG5cbiAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlci54LFxuICAgICAgICAgICAgeTogY2VudGVyLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcbiAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcbn1cblxuLyoqXG4gKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcbiAgICAgICAgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXAsXG4gICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG4gICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblxuICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG4gICAgICAgIHZlbG9jaXR5WSA9IHYueTtcbiAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cbiAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG4gICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcbiAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG4gICAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcbiAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7XG4gICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG4gICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG4gICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG4gICAgdmFyIHBvaW50ZXJzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHBvaW50ZXJzW2ldID0ge1xuICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG4gICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YW1wOiBub3coKSxcbiAgICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG4gICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuICAgICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHBvaW50ZXJzTGVuZ3RoKSB7XG4gICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcbiAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcbiAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuICAgIH07XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG4gKi9cbmZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcbiAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7TnVtYmVyfSBkaXJlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcbiAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgfVxuICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gcDEge3gsIHl9XG4gKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydCgoeCAqIHgpICsgKHkgKiB5KSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IHAxXG4gKiBAcGFyYW0ge09iamVjdH0gcDJcbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG4gICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuICovXG5mdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgc2NhbGUgZmFjdG9yIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0U2NhbGUoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxudmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbn07XG5cbnZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xudmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXG4vKipcbiAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXG4gICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIGV2LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG4gICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG59O1xuXG4vLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxudmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxufTtcblxudmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cbi8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuaWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG4gICAgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ01TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsJztcbn1cblxuLyoqXG4gKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xufVxuXG5pbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IChwb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKTtcblxuICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcbiAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcbiAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG52YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIFRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG4gICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cbiAgICAgICAgLy8gd2hlbiBkb25lLCByZXNldCB0aGUgc3RhcnRlZCBzdGF0ZVxuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcbn1cblxudmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBUT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG4gICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcbiAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cbiAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuICAgIH1cblxuICAgIHZhciBpLFxuICAgICAgICB0YXJnZXRUb3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlcyA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblxuICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcbiAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7XG4gICAgfSk7XG5cbiAgICAvLyBjb2xsZWN0IHRvdWNoZXNcbiAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpbHRlciBjaGFuZ2VkIHRvdWNoZXMgdG8gb25seSBjb250YWluIHRvdWNoZXMgdGhhdCBleGlzdCBpbiB0aGUgY29sbGVjdGVkIHRhcmdldCBpZHNcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcbiAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlc1xuICAgIF07XG59XG5cbi8qKlxuICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG4gKlxuICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG4gKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5cbnZhciBERURVUF9USU1FT1VUID0gMjUwMDtcbnZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXG5mdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG4gICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG4gICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cbiAgICB0aGlzLnByaW1hcnlUb3VjaCA9IG51bGw7XG4gICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xufVxuXG5pbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLFxuICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG4gICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwodGhpcywgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdO1xuXG4gICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG4gICAgICAgIHZhciBsYXN0VG91Y2ggPSB7eDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WX07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG4gICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG4gICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuICAgICAgICBpZiAoZHggPD0gREVEVVBfRElTVEFOQ0UgJiYgZHkgPD0gREVEVVBfRElTVEFOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG52YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXG4vLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG52YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG52YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG52YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcbnZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG52YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblxuLyoqXG4gKiBUb3VjaCBBY3Rpb25cbiAqIHNldHMgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IG9yIHVzZXMgdGhlIGpzIGFsdGVybmF0aXZlXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLnNldCh2YWx1ZSk7XG59XG5cblRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChOQVRJVkVfVE9VQ0hfQUNUSU9OICYmIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlICYmIFRPVUNIX0FDVElPTl9NQVBbdmFsdWVdKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQub2Zmc2V0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBoYXNOb25lID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG4gICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICAgIGlmIChoYXNOb25lKSB7XG4gICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXG4gICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgICAgICB2YXIgaXNUYXBUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCAyNTA7XG5cbiAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNOb25lIHx8XG4gICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZlbnRTcmMoc3JjRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNFdmVudFxuICAgICAqL1xuICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuICAgIC8vIG5vbmVcbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXG4gICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG4gICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG4gICAgLy8gd2UgbmVlZCBub25lIChhcyBvdGhlcndpc2Ugd2l0aCBwYW4teCBwYW4teSBjb21iaW5lZCBub25lIG9mIHRoZXNlXG4gICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcbiAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICAvLyBwYW4teCBPUiBwYW4teVxuICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG4gICAgfVxuXG4gICAgLy8gbWFuaXB1bGF0aW9uXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuICAgIH1cblxuICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcbiAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdG91Y2hNYXAgPSB7fTtcbiAgICB2YXIgY3NzU3VwcG9ydHMgPSB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHM7XG4gICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblxuICAgICAgICAvLyBJZiBjc3Muc3VwcG9ydHMgaXMgbm90IHN1cHBvcnRlZCBidXQgdGhlcmUgaXMgbmF0aXZlIHRvdWNoLWFjdGlvbiBhc3N1bWUgaXQgc3VwcG9ydHNcbiAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hNYXA7XG59XG5cbi8qKlxuICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG4gKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcbiAqXG4gKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG4gKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuICpcbiAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cbiAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG4gKlxuICogICAgICAgICAgICAgICBQb3NzaWJsZVxuICogICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcbiAqL1xudmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcbnZhciBTVEFURV9CRUdBTiA9IDI7XG52YXIgU1RBVEVfQ0hBTkdFRCA9IDQ7XG52YXIgU1RBVEVfRU5ERUQgPSA4O1xudmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcbnZhciBTVEFURV9DQU5DRUxMRUQgPSAxNjtcbnZhciBTVEFURV9GQUlMRUQgPSAzMjtcblxuLyoqXG4gKiBSZWNvZ25pemVyXG4gKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcblxuICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cbiAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXG4gICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcbiAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG59XG5cblJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBkZWZhdWx0czoge30sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UmVjb2duaXplcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcbiAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKCFzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSkge1xuICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG4gICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoYXMgcmVxdWlyZSBmYWlsdXJlcyBib29sZWFuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzUmVxdWlyZUZhaWx1cmVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG4gICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cbiAgICAgICAgaWYgKGlucHV0LmFkZGl0aW9uYWxFdmVudCkgeyAvLyBhZGRpdGlvbmFsIGV2ZW50KHBhbmxlZnQsIHBhbnJpZ2h0LCBwaW5jaGluLCBwaW5jaG91dC4uLilcbiAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG4gICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcbiAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsXG4gICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW4gd2UgZW1pdD9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuICAgICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cbiAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/XG4gICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7XG5cbiAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG4gICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcbiAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2RcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcbiAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7IH1cbn07XG5cbi8qKlxuICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG4gKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuICogQHJldHVybnMge1N0cmluZ30gc3RhdGVcbiAqL1xuZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgJiBTVEFURV9DQU5DRUxMRUQpIHtcbiAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQkVHQU4pIHtcbiAgICAgICAgcmV0dXJuICdzdGFydCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcbiAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0RPV04pIHtcbiAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcbiAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fUklHSFQpIHtcbiAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICogQHJldHVybnMge1JlY29nbml6ZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7XG4gICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7XG4gICAgfVxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG59XG5cbi8qKlxuICogVGhpcyByZWNvZ25pemVyIGlzIGp1c3QgdXNlZCBhcyBhIGJhc2UgZm9yIHRoZSBzaW1wbGUgYXR0cmlidXRlIHJlY29nbml6ZXJzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG4gICAgICovXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGlucHV0IGFuZCByZXR1cm4gdGhlIHN0YXRlIGZvciB0aGUgcmVjb2duaXplclxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHsqfSBTdGF0ZVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cbiAgICAgICAgdmFyIGlzUmVjb2duaXplZCA9IHN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCk7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cbiAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRFxuICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQYW5cbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBhblJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucFggPSBudWxsO1xuICAgIHRoaXMucFkgPSBudWxsO1xufVxuXG5pbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwYW4nLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgfSxcblxuICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIC8vIGxvY2sgdG8gYXhpcz9cbiAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICghKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTikgJiYgdGhpcy5kaXJlY3Rpb25UZXN0KGlucHV0KSkpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXG4gICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHRoaXMucFkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBpbmNoXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFBpbmNoUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGluY2gnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUHJlc3NcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xufVxuXG5pbmhlcml0KFByZXNzUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUHJlc3NSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG4gICAgICAgIHRocmVzaG9sZDogOSAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJvdGF0ZVxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfVxufSk7XG5cbi8qKlxuICogU3dpcGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFN3aXBlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFN3aXBlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICB2ZWxvY2l0eTogMC4zLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmXG4gICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcbiAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuICAgICAgICAgICAgYWJzKHZlbG9jaXR5KSA+IHRoaXMub3B0aW9ucy52ZWxvY2l0eSAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQ7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gKiBiZXR3ZWVuIHRoZSBnaXZlbiBpbnRlcnZhbCBhbmQgcG9zaXRpb24uIFRoZSBkZWxheSBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVjb2duaXplIG11bHRpLXRhcHMgd2l0aG91dCBmaXJpbmdcbiAqIGEgc2luZ2xlIHRhcC5cbiAqXG4gKiBUaGUgZXZlbnREYXRhIGZyb20gdGhlIGVtaXR0ZWQgZXZlbnQgY29udGFpbnMgdGhlIHByb3BlcnR5IGB0YXBDb3VudGAsIHdoaWNoIGNvbnRhaW5zIHRoZSBhbW91bnQgb2ZcbiAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcbiAgICAvLyB1c2VkIGZvciB0YXAgY291bnRpbmdcbiAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG4gICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xufVxuXG5pbmhlcml0KFRhcFJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAndGFwJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRhcHM6IDEsXG4gICAgICAgIGludGVydmFsOiAzMDAsIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG4gICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcbiAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwIC8vIGEgbXVsdGktdGFwIGNhbiBiZSBhIGJpdCBvZmYgdGhlIGluaXRpYWwgcG9zaXRpb25cbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmFsaWRJbnRlcnZhbCA9IHRoaXMucFRpbWUgPyAoaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwpIDogdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblxuICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi5cbiAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG4gICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFNpbXBsZSB3YXkgdG8gY3JlYXRlIGEgbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG4gICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5IYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cbi8qKlxuICogZGVmYXVsdCBzZXR0aW5nc1xuICogQG5hbWVzcGFjZVxuICovXG5IYW1tZXIuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cbiAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZG9tRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLlxuICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGRlZmF1bHQgY29tcHV0ZVxuICAgICAqL1xuICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBlbmFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dENsYXNzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG4gICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgcHJlc2V0OiBbXG4gICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuICAgICAgICBbUm90YXRlUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9XSxcbiAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcbiAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcbiAgICAgICAgW1BhblJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfSwgWydzd2lwZSddXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuICAgICAgICBbUHJlc3NSZWNvZ25pemVyXVxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICovXG4gICAgY3NzUHJvcHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRoZSBkZWZhdWx0IGNhbGxvdXQgc2hvd24gd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQuXG4gICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoQ2FsbG91dDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcbiAgICAgICAgICogY2xpY2thYmxlIGVsZW1lbnQgaW4gaU9TLiBUaGlzIHByb3BlcnR5IG9iZXlzIHRoZSBhbHBoYSB2YWx1ZSwgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcbiAgICAgICAgICovXG4gICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcbiAgICB9XG59O1xuXG52YXIgU1RPUCA9IDE7XG52YXIgRk9SQ0VEX1NUT1AgPSAyO1xuXG4vKipcbiAqIE1hbmFnZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIEhhbW1lci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG4gICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cbiAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblxuICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG4gICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7XG4gICAgfSwgdGhpcyk7XG59XG5cbk1hbmFnZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG4gICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuICAgICAqIGl0IHdhbGtzIHRocm91Z2ggYWxsIHRoZSByZWNvZ25pemVycyBhbmQgdHJpZXMgdG8gZGV0ZWN0IHRoZSBnZXN0dXJlIHRoYXQgaXMgYmVpbmcgbWFkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcnVuIHRoZSB0b3VjaC1hY3Rpb24gcG9seWZpbGxcbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblxuICAgICAgICB2YXIgcmVjb2duaXplcjtcbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblxuICAgICAgICAvLyB0aGlzIGhvbGRzIHRoZSByZWNvZ25pemVyIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG4gICAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyO1xuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG4gICAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG4gICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblxuICAgICAgICAgICAgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG4gICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcbiAgICAgICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG4gICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcbiAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG4gICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuICAgICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXG4gICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB0aGlzIHJlY29nbml6ZXIgZXhpc3RzXG4gICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgcmVjb2duaXplcik7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcbiAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnR5cGUgPSBldmVudDtcbiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wc1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuICovXG5mdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcbiAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvcDtcbiAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiB0cmlnZ2VyIGRvbSBldmVudFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuICAgIGRhdGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VzdHVyZUV2ZW50KTtcbn1cblxuYXNzaWduKEhhbW1lciwge1xuICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcbiAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuICAgIElOUFVUX0VORDogSU5QVVRfRU5ELFxuICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXG4gICAgU1RBVEVfUE9TU0lCTEU6IFNUQVRFX1BPU1NJQkxFLFxuICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcbiAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuICAgIFNUQVRFX0VOREVEOiBTVEFURV9FTkRFRCxcbiAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuICAgIFNUQVRFX0ZBSUxFRDogU1RBVEVfRkFJTEVELFxuXG4gICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuICAgIERJUkVDVElPTl9MRUZUOiBESVJFQ1RJT05fTEVGVCxcbiAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcbiAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcbiAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG4gICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgIERJUkVDVElPTl9BTEw6IERJUkVDVElPTl9BTEwsXG5cbiAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuICAgIElucHV0OiBJbnB1dCxcbiAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cbiAgICBUb3VjaElucHV0OiBUb3VjaElucHV0LFxuICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG4gICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuICAgIFRvdWNoTW91c2VJbnB1dDogVG91Y2hNb3VzZUlucHV0LFxuICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cbiAgICBSZWNvZ25pemVyOiBSZWNvZ25pemVyLFxuICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcbiAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG4gICAgUGFuOiBQYW5SZWNvZ25pemVyLFxuICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG4gICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcbiAgICBSb3RhdGU6IFJvdGF0ZVJlY29nbml6ZXIsXG4gICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblxuICAgIG9uOiBhZGRFdmVudExpc3RlbmVycyxcbiAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuICAgIGVhY2g6IGVhY2gsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGluaGVyaXQ6IGluaGVyaXQsXG4gICAgYmluZEZuOiBiaW5kRm4sXG4gICAgcHJlZml4ZWQ6IHByZWZpeGVkXG59KTtcblxuLy8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcbi8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxudmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cbmlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBIYW1tZXI7XG4gICAgfSk7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEhhbW1lcjtcbn0gZWxzZSB7XG4gICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xufVxuXG59KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cuQXVkaW9Db250ZXh0OyArK3gpIHtcbiAgd2luZG93LkF1ZGlvQ29udGV4dCA9IHdpbmRvd1t2ZW5kb3JzW3hdKydBdWRpb0NvbnRleHQnXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuQXVkaW9Db250ZXh0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiByZW1vdmVFeHRlbnNpb24ocGF0aCl7XG4gIC8vIG9ubHkgc3RyaXBzIG9mZiBleHRlbnNpb25zIHRoYXQgaGF2ZSBsZW5ndGggb2YgNCBvciBsZXNzXG4gIC8vIHJlZ2V4IGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODE4MzEwL3JlZ3VsYXItZXhwcmVzc2lvbi10by1yZW1vdmUtYS1maWxlcy1leHRlbnNpb25cbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvKC4qKVxcLlteLl17MSw0fSQvLCAnJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVtb3ZlRXh0ZW5zaW9uO1xuIiwiY29uc3QgYXZlcmFnZVBvaW50cyA9IHJlcXVpcmUoJy4vdXRpbHMvYXZlcmFnZVBvaW50cycpO1xuY29uc3QgZGVncmVlc1RvUmFkaWFucyA9IHJlcXVpcmUoJy4vdXRpbHMvZGVncmVlc1RvUmFkaWFucycpO1xuY29uc3QgcmFkaWFuc1RvRGVncmVlcyA9IHJlcXVpcmUoJy4vdXRpbHMvcmFkaWFuc1RvRGVncmVlcycpO1xuY29uc3QgcG9pbnRJblBvbHlnb24gPSByZXF1aXJlKCcuL3V0aWxzL3BvaW50SW5Qb2x5Z29uJyk7XG5jb25zdCBkaXN0YW5jZSA9IHJlcXVpcmUoJy4vdXRpbHMvZGlzdGFuY2UnKTtcbmNvbnN0IGRlZ3JlZXNGcm9tQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9kZWdyZWVzRnJvbUNlbnRlcicpO1xuY29uc3QgcmFkaWFuc0Zyb21DZW50ZXIgPSByZXF1aXJlKCcuL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyJyk7XG5jb25zdCBzY2FsZVBvaW50cyA9IHJlcXVpcmUoJy4vdXRpbHMvc2NhbGVQb2ludHMnKTtcbmNvbnN0IHRyYW5zbGF0ZVBvaW50cyA9IHJlcXVpcmUoJy4vdXRpbHMvdHJhbnNsYXRlUG9pbnRzJyk7XG5jb25zdCBpbnNpZGVDYW52YXMgPSByZXF1aXJlKCcuL3V0aWxzL2luc2lkZUNhbnZhcycpO1xuY29uc3Qgcm90YXRlRGVncmVlc0Fyb3VuZENlbnRlciA9IHJlcXVpcmUoJy4vdXRpbHMvcm90YXRlRGVncmVlc0Fyb3VuZENlbnRlcicpO1xuY29uc3Qgcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciA9IHJlcXVpcmUoJy4vdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcicpO1xuXG5cbi8qKlxuICogTWF0aCB1dGlsaXR5IGxpYnJhcmllc1xuICogQGV4cG9ydHMgdXRpbHNcbiAqL1xuY29uc3QgdXRpbHMgPSB7XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhdmVyYWdlIHBvaW50IHZhbHVlIGluIGFuIGFycmF5IG9mIHBvaW50cy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50c1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzXG4gICAqL1xuICBhdmVyYWdlUG9pbnRzLFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGRlZ3JlZXMgdG8gcmFpZGFuc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXNcbiAgICogQHJldHVybiB7TnVtYmVyfSBBIHZhbHVlIGluIHJhZGlhbnNcbiAgICovXG4gIGRlZ3JlZXNUb1JhZGlhbnMsXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgcmFkaWFucyB0byBkZWdyZWVzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFuc1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gZGVncmVlc1xuICAgKi9cbiAgcmFkaWFuc1RvRGVncmVlcyxcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW4gYSBwb2x5Z29uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBwb2x5Z29uIEFycmF5IG9mIHBvaW50c1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwb2ludCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbiAgICovXG4gIHBvaW50SW5Qb2x5Z29uLFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIDIgcG9pbnRzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQxIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50MiBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge051bWJlcn0gVGhlIGRpc3RhbmNlXG4gICAqL1xuICBkaXN0YW5jZSxcblxuICAvKipcbiAgICogRGVncmVlcyBhIHBvaW50IGlzIG9mZnNldCBmcm9tIGEgY2VudGVyIHBvaW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gY2VudGVyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBBIHZhbHVlIGluIGRlZ3JlZXNcbiAgICovXG4gIGRlZ3JlZXNGcm9tQ2VudGVyLFxuXG4gIC8qKlxuICAgKiBSYWRpYW5zIGEgcG9pbnQgaXMgb2Zmc2V0IGZyb20gYSBjZW50ZXIgcG9pbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjZW50ZXIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gcmFkaWFuc1xuICAgKi9cbiAgcmFkaWFuc0Zyb21DZW50ZXIsXG5cbiAgLyoqXG4gICAqIFNjYWxlIGEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHBvaW50cyBBIHBvaW50IG9yIGFycmF5IG9mIHBvaW50c1xuICAgKiBAcGFyYW0ge09iamVjdH0gc2NhbGUgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtPYmplY3R8QXJyYXl9IEEgc2NhbGVkIHBvaW50IG9yIGFycmF5IG9mIHBvaW50c1xuICAgKi9cbiAgc2NhbGVQb2ludHMsXG5cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZSBhIHBvaW50IG9yIGFycmF5IG9mIHBvaW50c1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHBvaW50cyBBIHBvaW50IG9yIGFycmF5IG9mIHBvaW50c1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2Zmc2V0IE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7T2JqZWN0fEFycmF5fSBBIHRyYW5zbGF0ZWQgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqL1xuICB0cmFuc2xhdGVQb2ludHMsXG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgYSBwb2ludCBpcyBpbnNpZGUgYSBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBIHBvaW50IHRvIHRlc3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhcyBPYmplY3Qgd2l0aCBoZWlnaHQgYW5kIHdpZHRoIHByb3BlcnRpZXNcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBpbnNpZGUgY2FudmFzIGVsc2UgZmFsc2VcbiAgICovXG4gIGluc2lkZUNhbnZhcyxcblxuICAvKipcbiAgICogR2V0IGEgcG9pbnQgYmFzZWQgYXJvdW5kIHRoZSByb3RhdGlvbiBpbiByYWRpYW5zIG9mIG9uZSBwb2ludCBhcm91bmQgYSBjZW50ZXJcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjZW50ZXIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgYW4gYW5nbGUgaW4gcmFkaWFuc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgbmV3IHBvaW50IHRoYXQgaGFzIGJlZW4gcm90YXRlZFxuICAgKi9cbiAgcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcixcblxuICAvKipcbiAgICogR2V0IGEgcG9pbnQgYmFzZWQgYXJvdW5kIHRoZSByb3RhdGlvbiBpbiBkZWdyZWVzIG9mIG9uZSBwb2ludCBhcm91bmQgYSBjZW50ZXJcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjZW50ZXIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgYW4gYW5nbGUgaW4gZGVncmVlc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgbmV3IHBvaW50IHRoYXQgaGFzIGJlZW4gcm90YXRlZFxuICAgKi9cbiAgcm90YXRlRGVncmVlc0Fyb3VuZENlbnRlcixcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbHM7XG4iLCJcbmZ1bmN0aW9uIGF2ZXJhZ2VQb2ludHMocG9pbnRzKXtcbiAgdmFyIHJldFZhbCA9IHt4OiAwLCB5OiAwfTtcbiAgcG9pbnRzLmZvckVhY2gocG9pbnRzLCBmdW5jdGlvbihwb2ludCl7XG4gICAgcmV0VmFsLngrPSBwb2ludC54O1xuICAgIHJldFZhbC55Kz0gcG9pbnQueTtcbiAgfSk7XG4gIHJldFZhbC54ID0gcmV0VmFsLnggLyBwb2ludHMubGVuZ3RoO1xuICByZXRWYWwueSA9IHJldFZhbC55IC8gcG9pbnRzLmxlbmd0aDtcbiAgcmV0dXJuIHJldFZhbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhdmVyYWdlUG9pbnRzO1xuIiwiY29uc3QgcmFkaWFuc1RvRGVncmVlcyA9IHJlcXVpcmUoJy4vcmFkaWFuc1RvRGVncmVlcycpO1xuY29uc3QgcmFkaWFuc0Zyb21DZW50ZXIgPSByZXF1aXJlKCcuL3JhZGlhbnNGcm9tQ2VudGVyJyk7XG5cbmZ1bmN0aW9uIGRlZ3JlZXNGcm9tQ2VudGVyKGNlbnRlciwgcHQpe1xuICByZXR1cm4gcmFkaWFuc1RvRGVncmVlcyhyYWRpYW5zRnJvbUNlbnRlcihjZW50ZXIsIHB0KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVncmVlc0Zyb21DZW50ZXI7XG4iLCJjb25zdCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyJyk7XG5jb25zdCBkZWdyZWVzVG9SYWRpYW5zID0gcmVxdWlyZSgnLi9kZWdyZWVzVG9SYWRpYW5zJyk7IFxuXG5mdW5jdGlvbiByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyKGNlbnRlciwgcHQsIGFuZ2xlKSB7XG4gIHJldHVybiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlciwgcHQsIGRlZ3JlZXNUb1JhZGlhbnMoYW5nbGUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyOyIsIi8qKlxuICogVGhpcyB0eXBlIG9mIHNwcml0ZSBpcyBiYXNlZCBvZmYgb2YgdGhlIGV4Y2VsbGVudCBpbWFnZXMgZnJvbSBSZWluZXIncyB0aWxlc2V0czogaHR0cDovL3d3dy5yZWluZXJzdGlsZXNldHMuZGUvXG4gKiA8YnI+XG4gKiBjcmVhdHVyZXMgaGF2ZSB3YWxraW5nLCBpZGxlLCBhbmQgZHlpbmcgYW5pbWF0aW9ucyBpbiA4IGlzb21ldHJpYyBkaXJlY3Rpb25zXG4gKiBUaGUgYW5pbWF0aW9ucyBkaXJlY3Rpb25zIGFyZSBpbiBFLE4sTkUsTlcsUyxTRSxTVyxXIChhbHBoYWJldGljYWwpIG9yZGVyIHNpbXBseSBiZWNhdXNlIHRoYXQnc1xuICogaG93IHRoZXkgd2VyZSBzdGl0Y2hlZCB0b2dldGhlciB1c2luZyBJbWFnZU1hZ2ljay5cbiAqXG4gKiBAbmFtZSBDcmVhdHVyZVxuICogQGNvbnN0cnVjdG9yIENyZWF0dXJlXG4gKiBAZXh0ZW5kcyBTcHJpdGVcbiAqL1xuXG5jb25zdCBTcHJpdGUgPSByZXF1aXJlKCcuLi9TcHJpdGUnKTtcbmNvbnN0IEFuaW1hdGlvbiA9IHJlcXVpcmUoJy4uL0FuaW1hdGlvbicpO1xuXG5cbi8qKlxuKiBBIG1hcCBvZiBzdGF0aWMgY29uc3RhbnRzIGZvciBpbnRlcm5hbCB1c2VcbiogQHR5cGUge09iamVjdH1cbiogQG1lbWJlck9mIENyZWF0dXJlI1xuKiBAcHJvcGVydHkge051bWJlcn0gRUFTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IE5PUlRIIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gTk9SVEhFQVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gTk9SVEhXRVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gU09VVEggYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTT1VUSEVBU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTT1VUSFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBXRVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfV0FMS0lORyBhIHN0YXRlIHRoZSBjcmVhdHVyZSBjYW4gYmUgaW5cbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX0RZSU5HIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfSURMRSBhIHN0YXRlIHRoZSBjcmVhdHVyZSBjYW4gYmUgaW5cbiovXG5jb25zdCBFQVNUID0gMDtcbmNvbnN0IE5PUlRIID0gMTtcbmNvbnN0IE5PUlRIRUFTVCA9IDI7XG5jb25zdCBOT1JUSFdFU1QgPSAzO1xuY29uc3QgU09VVEggPSA0O1xuY29uc3QgU09VVEhFQVNUID0gNTtcbmNvbnN0IFNPVVRIV0VTVCA9IDY7XG5jb25zdCBXRVNUID0gNztcbmNvbnN0IFNUQVRFX1dBTEtJTkcgPSAwO1xuY29uc3QgU1RBVEVfRFlJTkcgPSAxO1xuY29uc3QgU1RBVEVfSURMRSA9IDI7XG5cblxuY2xhc3MgQ3JlYXR1cmUgZXh0ZW5kcyBTcHJpdGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY3JlYXR1cmUuIFdpbGwgYmUgYSB2YWx1ZSBmcm9tIHRoZSBzdGF0aWMgY29uc3RhbnRzLlxuICAgICogQHR5cGUge051bWJlcn1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfSURMRTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGEgd2Fsa2luZyBzdGF0ZVxuICAgICogQHR5cGUge0FycmF5fVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMud2Fsa2luZ0FuaW1zID0gW107XG5cbiAgICAvKipcbiAgICAqIEFuIGFycmF5IG9mIEFuaW1hdGlvbiBvYmplY3RzIChvbmUgZm9yIGVhY2ggZGlyZWN0aW9uKSB0byBkaXNwbGF5IHRoZSBjcmVhdHVyZSBpbiBhIGR5aW5nIHN0YXRlXG4gICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy5keWluZ0FuaW1zID0gW107XG5cbiAgICAvKipcbiAgICAqIEFuIGFycmF5IG9mIEFuaW1hdGlvbiBvYmplY3RzIChvbmUgZm9yIGVhY2ggZGlyZWN0aW9uKSB0byBkaXNwbGF5IHRoZSBjcmVhdHVyZSBpbiBhbiBpZGxlIHN0YXRlXG4gICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy5pZGxlQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogVGhlIGN1cnJlbnQgZGlyZWN0aW9uIHRoYXQgdGhlIGNyZWF0dXJlIGlzIHBvaW50ZWQuIFdpbGwgYmUgYSB2YWx1ZSBmcm9tIHRoZSBzdGF0aWMgY29uc3RhbnN0cy5cbiAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBFQVNUO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgY3JlYXR1cmUncyBjdXJyZW50IGRpcmVjdGlvbiAoZnJhbWUpLCBhbmQgY2hhbmdlcyB3aGljaCBhbmltYXRpb24gaXQgc2hvdWxkIGJlIHVzaW5nIGlmIG5lY2Nlc2FyeS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZURpcmVjdGlvbihlbGFwc2VkVGltZSl7XG4gICAgdGhpcy54ICs9IHRoaXMuZHggKiBlbGFwc2VkVGltZTtcbiAgICB0aGlzLnkgKz0gdGhpcy5keSAqIGVsYXBzZWRUaW1lO1xuXG4gICAgaWYodGhpcy5zdGF0ZSAhPT0gdGhpcy5zdGF0aWNzLlNUQVRFX0RZSU5HKXtcbiAgICAgIGlmKHRoaXMuZHggPiAwICYmIHRoaXMuZHkgPT09IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5FQVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPT09IDAgJiYgdGhpcy5keSA8IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5OT1JUSDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4ID4gMCAmJiB0aGlzLmR5IDwgMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLk5PUlRIRUFTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5IDwgMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLk5PUlRIV0VTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4ID09PSAwICYmIHRoaXMuZHkgPiAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuU09VVEg7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA+IDAgJiYgdGhpcy5keSA+IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5TT1VUSEVBU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA8IDAgJiYgdGhpcy5keSA+IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5TT1VUSFdFU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA8IDAgJiYgdGhpcy5keSA9PT0gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLldFU1Q7XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuZHggPT09IDAgJiYgdGhpcy5keSA9PT0gMCl7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRpY3MuU1RBVEVfSURMRTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRpY3MuU1RBVEVfV0FMS0lORztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGlzIGNyZWF0dXJlJ3MgY3VycmVudCBhbmltYXRpb24uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGVBbmltYXRpb25zKGVsYXBzZWRUaW1lKXtcbiAgICBpZih0aGlzLnN0YXRlID09PSB0aGlzLnN0YXRpY3MuU1RBVEVfV0FMS0lORyl7XG4gICAgICB0aGlzLmFuaW0gPSB0aGlzLndhbGtpbmdBbmltc1t0aGlzLmRpcmVjdGlvbl07XG4gICAgfSBlbHNlIGlmKHRoaXMuc3RhdGUgPT09IHRoaXMuc3RhdGljcy5TVEFURV9EWUlORyl7XG4gICAgICB0aGlzLmFuaW0gPSB0aGlzLmR5aW5nQW5pbXNbdGhpcy5kaXJlY3Rpb25dO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFuaW0gPSB0aGlzLmlkbGVBbmltc1t0aGlzLmRpcmVjdGlvbl07XG4gICAgfVxuICAgIHRoaXMuYW5pbS51cGRhdGUoZWxhcHNlZFRpbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gY3JlYXRlIGFuaW1hdGlvbnMgZnJvbSBhIHNoZWV0IG9mIHRpbGVzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAqIEBwYXJhbSAge051bWJlcn0gZnJhbWVDb3VudCBOdW1iZXIgb2YgZnJhbWVzIGluIHRoZSBhbmltYXRpb25cbiAgICogQHBhcmFtICB7TnVtYmVyfEFycmF5fSBmcmFtZVRpbWVzIFZhbHVlIG9yIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGFtb3VudCBvZiB0aW1lIHBlciBmcmFtZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1nIEltYWdlIHNoZWV0IHRvIGNyZWF0ZSBhbmltYXRpb24gZnJvbVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHcgV2lkdGggb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGggSGVpZ2h0IG9mIGVhY2ggdGlsZSBpbiBwaXhlbHNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5U2xvdCBTbG90IG9uIFkgYXhpcyB0byBzdGFydCBjcmVhdGluZyB0aWxlc1xuICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgQW5pbWF0aW9ucyBnZW5lcmF0ZWQgdXNpbmcgcGFyYW1ldGVyc1xuICAgKi9cbiAgY3JlYXRlQW5pbWF0aW9ucyhmcmFtZUNvdW50LCBmcmFtZVRpbWVzLCBpbWcsIGgsIHcsIHlTbG90KXtcbiAgICB2YXIgYW5pbXMgPSBbXTtcbiAgICB2YXIgaXNGVEFycmF5ID0gQXJyYXkuaXNBcnJheShmcmFtZVRpbWVzKTtcbiAgICB2YXIgY3VycmVudEZyYW1lVGltZSA9IDE7XG4gICAgaWYoIXlTbG90KXtcbiAgICAgIHlTbG90ID0gMDtcbiAgICB9XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IDg7IGkrKyl7XG4gICAgICBhbmltc1tpXSA9IG5ldyBBbmltYXRpb24oe1xuICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgIHdpZHRoOiB3LFxuICAgICAgICBpbWFnZTogaW1nXG4gICAgICB9KTtcbiAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBmcmFtZUNvdW50OyBqKyspe1xuICAgICAgICBpZihpc0ZUQXJyYXkpe1xuICAgICAgICAgIGN1cnJlbnRGcmFtZVRpbWUgPSBmcmFtZVRpbWVzW2pdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRGcmFtZVRpbWUgPSBmcmFtZVRpbWVzO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1zW2ldLmFkZEZyYW1lKGN1cnJlbnRGcmFtZVRpbWUsIGogKyBmcmFtZUNvdW50ICogaSwgeVNsb3QpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYW5pbXM7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDcmVhdHVyZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQ2lyY2xlID0gcmVxdWlyZSgnLi9lbnRpdGllcy9DaXJjbGUnKTtcbmNvbnN0IE11bHRpUG9seWdvbiA9IHJlcXVpcmUoJy4vZW50aXRpZXMvTXVsdGlQb2x5Z29uJyk7XG5jb25zdCBQb2x5Z29uID0gcmVxdWlyZSgnLi9lbnRpdGllcy9Qb2x5Z29uJyk7XG5jb25zdCBSZWN0YW5nbGUgPSByZXF1aXJlKCcuL2VudGl0aWVzL1JlY3RhbmdsZScpO1xuXG52YXIgZW50aXRpZXMgPSB7XG4gIENpcmNsZSxcbiAgTXVsdGlQb2x5Z29uLFxuICBQb2x5Z29uLFxuICBSZWN0YW5nbGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW50aXRpZXM7XG4iLCIvKipcbiAqIFRoaXMgRW50aXR5IGlzIGZvciBidWlsZGluZyBjb21wbGV4IGFuZCBwb3NzaWJseSBjb25jYXZlIHNoYXBlc1xuICogQG5hbWUgTXVsdGlQb2x5Z29uXG4gKiBAY29uc3RydWN0b3IgTXVsdGlQb2x5Z29uXG4gKiBAZXh0ZW5kcyBFbnRpdHlcbiAqL1xuXG5jb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xuY29uc3Qgc2NhbGVQb2ludHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy9zY2FsZVBvaW50cycpO1xuY29uc3QgcG9pbnRJblBvbHlnb24gPSByZXF1aXJlKCcuLi8uLi91dGlscy9wb2ludEluUG9seWdvbicpO1xuY29uc3QgdHJhbnNsYXRlUG9pbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvdHJhbnNsYXRlUG9pbnRzJyk7XG5cbmNsYXNzIE11bHRpUG9seWdvbiBleHRlbmRzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBwb2x5Z29uc1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgTXVsdGlQb2x5Z29uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb2x5cyA9IFtdO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBlYWNoIHBvbHlnb24gaW4gdGhlIGVudGl0eVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIE11bHRpUG9seWdvbiNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggdGhlIEhUTUw1IDJkIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIHNjYWxlIHRvIGRyYXcgdGhlIGVudGl0eSBhdFxuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcblxuICAgIGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLnBvbHlzLmxlbmd0aDsgaisrKXtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oKHRoaXMueCArIHRoaXMucG9seXNbal1bMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9seXNbal1bMF0ueSkgKiBzY2FsZSk7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMucG9seXNbal0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgIGN0eC5saW5lVG8oKHRoaXMucG9seXNbal1baV0ueCArIHRoaXMueCkgKiBzY2FsZSwgKHRoaXMucG9seXNbal1baV0ueSArIHRoaXMueSkgKiBzY2FsZSk7XG4gICAgICB9XG4gICAgICBjdHgubGluZVRvKCh0aGlzLnggKyB0aGlzLnBvbHlzW2pdWzBdLngpICogc2NhbGUsICh0aGlzLnkgKyB0aGlzLnBvbHlzW2pdWzBdLnkpICogc2NhbGUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgc2hhcGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMucG9seXMgPSBzY2FsZVBvaW50cyh0aGlzLnBvbHlzLCBzY2FsZSk7XG4gICAgc3VwLnNjYWxlU2hhcGUoc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBNdWx0aVBvbHlnb24uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgTXVsdGlQb2x5Z29uI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICBmb3IodmFyIGogPSAwOyBqIDwgdGhpcy5wb2x5cy5sZW5ndGg7IGorKyl7XG4gICAgICBpZihwb2ludEluUG9seWdvbihwb2ludCwgdHJhbnNsYXRlUG9pbnRzKHRoaXMucG9seXNbal0sIHRoaXMpKSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IE11bHRpUG9seWdvbjtcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgcmVwcmVzZW50cyBhIFJlY3RhbmdsZVxuICogQG5hbWUgUmVjdGFuZ2xlXG4gKiBAY29uc3RydWN0b3IgUmVjdGFuZ2xlXG4gKiBAZXh0ZW5kcyBFbnRpdHlcbiAqL1xuXG5jb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xuXG5jbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogSGFsZiBvZiB0aGUgUmVjdGFuZ2xlJ3MgdG90YWwgd2lkdGhcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhhbGZXaWR0aCA9IDE7XG4gICAgLyoqXG4gICAgICogSGFsZiBvZiB0aGUgUmVjdGFuZ2xlJ3MgdG90YWwgd2lkdGhcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhhbGZIZWlnaHQgPSAxO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgUmVjdGFuZ2xlIGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY3R4IFRoZSBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSBhdCB3aGljaCB0byBkcmF3XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgICh0aGlzLngtdGhpcy5oYWxmV2lkdGgpICogc2NhbGUsXG4gICAgICAodGhpcy55LXRoaXMuaGFsZkhlaWdodCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZXaWR0aCoyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZkhlaWdodCoyKSAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICh0aGlzLngtdGhpcy5oYWxmV2lkdGgpICogc2NhbGUsXG4gICAgICAodGhpcy55LXRoaXMuaGFsZkhlaWdodCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZXaWR0aCoyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZkhlaWdodCoyKSAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgc2hhcGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMuaGFsZkhlaWdodCA9IHRoaXMuaGFsZkhlaWdodCAqIHNjYWxlO1xuICAgIHRoaXMuaGFsZldpZHRoID0gdGhpcy5oYWxmV2lkdGggKiBzY2FsZTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgUmVjdGFuZ2xlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBvaW50IGlzIGluIHNoYXBlIGVsc2UgZmFsc2VcbiAgICovXG4gIHBvaW50SW5TaGFwZShwb2ludCl7XG4gICAgcmV0dXJuICgocG9pbnQueCA+PSAodGhpcy54IC0gdGhpcy5oYWxmV2lkdGgpKSAmJiAocG9pbnQueCA8PSAodGhpcy54ICsgdGhpcy5oYWxmV2lkdGgpKSAmJiAocG9pbnQueSA+PSAodGhpcy55IC0gdGhpcy5oYWxmSGVpZ2h0KSkgJiYgKHBvaW50LnkgPD0gKHRoaXMueSArIHRoaXMuaGFsZkhlaWdodCkpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY3RhbmdsZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgRGlzdGFuY2UgPSByZXF1aXJlKCcuL2pvaW50cy9EaXN0YW5jZScpO1xuY29uc3QgUHJpc21hdGljID0gcmVxdWlyZSgnLi9qb2ludHMvUHJpc21hdGljJyk7XG5jb25zdCBSZXZvbHV0ZSA9IHJlcXVpcmUoJy4vam9pbnRzL1Jldm9sdXRlJyk7XG5cbnZhciBqb2ludHMgPSB7XG4gIERpc3RhbmNlLFxuICBQcmlzbWF0aWMsXG4gIFJldm9sdXRlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGpvaW50cztcbiIsIi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgZGlzdGFuY2Ugam9pbnQgYmV0d2VlbiB0d28gYm9kaWVzLlxuICogVGhpcyB0eXBlIG9mIGpvaW50IGZvcmNlcyB0d28gYm9kaWVzIHRvIGtlZXAgYSBjb25zdGFudCBkaXN0YW5jZSBmb3IgZWFjaCBvdGhlci5cbiAqIEBuYW1lIERpc3RhbmNlXG4gKiBAY29uc3RydWN0b3IgRGlzdGFuY2VcbiAqIEBleHRlbmRzIEpvaW50XG4gKi9cblxuY29uc3QgSm9pbnQgPSByZXF1aXJlKCcuL0pvaW50Jyk7XG5cblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJEaXN0YW5jZUpvaW50RGVmID0gQm94MkQuRHluYW1pY3MuSm9pbnRzLmIyRGlzdGFuY2VKb2ludERlZjtcblxuY2xhc3MgRGlzdGFuY2UgZXh0ZW5kcyBKb2ludCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBIHBvaW50IG9uIHRoZSBzZWNvbmQgZW50aXR5IHdoZXJlIHRoZSBqb2ludCB3aWxsIGJlIGF0dGFjaGVkLiBJZiBubyBwb2ludCBpcyBzcGVjaWZpZWQsIHRoZSBzZWNvbmQgYm9keSB3aWxsIGJlIGF0dGFjaGVkIGF0IGl0cyBjZW50ZXIgcG9pbnQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgRGlzdGFuY2UjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlQb2ludDIgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZXMgdGhlIHBvc2l0aW9ucyBib2RpZXMgdGhhdCB0aGUgam9pbnQgYXJlIGNvbm5lY3RlZCBhdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBEaXN0YW5jZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBzY2FsZSB0byBtdWx0aXBseSB0aGUgZGltZW50aW9ucyBieVxuICAgKi9cbiAgc2NhbGVKb2ludExvY2F0aW9uKHNjYWxlKXtcbiAgICBpZihzY2FsZSAmJiB0aGlzLmJvZHlQb2ludDIpe1xuICAgICAgdGhpcy5ib2R5UG9pbnQyLnggPSB0aGlzLmJvZHlQb2ludDIueCAqIHNjYWxlO1xuICAgICAgdGhpcy5ib2R5UG9pbnQyLnkgPSB0aGlzLmJvZHlQb2ludDIueSAqIHNjYWxlO1xuICAgICAgdGhpcy5hbHJlYWR5U2NhbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgc3VwZXIuc2NhbGVKb2ludExvY2F0aW9uKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBhZGRzIHRoaXMgam9pbnQgaW4gdGhlIEJveDJkIHdvcmxkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIERpc3RhbmNlI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICBjb25zdCBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgIGNvbnN0IGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgaWYoYm9keTEgJiYgYm9keTIpe1xuICAgICAgICBsZXQgdmVjMSwgdmVjMjtcbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICB2ZWMxID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDEueCwgdGhpcy5ib2R5UG9pbnQxLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuYm9keVBvaW50Mil7XG4gICAgICAgICAgdmVjMiA9IG5ldyBCMlZlYzIodGhpcy5ib2R5UG9pbnQyLngsIHRoaXMuYm9keVBvaW50Mi55KTtcbiAgICAgICAgfVxuICAgICAgICB2ZWMxID0gdmVjMSB8fCBib2R5MS5HZXRXb3JsZENlbnRlcigpO1xuICAgICAgICB2ZWMyID0gdmVjMiB8fCBib2R5Mi5HZXRXb3JsZENlbnRlcigpO1xuICAgICAgICBjb25zdCBqb2ludCA9IG5ldyBCMkRpc3RhbmNlSm9pbnREZWYoKTtcbiAgICAgICAgam9pbnQuSW5pdGlhbGl6ZShib2R5MSwgYm9keTIsIHZlYzEsIHZlYzIpO1xuXG4gICAgICAgIGlmICh0aGlzLmpvaW50QXR0cmlidXRlcykge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oam9pbnQsIHRoaXMuam9pbnRBdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm94LmIyV29ybGQuQ3JlYXRlSm9pbnQoam9pbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERpc3RhbmNlO1xuIiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBwcmlzbWF0aWMgam9pbnQgYmV0d2VlbiB0d28gYm9kaWVzLlxuICogVGhpcyB0eXBlIG9mIGpvaW50IGZvcmNlcyBhIGJvZHkgdG8ga2VlcCBpdHMgYW5nbGUgcm90YXRpb24gY29uc2l0ZW50IHdpdGggYW5vdGhlciBib2R5XG4gKiBAbmFtZSBQcmlzbWF0aWNcbiAqIEBjb25zdHJ1Y3RvciBQcmlzbWF0aWNcbiAqIEBleHRlbmRzIEpvaW50XG4gKi9cblxuY29uc3QgSm9pbnQgPSByZXF1aXJlKCcuL0pvaW50Jyk7XG5cbi8vIGJveDJkIGdsb2JhbHNcbmNvbnN0IEIyVmVjMiA9IEJveDJELkNvbW1vbi5NYXRoLmIyVmVjMjtcbmNvbnN0IEIyUHJpc21hdGljSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJQcmlzbWF0aWNKb2ludERlZjtcblxuY2xhc3MgUHJpc21hdGljIGV4dGVuZHMgSm9pbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHdpdGggeCBhbmQgeSBudW1lcmljIGNvbXBvbmVudHMgcmVwcmVzZW50aW5nIHRoZSBsaW5lIGluIHdoaWNoIHRoZSBlbnRpdGllcyBjYW4gbW92ZSByZWxhdGl2ZSB0byBlYWNoIG90aGVyXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgUHJpc21hdGljI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5heGlzU2NhbGUgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBhZGRzIHRoaXMgam9pbnQgaW4gdGhlIEJveDJkIHdvcmxkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFByaXNtYXRpYyNcbiAgICogQHBhcmFtIHtCb3h9IHRoZSBib3ggaW4gd2hpY2ggdG8gY3JlYXRlIHRoZSBqb2ludC5cbiAgICogQHJldHVybiB7YjJKb2ludH0gSm9pbnQgY3JlYXRlZCBieSBib3gyZFxuICAgKi9cbiAgY3JlYXRlQjJKb2ludChib3gpe1xuICAgIGlmKGJveCAmJiBib3guYm9kaWVzTWFwICYmIGJveC5iMldvcmxkICYmIGJveC5qb2ludHNNYXAgJiYgIWJveC5qb2ludHNNYXBbdGhpcy5pZF0pe1xuICAgICAgY29uc3QgYm9keTEgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMV07XG4gICAgICBjb25zdCBib2R5MiA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQyXTtcbiAgICAgIGlmKGJvZHkxICYmIGJvZHkyKXtcbiAgICAgICAgbGV0IHZlYzE7XG4gICAgICAgIGlmKHRoaXMuYm9keVBvaW50MSl7XG4gICAgICAgICAgdmVjMSA9IG5ldyBCMlZlYzIodGhpcy5ib2R5UG9pbnQxLngsIHRoaXMuYm9keVBvaW50MS55KTtcbiAgICAgICAgfVxuICAgICAgICB2ZWMxID0gdmVjMSB8fCBib2R5MS5HZXRXb3JsZENlbnRlcigpO1xuICAgICAgICB2YXIgam9pbnQgPSBuZXcgQjJQcmlzbWF0aWNKb2ludERlZigpO1xuICAgICAgICB2YXIgYXhpcztcbiAgICAgICAgaWYodGhpcy5heGlzU2NhbGUpe1xuICAgICAgICAgIGF4aXMgPSBuZXcgQjJWZWMyKHRoaXMuYXhpc1NjYWxlLngsIHRoaXMuYXhpc1NjYWxlLnkpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBheGlzID0gbmV3IEIyVmVjMigxLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBqb2ludC5Jbml0aWFsaXplKGJvZHkxLCBib2R5MiwgdmVjMSwgYXhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuam9pbnRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3guYjJXb3JsZC5DcmVhdGVKb2ludChqb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUHJpc21hdGljO1xuIiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSByZXZvbHV0ZSBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIGFsbG93IGZvciByb3RhdGlvbiBvZiBvbmUgYm9keSBhcm91bmQgYSBwb2ludCBvZiBhbm90aGVyLlxuICogQG5hbWUgUmV2b2x1dGVcbiAqIEBjb25zdHJ1Y3RvciBSZXZvbHV0ZVxuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJSZXZvbHV0ZUpvaW50RGVmID0gQm94MkQuRHluYW1pY3MuSm9pbnRzLmIyUmV2b2x1dGVKb2ludERlZjtcblxuXG5jbGFzcyBSZXZvbHV0ZSBleHRlbmRzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgYWRkcyB0aGlzIGpvaW50IGluIHRoZSBCb3gyZCB3b3JsZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXZvbHV0ZSNcbiAgICogQHBhcmFtIHtCb3h9IHRoZSBib3ggaW4gd2hpY2ggdG8gY3JlYXRlIHRoZSBqb2ludC5cbiAgICogQHJldHVybiB7YjJKb2ludH0gSm9pbnQgY3JlYXRlZCBieSBib3gyZFxuICAgKi9cbiAgY3JlYXRlQjJKb2ludChib3gpe1xuICAgIGlmKGJveCAmJiBib3guYm9kaWVzTWFwICYmIGJveC5iMldvcmxkICYmIGJveC5qb2ludHNNYXAgJiYgIWJveC5qb2ludHNNYXBbdGhpcy5pZF0pe1xuICAgICAgICB2YXIgYm9keTEgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMV07XG4gICAgICAgIHZhciBib2R5MiA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQyXTtcbiAgICAgICAgaWYoYm9keTEgJiYgYm9keTIpe1xuICAgICAgICAgIHZhciB2ZWMxO1xuICAgICAgICAgIGlmKHRoaXMuYm9keVBvaW50MSl7XG4gICAgICAgICAgICB2ZWMxID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDEueCwgdGhpcy5ib2R5UG9pbnQxLnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2ZWMxID0gdmVjMSB8fCBib2R5MS5HZXRXb3JsZENlbnRlcigpO1xuICAgICAgICAgIHZhciBqb2ludCA9IG5ldyBCMlJldm9sdXRlSm9pbnREZWYoKTtcbiAgICAgICAgICB2YXIgYXhpcztcbiAgICAgICAgICBqb2ludC5Jbml0aWFsaXplKGJvZHkxLCBib2R5MiwgdmVjMSwgYXhpcyk7XG5cbiAgICAgICAgICBpZiAodGhpcy5qb2ludEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oam9pbnQsIHRoaXMuam9pbnRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGJveC5iMldvcmxkLkNyZWF0ZUpvaW50KGpvaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZXZvbHV0ZTtcbiIsIi8qKlxuICogVGhpcyBjb250YWN0IGxpc3RlbmVyIGZvciB0aGUgQm94MmQgd29ybGQgYXNzaWducyBjb2xsaXNpb24gb2JqZWN0cyB0byBlbnRpdGllcyB3aGVuIHRoZXkgY29sbGlkZS5cbiAqIEBuYW1lIENvbnRhY3RcbiAqIEBjb25zdHJ1Y3RvciBDb250YWN0XG4gKi9cblxuY2xhc3MgQ29udGFjdCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5jb2xsaXNpb25zID0gdGhpcy5jb2xsaXNpb25zIHx8IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgc3RhdGUgb2YgdGhlIGNvbnRhY3QgbGlzdGVuZXIgcGVyIGl0ZXJhdGlvbiBvZiB0aGUgYm94IHdvcmxkIGNhbGN1bGF0aW9ucy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDb250YWN0I1xuICAgKi9cbiAgcmVzZXQoKXtcbiAgICB0aGlzLmNvbGxpc2lvbnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGJveDJkIGNvbGxpc29uIGJlZ2luc1xuICAgKiBAZnVuY3Rpb24gYmVnaW5Db250YWN0XG4gICAqIEBtZW1iZXJPZiBDb250YWN0I1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRBIElkIG9mIGJvZHkgQVxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRCIElkIG9mIGJvZHkgQlxuICAgKiBAcGFyYW0ge2IyQ29udGFjbnR9IGNvbnRhY3QgVGhlIGJveDJkIGNvbnRhY3Qgb2JqZWN0LlxuICAgKi9cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBib3gyZCBjb2xsaXNvbiBlbmRzXG4gICAqIEBmdW5jdGlvbiBlbmRDb250YWN0XG4gICAqIEBtZW1iZXJPZiBDb250YWN0I1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRBIElkIG9mIGJvZHkgQVxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRCIElkIG9mIGJvZHkgQlxuICAgKiBAcGFyYW0ge2IyQ29udGFjdH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICovXG5cbiAgLyoqXG4gICAqIENhbGxlZCBiZWZvcmUgYSBib3gyZCBjb2xsaXNvbiBpcyByZXNvbHZlZFxuICAgKiBAZnVuY3Rpb24gcHJlU29sdmVcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRNYW5pZm9sZCBPbGQgbWFuaWZvbGQgb2JqZWN0IHBhc3NlZCBpbnRvIHByZVNvbHZlIGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7YjJDb250YWN0fSBjb250YWN0IFRoZSBib3gyZCBjb250YWN0IG9iamVjdC5cbiAgKi9cblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIGEgYm94MmQgY29sbGlzb24gaXMgcmVzb2x2ZWRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDb250YWN0I1xuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRBIElkIG9mIGJvZHkgQVxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWRCIElkIG9mIGJvZHkgQlxuICAgKiBAcGFyYW0ge09iamVjdH0gaW1wdWxzZSBJbXB1bHNlIG9iamVjdCBwYXNzZWQgaW50byBwb3N0U29sdmUgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtiMkNvbnRhY3R9IGNvbnRhY3QgVGhlIGJveDJkIGNvbnRhY3Qgb2JqZWN0LlxuICAqL1xuICBwb3N0U29sdmUoaWRBLCBpZEIsIGltcHVsc2UsIGNvbnRhY3Qpe1xuICAgIHRoaXMuY29sbGlzaW9uc1tpZEFdID0gdGhpcy5jb2xsaXNpb25zW2lkQV0gfHwgW107XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQV0ucHVzaCh7aWQ6IGlkQiwgaW1wdWxzZTogaW1wdWxzZS5ub3JtYWxJbXB1bHNlc1swXX0pO1xuICAgIHRoaXMuY29sbGlzaW9uc1tpZEJdID0gdGhpcy5jb2xsaXNpb25zW2lkQl0gfHwgW107XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQl0ucHVzaCh7aWQ6IGlkQSwgaW1wdWxzZTogaW1wdWxzZS5ub3JtYWxJbXB1bHNlc1swXX0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29udGFjdDtcbiIsIi8qKlxuICogVGhpcyBpcyBhIGNvbnZlbmllbmNlIG9iamVjdCB0aGF0IGFsbG93cyBmb3IgcXVpY2tseSBjcmVhdGluZyBhIGJveDJkIGJhc2VkIGdhbWUuXG4gKiBAbmFtZSBCb3hHYW1lXG4gKiBAY29uc3RydWN0b3IgQm94R2FtZVxuICogQGV4dGVuZHMgR2FtZUNvcmVcbiAqL1xuXG5jb25zdCBHYW1lQ29yZSA9IHJlcXVpcmUoJy4uL0dhbWVDb3JlJyk7XG5jb25zdCBCb3ggPSByZXF1aXJlKCcuL0JveCcpO1xuXG5jbGFzcyBCb3hHYW1lIGV4dGVuZHMgR2FtZUNvcmUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIGNvbnNvbGUubG9nKCdib3hnYW1lIG9wdGlvbnMnLCBvcHRpb25zKTtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5zdGFuY2Ugb2YgQm94IHVzZWQgZm9yIHRoaXMgZ2FtZS5cbiAgICAgKiBAdHlwZSB7Qm94fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib3ggPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgYm94IHNob3VsZCBwZXJmb3JtIGNhbGN1bGF0aW9ucyBkdXJpbmcgaXRzIHVwZGF0ZSBjeWNsZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib3hVcGRhdGluZyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBFbnRpdHkgb2JqZWN0cyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgQm94XG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW50aXRpZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgSm9pbnQgb2JqZWN0cyB0aGF0IGFyZSBhZGRlZCB0byB0aGUgQm94XG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuam9pbnRzID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICBpZighdGhpcy5ib3gpe1xuICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KG9wdGlvbnMuYm94T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuZW50aXRpZXMpe1xuICAgICAgdGhpcy5lbnRpdGllcyA9IHt9O1xuICAgIH1cblxuICAgIGlmKCF0aGlzLmpvaW50cyl7XG4gICAgICB0aGlzLmpvaW50cyA9IHt9O1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGFsbCBwaHlzaWNzIGNhbGN1bGF0aW9ucyBpbiB0aGUgQm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBtaWxsaXMgVGhlIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgcGFzc2VkIHNpbmNlIGxhc3QgaXRlcmF0aW9uIG9mIGdhbWVMb29wXG4gICAqL1xuICB1cGRhdGVCb3gobWlsbGlzKXtcbiAgICBpZih0aGlzLmJveFVwZGF0aW5nKXtcbiAgICAgIHRoaXMuYm94LnVwZGF0ZShtaWxsaXMpO1xuICAgICAgdGhpcy5ib3gudXBkYXRlRXh0ZXJuYWxTdGF0ZSh0aGlzLmVudGl0aWVzKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIEVudGl0eSBvYmplY3QgdG8gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgRW50aXR5IHRvIGFkZFxuICAgKi9cbiAgYWRkQm9keShlbnRpdHkpe1xuICAgIHRoaXMuZW50aXRpZXNbZW50aXR5LmlkXSA9IGVudGl0eTtcbiAgICB0aGlzLmJveC5hZGRCb2R5KGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHNlcmllcyBvZiBFbnRpdHkgb2JqZWN0cyB0byBlbnRpdGllcyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtBcnJheXxFbnRpdHl9IGVudGl0aWVzIENhbiB0YWtlIGFuIGFycmF5IG9mIEVudGl0eSBvYmplY3RzIG9yIGFueSBudW1iZXIgb2YgRW50aXR5IG9iamVjdHNcbiAgICovXG4gIGFkZEJvZGllcyhlbnRpdGllcyl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoZW50aXRpZXMpKSB7XG4gICAgICBlbnRpdGllcyA9IFtlbnRpdGllc107XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBlbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIHRoaXMuYWRkQm9keShlbnRpdHkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gRW50aXR5IG9iamVjdCBmcm9tIGVudGl0aWVzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVCb2R5KGVudGl0eSl7XG4gICAgdGhpcy5ib3gucmVtb3ZlQm9keShlbnRpdHkuaWQpO1xuICAgIGRlbGV0ZSB0aGlzLmVudGl0aWVzW2VudGl0eS5pZF07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHNlcmllcyBvZiBFbnRpdHkgb2JqZWN0cyBmcm9tIGVudGl0aWVzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEVudGl0eX0gZW50aXRpZXMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgRW50aXR5IG9iamVjdHMgb3IgYW55IG51bWJlciBvZiBFbnRpdHkgb2JqZWN0c1xuICAgKi9cbiAgcmVtb3ZlQm9kaWVzKGVudGl0aWVzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcbiAgICAgIGVudGl0aWVzID0gW2VudGl0aWVzXTtcbiAgICB9XG4gICAgZW50aXRpZXMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUJvZHkoZW50aXR5KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgSm9pbnQgdG8gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0pvaW50fSBqb2ludCBKb2ludCB0byBhZGRcbiAgICovXG4gIGFkZEpvaW50KGpvaW50KXtcbiAgICB0aGlzLmpvaW50c1tqb2ludC5pZF0gPSBqb2ludDtcbiAgICB0aGlzLmJveC5hZGRKb2ludChqb2ludCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHNlcmllcyBvZiBKb2ludCBvYmplY3RzIHRvIGpvaW50cyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtBcnJheXxKb2ludH0gam9pbnRzIENhbiB0YWtlIGFuIGFycmF5IG9mIEpvaW50IG9iamVjdHMgb3IgYW55IG51bWJlciBvZiBKb2ludCBvYmplY3RzXG4gICAqL1xuICBhZGRKb2ludHMoam9pbnRzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShqb2ludHMpKSB7XG4gICAgICBqb2ludHMgPSBbam9pbnRzXTtcbiAgICB9XG4gICAgam9pbnRzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgdGhpcy5hZGRKb2ludChlbnRpdHkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBKb2ludCBmcm9tIGpvaW50cyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtICB7Sm9pbnR9IGpvaW50IEpvaW50IHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlSm9pbnQoam9pbnQpe1xuICAgIHRoaXMuYm94LnJlbW92ZUpvaW50KGpvaW50LmlkKTtcbiAgICBkZWxldGUgdGhpcy5qb2ludHNbam9pbnQuaWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBzZXJpZXMgb2YgSm9pbnQgb2JqZWN0cyBmcm9tIGpvaW50cyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtBcnJheXxKb2ludH0gam9pbnRzIENhbiB0YWtlIGFuIGFycmF5IG9mIEpvaW50IG9iamVjdHMgb3IgYW55IG51bWJlciBvZiBKb2ludCBvYmplY3RzXG4gICAqL1xuICByZW1vdmVKb2ludHMoam9pbnRzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShqb2ludHMpKSB7XG4gICAgICBqb2ludHMgPSBbam9pbnRzXTtcbiAgICB9XG4gICAgam9pbnRzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVKb2ludChlbnRpdHkpO1xuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQm94R2FtZTtcblxuIiwiXG5mdW5jdGlvbiBkcmF3KGN0eCwgc2NhbGUpIHtcbiAgY29uc3Qge2Z1bGxXLCBmdWxsSCwgaGV4U2lkZSwgc2lkZVcsIHNpbnQxLCBhbmcxLCBzaW50MiwgYW5nMn0gPSB0aGlzLm1lYXN1cmVtZW50cztcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbMF0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhzaWRlVywgMSk7XG4gIGN0eC5saW5lVG8oZnVsbFcgLSBzaWRlVywgMSk7XG4gIGN0eC5zdHJva2UoKTtcblxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbM10uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhzaWRlVywgZnVsbEgpO1xuICBjdHgubGluZVRvKGZ1bGxXIC0gc2lkZVcsIGZ1bGxIKTtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1sxXS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKGZ1bGxXIC0gc2lkZVcsIDApO1xuICBjdHgubGluZVRvKGZ1bGxXLCBmdWxsSC8yKTtcbiAgY3R4LnN0cm9rZSgpO1xuICBcbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzJdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oZnVsbFcsIGZ1bGxILzIpO1xuICBjdHgubGluZVRvKGZ1bGxXIC0gc2lkZVcsIGZ1bGxIKTtcbiAgY3R4LnN0cm9rZSgpO1xuICBcbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzRdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oc2lkZVcsIGZ1bGxIKTtcbiAgY3R4LmxpbmVUbygwLCBmdWxsSC8yKTtcbiAgY3R4LnN0cm9rZSgpO1xuICBcbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzVdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oMCwgZnVsbEgvMik7XG4gIGN0eC5saW5lVG8oc2lkZVcsIDApO1xuICBjdHguc3Ryb2tlKCk7XG5cbiAgdGhpcy5wbGF5ZXJzLmZvckVhY2goKHApID0+IHtcbiAgICBpZighcC5mYWNlLmRlYWQpIHtcbiAgICAgIHAucGFkZGxlc1swXS5kcmF3KGN0eCwgc2NhbGUpO1xuICAgIH1cbiAgICBwLmZhY2UuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfSk7XG5cbiAgT2JqZWN0LmtleXModGhpcy5lbnRpdGllcykuZm9yRWFjaCgoaykgPT4ge1xuICAgIGlmKCF0aGlzLmVudGl0aWVzW2tdLmhpZGRlbikge1xuICAgICAgdGhpcy5lbnRpdGllc1trXS5kcmF3KGN0eCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLmJhbGwuZHJhdyhjdHgsIHNjYWxlKTtcblxuICBcbn1cblxuZXhwb3J0IGRlZmF1bHQgZHJhdzsiLCJpbXBvcnQgQ2lyY2xlIGZyb20gJ2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZSc7XG5pbXBvcnQgcmFkaWFuc0Zyb21DZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInO1xuaW1wb3J0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcic7XG5cbmNvbnN0IG9yaWdpbiA9IHt4OiAwLCB5OiAwfTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFsbCBleHRlbmRzIENpcmNsZSB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIC8vIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIC8vIGN0eC5zYXZlKCk7XG4gICAgLy8gY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIC8vIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgLy8gY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIC8vIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIHRoaXMueCAqIHNjYWxlIC0gKHRoaXMuaW1nLndpZHRoIC8gMiksIHRoaXMueSAqIHNjYWxlIC0gKHRoaXMuaW1nLmhlaWdodCAvIDIpKTtcbiAgICAvLyBjdHgucmVzdG9yZSgpO1xuXG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgY29uc3QgeCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgKiBzY2FsZTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLnB0UmFkaXVzOyAvLyAvIHNjYWxlO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTI3LDAsMC42NiknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgaWYodGhpcy5saW5lYXJWZWxvY2l0eSkge1xuICAgICAgY29uc3QgdGFpbERpc3J1cHRpb24gPSAwLjA2O1xuICAgICAgY29uc3QgdGFpbERpc3QgPSAwLjg1O1xuXG4gICAgICBjb25zdCByYWRzID0gcmFkaWFuc0Zyb21DZW50ZXIob3JpZ2luLCB0aGlzLmxpbmVhclZlbG9jaXR5KTtcbiAgICAgIGNvbnN0IGNlbnRlciA9IHt4LCB5fTtcbiAgICAgIGNvbnN0IHRhaWxTZWdtZW50cyA9IHRoaXMuY2F1Z2h0ID8gWzEsIDJdIDogWzEsIDIsIDMsIDQsIDVdO1xuICAgICAgY29uc3QgdGFpbHMgPSB0YWlsU2VnbWVudHMubWFwKCh0LCBpZHgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyLCB7eCwgeTogeSAtIChyYWRpdXMgKiAodGFpbERpc3QgKiB0KSl9LCByYWRzICsgTWF0aC5QSSArICh0ICUgMiA/IHRhaWxEaXNydXB0aW9uIDogLXRhaWxEaXNydXB0aW9uKSk7XG4gICAgICB9KTtcblxuICAgICAgXG4gICAgICB0YWlscy5mb3JFYWNoKCh0LCBpZHgpID0+IHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMCwwLjUpJztcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHQueCwgdC55LCByYWRpdXMgLSAocmFkaXVzICogKChpZHggKyAxKSAqIDAuMTUpKSwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9KTtcbiAgICAgIFxuXG5cbiAgICB9XG5cbiAgICBcblxuXG4gICAgXG4gICAgXG5cbiAgfVxufVxuIiwiXG5jb25zb2xlLmxvZygnd3RmIHRvbyBtYW55IGJyaWNrcz8nKTtcblxubGV0IGJyaWNrcyA9IFtcbiAgWzYsMV0sWzEwLDFdLFsxNCwxXSxbMzQsMV0sWzM4LDFdLFs0MiwxXSxcbiAgWzgsM10sWzEyLDNdLFsxNiwzXSxbMzIsM10sWzM2LDNdLFs0MCwzXSxcbiAgWzYsNV0sWzEwLDVdLFsxNCw1XSxbMzQsNV0sWzM4LDVdLFs0Miw1XSxcbiAgWzgsN10sWzEyLDddLFsxNiw3XSxbMzIsN10sWzM2LDddLFs0MCw3XSxcbiAgWzEwLDldLFsxNCw5XSxbMTgsOV0sWzMwLDldLFszNCw5XSxbMzgsOV0sXG4gIFsxMiwxMV0sWzE2LDExXSxbMjAsMTFdLFsyNCwxMV0sWzI4LDExXSxbMzIsMTFdLFszNiwxMV0sXG4gIFsxNCwxM10sWzE4LDEzXSxbMjIsMTNdLFsyNiwxM10sWzMwLDEzXSxbMzQsMTNdLFxuICBbMTIsMTVdLFsxNiwxNV0sWzIwLDE1XSxbMjQsMTVdLFsyOCwxNV0sWzMyLDE1XSxbMzYsMTVdLFxuICBbMTgsMTddLFsyMiwxN10sWzI2LDE3XSxbMzAsMTddLFxuICBbMjQsMTldXG5dO1xuXG5cbmJyaWNrcyA9IGJyaWNrcy5tYXAoKGIpID0+IHtcbiAgYiA9IFtiWzBdICogMTIuNSwgYlsxXSAqIDEyLjVdO1xuICBiWzBdID0gYlswXSAtIDMwMDtcbiAgcmV0dXJuIGI7XG59KTtcblxuXG5leHBvcnQgZGVmYXVsdCBicmlja3M7XG4iLCJpbXBvcnQgUG9seWdvbiBmcm9tICdmcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9Qb2x5Z29uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJpY2sgZXh0ZW5kcyBQb2x5Z29uIHtcbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgY29uc3Qgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIFxuICAgIGN0eC5zYXZlKCk7XG4gICAgLy9jdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgY3R4LmxpbmVKb2luID0gXCJyb3VuZFwiO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCx0aGlzLnByZXksIDAsIHRoaXMucHJleSArIHRoaXMuaGFsZkhlaWdodCAqIDIpO1xuXG4gICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBjdHguZmlsbFN0eWxlKTtcbiAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICcjNDQ0Jyk7XG5cbiAgICBjdHgudHJhbnNsYXRlKHRoaXMucHJleCwgdGhpcy5wcmV5KTtcbiAgICBjdHgucm90YXRlKHRoaXMucHJlQW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLnByZXgpLCAtKHRoaXMucHJleSkpO1xuICAgIC8vXG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgdGhpcy5wcmV4LXRoaXMuaGFsZldpZHRoLFxuICAgICAgdGhpcy5wcmV5LXRoaXMuaGFsZkhlaWdodCxcbiAgICAgIHRoaXMuaGFsZldpZHRoKjIsXG4gICAgICB0aGlzLmhhbGZIZWlnaHQqMlxuICAgICk7XG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICB0aGlzLnByZXgtdGhpcy5oYWxmV2lkdGgsXG4gICAgICB0aGlzLnByZXktdGhpcy5oYWxmSGVpZ2h0LFxuICAgICAgdGhpcy5oYWxmV2lkdGgqMixcbiAgICAgIHRoaXMuaGFsZkhlaWdodCoyXG4gICAgKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgICAvL3N1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cbn1cbiIsImltcG9ydCBDaXJjbGUgZnJvbSAnZnJvemVuanMvYm94MmQvZW50aXRpZXMvQ2lyY2xlJztcblxuaW1wb3J0IHJhZGlhbnNGcm9tQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyJztcbmltcG9ydCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYWNlIGV4dGVuZHMgQ2lyY2xlIHtcbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgY29uc3Qgc2NhbGVkWCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIGNvbnN0IHNjYWxlZFkgPSB0aGlzLnkgKiBzY2FsZTtcbiAgICBjb25zdCBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZGVhZCA/IHRoaXMuZGVhZEZpbGxTdHlsZSA6IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZGVhZCA/IHRoaXMuZmlsbFN0eWxlIDogdGhpcy5zdHJva2VTdHlsZTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhzY2FsZWRYLCBzY2FsZWRZLCB0aGlzLnJhZGl1cyAqIHNjYWxlLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgY29uc3QgbGVmdEV5ZSA9IHt4OiBzY2FsZWRYIC0gMTcsIHk6IHNjYWxlZFkgLSAxNX07XG4gICAgY29uc3QgcmlnaHRFeWUgPSB7eDogc2NhbGVkWCArIDE3LCB5OiBzY2FsZWRZIC0gMTV9O1xuXG4gICAgaWYoIXRoaXMuZGVhZCkge1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkYnO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhzY2FsZWRYIC0gMTcsIHNjYWxlZFkgLSAxNSwgMTAsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoc2NhbGVkWCArIDE3LCBzY2FsZWRZIC0gMTUsIDEwLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjb25zdCByYWRzTCA9IHJhZGlhbnNGcm9tQ2VudGVyKGxlZnRFeWUsIHt4OiB0aGlzLmJhbGwueCAqIHNjYWxlLCB5OiB0aGlzLmJhbGwueSAqIHNjYWxlfSk7XG4gICAgICBjb25zdCByYWRzUiA9IHJhZGlhbnNGcm9tQ2VudGVyKHJpZ2h0RXllLCB7eDogdGhpcy5iYWxsLnggKiBzY2FsZSwgeTogdGhpcy5iYWxsLnkgKiBzY2FsZX0pO1xuXG4gICAgICBjb25zdCBsSXJpcyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIobGVmdEV5ZSwge3g6IHNjYWxlZFggLSAxNywgeTogc2NhbGVkWSAtIDIwfSwgcmFkc0wpO1xuICAgICAgY29uc3QgcklyaXMgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHJpZ2h0RXllLCB7eDogc2NhbGVkWCArIDE3LCB5OiBzY2FsZWRZIC0gMjB9LCByYWRzUik7XG5cbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhsSXJpcy54LCBsSXJpcy55LCA2LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHJJcmlzLngsIHJJcmlzLnksIDYsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG5cbiAgICAgIC8vIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8obGVmdEV5ZS54IC0gMTAsIGxlZnRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8obGVmdEV5ZS54ICsgMTAsIGxlZnRFeWUueSArIDEwKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhsZWZ0RXllLnggKyAxMCwgbGVmdEV5ZS55IC0gMTApO1xuICAgICAgY3R4LmxpbmVUbyhsZWZ0RXllLnggLSAxMCwgbGVmdEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHJpZ2h0RXllLnggLSAxMCwgcmlnaHRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8ocmlnaHRFeWUueCArIDEwLCByaWdodEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHJpZ2h0RXllLnggKyAxMCwgcmlnaHRFeWUueSAtIDEwKTtcbiAgICAgIGN0eC5saW5lVG8ocmlnaHRFeWUueCAtIDEwLCByaWdodEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIFxuXG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuXG4gIH1cbn1cbiIsImltcG9ydCBrZXlzIGZyb20gJ2Zyb3plbmpzL2tleXMnO1xuaW1wb3J0IHJhZGlhbnNGcm9tQ2VudGVyIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyJztcbmltcG9ydCBzY2FsZVBvaW50cyBmcm9tICdmcm96ZW5qcy91dGlscy9zY2FsZVBvaW50cyc7XG5cbmNvbnN0IHNwZWVkID0gMTA7XG5cbmZ1bmN0aW9uIGhhbmRsZURpcmVjdGlvbihnYW1lLCBmaXJlS2V5ICxsZWZ0S2V5LCByaWdodEtleSwgcGxheWVySWQpIHtcbiAgbGV0IGxQcmVzc2VkID0gZ2FtZS5pbnB1dE1hbmFnZXIua2V5QWN0aW9uc1tsZWZ0S2V5XS5pc1ByZXNzZWQoKTtcbiAgaWYoZ2FtZS5pbnB1dE1hbmFnZXIua2V5QWN0aW9uc1tmaXJlS2V5XS5pc1ByZXNzZWQoKSkge1xuICAgIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZmlyZVByZXNzZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZmlyZVByZXNzZWQgPSBmYWxzZTtcbiAgfVxuICBpZihsUHJlc3NlZCB8fCBnYW1lLmlucHV0TWFuYWdlci5rZXlBY3Rpb25zW3JpZ2h0S2V5XS5pc1ByZXNzZWQoKSkge1xuICAgIGlmKGxQcmVzc2VkKSB7XG4gICAgICByZXR1cm4gZ2FtZS5wbGF5ZXJzW3BsYXllcklkXS5kaXJlY3Rpb24gPSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZGlyZWN0aW9uID0gMTtcbiAgfSBcblxuICBnYW1lLnBsYXllcnNbcGxheWVySWRdLmRpcmVjdGlvbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUlucHV0KGltKSB7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCBrZXlzLlNMQVNILCBrZXlzLkxFRlQsIGtleXMuUklHSFQsIDIpO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ1EnLCAnVycsICdFJywgNSk7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnWCcsICdDJywgJ1YnLCA0KTtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsICdCJywgJ04nLCAnTScsIDMpO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ1QnLCAnWScsICdVJywgMCk7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnTycsICdQJywga2V5cy5PUEVOX0JSQUNLRVQsIDEpO1xuXG5cbiAgaWYoaW0ua2V5QWN0aW9uc1trZXlzLlVQXS5pc1ByZXNzZWQoKSl7XG4gICAgdGhpcy5ib3guYXBwbHlJbXB1bHNlRGVncmVlcygnYmFsbCcsIDAsIHNwZWVkKTtcbiAgfVxuXG4gIGlmKGltLmtleUFjdGlvbnNba2V5cy5ET1dOXS5pc1ByZXNzZWQoKSl7XG4gICAgdGhpcy5ib3guYXBwbHlJbXB1bHNlRGVncmVlcygnYmFsbCcsIDE4MCwgc3BlZWQpO1xuICB9XG5cbiAgaWYoaW0ua2V5QWN0aW9ucy5BLmlzUHJlc3NlZCgpKXtcbiAgICB0aGlzLmJveC5hcHBseVRvcnF1ZSgnYmFsbCcsIC1zcGVlZCAqIDEwMCk7XG4gIH1cblxuICBpZihpbS5rZXlBY3Rpb25zLkQuaXNQcmVzc2VkKCkpe1xuICAgIHRoaXMuYm94LmFwcGx5VG9ycXVlKCdiYWxsJywgc3BlZWQgICogMTAwKTtcbiAgfVxuXG4gIC8vIGlmKGltLm1vdXNlQWN0aW9uLmlzUHJlc3NlZCgpKXtcbiAgLy8gICB0aGlzLmJveC5hcHBseUltcHVsc2UoJ2JhbGwnLCByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmVudGl0aWVzLmJhbGwsIHNjYWxlUG9pbnRzKGltLm1vdXNlQWN0aW9uLnBvc2l0aW9uLCAxL3RoaXMuYm94LnNjYWxlKSksIHNwZWVkKTtcbiAgLy8gfVxufVxuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVJbnB1dDsiLCJpbXBvcnQgeyBib3gyZCwgdXRpbHMsIGtleXMgfSBmcm9tICdmcm96ZW5qcyc7XG5cbmltcG9ydCBib3hEYXRhIGZyb20gJy4vYm94RGF0YSc7XG5pbXBvcnQgZHJhdyBmcm9tICcuL2RyYXcnO1xuaW1wb3J0IEJhbGwgZnJvbSAnLi9CYWxsJztcbmltcG9ydCByYXdCcmlja3MgZnJvbSAnLi9icmlja3MnO1xuaW1wb3J0IGNvbG9ycyBmcm9tICcuL2NvbG9ycyc7XG5pbXBvcnQgQnJpY2sgZnJvbSAnLi9Ccmljayc7XG5pbXBvcnQgRmFjZSBmcm9tICcuL0ZhY2UnO1xuaW1wb3J0IGhhbmRsZUlucHV0IGZyb20gJy4vaGFuZGxlSW5wdXQnO1xuXG5jb25zdCB7IEJveEdhbWUsIGVudGl0aWVzLCBqb2ludHMgfSA9IGJveDJkO1xuY29uc3QgeyByYWRpYW5zRnJvbUNlbnRlciwgc2NhbGVQb2ludHMsIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIsIGRpc3RhbmNlLCByYWRpYW5zVG9EZWdyZWVzIH0gPSB1dGlscztcblxuY29uc3QgcGxheWVyU3BlZWQgPSAwLjAwMjc7XG5jb25zdCBkaXN0RnJvbUFuY2hvciA9IDI5NTtcbmNvbnN0IGJhbGxTcGVlZCA9IDE0MDA7XG5jb25zdCByYW5kb21BbmdsZVNwcmVhZCA9ICgoTWF0aC5QSSAqIDIpIC8gMzYwKSAqIDEuNzU7XG5jb25zdCBCUklDS19ERUFUSF9BTklNID0gMjUwMDtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tQW5nbGVPZmZzZXQoKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpID8gLShNYXRoLnJhbmRvbSgpICogcmFuZG9tQW5nbGVTcHJlYWQpIDogTWF0aC5yYW5kb20oKSAqIHJhbmRvbUFuZ2xlU3ByZWFkO1xufVxuXG4vLyBGdWxsIEhEIEdhbWUgIVxuY29uc3QgZnVsbFcgPSAxOTIwO1xuY29uc3QgZnVsbEggPSAxMDgwO1xuY29uc3QgaGV4U2lkZSA9IDc4My43OTc3Mzg0NDQxMztcbmNvbnN0IHNpZGVXID0gNTY4LjEwMTEzMDc3NzY5O1xuY29uc3Qgc2ludDEgPSA1NDAgLyBoZXhTaWRlO1xuY29uc3QgYW5nMSA9IE1hdGguYXNpbihzaW50MSk7XG5jb25zdCBzaW50MiA9IHNpZGVXIC8gaGV4U2lkZTtcbmNvbnN0IGFuZzIgPSBNYXRoLmFzaW4oc2ludDIpXG5jb25zb2xlLmxvZygnYW5nbGUgaW4gcmFkaWFucycsIGFuZzEsIGFuZzIpO1xuY29uc3QgY2VudGVyUG9pbnQgPSB7eDogMCwgeTogMH07XG5cblxuLy9zZXR1cCBhIEdhbWVDb3JlIGluc3RhbmNlXG5jb25zdCBnYW1lID0gbmV3IEJveEdhbWUoe1xuICBjYW52YXNJZDogJ2NhbnZhcycsXG4gIGdhbWVBcmVhSWQ6ICdnYW1lQXJlYScsXG4gIGNhbnZhc1BlcmNlbnRhZ2U6IDEsXG4gIGJveE9wdGlvbnM6IHtyZXNvbHZlQ29sbGlzaW9uczogdHJ1ZSwgZ3Jhdml0eVk6IDB9LFxuICBkcmF3OiBkcmF3LFxuICBsb2FkUmVzb3VyY2VzOiBmdW5jdGlvbihybSkge1xuICAgIHRoaXMuZXhwbG9zaW9ucyA9IFtdO1xuICAgIHRoaXMuZXhwbG9zaW9ucy5wdXNoKHJtLmxvYWRTb3VuZCgnc291bmRzL2V4cGxvc2lvbjUnKSk7XG4gICAgdGhpcy5leHBsb3Npb25zLnB1c2gocm0ubG9hZFNvdW5kKCdzb3VuZHMvZXhwbG9zaW9uNycpKTtcbiAgICB0aGlzLmV4cGxvc2lvbnMucHVzaChybS5sb2FkU291bmQoJ3NvdW5kcy9leHBsb3Npb244JykpO1xuICB9LFxuICBpbml0SW5wdXQ6IGZ1bmN0aW9uKGltKXtcbiAgICBpbS5hZGRBcnJvd0tleUFjdGlvbnMoKTtcbiAgICBpbS5hZGRLZXlBY3Rpb24oWydBJywnRCcsIFxuICAgICAgJ1EnLCdXJywnRScsXG4gICAgICAnWCcsJ0MnLCdWJyxcbiAgICAgICdCJywnTicsJ00nLFxuICAgICAgJ1QnLCdZJywnVScsXG4gICAgICAnTycsJ1AnLCBrZXlzLk9QRU5fQlJBQ0tFVCxcbiAgICAgIGtleXMuU0xBU0hdKTtcbiAgfSxcbiAgaGFuZGxlSW5wdXQsXG4gIGdldEJyaWNrc0xlZnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmVudGl0aWVzKS5yZWR1Y2UoKGFjYywgaykgPT4ge1xuICAgICAgaWYodGhpcy5lbnRpdGllc1trXS5icmljaykge1xuICAgICAgICAgIHJldHVybiBhY2MgKyAxO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIDApO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKG1pbGxpcykge1xuICAgIHRoaXMudXBkYXRlQm94KG1pbGxpcyk7XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLmVudGl0aWVzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBjb25zdCBlbnQgPSB0aGlzLmVudGl0aWVzW2tdO1xuICAgICAgaWYoZW50LmJyaWNrUGllY2UpIHtcbiAgICAgICAgZW50LmxpZmUgPSBlbnQubGlmZSAtIG1pbGxpcztcbiAgICAgICAgaWYoZW50LmxpZmUgPCAwKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW50LmZpbGxTdHlsZSA9IGNvbG9ycy5yZ2JhKGVudC5wbGF5ZXJJZCwgZW50LmxpZmUgLyBCUklDS19ERUFUSF9BTklNICogMC42KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZih0aGlzLmJhbGwpIHtcbiAgICAgIFxuICAgICAgaWYodGhpcy5iYWxsLmNvbGxpc2lvbnMgJiYgdGhpcy5iYWxsLmNvbGxpc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2JhbGwnLCB0aGlzLmJhbGwuY29sbGlzaW9ucyk7XG4gICAgICAgIHRoaXMuYmFsbC5jb2xsaXNpb25zLmZvckVhY2goKGV0KSA9PiB7XG4gICAgICAgICAgY29uc3QgZW50ID0gdGhpcy5lbnRpdGllc1tldC5pZF07XG4gICAgICAgICAgaWYoZW50KSB7XG4gICAgICAgICAgICBpZihlbnQuYnJpY2spIHtcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGV0KTtcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2JyaWNrIGtpbGwnLCBlbnQpO1xuICAgICAgICAgICAgICBjb25zdCBsaWxPcHMgPSB7XG4gICAgICAgICAgICAgICAgeDogZW50LnggKiAzMCxcbiAgICAgICAgICAgICAgICB5OiBlbnQueSAqIDMwLFxuICAgICAgICAgICAgICAgIGJyaWNrUGllY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgbGlmZTogQlJJQ0tfREVBVEhfQU5JTSxcbiAgICAgICAgICAgICAgICBzdGF0aWNCb2R5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZW5zaXR5OiAwLjAwMSxcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogZW50LnBsYXllcklkLFxuICAgICAgICAgICAgICAgIGZpbGxTdHlsZTogY29sb3JzLnJnYihlbnQucGxheWVySWQpLFxuICAgICAgICAgICAgICAgIGRyYXdDZW50ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRyYXdMb2NhdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgWzAsMSwyLDMsNCw1XS5mb3JFYWNoKChiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlsYk9wcyA9IHtcbiAgICAgICAgICAgICAgICAgIGhhbGZIZWlnaHQ6IGVudC5oYWxmSGVpZ2h0IC8gKChNYXRoLnJhbmRvbSgpICogMikgKyAyLjUpLFxuICAgICAgICAgICAgICAgICAgaGFsZldpZHRoOiBlbnQuaGFsZldpZHRoIC8gKChNYXRoLnJhbmRvbSgpICogMikgKyAyLjUpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbGlsQiA9IG5ldyBlbnRpdGllcy5SZWN0YW5nbGUoT2JqZWN0LmFzc2lnbih7fSwgbGlsT3BzLCBsaWxiT3BzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCb2R5KGxpbEIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm94LnNldEFuZ2xlKGxpbEIuaWQsIE1hdGgucmFuZG9tKCkgKiAoTWF0aC5QSSAqIDIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJveC5hcHBseUltcHVsc2UobGlsQi5pZCwgTWF0aC5yYW5kb20oKSAqIChNYXRoLlBJICogMiksIDMwKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGNvbnN0IHJhbmRFeHBsb3Npb24gPSB0aGlzLmV4cGxvc2lvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5leHBsb3Npb25zLmxlbmd0aCldO1xuICAgICAgICAgICAgICByYW5kRXhwbG9zaW9uLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVudC5raW5nKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdraW5nIGtpbGwnLCBlbnQpO1xuICAgICAgICAgICAgICBlbnQuZGVhZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5lbnRpdGllcykuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyaWNrID0gdGhpcy5lbnRpdGllc1trXTtcbiAgICAgICAgICAgICAgICBpZihicmljay5icmljayAmJiBicmljay5wbGF5ZXJJZCA9PT0gZW50LnBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoYnJpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICB0aGlzLnBsYXllcnNbZW50LnBsYXllcklkXS5wYWRkbGVzLmZvckVhY2goKHBhZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShwYWQpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoZW50KTsgLy9yZW1vdmUgZmFjZSwgYnV0IHdpbGwgc3RpbGwgZHJhdyBpdFxuXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbnQucGFkZGxlKSB7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5wbGF5ZXJzW2VudC5wbGF5ZXJJZF07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBiYWxsZnJvbUFuY2hvciA9IGRpc3RhbmNlKHAuYW5jaG9yLCB0aGlzLmJhbGwpO1xuICAgICAgICAgICAgICBjb25zdCBwYWRkbGVGcm9tQW5jaG9yID0gZGlzdGFuY2UocC5hbmNob3IsIGVudCk7XG5cbiAgICAgICAgICAgICAgLy9pZ25vcmUgaGl0cyB0byBib3R0b20gb2YgcGFkZGxlXG4gICAgICAgICAgICAgIGlmKGJhbGxmcm9tQW5jaG9yID4gcGFkZGxlRnJvbUFuY2hvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5oaXRQbGF5ZXIgPSBwO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5oaXRQYWRkbGUgPSBlbnQ7XG4gICAgICAgICAgICAgICAgaWYocC5maXJlUHJlc3NlZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY2F1Z2h0UGFkZGxlUG9zaXRpb24gPSBwLnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBsYXllcklkID0gZW50LnBsYXllcklkO1xuICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBvc2l0aW9uID0ge3g6IHRoaXMuYmFsbC54LCB5OiB0aGlzLmJhbGwueX07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJyVjIE9oIG15IGhlYXZlbnMhICcsICdiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogI2JhZGE1NScpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWNwYWRkbGVoaXQgJyArIGVudC5wbGF5ZXJJZCwgJ2ZvbnQtc2l6ZTogMS41ZW07IGJhY2tncm91bmQ6ICMyMjI7IGNvbG9yOiAnICsgcGxheWVyc1tlbnQucGxheWVySWRdLmNvbG9yKTtcblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlbnQud2FsbCkge1xuICAgICAgICAgICAgICB0aGlzLmJhbGwud2FsbEhpdHMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYmFsbC53YWxsSGl0cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgXG5cbiAgICAgICAgZnVuY3Rpb24gZmlyZUJhbGwoKXtcblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW1vdmVCb2R5KHRoaXMuYmFsbCk7XG4gICAgICAgIHRoaXMuYmFsbC5hbmd1bGFyVmVsb2NpdHkgPSBudWxsO1xuICAgICAgICB0aGlzLmJhbGwucHJldkxpbmVhclZlbG9jaXR5ID0gdGhpcy5iYWxsLmxpbmVhclZlbG9jaXR5O1xuICAgICAgICB0aGlzLmJhbGwubGluZWFyVmVsb2NpdHkgPSBudWxsO1xuICAgICAgICBpZih0aGlzLmJhbGwuY2F1Z2h0KSB7XG4gICAgICAgICAgY29uc3QgY2F1Z2h0UGxheWVyID0gdGhpcy5wbGF5ZXJzW3RoaXMuYmFsbC5jYXVnaHRQbGF5ZXJJZF07XG4gICAgICAgICAgY29uc3QgcG9zaXRpb25EZWx0YSA9IGNhdWdodFBsYXllci5wb3NpdGlvbiAtIHRoaXMuYmFsbC5jYXVnaHRQYWRkbGVQb3NpdGlvbiArIChNYXRoLlBJICogMik7XG4gICAgICAgICAgY29uc3QgbmV3QmFsbExvYyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2F1Z2h0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsLmNhdWdodFBvc2l0aW9uLCBwb3NpdGlvbkRlbHRhKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2F1Z2h0JywgcG9zaXRpb25EZWx0YSwgbmV3QmFsbExvYyk7XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5iYWxsLnggPSBuZXdCYWxsTG9jLng7XG4gICAgICAgICAgdGhpcy5iYWxsLnkgPSBuZXdCYWxsTG9jLnk7XG4gICAgICAgICAgaWYoY2F1Z2h0UGxheWVyLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgICAgICAvL3N0aWxsIGNhdWdodFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJhbGwuY2F1Z2h0ID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBicmlja3NMZWZ0ID0gdGhpcy5nZXRCcmlja3NMZWZ0KCk7XG4gICAgICAgICAgICBjb25zdCBuZXdTcGVlZCA9IGJhbGxTcGVlZCArICgzMzAgLSBicmlja3NMZWZ0KTsgLy8gc3BlZWQgdXAgYXMgYnJpY2tzIGdvIGF3YXlcbiAgICAgICAgICAgIHRoaXMuYWRkQm9keSh0aGlzLmJhbGwpO1xuICAgICAgICAgICAgY29uc3QgcGFkZGxlQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsLmhpdFBsYXllci5wYWRkbGVzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGJhbGxBbmdsZSA9IHJhZGlhbnNGcm9tQ2VudGVyKHRoaXMuYmFsbC5oaXRQbGF5ZXIuYW5jaG9yLCB0aGlzLmJhbGwpO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBwYWRkbGVBbmdsZSAtIGJhbGxBbmdsZTtcbiAgICAgICAgICAgIHRoaXMuYm94LmFwcGx5Rm9yY2UodGhpcy5iYWxsLmlkLCBwYWRkbGVBbmdsZSAtIChkZWx0YSAqIDUpLCBuZXdTcGVlZCk7XG4gICAgICAgICAgICB0aGlzLmJhbGwuaGl0UGFkZGxlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYnJpY2tzTGVmdCA9IHRoaXMuZ2V0QnJpY2tzTGVmdCgpO1xuICAgICAgICAgIGNvbnN0IG5ld1NwZWVkID0gYmFsbFNwZWVkICsgKDMzMCAtIGJyaWNrc0xlZnQpOyAvLyBzcGVlZCB1cCBhcyBicmlja3MgZ28gYXdheVxuICAgICAgICAgIGNvbnN0IGFuZ2xlT2Zmc2V0ID0gZ2V0UmFuZG9tQW5nbGVPZmZzZXQoKTtcbiAgICAgICAgICB0aGlzLmFkZEJvZHkodGhpcy5iYWxsKTtcbiAgICAgICAgICBpZih0aGlzLmJhbGwuaGl0UGFkZGxlKSB7XG4gICAgICAgICAgICBjb25zdCBwYWRkbGVBbmdsZSA9IHJhZGlhbnNGcm9tQ2VudGVyKHRoaXMuYmFsbC5oaXRQbGF5ZXIuYW5jaG9yLCB0aGlzLmJhbGwuaGl0UGxheWVyLnBhZGRsZXNbMF0pO1xuICAgICAgICAgICAgY29uc3QgYmFsbEFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5iYWxsLmhpdFBsYXllci5hbmNob3IsIHRoaXMuYmFsbCk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IHBhZGRsZUFuZ2xlIC0gYmFsbEFuZ2xlO1xuICAgICAgICAgICAgdGhpcy5ib3guYXBwbHlGb3JjZSh0aGlzLmJhbGwuaWQsIHBhZGRsZUFuZ2xlIC0gKGRlbHRhICogNSkgKyBhbmdsZU9mZnNldCwgbmV3U3BlZWQpO1xuICAgICAgICAgICAgdGhpcy5iYWxsLmhpdFBhZGRsZSA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdiYWxsaGl0cycsIHRoaXMuYmFsbC53YWxsSGl0cywgYW5nbGVPZmZzZXQsIGFuZ2xlT2Zmc2V0ICogdGhpcy5iYWxsLndhbGxIaXRzKTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHJhZGlhbnNGcm9tQ2VudGVyKGNlbnRlclBvaW50LCB0aGlzLmJhbGwucHJldkxpbmVhclZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMuYm94LmFwcGx5Rm9yY2UodGhpcy5iYWxsLmlkLCBkaXJlY3Rpb24gKyBhbmdsZU9mZnNldCArIChhbmdsZU9mZnNldCAqIHRoaXMuYmFsbC53YWxsSGl0cyksIG5ld1NwZWVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vcmVndWxhdGUgYmFsbCBzcGVlZDtcbiAgICBcbiAgICAgIH1cbiAgICB9XG4gICAgXG5cblxuICAgIGdhbWUucGxheWVycy5mb3JFYWNoKChwLCBpZHgpID0+IHtcbiAgICAgIGlmKCFwLmZhY2UuZGVhZCkge1xuICAgICAgICBpZihwLmRpcmVjdGlvbiA+IDAgJiYgcC5wb3NpdGlvbiA8IE1hdGguUEkpIHtcbiAgICAgICAgICBwLnBvc2l0aW9uICs9IChwbGF5ZXJTcGVlZCAqIG1pbGxpcyk7XG4gICAgICAgICAgcC5wb3NpdGlvbiA9IE1hdGgubWluKHAucG9zaXRpb24sIE1hdGguUEkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocC5kaXJlY3Rpb24gPCAwICYmIHAucG9zaXRpb24gPiAwKSB7XG4gICAgICAgICAgcC5wb3NpdGlvbiAtPSAocGxheWVyU3BlZWQgKiBtaWxsaXMpO1xuICAgICAgICAgIHAucG9zaXRpb24gPSBNYXRoLm1heChwLnBvc2l0aW9uLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY29uc3QgbmV3UGFkZGxlUHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHAuYW5jaG9yLCB7eDogcC5hbmNob3IueCwgeTogcC5hbmNob3IueSArIChkaXN0RnJvbUFuY2hvciAvIDMwKX0sIHAuYW5nbGUgKyBwLnBvc2l0aW9uIC0gKE1hdGguUEkgLyAyKSk7XG4gICAgICAgIGNvbnN0IG5ld1BhZGRsZVB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwLnB0LCB7eDogcC5wdC54LCB5OiBwLnB0LnkgKyBkaXN0RnJvbUFuY2hvcn0sIHAuYW5nbGUgKyBwLnBvc2l0aW9uIC0gKE1hdGguUEkgLyAyKSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwYWRkbGVPcHMgPSBwLnBhZGRsZU9wczsgLy8gT2JqZWN0LmFzc2lnbih7fSwgcC5wYWRkbGVPcHMsIG5ld1BhZGRsZVB0KTtcbiAgICAgICAgcGFkZGxlT3BzLnggPSBuZXdQYWRkbGVQdC54O1xuICAgICAgICBwYWRkbGVPcHMueSA9IG5ld1BhZGRsZVB0Lnk7XG4gICAgICAgIFxuXG4gICAgICAgIHBhZGRsZU9wcy5wb2ludHMgPSBbXG4gICAgICAgICAge3g6IHBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IC1wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICAgICAge3g6IHBhZGRsZU9wcy5oYWxmV2lkdGggKiAwLjcsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0IC8gMn0sXG4gICAgICAgICAge3g6IHBhZGRsZU9wcy5oYWxmV2lkdGggKiAwLjQsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgICAgICB7eDogLXBhZGRsZU9wcy5oYWxmV2lkdGggKiAwLjQsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgICAgICB7eDogLXBhZGRsZU9wcy5oYWxmV2lkdGggKiAwLjcsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0IC8gMn0sXG4gICAgICAgICAge3g6IC1wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGlmKHAuZmlyZVByZXNzZWQpIHtcbiAgICAgICAgICBwYWRkbGVPcHMuc3Ryb2tlU3R5bGUgPSBwLmNvbG9yQ29tcGxlbWVudDtcbiAgICAgICAgICBwYWRkbGVPcHMubGluZVdpZHRoID0gNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWRkbGVPcHMuc3Ryb2tlU3R5bGUgPSBwLmNvbG9yO1xuICAgICAgICAgIHBhZGRsZU9wcy5saW5lV2lkdGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgXG4gICAgICAgIHBhZGRsZU9wcy5wb2ludHMgPSBwLnBhZGRsZU9wcy5wb2ludHMubWFwKChvcHB0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyUG9pbnQsIG9wcHQsIHAuYW5nbGUgKyBwLnBvc2l0aW9uIC0gKE1hdGguUEkgLyAyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwLnVwZGF0ZSsrO1xuICAgICAgICBwYWRkbGVPcHMuaWQgPSBpZHggKyAncGFkZGxlJyArIHAudXBkYXRlOyBcbiAgICAgICAgY29uc3QgcGFkZGxlID0gbmV3IGVudGl0aWVzLlBvbHlnb24ocGFkZGxlT3BzKTtcbiAgICAgICAgLy9jb25zdCBwYWRkbGUyID0gbmV3IGVudGl0aWVzLlBvbHlnb24oT2JqZWN0LmFzc2lnbih7fSwgcGFkZGxlT3BzLCB7aWQ6IHAucGFkZGxlMi5pZH0pKTtcbiAgICAgICAgLy9nYW1lLnJlbW92ZUJvZHkocC5wYWRkbGUpO1xuICAgICAgICAvL2dhbWUucmVtb3ZlQm9keShwLnBhZGRsZTIpO1xuICAgICAgICBnYW1lLmFkZEJvZHkocGFkZGxlKTtcbiAgICAgICAgLy9nYW1lLmFkZEJvZHkocGFkZGxlMik7XG4gICAgICAgIHAucGFkZGxlcy5wdXNoKHBhZGRsZSk7XG4gICAgICAgIGlmKHAucGFkZGxlcy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgY29uc3QgZmlyc3QgPSBwLnBhZGRsZXMuc2hpZnQoKTtcbiAgICAgICAgICBnYW1lLnJlbW92ZUJvZHkoZmlyc3QpO1xuICAgICAgICB9XG4gICAgICAgIFxuXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxufSk7XG5cbmNvbnN0IGJhbGxQcm9wcyA9IHtcbiAgeDogZnVsbFcgLyAyLFxuICB5OiBmdWxsSCAvIDIsXG4gIHB0UmFkaXVzOiAxMCxcbiAgcmFkaXVzOiAxMCxcbiAgcG9pbnRzOiBbMCwxLDIsMyw0LDUsNiw3LDhdLFxuICBpZDogJ2JhbGwnLFxuICB3YWxsSGl0czogMCxcbiAgaGlkZGVuOiB0cnVlXG59O1xuXG5iYWxsUHJvcHMucG9pbnRzID0gYmFsbFByb3BzLnBvaW50cy5tYXAoKHAsIGlkeCkgPT4ge1xuICBjb25zdCBuZXdQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyUG9pbnQsIHt4OiAwLCB5OiBiYWxsUHJvcHMucHRSYWRpdXN9LCAoKE1hdGguUEkgKiAyKSAvIGJhbGxQcm9wcy5wb2ludHMubGVuZ3RoKSAqIGlkeCk7XG4gIHJldHVybiBuZXdQdFxufSk7XG5cbmdhbWUuYmFsbCA9IG5ldyBCYWxsKGJhbGxQcm9wcyk7XG5nYW1lLmFkZEJvZHkoZ2FtZS5iYWxsKTtcblxuICAvL2FkZCBldmVyeXRoaW5nIHRvIGJveCBmcm9tIHRoZSBib3hEYXRhXG5ib3hEYXRhLmVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcHMpe1xuICBjb25zdCBFbnRpdHkgPSBlbnRpdGllc1twcm9wcy50eXBlXTtcbiAgaWYoRW50aXR5KXtcbiAgICBwcm9wcy5kcmF3Q2VudGVyID0gZmFsc2U7XG4gICAgZ2FtZS5hZGRCb2R5KG5ldyBFbnRpdHkocHJvcHMpKTtcbiAgfVxufSk7XG5cblxuY29uc3QgcGN0ID0gMC42MDQzMTIyMzg5NTQ3OTE4NTgzOyBcblxuY29uc3QgYW5ncyA9IFtcbiAgMCxcbiAgYW5nMSxcbiAgYW5nMiArIChNYXRoLlBJLzIpLFxuICBNYXRoLlBJLFxuICBNYXRoLlBJICsgYW5nMSxcbiAgKE1hdGguUEkgKiAxLjUpICsgYW5nMlxuXTtcblxubGV0IGMgPSBbXG4gIFtmdWxsVyAvIDIsIDBdLFxuICBbZnVsbFcgLSAoc2lkZVcgKiBwY3QpLCAoZnVsbEggLyAyKSAqICgxIC0gcGN0KV0sXG4gIFtmdWxsVyAtIChzaWRlVyAqIHBjdCksIChmdWxsSCAvIDIpICsgKChmdWxsSCAvIDIpICogcGN0KV0sXG4gIFtmdWxsVyAvIDIsIGZ1bGxIXSxcbiAgW3NpZGVXICogcGN0LCAoZnVsbEggLyAyKSArICgoZnVsbEggLyAyKSAqIHBjdCldLFxuICBbc2lkZVcgKiBwY3QsIChmdWxsSCAvIDIpICogKDEgLSBwY3QpXSxcbl07XG5cbmNvbnN0IHBsYXllcnMgPSBjLm1hcCgoY3B0LCBpZHgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwdDoge3g6IGNwdFswXSwgeTogY3B0WzFdfSxcbiAgICBjb2xvcjogY29sb3JzLnJnYihpZHgpLFxuICAgIGNvbG9yQ29tcGxlbWVudDogY29sb3JzLmNvbXBsZW1lbnQoaWR4KSxcbiAgICBhbmdsZTogYW5nc1tpZHhdLFxuICAgIGRpcmVjdGlvbjogMCxcbiAgICBwb3NpdGlvbjogTWF0aC5QSSAvIDIsXG4gICAgdXBkYXRlOiAwXG4gIH1cbn0pO1xuXG5jb25zb2xlLmxvZygncGxheWVycycsIHBsYXllcnMpO1xuXG5jb25zdCBvcmlnaW4gPSBwbGF5ZXJzWzBdLnB0O1xuXG5wbGF5ZXJzLmZvckVhY2goKHAsIGlkeCkgPT4ge1xuICBjb25zb2xlLmxvZygnY3JlYXRpbmcgcGxheWVyJywgcCk7XG4gIGNvbnN0IHBwdCA9IHAucHQ7XG5cbiAgY29uc3QgbmV3RmFjZVB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwcHQsIHt4OiBwcHQueCwgeTogcHB0LnkgKyA1NX0sIHAuYW5nbGUpO1xuICBjb25zdCBjaXIgPSBuZXcgRmFjZSh7XG4gICAgeDogbmV3RmFjZVB0LngsXG4gICAgeTogbmV3RmFjZVB0LnksXG4gICAgcmFkaXVzOiA1MCxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIHJlc3RpdHV0aW9uOiAyLFxuICAgIGZpbGxTdHlsZTogcC5jb2xvcixcbiAgICBkZWFkRmlsbFN0eWxlOiBjb2xvcnMucmdiYShpZHgsIDAuMjUpLFxuICAgIGtpbmc6IHRydWUsXG4gICAgYmFsbDogZ2FtZS5iYWxsLFxuICAgIHBsYXllcklkOiBpZHgsXG4gIH0pO1xuICBnYW1lLmFkZEJvZHkoY2lyKTtcbiAgcC5mYWNlID0gY2lyO1xuXG4gIGNvbnN0IG5ld1BhZGRsZVB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwcHQsIHt4OiBwcHQueCwgeTogcHB0LnkgKyBkaXN0RnJvbUFuY2hvcn0sIHAuYW5nbGUpO1xuICBwLnBhZGRsZU9wcyA9IHtcbiAgICB4OiBuZXdQYWRkbGVQdC54LFxuICAgIHk6IG5ld1BhZGRsZVB0LnksXG4gICAgaGFsZldpZHRoOiA1NSxcbiAgICBoYWxmSGVpZ2h0OiAxMixcbiAgICByZXN0aXR1dGlvbjogMSxcbiAgICBmaWxsU3R5bGU6IHAuY29sb3IsXG4gICAgc3Ryb2tlU3R5bGU6IHAuY29sb3IsXG4gICAgcGFkZGxlOiB0cnVlLFxuICAgIGRyYXdDZW50ZXI6IGZhbHNlLFxuICAgIHBsYXllcklkOiBpZHgsXG4gICAgZGVuc2l0eTogMTAwLFxuICAgIHN0YXRpY0JvZHk6IHRydWUsXG4gICAgaWQ6IGlkeCArICdwYWRkbGUwJyxcbiAgICBoaWRkZW46IHRydWUsXG4gICAgZHJhd0xvY2F0aW9uOiBmYWxzZSxcbiAgfTtcbiAgcC5wYWRkbGVPcHMucG9pbnRzID0gW1xuICAgIHt4OiBwLnBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IC1wLnBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgICB7eDogcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiBwLnBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgICB7eDogLXAucGFkZGxlT3BzLmhhbGZXaWR0aCwgeTogcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IC1wLnBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IC1wLnBhZGRsZU9wcy5oYWxmSGVpZ2h0fSxcbiAgXTtcblxuICBwLnBhZGRsZU9wcy5wb2ludHMgPSBwLnBhZGRsZU9wcy5wb2ludHMubWFwKChvcHB0KSA9PiB7XG4gICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyUG9pbnQsIG9wcHQsIHAuYW5nbGUpO1xuICB9KTtcbiAgY29uc3QgcGFkZGxlID0gbmV3IGVudGl0aWVzLlBvbHlnb24ocC5wYWRkbGVPcHMpO1xuICBnYW1lLmFkZEJvZHkocGFkZGxlKTtcbiAgcC5wYWRkbGVzID0gW3BhZGRsZV07XG5cbiAgcC5hbmNob3IgPSBuZXcgZW50aXRpZXMuQ2lyY2xlKHtcbiAgICB4OiBwLnB0LngsXG4gICAgeTogcC5wdC55LFxuICAgIHJhZGl1czogMC4xLFxuICAgIHN0YXRpY0JvZHk6IHRydWUsXG4gICAgcGxheWVySWQ6IGlkeCxcbiAgICBoaWRkZW46IHRydWVcbiAgfSk7XG4gIGdhbWUuYWRkQm9keShwLmFuY2hvcik7XG5cbiAgcGFkZGxlLmRpc3RhbmNlID0gZGlzdGFuY2UocC5hbmNob3IsIHBhZGRsZSk7XG5cbiAgY29uc3QgY0pvaW50ID0gbmV3IGpvaW50cy5EaXN0YW5jZSh7Ym9keUlkMTogcC5hbmNob3IuaWQsIGJvZHlJZDI6IHBhZGRsZS5pZCwgaWQ6IE1hdGgucmFuZG9tKCkgKyAnaid9KTtcbiAgZ2FtZS5hZGRKb2ludChjSm9pbnQpO1xuXG4gIHJhd0JyaWNrcy5mb3JFYWNoKChyYiwgamR4KSA9PiB7XG4gICAgY29uc3Qgb3BzID0ge1xuICAgICAgeDogcmJbMF0gKyAoZnVsbFcgLyAyKSxcbiAgICAgIHk6IHJiWzFdLFxuICAgICAgaGFsZldpZHRoOiAyNSxcbiAgICAgIGhhbGZIZWlnaHQ6IDEyLjUsXG4gICAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgICAgcmVzdGl0dXRpb246IDEuNSxcbiAgICAgIHBsYXllcklkOiBpZHgsXG4gICAgICBmaWxsU3R5bGU6IHAuY29sb3IsXG4gICAgICBicmljazogdHJ1ZSxcbiAgICAgIHByZUFuZ2xlOiBwLmFuZ2xlLFxuICAgIH07XG4gIFxuICAgIGNvbnN0IHB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihvcmlnaW4sIG9wcywgcC5hbmdsZSk7XG4gICAgXG4gICAgb3BzLnggPSBwdC54O1xuICAgIG9wcy55ID0gcHQueTtcbiAgXG4gIFxuICAgIG9wcy54ICs9IChwcHQueCAtIHBsYXllcnNbMF0ucHQueCk7XG4gICAgb3BzLnkgKz0gKHBwdC55IC0gcGxheWVyc1swXS5wdC55KTtcblxuICAgIG9wcy5wb2ludHMgPSBbXG4gICAgICB7eDogb3BzLmhhbGZXaWR0aCwgeTogLW9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgIHt4OiBvcHMuaGFsZldpZHRoLCB5OiBvcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogLW9wcy5oYWxmV2lkdGgsIHk6IG9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgIHt4OiAtb3BzLmhhbGZXaWR0aCwgeTogLW9wcy5oYWxmSGVpZ2h0fSxcbiAgICBdO1xuXG4gICAgb3BzLnBvaW50cyA9IG9wcy5wb2ludHMubWFwKChvcHB0KSA9PiB7XG4gICAgICByZXR1cm4gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXJQb2ludCwgb3BwdCwgcC5hbmdsZSk7XG4gICAgfSk7XG5cbiAgICBvcHMucHJleCA9IG9wcy54O1xuICAgIG9wcy5wcmV5ID0gb3BzLnk7XG4gIFxuICAgIGNvbnN0IGIgPSBuZXcgQnJpY2sob3BzKTtcbiAgICBnYW1lLmFkZEJvZHkoYik7XG5cbiAgfSk7XG5cbn0pO1xuXG5nYW1lLm1lYXN1cmVtZW50cyA9IHtmdWxsVywgZnVsbEgsIGhleFNpZGUsIHNpZGVXLCBzaW50MSwgYW5nMSwgc2ludDIsIGFuZzJ9O1xuZ2FtZS5wbGF5ZXJzID0gcGxheWVycztcblxuLy9pZiB5b3Ugd2FudCB0byB0YWtlIGEgbG9vayBhdCB0aGUgZ2FtZSBvYmplY3QgaW4gZGV2IHRvb2xzXG5jb25zb2xlLmxvZyhnYW1lKTtcbndpbmRvdy5nYW1lID0gZ2FtZTtcblxuLy9sYXVuY2ggdGhlIGdhbWUhXG5nYW1lLnJ1bigpO1xuZ2FtZS5ib3guYXBwbHlGb3JjZURlZ3JlZXMoJ2JhbGwnLCBNYXRoLnJhbmRvbSgpICogMzYwLCBiYWxsU3BlZWQpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==