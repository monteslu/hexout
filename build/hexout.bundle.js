!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=48)}([function(t,e){t.exports={CANCEL:3,HELP:6,BACK_SPACE:8,TAB:9,CLEAR:12,RETURN:13,ENTER:14,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINTSCREEN:44,INSERT:45,DELETE:46,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,SEMICOLON:59,EQUALS:61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}},function(t,e){t.exports=function(t={x:0,y:0},e){return t.x===e.x&&t.y===e.y?0:t.x===e.x?t.y>e.y?0:Math.PI:t.y===e.y?t.x>e.x?1.5*Math.PI:Math.PI/2:t.x<e.x&&t.y>e.y?Math.atan((e.x-t.x)/(t.y-e.y)):t.x<e.x&&t.y<e.y?Math.PI/2+Math.atan((e.y-t.y)/(e.x-t.x)):t.x>e.x&&t.y<e.y?Math.PI+Math.atan((t.x-e.x)/(e.y-t.y)):1.5*Math.PI+Math.atan((t.y-e.y)/(t.x-e.x))}},function(t,e,i){window.frozenjs={GameCore:i(14),InputManager:i(15),ResourceManager:i(19),MouseAction:i(17),TouchAction:i(16),keys:i(0),Animation:i(24),AnimFrame:i(25),utils:i(35),Sprite:i(29),reiner:{Creature:i(39)},sounds:{WebAudio:i(23)},box2d:{entities:i(40),joints:i(42),Box:i(30),BoxGame:i(47)}},t.exports=window.frozenjs},function(t,e){t.exports=function(t={x:0,y:0},e,i){const s=Math.sin(i),n=Math.cos(i),o={};o.x=e.x-t.x,o.y=e.y-t.y;const a=o.x*n-o.y*s,r=o.x*s+o.y*n;return o.x=a+t.x,o.y=r+t.y,o}},function(e,s){const n=[[0,221,0],[221,0,0],[238,0,238],[160,82,45],[0,0,221],[255,165,0]];function o(t){var e,i,s;return hsv=new Object,max=(e=t.r,i=t.g,s=t.b,e>i?e>s?e:s:i>s?i:s),dif=max-function(t,e,i){return t<e?t<i?t:i:e<i?e:i}(t.r,t.g,t.b),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:t.r==max?hsv.hue=60*(t.g-t.b)/dif:t.g==max?hsv.hue=120+60*(t.b-t.r)/dif:t.b==max&&(hsv.hue=240+60*(t.r-t.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}e.exports={colors:n,rgb:function(t){const e=n[t];return`rgb(${e[0]},${e[1]},${e[2]})`},rgba:function(t,e){const i=n[t];return`rgba(${i[0]},${i[1]},${i[2]},${e})`},complement:function(e){const s=n[e],a=o({r:s[0],g:s[1],b:s[2]});a.hue=function(t,e){for(t+=e;t>=360;)t-=360;for(;t<0;)t+=360;return t}(a.hue,180);const r=function(e){var s=new Object;if(0==e.saturation)s.r=s.g=s.b=Math.round(2.55*e.value);else{switch(e.hue/=60,e.saturation/=100,e.value/=100,i=Math.floor(e.hue),f=e.hue-i,p=e.value*(1-e.saturation),q=e.value*(1-e.saturation*f),t=e.value*(1-e.saturation*(1-f)),i){case 0:s.r=e.value,s.g=t,s.b=p;break;case 1:s.r=q,s.g=e.value,s.b=p;break;case 2:s.r=p,s.g=e.value,s.b=t;break;case 3:s.r=p,s.g=q,s.b=e.value;break;case 4:s.r=t,s.g=p,s.b=e.value;break;default:s.r=e.value,s.g=p,s.b=q}s.r=Math.round(255*s.r),s.g=Math.round(255*s.g),s.b=Math.round(255*s.b)}return s}(a);return`rgb(${r.r},${r.g},${r.b})`}}},function(t,e,i){const s=i(7),n=i(28);t.exports=class extends s{constructor(t={}){super(t),this.radius=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),this.staticBody||(t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.beginPath(),t.moveTo(this.x*e,this.y*e),t.lineTo(this.x*e,this.y*e-this.radius*e),t.closePath(),t.stroke(),t.restore()),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.radius=this.radius*t,super.scaleShape(t)}pointInShape(t){return n(t,this)<=this.radius}}},function(t,e){t.exports=function t(e,i){return e=Array.isArray(e)?e.map(function(e){return t(e,i)}):"object"==typeof i?{x:e.x*i.x,y:e.y*i.y}:{x:e.x*i,y:e.y*i}}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.x=0,this.y=0,this.scale=null,this.angle=0,this.center=null,this.drawLocation=!0,this.drawCenter=!0,this.restitution=.3,this.density=1,this.friction=.9,this.linearDamping=0,this.linearVelocity=null,this.angularVelocity=0,this.angularDamping=0,this.staticBody=!1,this.fillStyle="rgba(128,128,128,0.5)",this.strokeStyle="#000",this.lineWidth=1,this.maskBits=null,this.categoryBits=null,this.groupIndex=null,Object.assign(this,t)}update(t){Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,this.drawLocation&&(t.fillStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,4,0,2*Math.PI,!0),t.closePath(),t.fill()),this.center&&this.drawCenter&&(t.fillStyle=this.centerStyle||"yellow",t.beginPath(),t.arc(this.center.x*e,this.center.y*e,2,0,2*Math.PI,!0),t.closePath(),t.fill()),t.lineWidth=i}scaleShape(t){this.x=this.x*t,this.y=this.y*t,this.alreadyScaled=!0}}},function(t,e){const i={NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3};t.exports=class{constructor(t={}){this.name=null,this.behavior=0,this.amount=0,this.state=0,this.statics=i,Object.assign(this,t),this.reset()}reset(){this.state=i.STATE_RELEASED,this.amount=0}tap(){this.press(),this.release()}press(){this.state=i.STATE_PRESSED,this.behavior===i.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)}pressAmt(t){this.state!==i.STATE_WAITING_FOR_RELEASE&&(this.amount+=t,this.state=i.STATE_WAITING_FOR_RELEASE)}release(){this.state=i.STATE_RELEASED}isPressed(){return this.state===i.STATE_PRESSED}getAmount(){var t=this.amount;return 0!==t&&(this.state===i.STATE_RELEASED?this.amount=0:this.behavior===i.DETECT_INITAL_PRESS_ONLY&&(this.state=i.STATE_WAITING_FOR_RELEASE,this.amount=0)),t}}},function(t,e,i){"use strict";t.exports=function(t,e){if(!t||!e)return!1;for(var i=e.points||e,s=!1,n=i.length-1,o=0;o<i.length;n=o++){var a=i[o].x,r=i[o].y,h=i[n].x,l=i[n].y;r>t.y!=l>t.y&&t.x<(h-a)*(t.y-r)/(l-r)+a&&(s=!s)}return s}},function(t,e){t.exports=function t(e,i){return Array.isArray(e)?e=e.map(function(e){return t(e,i)}):(e={x:e.x,y:e.y},null!=i.x&&(e.x+=i.x),null!=i.y&&(e.y+=i.y)),e}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.bodyId1=null,this.bodyId2=null,this.bodyPoint1=null,this.jointAttributes=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint1&&(this.bodyPoint1.x=this.bodyPoint1.x*t,this.bodyPoint1.y=this.bodyPoint1.y*t,this.alreadyScaled=!0)}}},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.points=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var s=1;s<this.points.length;s++)t.lineTo((this.points[s].x+this.x)*e,(this.points[s].y+this.y)*e);t.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e),t.closePath(),t.fill(),t.stroke(),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.points=n(this.points,t),super.scaleShape(t)}pointInShape(t){return o(t,a(this.points,this))}}},function(t,e,i){const s=i(7);t.exports=class extends s{constructor(t={}){super(t),this.halfWidth=1,this.halfHeight=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.fillRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.strokeRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.halfHeight=this.halfHeight*t,this.halfWidth=this.halfWidth*t,super.scaleShape(t)}pointInShape(t){return t.x>=this.x-this.halfWidth&&t.x<=this.x+this.halfWidth&&t.y>=this.y-this.halfHeight&&t.y<=this.y+this.halfHeight}}},function(t,e,i){const s=i(15),n=i(19);t.exports=class{constructor(t={}){this.isRunning=!1,this.canvasId=null,this.maxStep=40,this.contextType="2d",this.height=0,this.width=0,this.resourceManager=null,this.inputManager=null,this.loadingForeground="#00F",this.loadingBackground="#FFF",this.gameAreaId=null,this.canvasPercentage=0,Object.assign(this,t),this.resourceManager||(this.resourceManager=new n)}setHeight(t){this.height=t,this.canvas.height=t}setWidth(t){this.width=t,this.canvas.width=t}stop(){this.isRunning=!1}run(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())}loadResources(t){}init(){this.canvas||(this.canvas=document.getElementById(this.canvasId)),this.canvas?(this.context||(this.context=this.canvas.getContext(this.contextType)),this.context?(this.setHeight(this.height||this.canvas.height),this.setWidth(this.width||this.canvas.width),this.inputManager||(this.gameAreaId&&this.canvasPercentage?this.inputManager=new s({canvas:this.canvas,gameArea:document.getElementById(this.gameAreaId),canvasPercentage:this.canvasPercentage}):this.inputManager=new s({canvas:this.canvas})),this.inputManager.resize(),this.isRunning=!0):alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")):alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")}initInput(t){}handleInput(t,e){}gameLoop(){this.currTime=(new Date).getTime(),this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep),this.prevTime=this.currTime,this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())}launchLoop(){this.elapsedTime=0;var t=Date.now();this.currTime=t,this.prevTime=t,this.loopRunner=this.loopRunner.bind(this),window.requestAnimationFrame(this.loopRunner)}loopRunner(){this.gameLoop(),window.requestAnimationFrame(this.loopRunner)}update(t){}updateLoadingScreen(t){}draw(t){"2d"===this.contextType&&(t.font="14px sans-serif",t.fillText("This game does not have its own draw function!",10,50))}drawLoadingScreen(t){if(this.resourceManager&&"2d"===this.contextType){t.fillStyle=this.loadingBackground,t.fillRect(0,0,this.width,this.height),t.fillStyle=this.loadingForeground,t.strokeStyle=this.loadingForeground;var e=Math.floor(this.height/12);t.font="bold "+e+"px sans-serif",t.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",.1*this.width,.55*this.height),t.strokeRect(.1*this.width,.7*this.height,.8*this.width,.1*this.height),t.fillRect(.1*this.width,.7*this.height,.8*this.width*this.resourceManager.getPercentComplete()/100,.1*this.height),t.lineWidth=4}}}},function(t,e,i){const s=i(32),n=i(8),o=i(16),a=i(17),r=i(18),h=i(0);function l(t,e,i){return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function c(t){return parseFloat(t)||0}function u(t){var e=function(t){return window.getComputedStyle(t,null)||{}}(t),i=c(e.marginLeft),s=c(e.marginTop);return{w:i+c(e.marginRight),h:s+c(e.marginBottom)}}t.exports=class{constructor(t={}){function e(t){t.remove()}if(this.keyActions=null,this.mouseAction=null,this.touchAction=null,this.canvas=null,this.handleMouse=!0,this.handleTouch=!0,this.handleKeys=!0,this.gameArea=null,this.canvasPercentage=null,this.emulateMouse=!0,this.hammer=null,Object.assign(this,t),this.hammer||(this.hammer=new s(document.body,{prevent_default:!0,drag_max_touches:0,hold:!1})),this.keyActions||(this.keyActions={}),this.handleKeys&&(this.pushCleanup(l(document,"keydown",this.keydown.bind(this)),e),this.pushCleanup(l(document,"keyup",this.keyup.bind(this)),e)),"ontouchstart"in document?(this.pushCleanup(l(document,"touchstart",this.touchstart.bind(this)),e),this.pushCleanup(l(document,"touchmove",this.touchmove.bind(this)),e),this.pushCleanup(l(document,"touchend",this.touchend.bind(this)),e)):(this.pushCleanup(l(document,"mousedown",this.mousedown.bind(this)),e),this.pushCleanup(l(document,"mousemove",this.mousemove.bind(this)),e),this.pushCleanup(l(document,"mouseup",this.mouseup.bind(this)),e)),this.mouseAction||(this.mouseAction=new a),this.touchAction||(this.touchAction=new o),this.emulateMouse,this.gameArea&&this.canvasPercentage){var i=this.resize.bind(this);this.pushCleanup(l(window,"resize",i),e),this.pushCleanup(l(window,"orientationchange",i),e)}this.normalizePoint=this.normalizePoint.bind(this),this.insideCanvas=this.insideCanvas.bind(this)}on(t,e){var i=this.hammer,s=this.removeCleanup;i.on(t,e);var n=this.pushCleanup([t,e],function(t){i.off.apply(i,t)});return{remove:function(){s(n),n()}}}insideCanvas(t){return r(t,this.canvas)}mapToKey(t,e){this.keyActions[e]=t}addKeyAction(t,e){Array.isArray(t)||(t=[t]);const i=t.map(t=>{const i=new n;return e&&(i.behavior=i.detectInitialPressOnly),this.mapToKey(i,t),i});return i.length>1?i:i[0]}addArrowKeyActions(){this.addKeyAction(h.UP),this.addKeyAction(h.DOWN),this.addKeyAction(h.LEFT),this.addKeyAction(h.RIGHT)}mouseUp(t){this.mouseup(t)}mouseup(t){this.mouseAction.release(this.normalizePoint(t))}mouseDown(t){this.mousedown(t)}mousedown(t){this.mouseAction.release(null);var e=this.normalizePoint(t);this.mouseAction.insideCanvas=this.insideCanvas(e),this.mouseAction.press(e)}mouseMove(t){this.mousemove(t)}mousemove(t){this.mouseAction.position=this.normalizePoint(t)}touchStart(t){this.touchstart(t)}touchstart(t){this.touchAction.release(null),console.log(t.touches,t);const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.insideCanvas=e.some(this.insideCanvas),this.touchAction.press(e),this.emulateMouse&&this.mousedown(t.touches[0])}touchEnd(t){this.touchend(t)}touchend(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.release(e),this.emulateMouse&&this.mouseUp(t.touches[0])}touchMove(t){this.touchmove(t)}touchmove(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.positions=e,this.touchAction.startPositions&&t.preventDefault(),this.emulateMouse&&this.mousemove(t.touches[0])}getKeyAction(t){return this.keyActions?this.keyActions[t.keyCode]||this.keyActions[String.fromCharCode(t.keyCode)]:null}keyPressed(t){this.keydown(t)}keyDown(t){this.keydown(t)}keydown(t){var e=this.getKeyAction(t);e&&!e.isPressed()&&e.press()}keyReleased(t){this.keyup(t)}keyup(t){var e=this.getKeyAction(t);e&&e.release()}getMouseLoc(t){return this.normalizePoint(t)}normalizePoint(t){if(t){var e=(i=this.canvas,{x:(s=i.getBoundingClientRect()).left,y:s.top});return this.zoomRatio?{x:Math.round((t.clientX-e.x)/this.zoomRatio),y:Math.round((t.clientY-e.y)/this.zoomRatio)}:{x:Math.round(t.clientX-e.x),y:Math.round(t.clientY-e.y)}}var i,s}resize(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var t=this.canvas.width,e=this.canvas.height,i=u(document.body),s=window.innerWidth-i.w,n=window.innerHeight-i.h,o=t/e,a="",r="";s/n>o?(a=(s=n*o)+"px",r=n+"px"):(a=s+"px",r=Math.round(s/o)+"px"),this.zoomRatio=s/t*this.canvasPercentage,this.gameArea.style.width=a,this.gameArea.style.height=r;var h=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.width=h,this.canvas.style.height=h,this.canvas.style.display="block",this.canvas.style.marginLeft="auto",this.canvas.style.marginRight="auto"}}pushCleanup(t,e){}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPositions=null,this.endPositions=null,this.positions=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPositions=t,this.positions=t,super.press(t)}release(t){this.endPositions=t,super.release(t)}}},function(t,e,i){const s=i(8);t.exports=class extends s{constructor(t={}){super(t),this.startPosition=null,this.endPosition=null,this.position=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPosition=t,this.position=t,super.press(t)}release(t){this.endPosition=t||this.position,super.release(t)}}},function(t,e){t.exports=function(t,e){return!(t.x<0||t.x>e.width||t.y<0||t.y>e.height)}},function(t,e,i){"use strict";const s=i(20),n=i(22),o=i(23);var a={};function r(t,e){var i=e;return t&&(i=[t,e].join("/")),i.replace(/\/{2,}/g,"/")}function h(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(e.width,0),i.scale(-1,1),i.drawImage(t,0,0),e.toDataURL()}function l(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(0,e.height),i.scale(1,-1),i.drawImage(t,0,0),e.toDataURL()}class c{constructor(t){var e=this;e.name=t,e.complete=!1,e.img=new Image,e.img.addEventListener("load",function(){e.complete=!0},!1)}load(){this.img.src=this.name}}t.exports=class{constructor(t={}){this.allLoaded=!1,this.imageDir=null,this.soundDir=null,this.resourceList=a,Object.assign(this,t),this.Sound||(s("WebAudio")?this.Sound=o:this.Sound=n)}loadImage(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.imageDir,t);if(this.resourceList[e])return this.resourceList[e].img;this.allLoaded=!1;const i=new c(e);return i.load(),this.resourceList[e]=i,i.img});return e?i[0]:i}loadSound(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=r(this.soundDir,t);if(this.resourceList[e])return this.resourceList[e];this.allLoaded=!1;const i=new this.Sound(e);return this.resourceList[e]=i,i});return e?i[0]:i}flipImage(t,e,i){this.allLoaded=!1;const s=new c(t);this.resourceList[t]=s;const n=new Image;return n.addEventListener("load",function t(){s.img.src=i(n),n.removeEventListener("load",t)}),n.src=e.src,s.img}flipImageX(t,e){return this.flipImage(t,e,h)}flipImageY(t,e){return this.flipImage(t,e,l)}resourcesReady(){if(this.allLoaded)return!0;for(var t in this.resourceList)if(!this.resourceList[t].complete)return!1;return this.allLoaded=!0,!0}getPercentComplete(){var t=0,e=0;for(var i in this.resourceList)e++,this.resourceList[i].complete&&(t+=1);return 0===e?0:Math.round(t/e*100)}}},function(t,e,i){"use strict";(function(e){i(33);t.exports=function t(i){return"shittySound"==i?!(!t("android")&&!t("ios")||!t("webkit")):"android"==i?parseFloat(navigator.userAgent.split("Android ")[1])||void 0:"ios"!=i&&("webkit"==i?parseFloat(navigator.userAgent.split("WebKit/")[1])||void 0:"WebAudio"==i?!!e.AudioContext:"touch"===i&&"ontouchstart"in document.documentElement)}}).call(this,i(21))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){const i={"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"};t.exports=class{constructor(t={}){this.name=null,this.complete=!1,this.probably=[],this.maybe=[],Object.assign(this,t),this.formats=i,"string"==typeof t&&this.load(t)}load(t){this.name=t,this.complete=!0}loop(t){}play(t,e){}_initAudio(t,e){}_chooseFormat(){if(!this.probably.length&&!this.maybe.length){var t,e,i=new Audio;for(t in this.formats)"probably"!==(e=i.canPlayType(t))?"maybe"!==e||this.maybe.push(this.formats[t]):this.probably.push(this.formats[t])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""}_nextFormat(){return this.probably.length>1?(this.probably.shift(),this.probably[0]):1===this.probably.length&&(this.probably.length=0,this.maybe.length)?this.maybe[0]:this.maybe.length>1?(this.maybe.shift(),this.maybe[0]):(1===this.maybe.length&&(this.maybe.length=0),"")}}},function(t,e,i){const s=i(22),n=i(34),o=i(20);var a=null;if(o("WebAudio")&&(a=new window.AudioContext),o("shittySound")){document.addEventListener("touchstart",function t(){const e=a.createBufferSource();e.buffer=a.createBuffer(1,1,22050),e.connect(a.destination),e.start(0),document.removeEventListener("touchstart",t)})}t.exports=class extends s{constructor(t={}){super(t),this.audioContext=a,this.buffer=null,Object.assign(this,t)}load(t){var e=this;this.name=t;var i=n(t);i===t&&(t=i+this._chooseFormat());var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(t){e.audioContext.decodeAudioData(t.target.response,function(t){e.buffer=t,e.complete=!0},function(t){e._nextFormat()?e.load(e.name):e.complete=!0})},s.send()}loop(t){this.buffer&&this._initAudio(t,!0).start(0)}play(t,e){this.buffer&&(e=e||0,this._initAudio(t,!1).start(e))}_initAudio(t,e){e="boolean"==typeof e&&e;var i=this.audioContext.createBufferSource();if(i.buffer=this.buffer,i.loop=e,t){var s=this.audioContext.createGain();s.gain.value=t,i.connect(s),s.connect(this.audioContext.destination)}else i.connect(this.audioContext.destination);return i}}},function(t,e,i){const s=i(25);class n{constructor(t={}){this.currFrameIndex=0,this.animTime=0,this.totalDuration=0,this.height=64,this.width=64,this.image=null,this.offsetX=0,this.offsetY=0,this.frames=void 0,Object.assign(this,t),this.start()}createFromSheet(t,e,i,s,o,a){var r=new n({image:i,height:o,width:s}),h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<t;c++)l=h?e[c]:e,r.addFrame(l,c,a);return r}clone(){return new n({image:this.image,frames:this.frames,totalDuration:this.totalDuration})}addFrame(t,e,i){this.frames||(this.frames=[]),this.totalDuration+=t,this.frames.push(new s({endTime:this.totalDuration,image:this.image,imgSlotX:e,imgSlotY:i}))}start(){this.animTime=0,this.currFrameIndex=0}update(t){if(this.frames.length>1)for(this.animTime+=t,this.animTime>=this.totalDuration&&(this.animTime=this.animTime%this.totalDuration,this.currFrameIndex=0);this.animTime>this.frames[this.currFrameIndex].endTime;)this.currFrameIndex++}getCurrentFrame(){return 0===this.frames.length?null:this.frames[this.currFrameIndex]}draw(t,e,i){var s=this.getCurrentFrame();t.drawImage(this.image,s.imgSlotX*this.width+this.offsetX,s.imgSlotY*this.height+this.offsetY,this.width,this.height,e,i,this.width,this.height)}}t.exports=n},function(t,e){t.exports=class{constructor(t={}){this.endTime=0,this.imgSlotX=0,this.imgSlotY=0,this.image=null,Object.assign(this,t)}}},function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e){const i=180/Math.PI;t.exports=function(t){return t*i}},function(t,e){t.exports=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}},function(t,e){class i{constructor(t={}){this.x=0,this.y=0,this.dx=0,this.dy=0,this.maxSpeed=0,this.name=null,this.collisionRadius=40,Object.assign(this,t)}update(t){this.x+=this.dx*t,this.y+=this.dy*t,this.anim.update(t)}limitSpeed(t){return this.maxSpeed&&Math.abs(t)>this.maxSpeed?t>0?this.maxSpeed:t<0?this.maxSpeed:0:t}getCurrentFrame(){if(this.anim)return this.anim.getCurrentFrame()}draw(t){this.anim&&this.anim.draw(t,this.x,this.y)}clone(){return new i({anim:this.anim.clone()})}}t.exports=i},function(t,e,i){(function(e){const s=i(46);console.log(Box2D,"Box2D",e,window);const n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.b2BodyDef,a=Box2D.Dynamics.b2Body,r=Box2D.Dynamics.b2FixtureDef,h=(Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2World),l=Box2D.Collision.Shapes.b2PolygonShape,c=Box2D.Collision.Shapes.b2CircleShape;t.exports=class{constructor(t={}){this.intervalRate=60,this.adaptive=!1,this.bodiesMap=null,this.fixturesMap=null,this.jointsMap=null,this.b2World=null,this.gravityX=0,this.gravityY=9.8,this.allowSleep=!0,this.resolveCollisions=!1,this.contactListener=null,this.collisions=null,this.scale=30,this.bodiesMap={},this.fixturesMap={},this.jointsMap={},Object.assign(this,t),this.b2World=new h(new n(this.gravityX,this.gravityY),this.allowSleep),this.intervalRate&&(this.intervalRate=parseInt(this.intervalRate,10)),this.resolveCollisions&&(this.contactListener=new s),this.contactListener&&this.addContactListener(this.contactListener)}update(t){this.contactListener&&this.contactListener.reset&&this.contactListener.reset();var e=Date.now();if(t)this.b2World.Step(t/1e3,10,10),this.b2World.ClearForces();else{var i=this.adaptive?(e-this.lastTimestamp)/1e3:1/this.intervalRate;this.b2World.Step(i,10,10),this.b2World.ClearForces()}return Date.now()-e}getState(){for(var t={},e=this.b2World.GetBodyList();e;e=e.m_next)e.IsActive()&&void 0!==e.GetUserData()&&null!==e.GetUserData()&&(t[e.GetUserData()]={x:e.GetPosition().x,y:e.GetPosition().y,angle:e.GetAngle(),center:{x:e.GetWorldCenter().x,y:e.GetWorldCenter().y},linearVelocity:e.m_linearVelocity,angularVelocity:e.m_angularVelocity},this.contactListener&&this.contactListener.collisions&&(t[e.GetUserData()].collisions=this.contactListener.collisions[e.GetUserData()]||null));return t}updateExternalState(t){var e=this.getState();for(var i in e){var s=t[i];s&&!s.staticBody&&s.update(e[i])}}setBodies(t){for(var e in t){var i=t[e];this.addBody(i)}this.ready=!0}addBody(t){t.alreadyScaled||(t.scaleShape(1/this.scale),t.scale=this.scale);var e,i,s,h,u,d=new o,p=new r;p.restitution=t.restitution,p.density=t.density,p.friction=t.friction,null!=t.maskBits&&(p.filter.maskBits=t.maskBits),null!=t.categoryBits&&(p.filter.categoryBits=t.categoryBits),null!=t.groupIndex&&(p.filter.groupIndex=t.groupIndex),t.staticBody?d.type=a.b2_staticBody:d.type=a.b2_dynamicBody,d.position.x=t.x,d.position.y=t.y,d.userData=t.id,d.angle=t.angle,d.linearDamping=t.linearDamping,d.angularDamping=t.angularDamping;var y=this.b2World.CreateBody(d);if(t.radius)p.shape=new c(t.radius),y.CreateFixture(p);else if(t.points){for(s=[],e=0;e<t.points.length;e++)(h=new n).Set(t.points[e].x,t.points[e].y),s[e]=h;p.shape=new l,p.shape.SetAsArray(s,s.length),y.CreateFixture(p)}else if(t.polys)for(i=0;i<t.polys.length;i++){for(s=t.polys[i],u=[],e=0;e<s.length;e++)(h=new n).Set(s[e].x,s[e].y),u[e]=h;p.shape=new l,p.shape.SetAsArray(u,u.length),y.CreateFixture(p)}else p.shape=new l,p.shape.SetAsBox(t.halfWidth,t.halfHeight),y.CreateFixture(p);this.bodiesMap[t.id]=y}setPosition(t,e,i){this.bodiesMap[t].SetPosition(new n(e,i))}setAngle(t,e){var i=this.bodiesMap[t];console.log("set angle",i.setAngle,i),i.setAngle(e)}setLinearVelocity(t,e,i){this.bodiesMap[t].SetLinearVelocity(new n(e,i))}setAngularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyImpulseDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyForceDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyImpulse(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}applyForce(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}setAngle(t,e){this.bodiesMap[t].SetAngle(e)}setAnglularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyTorque(t,e){this.bodiesMap[t].ApplyTorque(e)}setGravity(t){this.b2World.SetGravity(new n(t.x,t.y))}removeBody(t){this.bodiesMap[t]&&(this.fixturesMap[t]&&this.bodiesMap[t].DestroyFixture(this.fixturesMap[t]),this.b2World.DestroyBody(this.bodiesMap[t]),delete this.bodiesMap[t])}wakeUpBody(t){this.bodiesMap[t]&&this.bodiesMap[t].SetAwake(!0)}addContactListener(t){var e=new Box2D.Dynamics.b2ContactListener;t.beginContact&&(e.BeginContact=function(e){t.beginContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.endContact&&(e.EndContact=function(e){t.endContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.preSolve&&(e.PreSolve=function(e,i){t.preSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),t.postSolve&&(e.PostSolve=function(e,i){t.postSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),this.b2World.SetContactListener(e)}removeJoint(t){this.jointsMap[t]&&(this.b2World.DestroyJoint(this.jointsMap[t]),delete this.jointsMap[t])}addJoint(t){if(t&&t.id&&!this.jointsMap[t.id]){!t.alreadyScaled&&t.scaleJointLocation&&(t.scaleJointLocation(1/this.scale),t.scale=this.scale);var e=t.createB2Joint(this);e&&(this.jointsMap[t.id]=e)}}}}).call(this,i(21))},function(t,e){t.exports={entities:[{points:[{x:-100,y:-100},{x:568.10113,y:-100},{x:568.10113,y:0},{x:0,y:540},{x:-100,y:540}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",id:"uleftw",hidden:!0,wall:!0,restitution:1},{points:[{x:-100,y:540},{x:0,y:540},{x:568.10113,y:1080},{x:568.10113,y:1180},{x:-100,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,hidden:!0,wall:!0,id:"lleftw"},{points:[{x:1351.89887,y:-100},{x:2020,y:-100},{x:2020,y:540},{x:1920,y:540},{x:1351.89887,y:0}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"urighttw",hidden:!0,wall:!0},{points:[{x:1351.89887,y:1080},{x:1920,y:540},{x:2020,y:540},{x:2020,y:1180},{x:1351.89887,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:1,id:"lrighttw",hidden:!0,wall:!0},{x:960,y:1180,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"bottomw",restitution:1,hidden:!0,wall:!0},{x:960,y:-100,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"topw",restitution:1,hidden:!0,wall:!0}],joints:[],canvas:{height:600,width:800},backImg:null}},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(n,o,a,r){"use strict";var h,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),u="function",d=Math.round,p=Math.abs,y=Date.now;function f(t,e,i){return setTimeout(w(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function v(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=n.console&&(n.console.warn||n.console.log);return o&&o.call(n.console,s,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==r&&null!==s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign;var x=v(function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&t[s[n]]===r)&&(t[s[n]]=e[s[n]]),n++;return t},"extend","Use `assign`."),b=v(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function T(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&h(s,i)}function w(t,e){return function(){return t.apply(e,arguments)}}function A(t,e){return typeof t==u?t.apply(e&&e[0]||r,e):t}function P(t,e){return t===r?e:t}function S(t,e,i){g(C(e),function(e){t.addEventListener(e,i,!1)})}function M(t,e,i){g(C(e),function(e){t.removeEventListener(e,i,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function D(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function W(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var s=[],n=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];D(n,a)<0&&s.push(t[o]),n[o]=a,o++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s}function _(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((s=(i=l[o])?i+n:e)in t)return s;o++}return r}var O=1;function B(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var R="ontouchstart"in n,L=_(n,"PointerEvent")!==r,F=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,N=1,H=2,U=4,z=8,G=1,Y=2,X=4,V=8,J=16,K=Y|X,q=V|J,$=K|q,Q=["x","y"],Z=["clientX","clientY"];function tt(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){A(t.options.enable,[t])&&i.handler(e)},this.init()}function et(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&N&&s-n==0,a=e&(U|z)&&s-n==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=it(e));n>1&&!i.firstMultiple?i.firstMultiple=it(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,h=a?a.center:o.center,l=e.center=st(s);e.timeStamp=y(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(h,l),e.distance=at(h,l),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};e.eventType!==N&&o.eventType!==U||(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=a?(u=a.pointers,d=s,at(d[0],d[1],Z)/at(u[0],u[1],Z)):1,e.rotation=a?function(t,e){return rt(e[1],e[0],Z)+rt(t[1],t[0],Z)}(a.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=z&&(h>j||a.velocity===r)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,u=nt(h,l,c);s=u.x,n=u.y,i=p(u.x)>p(u.y)?u.x:u.y,o=ot(l,c),t.lastInterval=e}else i=a.velocity,s=a.velocityX,n=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=o}(i,e);var u,d;var f=t.element;E(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function it(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:y(),pointers:e,center:st(e),deltaX:t.deltaX,deltaY:t.deltaY}}function st(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:d(i/e),y:d(s/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?Y:X:e<0?V:J}function at(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function rt(t,e,i){i||(i=Q);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(B(this.element),this.evWin,this.domHandler)}};var ht={mousedown:N,mousemove:H,mouseup:U},lt="mousedown",ct="mousemove mouseup";function ut(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}T(ut,tt,{handler:function(t){var e=ht[t.type];e&N&&0===t.button&&(this.pressed=!0),e&H&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:N,pointermove:H,pointerup:U,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},yt="pointerdown",ft="pointermove pointerup pointercancel";function mt(){this.evEl=yt,this.evWin=ft,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(yt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),T(mt,tt,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=dt[s],o=pt[t.pointerType]||t.pointerType,a="touch"==o,r=D(e,t.pointerId,"pointerId");n&N&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):n&(U|z)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var gt={touchstart:N,touchmove:H,touchend:U,touchcancel:z},vt="touchstart",xt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}T(bt,tt,{handler:function(t){var e=gt[t.type];if(e===N&&(this.started=!0),this.started){var i=function(t,e){var i=W(t.touches),s=W(t.changedTouches);e&(U|z)&&(i=k(i.concat(s),"identifier",!0));return[i,s]}.call(this,t,e);e&(U|z)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Tt={touchstart:N,touchmove:H,touchend:U,touchcancel:z},wt="touchstart touchmove touchend touchcancel";function At(){this.evTarget=wt,this.targetIds={},tt.apply(this,arguments)}T(At,tt,{handler:function(t){var e=Tt[t.type],i=function(t,e){var i=W(t.touches),s=this.targetIds;if(e&(N|H)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,a=W(t.changedTouches),r=[],h=this.target;if(o=i.filter(function(t){return E(t.target,h)}),e===N)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;n=0;for(;n<a.length;)s[a[n].identifier]&&r.push(a[n]),e&(U|z)&&delete s[a[n].identifier],n++;if(!r.length)return;return[k(o.concat(r),"identifier",!0),r]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var Pt=2500,St=25;function Mt(){tt.apply(this,arguments);var t=w(this.handler,this);this.touch=new At(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout(function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)},Pt)}}T(Mt,tt,{handler:function(t,e,i){var s="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)(function(t,e){t&N?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|z)&&Et.call(this,e)}).call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],o=Math.abs(e-n.x),a=Math.abs(i-n.y);if(o<=St&&a<=St)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=_(c.style,"touchAction"),Ct=It!==r,Dt="auto",Wt="manipulation",kt="none",_t="pan-x",Ot="pan-y",Bt=function(){if(!Ct)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)}),t}();function Rt(t,e){this.manager=t,this.set(e)}Rt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&this.manager.element.style&&Bt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){A(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(I(t,kt))return kt;var e=I(t,_t),i=I(t,Ot);if(e&&i)return kt;if(e||i)return e?_t:Ot;if(I(t,Wt))return Wt;return Dt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=I(s,kt)&&!Bt[kt],o=I(s,Ot)&&!Bt[Ot],a=I(s,_t)&&!Bt[_t];if(n){var r=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(r&&h&&l)return}if(!a||!o)return n||o&&i&K||a&&i&q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Ft=2,jt=4,Nt=8,Ht=Nt,Ut=16;function zt(t){this.options=h({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function Gt(t){return t&Ut?"cancel":t&Nt?"end":t&jt?"move":t&Ft?"start":""}function Yt(t){return t==J?"down":t==V?"up":t==Y?"left":t==X?"right":""}function Xt(t,e){var i=e.manager;return i?i.get(t):t}function Vt(){zt.apply(this,arguments)}function Jt(){Vt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Vt.apply(this,arguments)}function qt(){zt.apply(this,arguments),this._timer=null,this._input=null}function $t(){Vt.apply(this,arguments)}function Qt(){Vt.apply(this,arguments)}function Zt(){zt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=P(e.recognizers,te.defaults.preset),new ee(t,e)}zt.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===D(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=D(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<Nt&&s(e.options.event+Gt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=Nt&&s(e.options.event+Gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!A(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ht|Ut|32)&&(this.state=Lt),this.state=this.process(e),this.state&(Ft|jt|Nt|Ut)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},T(Vt,zt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Ft|jt),n=this.attrTest(t);return s&&(i&z||!n)?e|Ut:s||n?i&U?e|Nt:e&Ft?e|jt:Ft:32}}),T(Jt,Vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Ot),t&q&&e.push(_t),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&K?(n=0===o?G:o<0?Y:X,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===a?G:a<0?V:J,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return Vt.prototype.attrTest.call(this,t)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(Kt,Vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ft)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),T(qt,zt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Dt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(U|z)&&!n)this.reset();else if(t.eventType&N)this.reset(),this._timer=f(function(){this.state=Ht,this.tryEmit()},e.time,this);else if(t.eventType&U)return Ht;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ht&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}}),T($t,Vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ft)}}),T(Qt,Vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|q,pointers:1},getTouchAction:function(){return Jt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(K|q)?e=t.overallVelocity:i&K?e=t.overallVelocityX:i&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T(Zt,zt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Wt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&N&&0===this.count)return this.failTimeout();if(s&&n&&i){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Ht,this.tryEmit()},e.interval,this),Ft):Ht}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[$t,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Qt,{direction:K}],[Jt,{direction:K},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var i;this.options=h({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(L?mt:F?At:R?Mt:ut))(i,et),this.touchAction=new Rt(this,this.options.touchAction),ie(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ie(t,e){var i,s=t.element;s.style&&(g(t.options.cssProps,function(n,o){i=_(s.style,o),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Ht)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Ft|jt|Nt)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof zt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=D(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return g(C(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return g(C(t),function(t){e?i[t]&&i[t].splice(D(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(te,{INPUT_START:N,INPUT_MOVE:H,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:Lt,STATE_BEGAN:Ft,STATE_CHANGED:jt,STATE_ENDED:Nt,STATE_RECOGNIZED:Ht,STATE_CANCELLED:Ut,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:X,DIRECTION_UP:V,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:q,DIRECTION_ALL:$,Manager:ee,Input:tt,TouchAction:Rt,TouchInput:At,MouseInput:ut,PointerEventInput:mt,TouchMouseInput:Mt,SingleTouchInput:bt,Recognizer:zt,AttrRecognizer:Vt,Tap:Zt,Pan:Jt,Swipe:Qt,Pinch:Kt,Rotate:$t,Press:qt,on:S,off:M,each:g,merge:b,extend:x,assign:h,inherit:T,bindFn:w,prefixed:_}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=te,(s=function(){return te}.call(e,i,e,t))===r||(t.exports=s)}(window,document)},function(t,e,i){"use strict";for(var s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.AudioContext;++n)window.AudioContext=window[s[n]+"AudioContext"];t.exports=window.AudioContext},function(t,e,i){"use strict";t.exports=function(t){return t.replace(/(.*)\.[^.]{1,4}$/,"")}},function(t,e,i){const s=i(36),n=i(26),o=i(27),a=i(9),r=i(28),h=i(37),l=i(1),c=i(6),u=i(10),d=i(18),p=i(38),y={averagePoints:s,degreesToRadians:n,radiansToDegrees:o,pointInPolygon:a,distance:r,degreesFromCenter:h,radiansFromCenter:l,scalePoints:c,translatePoints:u,insideCanvas:d,rotateRadiansAroundCenter:i(3),rotateDegreesAroundCenter:p};t.exports=y},function(t,e){t.exports=function(t){var e={x:0,y:0};return t.forEach(t,function(t){e.x+=t.x,e.y+=t.y}),e.x=e.x/t.length,e.y=e.y/t.length,e}},function(t,e,i){const s=i(27),n=i(1);t.exports=function(t,e){return s(n(t,e))}},function(t,e,i){const s=i(3),n=i(26);t.exports=function(t,e,i){return s(t,e,n(i))}},function(t,e,i){const s=i(29),n=i(24),o=0,a=2;t.exports=class extends s{constructor(t={}){super(t),this.state=a,this.walkingAnims=[],this.dyingAnims=[],this.idleAnims=[],this.direction=o,Object.assign(this,t)}updateDirection(t){this.x+=this.dx*t,this.y+=this.dy*t,this.state!==this.statics.STATE_DYING&&(this.dx>0&&0===this.dy?this.direction=this.statics.EAST:0===this.dx&&this.dy<0?this.direction=this.statics.NORTH:this.dx>0&&this.dy<0?this.direction=this.statics.NORTHEAST:this.dx<0&&this.dy<0?this.direction=this.statics.NORTHWEST:0===this.dx&&this.dy>0?this.direction=this.statics.SOUTH:this.dx>0&&this.dy>0?this.direction=this.statics.SOUTHEAST:this.dx<0&&this.dy>0?this.direction=this.statics.SOUTHWEST:this.dx<0&&0===this.dy&&(this.direction=this.statics.WEST),0===this.dx&&0===this.dy?this.state=this.statics.STATE_IDLE:this.state=this.statics.STATE_WALKING)}updateAnimations(t){this.state===this.statics.STATE_WALKING?this.anim=this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?this.anim=this.dyingAnims[this.direction]:this.anim=this.idleAnims[this.direction],this.anim.update(t)}createAnimations(t,e,i,s,o,a){var r=[],h=Array.isArray(e),l=1;a||(a=0);for(var c=0;c<8;c++){r[c]=new n({height:s,width:o,image:i});for(var u=0;u<t;u++)l=h?e[u]:e,r[c].addFrame(l,u+t*c,a)}return r}}},function(t,e,i){"use strict";var s={Circle:i(5),MultiPolygon:i(41),Polygon:i(12),Rectangle:i(13)};t.exports=s},function(t,e,i){const s=i(7),n=i(6),o=i(9),a=i(10);t.exports=class extends s{constructor(t={}){super(t),this.polys=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle;for(var s=0;s<this.polys.length;s++){t.beginPath(),t.moveTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e);for(var n=1;n<this.polys[s].length;n++)t.lineTo((this.polys[s][n].x+this.x)*e,(this.polys[s][n].y+this.y)*e);t.lineTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e),t.closePath(),t.fill(),t.stroke()}t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.polys=n(this.polys,t),sup.scaleShape(t)}pointInShape(t){for(var e=0;e<this.polys.length;e++)if(o(t,a(this.polys[e],this)))return!0;return!1}}},function(t,e,i){"use strict";var s={Distance:i(43),Prismatic:i(44),Revolute:i(45)};t.exports=s},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2DistanceJointDef;t.exports=class extends s{constructor(t={}){super(t),this.bodyPoint2=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint2&&(this.bodyPoint2.x=this.bodyPoint2.x*t,this.bodyPoint2.y=this.bodyPoint2.y*t,this.alreadyScaled=!0),super.scaleJointLocation(t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){let s,a;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),this.bodyPoint2&&(a=new n(this.bodyPoint2.x,this.bodyPoint2.y)),s=s||e.GetWorldCenter(),a=a||i.GetWorldCenter();const r=new o;return r.Initialize(e,i,s,a),this.jointAttributes&&Object.assign(r,this.jointAttributes),t.b2World.CreateJoint(r)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2PrismaticJointDef;t.exports=class extends s{constructor(t={}){super(t),this.axisScale=null,Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const s=t.bodiesMap[this.bodyId1],a=t.bodiesMap[this.bodyId2];if(s&&a){let r;this.bodyPoint1&&(r=new n(this.bodyPoint1.x,this.bodyPoint1.y)),r=r||s.GetWorldCenter();var e,i=new o;return e=this.axisScale?new n(this.axisScale.x,this.axisScale.y):new n(1,0),i.Initialize(s,a,r,e),this.jointAttributes&&Object.assign(i,this.jointAttributes),t.b2World.CreateJoint(i)}}}}},function(t,e,i){const s=i(11),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2RevoluteJointDef;t.exports=class extends s{constructor(t={}){super(t),Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){var e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){var s;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),s=s||e.GetWorldCenter();var a=new o;return a.Initialize(e,i,s,void 0),this.jointAttributes&&Object.assign(a,this.jointAttributes),t.b2World.CreateJoint(a)}}}}},function(t,e){t.exports=class{constructor(t={}){Object.assign(this,t),this.collisions=this.collisions||{}}reset(){this.collisions={}}postSolve(t,e,i,s){this.collisions[t]=this.collisions[t]||[],this.collisions[t].push({id:e,impulse:i.normalImpulses[0]}),this.collisions[e]=this.collisions[e]||[],this.collisions[e].push({id:t,impulse:i.normalImpulses[0]})}}},function(t,e,i){const s=i(14),n=i(30);t.exports=class extends s{constructor(t={}){super(t),console.log("boxgame options",t),this.box=null,this.boxUpdating=!0,this.entities=null,this.joints=null,Object.assign(this,t),this.box||(this.box=new n(t.boxOptions)),this.entities||(this.entities={}),this.joints||(this.joints={})}updateBox(t){this.boxUpdating&&(this.box.update(t),this.box.updateExternalState(this.entities))}addBody(t){this.entities[t.id]=t,this.box.addBody(t)}addBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addBody(t)})}removeBody(t){this.box.removeBody(t.id),delete this.entities[t.id]}removeBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeBody(t)})}addJoint(t){this.joints[t.id]=t,this.box.addJoint(t)}addJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addJoint(t)})}removeJoint(t){this.box.removeJoint(t.id),delete this.joints[t.id]}removeJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeJoint(t)})}}},function(t,e,i){"use strict";i.r(e);var s=i(2),n=i(31),o=i.n(n);var a=function(t,e){const{fullW:i,fullH:s,hexSide:n,sideW:o,sint1:a,ang1:r,sint2:h,ang2:l}=this.measurements;t.clearRect(0,0,this.width,this.height),t.strokeStyle=this.players[0].color,t.beginPath(),t.moveTo(o,1),t.lineTo(i-o,1),t.stroke(),t.strokeStyle=this.players[3].color,t.beginPath(),t.moveTo(o,s),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[1].color,t.beginPath(),t.moveTo(i-o,0),t.lineTo(i,s/2),t.stroke(),t.strokeStyle=this.players[2].color,t.beginPath(),t.moveTo(i,s/2),t.lineTo(i-o,s),t.stroke(),t.strokeStyle=this.players[4].color,t.beginPath(),t.moveTo(o,s),t.lineTo(0,s/2),t.stroke(),t.strokeStyle=this.players[5].color,t.beginPath(),t.moveTo(0,s/2),t.lineTo(o,0),t.stroke(),this.players.forEach(i=>{i.face.dead||i.paddles[0].draw(t,e),i.face.draw(t,e)}),Object.keys(this.entities).forEach(e=>{this.entities[e].hidden||this.entities[e].draw(t)}),this.ball.draw(t,e)},r=i(4),h=i.n(r),l=i(13),c=i.n(l);class u extends c.a{constructor(t={}){super(Object.assign({halfWidth:20,halfHeight:20,staticBody:!1,lineWidth:2,power:!0,drawCenter:!1,drawLocation:!1},t))}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle="#222",t.strokeStyle=this.strokeStyle,t.fillRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.strokeRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.restore(),t.lineWidth=i}}class d extends u{constructor(t={}){super(Object.assign(t,{powerUp:!0}))}draw(t,e){super.draw(t,e),e=e||this.scale||1,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle="green";const i=this.halfWidth/2;t.fillRect((this.x-i)*e,(this.y-i/2)*e,this.halfWidth*e,i*e),t.fillRect((this.x-i/2)*e,(this.y-i)*e,i*e,this.halfWidth*e),t.restore()}}class p extends u{constructor(t={}){super(Object.assign(t,{powerDown:!0}))}draw(t,e){super.draw(t,e),e=e||this.scale||1,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle="red";const i=this.halfWidth/2;t.fillRect((this.x-i)*e,(this.y-i/2)*e,this.halfWidth*e,i*e),t.restore()}}const y={shuffle:function(t){const e=t.slice(0);let i=e.length;for(;i>0;){let t=Math.floor(Math.random()*i),s=e[--i];e[i]=e[t],e[t]=s}return e}};console.log("lib",y);var f=y;const{entities:m}=s.box2d,{radiansFromCenter:g,rotateRadiansAroundCenter:v,distance:x}=s.utils,b=.0027,T=2500,w=1e4,A={x:0,y:0},P=2*Math.PI/360*1.75;function S(t,e,i,s){const n={x:30*e.x,y:30*e.y,brickPiece:!0,life:T,staticBody:!1,density:.001,playerId:e.playerId,fillStyle:h.a.rgb(e.playerId),drawCenter:!1,drawLocation:!1};for(let s=0;s<i;s++){const i={halfHeight:e.halfHeight/(2*Math.random()+2.5),halfWidth:e.halfWidth/(2*Math.random()+2.5)},s=new m.Rectangle(Object.assign({},n,i));t.addBody(s),t.box.setAngle(s.id,Math.random()*(2*Math.PI)),t.box.applyImpulse(s.id,Math.random()*(2*Math.PI),30)}if(s){t.sounds.explosions[Math.floor(Math.random()*t.sounds.explosions.length)].play(.2)}}var M=function(t){this.updateBox(t);const{scaleW:e,scaleH:i}=this.measurements;if(Object.keys(this.entities).forEach(s=>{const n=this.entities[s];if(n.brickPiece)n.life=n.life-t,n.life<0?this.removeBody(n):n.fillStyle=h.a.rgba(n.playerId,n.life/T*.6);else if(n.power&&((n.x<0||n.y<0||n.x>e||n.y>i)&&this.removeBody(n),n.collisions&&n.collisions.length)){let t=!1;if(n.collisions.forEach(e=>{this.entities[e.id].paddle&&(t=!0)}),t)if(console.log("GOT THE POWER",n),this.removeBody(n),n.powerUp){this.sounds.powerup.play();const t=f.shuffle(Object.keys(this.entities).reduce((t,e)=>{const i=this.entities[e];return i.brick&&i.playerId===n.playerId&&t.push(i),t},[]));[0,1,2,3].forEach(e=>{t[e]&&t[e].hitPoints++})}else this.sounds.powerdown.play(),this.players[n.playerId].smallTime=w;else console.log("hit other paddle",n)}}),this.ball&&this.ball.collisions&&this.ball.collisions.length)if(this.ball.collisions.forEach(t=>{const e=this.entities[t.id];if(e){if(e.brick){if(e.hitPoints--,e.hitPoints<1&&(this.removeBody(t),S(this,e,6,!0),e.powerUp||e.powerDown&&this.ball.hitPlayer)){const t=this.ball.hitPlayer;if(t&&!t.dead&&e.playerId!==t.playerId&&!t.dead){const i={x:(t.paddles[0].x+t.anchor.x)/2,y:(t.paddles[0].y+t.anchor.y)/2},s=g(e,i),n=1<<8+t.playerId,o={x:e.x*this.box.scale,y:e.y*this.box.scale,strokeStyle:t.color,categoryBits:n,maskBits:n,playerId:t.playerId},a=e.powerUp?new d(o):new p(o);this.addBody(a),this.box.applyForce(a.id,s,400)}}}else if(e.king)this.sounds.scream.play(),e.dead=!0,this.players[e.playerId].dead=!0,Object.keys(this.entities).forEach(t=>{const i=this.entities[t];i.brick&&i.playerId===e.playerId&&(this.removeBody(i),S(this,i,3,!1))}),this.players[e.playerId].paddles.forEach(t=>{this.removeBody(t)}),this.removeBody(e);else if(e.paddle){const t=this.players[e.playerId];x(t.anchor,this.ball)>x(t.anchor,e)&&(this.ball.hitPlayer=t,this.ball.hitPaddle=e,t.firePressed&&(this.ball.caught=!0,this.ball.caughtPaddlePosition=t.position,this.ball.caughtPlayerId=e.playerId,this.ball.caughtPosition={x:this.ball.x,y:this.ball.y}))}e.wall?this.ball.wallHits++:this.ball.wallHits=0}}),this.removeBody(this.ball),this.ball.angularVelocity=null,this.ball.prevLinearVelocity=this.ball.linearVelocity,this.ball.linearVelocity=null,this.ball.caught){const t=this.players[this.ball.caughtPlayerId],e=t.position-this.ball.caughtPaddlePosition+2*Math.PI,i=v(t.anchor,this.ball.caughtPosition,e);if(this.ball.x=i.x,this.ball.y=i.y,t.firePressed);else{this.ball.caught=!1;const t=this.getBricksLeft(),e=this.ballSpeed+(330-t);this.addBody(this.ball);const i=g(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),s=i-g(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,i-5*s,e),this.ball.hitPaddle=null}}else{const t=this.getBricksLeft(),e=this.ballSpeed+(330-t),i=Math.round(Math.random())?-Math.random()*P:Math.random()*P;if(this.addBody(this.ball),this.ball.hitPaddle){const t=g(this.ball.hitPlayer.anchor,this.ball.hitPlayer.paddles[0]),s=t-g(this.ball.hitPlayer.anchor,this.ball);this.box.applyForce(this.ball.id,t-5*s+i,e),this.ball.hitPaddle=null,this.sounds.paddle.play()}else{const t=g(A,this.ball.prevLinearVelocity);this.box.applyForce(this.ball.id,t+i+i*this.ball.wallHits,e)}}game.players.forEach((e,i)=>{if(!e.face.dead){e.direction>0&&e.position<Math.PI?(e.position+=b*t,e.position=Math.min(e.position,Math.PI)):e.direction<0&&e.position>0&&(e.position-=b*t,e.position=Math.max(e.position,0));let s=1;e.smallTime>0&&(e.smallTime=e.smallTime-t,s=.5);const n=v(e.pt,{x:e.pt.x,y:e.pt.y+this.distFromAnchor},e.angle+e.position-Math.PI/2),o=e.paddleOps;o.x=n.x,o.y=n.y,o.points=[{x:o.halfWidth*s,y:-o.halfHeight},{x:.7*o.halfWidth*s,y:o.halfHeight/2},{x:.4*o.halfWidth*s,y:o.halfHeight},{x:.4*-o.halfWidth*s,y:o.halfHeight},{x:.7*-o.halfWidth*s,y:o.halfHeight/2},{x:-o.halfWidth*s,y:-o.halfHeight}],e.firePressed?(o.strokeStyle=e.colorComplement,o.lineWidth=5):(o.strokeStyle=e.color,o.lineWidth=1),o.points=e.paddleOps.points.map(t=>v(A,t,e.angle+e.position-Math.PI/2)),e.update++,o.id=i+"paddle"+e.update;const a=new m.Polygon(o);if(game.addBody(a),e.paddles.push(a),e.paddles.length>3){const t=e.paddles.shift();game.removeBody(t)}}})},E=i(5),I=i.n(E),C=i(1),D=i.n(C),W=i(3),k=i.n(W);const _={x:0,y:0};console.log("wtf too many bricks?");let O=[[6,1],[10,1],[14,1],[34,1],[38,1],[42,1],[8,3],[12,3],[16,3],[32,3],[36,3],[40,3],[6,5],[10,5],[14,5],[34,5],[38,5],[42,5],[8,7],[12,7],[16,7],[32,7],[36,7],[40,7],[10,9],[14,9],[18,9],[30,9],[34,9],[38,9],[12,11],[16,11],[20,11],[24,11],[28,11],[32,11],[36,11],[14,13],[18,13],[22,13],[26,13],[30,13],[34,13],[12,15],[16,15],[20,15],[24,15],[28,15],[32,15],[36,15],[18,17],[22,17],[26,17],[30,17],[24,19]];var B=O=O.map(t=>((t=[12.5*t[0],12.5*t[1]])[0]=t[0]-300,t)),R=i(12),L=i.n(R);class F extends L.a{draw(t,e){const i=t.lineWidth;t.save(),t.lineWidth=1,t.lineJoin="round",this.hitPoints>2?t.fillStyle="#EEE":this.hitPoints>1?t.fillStyle="#AAA":t.fillStyle=this.fillStyle;const s=t.createLinearGradient(0,this.prey,0,this.prey+2*this.halfHeight);s.addColorStop(0,t.fillStyle),s.addColorStop(1,"#444"),t.translate(this.prex,this.prey),t.rotate(this.preAngle),t.translate(-this.prex,-this.prey),t.fillStyle=s,t.strokeStyle=this.strokeStyle,t.fillRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.strokeRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.restore(),t.lineWidth=i}}class j extends I.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=t.lineWidth;t.lineWidth=2,t.fillStyle=this.dead?this.deadFillStyle:this.fillStyle,t.strokeStyle=this.dead?this.fillStyle:this.strokeStyle,t.beginPath(),t.arc(i,s,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const o={x:i-17,y:s-15},a={x:i+17,y:s-15};if(this.dead)t.lineWidth=2,t.strokeStyle=this.fillStyle,t.beginPath(),t.moveTo(o.x-10,o.y-10),t.lineTo(o.x+10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(o.x+10,o.y-10),t.lineTo(o.x-10,o.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x-10,a.y-10),t.lineTo(a.x+10,a.y+10),t.stroke(),t.beginPath(),t.moveTo(a.x+10,a.y-10),t.lineTo(a.x-10,a.y+10),t.stroke();else{t.lineWidth=1,t.fillStyle="#FFF",t.beginPath(),t.arc(i-17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.beginPath(),t.arc(i+17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const n=D()(o,{x:this.ball.x*e,y:this.ball.y*e}),r=D()(a,{x:this.ball.x*e,y:this.ball.y*e}),h=k()(o,{x:i-17,y:s-20},n),l=k()(a,{x:i+17,y:s-20},r);t.fillStyle="black",t.beginPath(),t.arc(h.x,h.y,6,0,2*Math.PI,!0),t.closePath(),t.fill(),t.beginPath(),t.arc(l.x,l.y,6,0,2*Math.PI,!0),t.closePath(),t.fill()}t.lineWidth=n}}var N=i(0),H=i.n(N);i(6);const U=10;function z(t,e,i,s,n){let o=t.inputManager.keyActions[i].isPressed();if(t.inputManager.keyActions[e].isPressed()?t.players[n].firePressed=!0:t.players[n].firePressed=!1,o||t.inputManager.keyActions[s].isPressed())return t.players[n].direction=o?-1:1;t.players[n].direction=0}var G=function(t){z(this,H.a.SLASH,H.a.LEFT,H.a.RIGHT,2),z(this,"Q","W","E",5),z(this,"X","C","V",4),z(this,"B","N","M",3),z(this,"T","Y","U",0),z(this,"O","P",H.a.OPEN_BRACKET,1),t.keyActions[H.a.UP].isPressed()&&this.box.applyImpulseDegrees("ball",0,U),t.keyActions[H.a.DOWN].isPressed()&&this.box.applyImpulseDegrees("ball",180,U),t.keyActions.A.isPressed()&&this.box.applyTorque("ball",100*-U),t.keyActions.D.isPressed()&&this.box.applyTorque("ball",100*U)};console.log("shuffle",f);const{BoxGame:Y,entities:X,joints:V}=s.box2d,{rotateRadiansAroundCenter:J,distance:K}=s.utils;console.log("update",M);const q=568.10113077769,$=Math.asin(.6889532509648748),Q=Math.asin(.7248057794927981);console.log("angle in radians",$,Q);const Z={x:0,y:0},tt=new Y({canvasId:"canvas",gameAreaId:"gameArea",canvasPercentage:1,boxOptions:{resolveCollisions:!0,gravityY:0},draw:a,update:M,loadResources:function(t){const e=[];e.push(t.loadSound("sounds/explosion5")),e.push(t.loadSound("sounds/explosion7")),e.push(t.loadSound("sounds/explosion8")),this.sounds={explosions:e,scream:t.loadSound("sounds/scream"),paddle:t.loadSound("sounds/paddle"),powerup:t.loadSound("sounds/powerup"),powerdown:t.loadSound("sounds/powerdown")}},initInput:function(t){t.addArrowKeyActions(),t.addKeyAction(["A","D","Q","W","E","X","C","V","B","N","M","T","Y","U","O","P",s.keys.OPEN_BRACKET,s.keys.SLASH])},handleInput:G,getBricksLeft:function(){return Object.keys(this.entities).reduce((t,e)=>this.entities[e].brick?t+1:t,0)},distFromAnchor:295,ballSpeed:400}),et={x:960,y:540,ptRadius:10,radius:10,points:[0,1,2,3,4,5,6,7,8],id:"ball",wallHits:0,hidden:!0};et.points=et.points.map((t,e)=>{return J(Z,{x:0,y:et.ptRadius},2*Math.PI/et.points.length*e)}),tt.ball=new class extends I.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=this.ptRadius;if(t.fillStyle="rgba(255,127,0,0.66)",t.beginPath(),t.arc(i,s,n,0,2*Math.PI,!0),t.closePath(),t.fill(),this.linearVelocity){const e=.06,o=.85,a=D()(_,this.linearVelocity),r={x:i,y:s};(this.caught?[1,2]:[1,2,3,4,5]).map((t,h)=>k()(r,{x:i,y:s-n*(o*t)},a+Math.PI+(t%2?e:-e))).forEach((e,i)=>{t.fillStyle="rgba(255,255,0,0.5)",t.beginPath(),t.arc(e.x,e.y,n-n*(.15*(i+1)),0,2*Math.PI,!0),t.closePath(),t.fill()})}}}(et),tt.addBody(tt.ball),o.a.entities.forEach(function(t){t.maskBits=1;const e=X[t.type];e&&(t.drawCenter=!1,tt.addBody(new e(t)))});const it=.6043122389547919,st=[0,$,Q+Math.PI/2,Math.PI,Math.PI+$,1.5*Math.PI+Q];const nt=[[960,0],[1920-q*it,540*(1-it)],[1920-q*it,540+540*it],[960,1080],[q*it,540+540*it],[q*it,540*(1-it)]].map((t,e)=>({playerId:e,pt:{x:t[0],y:t[1]},color:h.a.rgb(e),colorComplement:h.a.complement(e),angle:st[e],direction:0,position:Math.PI/2,update:0,paddleMaskBits:255+(1<<8+e),smallTime:0,bigTime:0}));console.log("players",nt);const ot=nt[0].pt;nt.forEach((t,e)=>{console.log("creating player",t);const i=t.pt,s=J(i,{x:i.x,y:i.y+55},t.angle),n=new j({x:s.x,y:s.y,radius:50,staticBody:!0,restitution:2,fillStyle:t.color,deadFillStyle:h.a.rgba(e,.25),king:!0,ball:tt.ball,playerId:e});tt.addBody(n),t.face=n;const o=J(i,{x:i.x,y:i.y+tt.distFromAnchor},t.angle);t.paddleOps={x:o.x,y:o.y,halfWidth:55,halfHeight:12,restitution:1,fillStyle:t.color,strokeStyle:t.color,paddle:!0,drawCenter:!1,playerId:e,density:100,staticBody:!0,id:e+"paddle0",hidden:!0,drawLocation:!1,maskBits:t.paddleMaskBits,categoryBits:t.paddleMaskBits},t.paddleOps.points=[{x:t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight},{x:t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:t.paddleOps.halfHeight},{x:-t.paddleOps.halfWidth,y:-t.paddleOps.halfHeight}],t.paddleOps.points=t.paddleOps.points.map(e=>J(Z,e,t.angle));const a=new X.Polygon(t.paddleOps);tt.addBody(a),t.paddles=[a],t.anchor=new X.Circle({x:t.pt.x,y:t.pt.y,radius:.1,staticBody:!0,playerId:e,hidden:!0}),tt.addBody(t.anchor),a.distance=K(t.anchor,a);const r=new V.Distance({bodyId1:t.anchor.id,bodyId2:a.id,id:Math.random()+"j"});tt.addJoint(r);const l=B.map((s,n)=>{const o={x:s[0]+960,y:s[1],halfWidth:25,halfHeight:12.5,staticBody:!0,restitution:1.5,playerId:e,fillStyle:t.color,brick:!0,preAngle:t.angle,maskBits:1,categoryBits:1,hitPoints:1},a=J(ot,o,t.angle);o.x=a.x,o.y=a.y,o.x+=i.x-nt[0].pt.x,o.y+=i.y-nt[0].pt.y,o.points=[{x:o.halfWidth,y:-o.halfHeight},{x:o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:-o.halfHeight}],o.points=o.points.map(e=>J(Z,e,t.angle)),o.prex=o.x,o.prey=o.y;const r=new F(o);return tt.addBody(r),r}),c=f.shuffle(l);[0,1,2,3,4,5,6,7,8,9].forEach(t=>{t%2?c[t].powerUp=!0:c[t].powerDown=!0})}),tt.measurements={fullW:1920,fullH:1080,hexSide:783.79773844413,sideW:q,sint1:.6889532509648748,ang1:$,sint2:.7248057794927981,ang2:Q,scaleW:1920/tt.box.scale,scaleH:1080/tt.box.scale},tt.players=nt,console.log(tt),window.game=tt,tt.run(),tt.box.applyForceDegrees("ball",360*Math.random(),tt.ballSpeed)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNGcm9tQ2VudGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3NjYWxlUG9pbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0dhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL3BvaW50SW5Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy90cmFuc2xhdGVQb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9Kb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9HYW1lQ29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvSW5wdXRNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9Ub3VjaEFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvTW91c2VBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzL2luc2lkZUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvUmVzb3VyY2VNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9oYXMuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvc291bmRzL1NvdW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9zb3VuZHMvV2ViQXVkaW8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvQW5pbUZyYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9kZWdyZWVzVG9SYWRpYW5zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9yYWRpYW5zVG9EZWdyZWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9kaXN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9Cb3guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JveERhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbW1lcmpzL2hhbW1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvc2hpbXMvQXVkaW9Db250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9yZW1vdmVFeHRlbnNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9hdmVyYWdlUG9pbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy91dGlscy9kZWdyZWVzRnJvbUNlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvdXRpbHMvcm90YXRlRGVncmVlc0Fyb3VuZENlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvcmVpbmVyL0NyZWF0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvZW50aXRpZXMvTXVsdGlQb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9qb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zyb3plbmpzL2JveDJkL2pvaW50cy9EaXN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1ByaXNtYXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvam9pbnRzL1Jldm9sdXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mcm96ZW5qcy9ib3gyZC9saXN0ZW5lcnMvQ29udGFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnJvemVuanMvYm94MmQvQm94R2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUG93ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Bvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Bvd2VyRG93bi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliLmpzIiwid2VicGFjazovLy8uL3NyYy91cGRhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JhbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JyaWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQnJpY2suanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hhbmRsZUlucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ0FOQ0VMIiwiSEVMUCIsIkJBQ0tfU1BBQ0UiLCJUQUIiLCJDTEVBUiIsIlJFVFVSTiIsIkVOVEVSIiwiU0hJRlQiLCJDT05UUk9MIiwiQUxUIiwiUEFVU0UiLCJDQVBTX0xPQ0siLCJFU0NBUEUiLCJTUEFDRSIsIlBBR0VfVVAiLCJQQUdFX0RPV04iLCJFTkQiLCJIT01FIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJET1dOIiwiUFJJTlRTQ1JFRU4iLCJJTlNFUlQiLCJERUxFVEUiLCJOVU0wIiwiTlVNMSIsIk5VTTIiLCJOVU0zIiwiTlVNNCIsIk5VTTUiLCJOVU02IiwiTlVNNyIsIk5VTTgiLCJOVU05IiwiU0VNSUNPTE9OIiwiRVFVQUxTIiwiQSIsIkIiLCJDIiwiRCIsIkUiLCJGIiwiRyIsIkgiLCJJIiwiSiIsIksiLCJMIiwiTSIsIk4iLCJPIiwiUCIsIlEiLCJSIiwiUyIsIlQiLCJVIiwiViIsIlciLCJYIiwiWSIsIloiLCJDT05URVhUX01FTlUiLCJOVU1QQUQwIiwiTlVNUEFEMSIsIk5VTVBBRDIiLCJOVU1QQUQzIiwiTlVNUEFENCIsIk5VTVBBRDUiLCJOVU1QQUQ2IiwiTlVNUEFENyIsIk5VTVBBRDgiLCJOVU1QQUQ5IiwiTVVMVElQTFkiLCJBREQiLCJTRVBBUkFUT1IiLCJTVUJUUkFDVCIsIkRFQ0lNQUwiLCJESVZJREUiLCJGMSIsIkYyIiwiRjMiLCJGNCIsIkY1IiwiRjYiLCJGNyIsIkY4IiwiRjkiLCJGMTAiLCJGMTEiLCJGMTIiLCJGMTMiLCJGMTQiLCJGMTUiLCJGMTYiLCJGMTciLCJGMTgiLCJGMTkiLCJGMjAiLCJGMjEiLCJGMjIiLCJGMjMiLCJGMjQiLCJOVU1fTE9DSyIsIlNDUk9MTF9MT0NLIiwiVVBfRFBBRCIsIkRPV05fRFBBRCIsIkxFRlRfRFBBRCIsIlJJR0hUX0RQQUQiLCJDT01NQSIsIlBFUklPRCIsIlNMQVNIIiwiQkFDS19RVU9URSIsIk9QRU5fQlJBQ0tFVCIsIkJBQ0tfU0xBU0giLCJDTE9TRV9CUkFDS0VUIiwiUVVPVEUiLCJNRVRBIiwiY2VudGVyIiwieCIsInkiLCJwdCIsIk1hdGgiLCJQSSIsImF0YW4iLCJ3aW5kb3ciLCJmcm96ZW5qcyIsIkdhbWVDb3JlIiwiSW5wdXRNYW5hZ2VyIiwiUmVzb3VyY2VNYW5hZ2VyIiwiTW91c2VBY3Rpb24iLCJUb3VjaEFjdGlvbiIsImtleXMiLCJBbmltYXRpb24iLCJBbmltRnJhbWUiLCJ1dGlscyIsIlNwcml0ZSIsInJlaW5lciIsIkNyZWF0dXJlIiwic291bmRzIiwiV2ViQXVkaW8iLCJib3gyZCIsImVudGl0aWVzIiwiam9pbnRzIiwiQm94IiwiQm94R2FtZSIsImFuZ2xlIiwic2luIiwiY29zIiwibmV3UHQiLCJ4bmV3IiwieW5ldyIsImNvbG9ycyIsIlJHQjJIU1YiLCJyZ2IiLCJhIiwiYiIsImhzdiIsIm1heCIsImciLCJkaWYiLCJtaW4zIiwic2F0dXJhdGlvbiIsImh1ZSIsInJvdW5kIiwiaWQiLCJyZ2JhIiwiY29tcGxlbWVudCIsImgiLCJIdWVTaGlmdCIsInRlbXByZ2IiLCJmbG9vciIsImYiLCJxIiwiSFNWMlJHQiIsIkVudGl0eSIsImRpc3RhbmNlIiwiW29iamVjdCBPYmplY3RdIiwib3B0aW9ucyIsInN1cGVyIiwidGhpcyIsInJhZGl1cyIsImFzc2lnbiIsImN0eCIsInNjYWxlIiwib2dMaW5lV2lkdGgiLCJsaW5lV2lkdGgiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsImNsb3NlUGF0aCIsImZpbGwiLCJzdHJva2UiLCJzdGF0aWNCb2R5Iiwic2F2ZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsIm1vdmVUbyIsImxpbmVUbyIsInJlc3RvcmUiLCJkcmF3Iiwic2NhbGVTaGFwZSIsInBvaW50Iiwic2NhbGVQb2ludHMiLCJwb2ludHMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJyYW5kb20iLCJEYXRlIiwibm93IiwiZHJhd0xvY2F0aW9uIiwiZHJhd0NlbnRlciIsInJlc3RpdHV0aW9uIiwiZGVuc2l0eSIsImZyaWN0aW9uIiwibGluZWFyRGFtcGluZyIsImxpbmVhclZlbG9jaXR5IiwiYW5ndWxhclZlbG9jaXR5IiwiYW5ndWxhckRhbXBpbmciLCJtYXNrQml0cyIsImNhdGVnb3J5Qml0cyIsImdyb3VwSW5kZXgiLCJzdGF0ZSIsImNlbnRlclN0eWxlIiwiYWxyZWFkeVNjYWxlZCIsInN0YXRpY3MiLCJOT1JNQUwiLCJERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkiLCJTVEFURV9SRUxFQVNFRCIsIlNUQVRFX1BSRVNTRUQiLCJTVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFIiwiU1RBVEVfTU9WRUQiLCJiZWhhdmlvciIsImFtb3VudCIsInJlc2V0IiwicHJlc3MiLCJyZWxlYXNlIiwicHJlc3NBbXQiLCJyZXRWYWwiLCJwb2x5Z29uIiwicG9seSIsImluc2lkZVBvbHkiLCJqIiwibGVuZ3RoIiwieGkiLCJ5aSIsInhqIiwieWoiLCJ0cmFuc2xhdGVQb2ludHMiLCJ0cmFuc2xhdGlvbiIsImJvZHlJZDEiLCJib2R5SWQyIiwiYm9keVBvaW50MSIsImpvaW50QXR0cmlidXRlcyIsInBvaW50SW5Qb2x5Z29uIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImZpbGxSZWN0Iiwic3Ryb2tlUmVjdCIsImlzUnVubmluZyIsImNhbnZhc0lkIiwibWF4U3RlcCIsImNvbnRleHRUeXBlIiwiaGVpZ2h0Iiwid2lkdGgiLCJyZXNvdXJjZU1hbmFnZXIiLCJpbnB1dE1hbmFnZXIiLCJsb2FkaW5nRm9yZWdyb3VuZCIsImxvYWRpbmdCYWNrZ3JvdW5kIiwiZ2FtZUFyZWFJZCIsImNhbnZhc1BlcmNlbnRhZ2UiLCJuZXdIZWlnaHQiLCJjYW52YXMiLCJuZXdXaWR0aCIsImluaXQiLCJsb2FkUmVzb3VyY2VzIiwiaW5pdElucHV0IiwibGF1bmNoTG9vcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsInNldEhlaWdodCIsInNldFdpZHRoIiwiZ2FtZUFyZWEiLCJyZXNpemUiLCJhbGVydCIsImVsYXBzZWRUaW1lIiwiY3VyclRpbWUiLCJnZXRUaW1lIiwibWluIiwicHJldlRpbWUiLCJyZXNvdXJjZXNSZWFkeSIsInVwZGF0ZUxvYWRpbmdTY3JlZW4iLCJkcmF3TG9hZGluZ1NjcmVlbiIsImhhbmRsZUlucHV0IiwicGF1c2VkIiwidXBkYXRlIiwic3RhcnRUaW1lIiwibG9vcFJ1bm5lciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdhbWVMb29wIiwiZm9udCIsImZpbGxUZXh0IiwidGV4dFB4U2l6ZSIsImdldFBlcmNlbnRDb21wbGV0ZSIsIkhhbW1lciIsIkdhbWVBY3Rpb24iLCJpbnNpZGVDYW52YXMiLCJvbiIsImVsZW1lbnQiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b1BpeGVsIiwicGFyc2VGbG9hdCIsImdldE1hcmdpbkV4dGVudHMiLCJub2RlIiwic3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsInciLCJtYXJnaW5SaWdodCIsIm1hcmdpbkJvdHRvbSIsImNsZWFudXAiLCJyZW1vdmUiLCJrZXlBY3Rpb25zIiwibW91c2VBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsImhhbmRsZU1vdXNlIiwiaGFuZGxlVG91Y2giLCJoYW5kbGVLZXlzIiwiZW11bGF0ZU1vdXNlIiwiaGFtbWVyIiwiYm9keSIsInByZXZlbnRfZGVmYXVsdCIsImRyYWdfbWF4X3RvdWNoZXMiLCJob2xkIiwicHVzaENsZWFudXAiLCJrZXlkb3duIiwia2V5dXAiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwibm9ybWFsaXplUG9pbnQiLCJnZXN0dXJlIiwicmVtb3ZlQ2xlYW51cCIsImFyZ3MiLCJvZmYiLCJhcHBseSIsImdhbWVBY3Rpb24iLCJrZXlDb2RlIiwiaW5pdGlhbFByZXNzT25seSIsImdhcyIsImtjIiwiZ2EiLCJkZXRlY3RJbml0aWFsUHJlc3NPbmx5IiwibWFwVG9LZXkiLCJhZGRLZXlBY3Rpb24iLCJlIiwiY3VycmVudFBvaW50IiwicG9zaXRpb24iLCJjb25zb2xlIiwibG9nIiwidG91Y2hlcyIsImN1cnJlbnRQb2ludHMiLCJwdXNoIiwic29tZSIsIm1vdXNlVXAiLCJwb3NpdGlvbnMiLCJzdGFydFBvc2l0aW9ucyIsInByZXZlbnREZWZhdWx0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZ2V0S2V5QWN0aW9uIiwiaXNQcmVzc2VkIiwiZXZ0IiwiY29vcmRzTSIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJ6b29tUmF0aW8iLCJjbGllbnRYIiwiY2xpZW50WSIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiYm9keU1hcmdpbnMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ3aWR0aFRvSGVpZ2h0IiwibmV3V2lkdGhTdHlsZSIsIm5ld0hlaWdodFN0eWxlIiwiY2FudmFzUGVyY2VudGFnZVN0eWxlIiwiZGlzcGxheSIsImVuZFBvc2l0aW9ucyIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdGlvbiIsImhhcyIsIlNvdW5kIiwicmVzb3VyY2VMaXN0Iiwibm9ybWFsaXplUGF0aCIsImJhc2VEaXIiLCJwYXRoIiwiam9pbmVkUGF0aCIsImpvaW4iLCJyZXBsYWNlIiwiZmxpcFgiLCJpbWFnZSIsIm9mZnNjcmVlbkNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsIkltYWdlV3JhcHBlciIsImZpbGVuYW1lIiwic2VsZiIsImNvbXBsZXRlIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJhbGxMb2FkZWQiLCJpbWFnZURpciIsInNvdW5kRGlyIiwiZmlsZXMiLCJzaW5nbGVGaWxlIiwiZmlsZUxpc3QiLCJmaWxlIiwid3JhcHBlciIsImxvYWQiLCJzb3VuZCIsImZsaXBGbiIsImltZzIiLCJkb0ZsaXAiLCJmbGlwSW1hZ2UiLCJudW1Db21wbGV0ZSIsImdsb2JhbCIsImNoZWNrIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3BsaXQiLCJ1bmRlZmluZWQiLCJBdWRpb0NvbnRleHQiLCJkb2N1bWVudEVsZW1lbnQiLCJGdW5jdGlvbiIsImZvcm1hdHMiLCJhdWRpby9tcGVnIiwiYXVkaW8vd2VibSIsImF1ZGlvL29nZyIsImF1ZGlvL3dhdiIsImF1ZGlvL2FhYyIsImF1ZGlvL3gtbTRhIiwicHJvYmFibHkiLCJtYXliZSIsInZvbHVtZSIsImxvb3AiLCJjb2RlYyIsInJlc3VsdCIsImF1ZGlvIiwiQXVkaW8iLCJjYW5QbGF5VHlwZSIsInNoaWZ0IiwicmVtb3ZlRXh0ZW5zaW9uIiwiYXVkaW9Db250ZXh0IiwiaGFuZGxlU2hpdHR5Iiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJiYXNlbmFtZSIsIl9jaG9vc2VGb3JtYXQiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwib25sb2FkIiwiZGVjb2RlQXVkaW9EYXRhIiwidGFyZ2V0IiwicmVzcG9uc2UiLCJlcnIiLCJfbmV4dEZvcm1hdCIsInNlbmQiLCJfaW5pdEF1ZGlvIiwiZ2Fpbk5vZGUiLCJjcmVhdGVHYWluIiwiZ2FpbiIsImN1cnJGcmFtZUluZGV4IiwiYW5pbVRpbWUiLCJ0b3RhbER1cmF0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJmcmFtZXMiLCJmcmFtZUNvdW50IiwiZnJhbWVUaW1lcyIsInlTbG90IiwiYW5pbSIsImlzRlRBcnJheSIsImN1cnJlbnRGcmFtZVRpbWUiLCJhZGRGcmFtZSIsImR1cmF0aW9uIiwiaW1hZ2VTbG90WCIsImltYWdlU2xvdFkiLCJlbmRUaW1lIiwiaW1nU2xvdFgiLCJpbWdTbG90WSIsImNmIiwiZ2V0Q3VycmVudEZyYW1lIiwicmFkQ29uc3QiLCJkZWdyZWVzIiwiZGVnQ29uc3QiLCJyYWRpYW5zIiwicDEiLCJwMiIsInNxcnQiLCJkeCIsImR5IiwibWF4U3BlZWQiLCJjb2xsaXNpb25SYWRpdXMiLCJ2IiwiYWJzIiwiY2xvbmUiLCJDb250YWN0IiwiQm94MkQiLCJCMlZlYzIiLCJDb21tb24iLCJiMlZlYzIiLCJCMkJvZHlEZWYiLCJEeW5hbWljcyIsImIyQm9keURlZiIsIkIyQm9keSIsImIyQm9keSIsIkIyRml4dHVyZURlZiIsImIyRml4dHVyZURlZiIsIkIyV29ybGQiLCJiMkZpeHR1cmUiLCJiMldvcmxkIiwiQjJQb2x5Z29uU2hhcGUiLCJDb2xsaXNpb24iLCJTaGFwZXMiLCJiMlBvbHlnb25TaGFwZSIsIkIyQ2lyY2xlU2hhcGUiLCJiMkNpcmNsZVNoYXBlIiwiaW50ZXJ2YWxSYXRlIiwiYWRhcHRpdmUiLCJib2RpZXNNYXAiLCJmaXh0dXJlc01hcCIsImpvaW50c01hcCIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJhbGxvd1NsZWVwIiwicmVzb2x2ZUNvbGxpc2lvbnMiLCJjb250YWN0TGlzdGVuZXIiLCJjb2xsaXNpb25zIiwicGFyc2VJbnQiLCJhZGRDb250YWN0TGlzdGVuZXIiLCJtaWxsaXMiLCJTdGVwIiwiQ2xlYXJGb3JjZXMiLCJzdGVwUmF0ZSIsImxhc3RUaW1lc3RhbXAiLCJHZXRCb2R5TGlzdCIsIm1fbmV4dCIsIklzQWN0aXZlIiwiR2V0VXNlckRhdGEiLCJHZXRQb3NpdGlvbiIsIkdldEFuZ2xlIiwiR2V0V29ybGRDZW50ZXIiLCJtX2xpbmVhclZlbG9jaXR5IiwibV9hbmd1bGFyVmVsb2NpdHkiLCJib2RpZXNTdGF0ZSIsImdldFN0YXRlIiwiZW50aXR5IiwiYm9keUVudGl0aWVzIiwiYWRkQm9keSIsInJlYWR5IiwidmVjIiwidmVjcyIsImJvZHlEZWYiLCJmaXhEZWYiLCJmaWx0ZXIiLCJ0eXBlIiwiYjJfc3RhdGljQm9keSIsImIyX2R5bmFtaWNCb2R5IiwidXNlckRhdGEiLCJDcmVhdGVCb2R5Iiwic2hhcGUiLCJDcmVhdGVGaXh0dXJlIiwiU2V0IiwiU2V0QXNBcnJheSIsInBvbHlzIiwiU2V0QXNCb3giLCJib2R5SWQiLCJTZXRQb3NpdGlvbiIsInNldEFuZ2xlIiwiU2V0TGluZWFyVmVsb2NpdHkiLCJ2ZWxvY2l0eSIsIlNldEFuZ3VsYXJWZWxvY2l0eSIsInBvd2VyIiwiQXBwbHlJbXB1bHNlIiwiQXBwbHlGb3JjZSIsIlNldEFuZ2xlIiwiQXBwbHlUb3JxdWUiLCJ2ZWN0b3IiLCJTZXRHcmF2aXR5IiwiRGVzdHJveUZpeHR1cmUiLCJEZXN0cm95Qm9keSIsIlNldEF3YWtlIiwibGlzdGVuZXIiLCJiMkNvbnRhY3RMaXN0ZW5lciIsImJlZ2luQ29udGFjdCIsIkJlZ2luQ29udGFjdCIsImNvbnRhY3QiLCJtX2ZpeHR1cmVBIiwibV9ib2R5IiwibV91c2VyRGF0YSIsIm1fZml4dHVyZUIiLCJlbmRDb250YWN0IiwiRW5kQ29udGFjdCIsInByZVNvbHZlIiwiUHJlU29sdmUiLCJvbGRNYW5pZm9sZCIsInBvc3RTb2x2ZSIsIlBvc3RTb2x2ZSIsImltcHVsc2UiLCJTZXRDb250YWN0TGlzdGVuZXIiLCJqb2ludElkIiwiRGVzdHJveUpvaW50Iiwiam9pbnQiLCJzY2FsZUpvaW50TG9jYXRpb24iLCJiMkpvaW50IiwiY3JlYXRlQjJKb2ludCIsInpvbmUiLCJoaWRkZW4iLCJ3YWxsIiwiYmFja0ltZyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiZXhwb3J0TmFtZSIsIlZFTkRPUl9QUkVGSVhFUyIsIlRFU1RfRUxFTUVOVCIsIlRZUEVfRlVOQ1RJT04iLCJzZXRUaW1lb3V0Q29udGV4dCIsImZuIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJiaW5kRm4iLCJpbnZva2VBcnJheUFyZyIsImFyZyIsImVhY2giLCJvYmoiLCJpdGVyYXRvciIsImZvckVhY2giLCJkZXByZWNhdGUiLCJtZXRob2QiLCJtZXNzYWdlIiwiZGVwcmVjYXRpb25NZXNzYWdlIiwiRXJyb3IiLCJzdGFjayIsIndhcm4iLCJhcmd1bWVudHMiLCJUeXBlRXJyb3IiLCJvdXRwdXQiLCJpbmRleCIsIm5leHRLZXkiLCJleHRlbmQiLCJkZXN0IiwibWVyZ2UiLCJpbmhlcml0IiwiY2hpbGQiLCJiYXNlIiwicHJvcGVydGllcyIsImNoaWxkUCIsImJhc2VQIiwiY29uc3RydWN0b3IiLCJfc3VwZXIiLCJib29sT3JGbiIsInZhbCIsImlmVW5kZWZpbmVkIiwidmFsMSIsInZhbDIiLCJhZGRFdmVudExpc3RlbmVycyIsInR5cGVzIiwic3BsaXRTdHIiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImhhc1BhcmVudCIsInBhcmVudCIsInBhcmVudE5vZGUiLCJpblN0ciIsInN0ciIsImZpbmQiLCJpbmRleE9mIiwidHJpbSIsImluQXJyYXkiLCJmaW5kQnlLZXkiLCJ0b0FycmF5Iiwic2xpY2UiLCJ1bmlxdWVBcnJheSIsInNvcnQiLCJyZXN1bHRzIiwidmFsdWVzIiwicHJlZml4ZWQiLCJwcmVmaXgiLCJwcm9wIiwiY2FtZWxQcm9wIiwidG9VcHBlckNhc2UiLCJfdW5pcXVlSWQiLCJnZXRXaW5kb3dGb3JFbGVtZW50IiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiU1VQUE9SVF9UT1VDSCIsIlNVUFBPUlRfUE9JTlRFUl9FVkVOVFMiLCJTVVBQT1JUX09OTFlfVE9VQ0giLCJ0ZXN0IiwiQ09NUFVURV9JTlRFUlZBTCIsIklOUFVUX1NUQVJUIiwiSU5QVVRfTU9WRSIsIklOUFVUX0VORCIsIklOUFVUX0NBTkNFTCIsIkRJUkVDVElPTl9OT05FIiwiRElSRUNUSU9OX0xFRlQiLCJESVJFQ1RJT05fUklHSFQiLCJESVJFQ1RJT05fVVAiLCJESVJFQ1RJT05fRE9XTiIsIkRJUkVDVElPTl9IT1JJWk9OVEFMIiwiRElSRUNUSU9OX1ZFUlRJQ0FMIiwiRElSRUNUSU9OX0FMTCIsIlBST1BTX1hZIiwiUFJPUFNfQ0xJRU5UX1hZIiwiSW5wdXQiLCJtYW5hZ2VyIiwiY2FsbGJhY2siLCJpbnB1dFRhcmdldCIsImRvbUhhbmRsZXIiLCJldiIsImVuYWJsZSIsImlucHV0SGFuZGxlciIsImV2ZW50VHlwZSIsImlucHV0IiwicG9pbnRlcnNMZW4iLCJwb2ludGVycyIsImNoYW5nZWRQb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVycyIsImlzRmlyc3QiLCJpc0ZpbmFsIiwic2Vzc2lvbiIsInBvaW50ZXJzTGVuZ3RoIiwiZmlyc3RJbnB1dCIsInNpbXBsZUNsb25lSW5wdXREYXRhIiwiZmlyc3RNdWx0aXBsZSIsIm9mZnNldENlbnRlciIsImdldENlbnRlciIsInRpbWVTdGFtcCIsImRlbHRhVGltZSIsImdldEFuZ2xlIiwiZ2V0RGlzdGFuY2UiLCJvZmZzZXQiLCJvZmZzZXREZWx0YSIsInByZXZEZWx0YSIsInByZXZJbnB1dCIsImRlbHRhWCIsImRlbHRhWSIsImNvbXB1dGVEZWx0YVhZIiwib2Zmc2V0RGlyZWN0aW9uIiwiZ2V0RGlyZWN0aW9uIiwib3ZlcmFsbFZlbG9jaXR5IiwiZ2V0VmVsb2NpdHkiLCJvdmVyYWxsVmVsb2NpdHlYIiwib3ZlcmFsbFZlbG9jaXR5WSIsImVuZCIsInJvdGF0aW9uIiwiZ2V0Um90YXRpb24iLCJtYXhQb2ludGVycyIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImRpcmVjdGlvbiIsImxhc3QiLCJsYXN0SW50ZXJ2YWwiLCJjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEiLCJzcmNFdmVudCIsImNvbXB1dGVJbnB1dERhdGEiLCJlbWl0IiwicmVjb2duaXplIiwicHJvcHMiLCJhdGFuMiIsImV2RWwiLCJldlRhcmdldCIsImV2V2luIiwiZGVzdHJveSIsIk1PVVNFX0lOUFVUX01BUCIsIk1PVVNFX0VMRU1FTlRfRVZFTlRTIiwiTU9VU0VfV0lORE9XX0VWRU5UUyIsIk1vdXNlSW5wdXQiLCJwcmVzc2VkIiwiYnV0dG9uIiwid2hpY2giLCJwb2ludGVyVHlwZSIsIlBPSU5URVJfSU5QVVRfTUFQIiwicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyb3V0IiwiSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSIsIjIiLCIzIiwiNCIsIjUiLCJQT0lOVEVSX0VMRU1FTlRfRVZFTlRTIiwiUE9JTlRFUl9XSU5ET1dfRVZFTlRTIiwiUG9pbnRlckV2ZW50SW5wdXQiLCJzdG9yZSIsInBvaW50ZXJFdmVudHMiLCJNU1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInJlbW92ZVBvaW50ZXIiLCJldmVudFR5cGVOb3JtYWxpemVkIiwidG9Mb3dlckNhc2UiLCJpc1RvdWNoIiwic3RvcmVJbmRleCIsInBvaW50ZXJJZCIsInNwbGljZSIsIlNJTkdMRV9UT1VDSF9JTlBVVF9NQVAiLCJ0b3VjaGNhbmNlbCIsIlNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTIiwiU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMiLCJTaW5nbGVUb3VjaElucHV0Iiwic3RhcnRlZCIsImFsbCIsImNoYW5nZWQiLCJjaGFuZ2VkVG91Y2hlcyIsImNvbmNhdCIsIlRPVUNIX0lOUFVUX01BUCIsIlRPVUNIX1RBUkdFVF9FVkVOVFMiLCJUb3VjaElucHV0IiwidGFyZ2V0SWRzIiwiYWxsVG91Y2hlcyIsImlkZW50aWZpZXIiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRhcmdldFRvdWNoZXMiLCJ0b3VjaCIsIkRFRFVQX1RJTUVPVVQiLCJERURVUF9ESVNUQU5DRSIsIlRvdWNoTW91c2VJbnB1dCIsIm1vdXNlIiwicHJpbWFyeVRvdWNoIiwibGFzdFRvdWNoZXMiLCJzZXRMYXN0VG91Y2giLCJldmVudERhdGEiLCJsYXN0VG91Y2giLCJsdHMiLCJpbnB1dEV2ZW50IiwiaW5wdXREYXRhIiwiaXNNb3VzZSIsInNvdXJjZUNhcGFiaWxpdGllcyIsImZpcmVzVG91Y2hFdmVudHMiLCJQUkVGSVhFRF9UT1VDSF9BQ1RJT04iLCJOQVRJVkVfVE9VQ0hfQUNUSU9OIiwiVE9VQ0hfQUNUSU9OX0FVVE8iLCJUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OIiwiVE9VQ0hfQUNUSU9OX05PTkUiLCJUT1VDSF9BQ1RJT05fUEFOX1giLCJUT1VDSF9BQ1RJT05fUEFOX1kiLCJUT1VDSF9BQ1RJT05fTUFQIiwidG91Y2hNYXAiLCJjc3NTdXBwb3J0cyIsIkNTUyIsInN1cHBvcnRzIiwiZ2V0VG91Y2hBY3Rpb25Qcm9wcyIsInNldCIsImNvbXB1dGUiLCJhY3Rpb25zIiwicmVjb2duaXplcnMiLCJyZWNvZ25pemVyIiwiZ2V0VG91Y2hBY3Rpb24iLCJoYXNQYW5YIiwiaGFzUGFuWSIsImNsZWFuVG91Y2hBY3Rpb25zIiwicHJldmVudERlZmF1bHRzIiwicHJldmVudGVkIiwiaGFzTm9uZSIsImlzVGFwUG9pbnRlciIsImlzVGFwTW92ZW1lbnQiLCJpc1RhcFRvdWNoVGltZSIsInByZXZlbnRTcmMiLCJTVEFURV9QT1NTSUJMRSIsIlNUQVRFX0JFR0FOIiwiU1RBVEVfQ0hBTkdFRCIsIlNUQVRFX0VOREVEIiwiU1RBVEVfUkVDT0dOSVpFRCIsIlNUQVRFX0NBTkNFTExFRCIsIlJlY29nbml6ZXIiLCJkZWZhdWx0cyIsInNpbXVsdGFuZW91cyIsInJlcXVpcmVGYWlsIiwic3RhdGVTdHIiLCJkaXJlY3Rpb25TdHIiLCJnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyIiwib3RoZXJSZWNvZ25pemVyIiwiQXR0clJlY29nbml6ZXIiLCJQYW5SZWNvZ25pemVyIiwicFgiLCJwWSIsIlBpbmNoUmVjb2duaXplciIsIlByZXNzUmVjb2duaXplciIsIl90aW1lciIsIl9pbnB1dCIsIlJvdGF0ZVJlY29nbml6ZXIiLCJTd2lwZVJlY29nbml6ZXIiLCJUYXBSZWNvZ25pemVyIiwicFRpbWUiLCJwQ2VudGVyIiwiY291bnQiLCJwcmVzZXQiLCJNYW5hZ2VyIiwicmVjb2duaXplV2l0aCIsImRyb3BSZWNvZ25pemVXaXRoIiwicmVxdWlyZUZhaWx1cmUiLCJkcm9wUmVxdWlyZUZhaWx1cmUiLCJoYXNSZXF1aXJlRmFpbHVyZXMiLCJjYW5SZWNvZ25pemVXaXRoIiwiZXZlbnQiLCJhZGRpdGlvbmFsRXZlbnQiLCJ0cnlFbWl0IiwiY2FuRW1pdCIsImlucHV0RGF0YUNsb25lIiwicHJvY2VzcyIsImF0dHJUZXN0Iiwib3B0aW9uUG9pbnRlcnMiLCJpc1JlY29nbml6ZWQiLCJpc1ZhbGlkIiwidGhyZXNob2xkIiwiZGlyZWN0aW9uVGVzdCIsImhhc01vdmVkIiwiaW5PdXQiLCJ0aW1lIiwidmFsaWRQb2ludGVycyIsInZhbGlkTW92ZW1lbnQiLCJ2YWxpZFRpbWUiLCJjbGVhclRpbWVvdXQiLCJ0YXBzIiwiaW50ZXJ2YWwiLCJwb3NUaHJlc2hvbGQiLCJ2YWxpZFRvdWNoVGltZSIsImZhaWxUaW1lb3V0IiwidmFsaWRJbnRlcnZhbCIsInZhbGlkTXVsdGlUYXAiLCJ0YXBDb3VudCIsIlZFUlNJT04iLCJkb21FdmVudHMiLCJpbnB1dENsYXNzIiwiY3NzUHJvcHMiLCJ1c2VyU2VsZWN0IiwidG91Y2hTZWxlY3QiLCJ0b3VjaENhbGxvdXQiLCJjb250ZW50Wm9vbWluZyIsInVzZXJEcmFnIiwidGFwSGlnaGxpZ2h0Q29sb3IiLCJoYW5kbGVycyIsIm9sZENzc1Byb3BzIiwidG9nZ2xlQ3NzUHJvcHMiLCJpdGVtIiwiYWRkIiwic3RvcCIsImZvcmNlIiwic3RvcHBlZCIsImN1clJlY29nbml6ZXIiLCJleGlzdGluZyIsImV2ZW50cyIsImRhdGEiLCJnZXN0dXJlRXZlbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJ0cmlnZ2VyRG9tRXZlbnQiLCJTVEFURV9GQUlMRUQiLCJUYXAiLCJQYW4iLCJTd2lwZSIsIlBpbmNoIiwiUm90YXRlIiwiUHJlc3MiLCJ2ZW5kb3JzIiwiYXZlcmFnZVBvaW50cyIsImRlZ3JlZXNUb1JhZGlhbnMiLCJyYWRpYW5zVG9EZWdyZWVzIiwiZGVncmVlc0Zyb21DZW50ZXIiLCJyYWRpYW5zRnJvbUNlbnRlciIsInJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIiLCJyb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyIiwiRUFTVCIsIlNUQVRFX0lETEUiLCJ3YWxraW5nQW5pbXMiLCJkeWluZ0FuaW1zIiwiaWRsZUFuaW1zIiwiU1RBVEVfRFlJTkciLCJOT1JUSCIsIk5PUlRIRUFTVCIsIk5PUlRIV0VTVCIsIlNPVVRIIiwiU09VVEhFQVNUIiwiU09VVEhXRVNUIiwiV0VTVCIsIlNUQVRFX1dBTEtJTkciLCJhbmltcyIsIkNpcmNsZSIsIk11bHRpUG9seWdvbiIsIlBvbHlnb24iLCJSZWN0YW5nbGUiLCJzdXAiLCJEaXN0YW5jZSIsIlByaXNtYXRpYyIsIlJldm9sdXRlIiwiSm9pbnQiLCJCMkRpc3RhbmNlSm9pbnREZWYiLCJKb2ludHMiLCJiMkRpc3RhbmNlSm9pbnREZWYiLCJib2R5UG9pbnQyIiwiYm94IiwiYm9keTEiLCJib2R5MiIsInZlYzEiLCJ2ZWMyIiwiSW5pdGlhbGl6ZSIsIkNyZWF0ZUpvaW50IiwiQjJQcmlzbWF0aWNKb2ludERlZiIsImIyUHJpc21hdGljSm9pbnREZWYiLCJheGlzU2NhbGUiLCJheGlzIiwiQjJSZXZvbHV0ZUpvaW50RGVmIiwiYjJSZXZvbHV0ZUpvaW50RGVmIiwiaWRBIiwiaWRCIiwibm9ybWFsSW1wdWxzZXMiLCJib3hVcGRhdGluZyIsImJveE9wdGlvbnMiLCJ1cGRhdGVFeHRlcm5hbFN0YXRlIiwicmVtb3ZlQm9keSIsImFkZEpvaW50IiwicmVtb3ZlSm9pbnQiLCJzcmNfZHJhdyIsImZ1bGxXIiwiZnVsbEgiLCJoZXhTaWRlIiwic2lkZVciLCJzaW50MSIsImFuZzEiLCJzaW50MiIsImFuZzIiLCJtZWFzdXJlbWVudHMiLCJjbGVhclJlY3QiLCJwbGF5ZXJzIiwiY29sb3IiLCJmYWNlIiwiZGVhZCIsInBhZGRsZXMiLCJrIiwiYmFsbCIsIlBvd2VyX1Bvd2VyIiwiUmVjdGFuZ2xlX2RlZmF1bHQiLCJQb3dlclVwX1Bvd2VyVXAiLCJwb3dlclVwIiwicXVhcnRlciIsIlBvd2VyRG93bl9Qb3dlckRvd24iLCJwb3dlckRvd24iLCJsaWIiLCJzaHVmZmxlIiwiYXJyIiwiYXJyYXkiLCJjb3VudGVyIiwidGVtcCIsInNyY19saWIiLCJwbGF5ZXJTcGVlZCIsIkJSSUNLX0RFQVRIX0FOSU0iLCJTTUFMTF9USU1FIiwiY2VudGVyUG9pbnQiLCJyYW5kb21BbmdsZVNwcmVhZCIsImV4cGxvZGVCcmljayIsImdhbWUiLCJicmljayIsInBpZWNlcyIsInBsYXlTb3VuZCIsImxpbE9wcyIsImJyaWNrUGllY2UiLCJsaWZlIiwicGxheWVySWQiLCJjb2xvcnNfZGVmYXVsdCIsImxpbGJPcHMiLCJsaWxCIiwiYXBwbHlJbXB1bHNlIiwiZXhwbG9zaW9ucyIsInBsYXkiLCJzcmNfdXBkYXRlIiwidXBkYXRlQm94Iiwic2NhbGVXIiwic2NhbGVIIiwiZW50IiwiaGl0UGFkZGxlIiwiZXQiLCJwYWRkbGUiLCJwb3dlcnVwIiwicEJyaWNrcyIsInJlZHVjZSIsImFjYyIsIm1heWJlQnJpY2siLCJpZHgiLCJoaXRQb2ludHMiLCJwb3dlcmRvd24iLCJzbWFsbFRpbWUiLCJoaXRQbGF5ZXIiLCJwYWRBbmNob3IiLCJhbmNob3IiLCJwb3dlckFuZ2xlIiwibWFzayIsInBvd2VyT3BzIiwiYXBwbHlGb3JjZSIsImtpbmciLCJzY3JlYW0iLCJwYWQiLCJmaXJlUHJlc3NlZCIsImNhdWdodCIsImNhdWdodFBhZGRsZVBvc2l0aW9uIiwiY2F1Z2h0UGxheWVySWQiLCJjYXVnaHRQb3NpdGlvbiIsIndhbGxIaXRzIiwicHJldkxpbmVhclZlbG9jaXR5IiwiY2F1Z2h0UGxheWVyIiwicG9zaXRpb25EZWx0YSIsIm5ld0JhbGxMb2MiLCJicmlja3NMZWZ0IiwiZ2V0QnJpY2tzTGVmdCIsIm5ld1NwZWVkIiwiYmFsbFNwZWVkIiwicGFkZGxlQW5nbGUiLCJkZWx0YSIsImFuZ2xlT2Zmc2V0IiwicGFkZGxlU2l6ZSIsIm5ld1BhZGRsZVB0IiwiZGlzdEZyb21BbmNob3IiLCJwYWRkbGVPcHMiLCJjb2xvckNvbXBsZW1lbnQiLCJvcHB0IiwiZmlyc3QiLCJvcmlnaW4iLCJicmlja3MiLCJzcmNfYnJpY2tzIiwiQnJpY2tfQnJpY2siLCJQb2x5Z29uX2RlZmF1bHQiLCJsaW5lSm9pbiIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJwcmV5IiwiYWRkQ29sb3JTdG9wIiwicHJleCIsInByZUFuZ2xlIiwiRmFjZV9GYWNlIiwiQ2lyY2xlX2RlZmF1bHQiLCJzY2FsZWRYIiwic2NhbGVkWSIsImRlYWRGaWxsU3R5bGUiLCJsZWZ0RXllIiwicmlnaHRFeWUiLCJyYWRzTCIsInJhZGlhbnNGcm9tQ2VudGVyX2RlZmF1bHQiLCJyYWRzUiIsImxJcmlzIiwicm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcl9kZWZhdWx0IiwicklyaXMiLCJzcGVlZCIsImhhbmRsZURpcmVjdGlvbiIsImZpcmVLZXkiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJsUHJlc3NlZCIsInNyY19oYW5kbGVJbnB1dCIsImltIiwia2V5c19kZWZhdWx0IiwiYXBwbHlJbXB1bHNlRGVncmVlcyIsImFwcGx5VG9ycXVlIiwiZ2FtZV9lbnRpdGllcyIsImdhbWVfcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciIsImdhbWVfZGlzdGFuY2UiLCJhc2luIiwiZ2FtZV9jZW50ZXJQb2ludCIsImdhbWVfZ2FtZSIsInJtIiwibG9hZFNvdW5kIiwiYWRkQXJyb3dLZXlBY3Rpb25zIiwiYmFsbFByb3BzIiwicHRSYWRpdXMiLCJ0YWlsRGlzcnVwdGlvbiIsInRhaWxEaXN0IiwicmFkcyIsImJveERhdGFfZGVmYXVsdCIsInBjdCIsImFuZ3MiLCJjcHQiLCJwYWRkbGVNYXNrQml0cyIsImJpZ1RpbWUiLCJnYW1lX29yaWdpbiIsInBwdCIsIm5ld0ZhY2VQdCIsImNpciIsImNKb2ludCIsInJiIiwiamR4Iiwib3BzIiwic2h1ZlBicmlja3MiLCJudW0iLCJydW4iLCJhcHBseUZvcmNlRGVncmVlcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsb0JDbEZBaEMsRUFBQUQsUUFBQSxDQUNBa0MsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLFdBQUEsRUFDQUMsSUFBQSxFQUNBQyxNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsSUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsVUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxHQUFBLEdBQ0FDLE1BQUEsR0FDQUMsS0FBQSxHQUNBQyxZQUFBLEdBQ0FDLE9BQUEsR0FDQUMsT0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsYUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQUMsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFFBQUEsSUFDQUMsUUFBQSxJQUNBQyxRQUFBLElBQ0FDLFNBQUEsSUFDQUMsSUFBQSxJQUNBQyxVQUFBLElBQ0FDLFNBQUEsSUFDQUMsUUFBQSxJQUNBQyxPQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsSUFDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFB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LE1BM1ByQixLQTJQcUJDLE1BMVByQixLQTBQcUJDLFFBelByQixnQkF5UHFCQyxRQUFBQyxNQXZQckIsa0JBdVBxQkMsT0FBQUMsTUFyUHJCSCxrQkFxUHFCSSxPQUFBOEMsT0EzUHJCLEtBMlA2RjBGLEdBQUl0SyxJQUFBMzBCLE1BQUF3NUIsT0ExUGpHLEtBMFA2SHlGLEdBQUl0SyxJQUFBMzBCLE9BQ2pJaS9CLEdBQUlySSxXQUdKcHJCLFFBQUFDLElBQVl3ekIsSUFDWjVpQyxPQUFBazhCLEtBQWMwRyxHQUdkQSxHQUFJeUIsTUFDSnpCLEdBQUl0SyxJQUFBZ00sa0JBQUEsV0FBQXprQyxLQUFBdUYsU0FBb0R3OUIsR0FBSXBEIiwiZmlsZSI6ImhleG91dC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNDgpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIENBTkNFTDogMyxcbiAgSEVMUDogNixcbiAgQkFDS19TUEFDRTogOCxcbiAgVEFCOiA5LFxuICBDTEVBUjogMTIsXG4gIFJFVFVSTjogMTMsXG4gIEVOVEVSOiAxNCxcbiAgU0hJRlQ6IDE2LFxuICBDT05UUk9MOiAxNyxcbiAgQUxUOiAxOCxcbiAgUEFVU0U6IDE5LFxuICBDQVBTX0xPQ0s6IDIwLFxuICBFU0NBUEU6IDI3LFxuICBTUEFDRTogMzIsXG4gIFBBR0VfVVA6IDMzLFxuICBQQUdFX0RPV046IDM0LFxuICBFTkQ6IDM1LFxuICBIT01FOiAzNixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgUklHSFQ6IDM5LFxuICBET1dOOiA0MCxcbiAgUFJJTlRTQ1JFRU46IDQ0LFxuICBJTlNFUlQ6IDQ1LFxuICBERUxFVEU6IDQ2LFxuICBOVU0wOiA0OCxcbiAgTlVNMTogNDksXG4gIE5VTTI6IDUwLFxuICBOVU0zOiA1MSxcbiAgTlVNNDogNTIsXG4gIE5VTTU6IDUzLFxuICBOVU02OiA1NCxcbiAgTlVNNzogNTUsXG4gIE5VTTg6IDU2LFxuICBOVU05OiA1NyxcbiAgU0VNSUNPTE9OOiA1OSxcbiAgRVFVQUxTOiA2MSxcbiAgQTogNjUsXG4gIEI6IDY2LFxuICBDOiA2NyxcbiAgRDogNjgsXG4gIEU6IDY5LFxuICBGOiA3MCxcbiAgRzogNzEsXG4gIEg6IDcyLFxuICBJOiA3MyxcbiAgSjogNzQsXG4gIEs6IDc1LFxuICBMOiA3NixcbiAgTTogNzcsXG4gIE46IDc4LFxuICBPOiA3OSxcbiAgUDogODAsXG4gIFE6IDgxLFxuICBSOiA4MixcbiAgUzogODMsXG4gIFQ6IDg0LFxuICBVOiA4NSxcbiAgVjogODYsXG4gIFc6IDg3LFxuICBYOiA4OCxcbiAgWTogODksXG4gIFo6IDkwLFxuICBDT05URVhUX01FTlU6IDkzLFxuICBOVU1QQUQwOiA5NixcbiAgTlVNUEFEMTogOTcsXG4gIE5VTVBBRDI6IDk4LFxuICBOVU1QQUQzOiA5OSxcbiAgTlVNUEFENDogMTAwLFxuICBOVU1QQUQ1OiAxMDEsXG4gIE5VTVBBRDY6IDEwMixcbiAgTlVNUEFENzogMTAzLFxuICBOVU1QQUQ4OiAxMDQsXG4gIE5VTVBBRDk6IDEwNSxcbiAgTVVMVElQTFk6IDEwNixcbiAgQUREOiAxMDcsXG4gIFNFUEFSQVRPUjogMTA4LFxuICBTVUJUUkFDVDogMTA5LFxuICBERUNJTUFMOiAxMTAsXG4gIERJVklERTogMTExLFxuICBGMTogMTEyLFxuICBGMjogMTEzLFxuICBGMzogMTE0LFxuICBGNDogMTE1LFxuICBGNTogMTE2LFxuICBGNjogMTE3LFxuICBGNzogMTE4LFxuICBGODogMTE5LFxuICBGOTogMTIwLFxuICBGMTA6IDEyMSxcbiAgRjExOiAxMjIsXG4gIEYxMjogMTIzLFxuICBGMTM6IDEyNCxcbiAgRjE0OiAxMjUsXG4gIEYxNTogMTI2LFxuICBGMTY6IDEyNyxcbiAgRjE3OiAxMjgsXG4gIEYxODogMTI5LFxuICBGMTk6IDEzMCxcbiAgRjIwOiAxMzEsXG4gIEYyMTogMTMyLFxuICBGMjI6IDEzMyxcbiAgRjIzOiAxMzQsXG4gIEYyNDogMTM1LFxuICBOVU1fTE9DSzogMTQ0LFxuICBTQ1JPTExfTE9DSzogMTQ1LFxuICBVUF9EUEFEOiAxNzUsXG4gIERPV05fRFBBRDogMTc2LFxuICBMRUZUX0RQQUQ6IDE3NyxcbiAgUklHSFRfRFBBRDogMTc4LFxuICBDT01NQTogMTg4LFxuICBQRVJJT0Q6IDE5MCxcbiAgU0xBU0g6IDE5MSxcbiAgQkFDS19RVU9URTogMTkyLFxuICBPUEVOX0JSQUNLRVQ6IDIxOSxcbiAgQkFDS19TTEFTSDogMjIwLFxuICBDTE9TRV9CUkFDS0VUOiAyMjEsXG4gIFFVT1RFOiAyMjIsXG4gIE1FVEE6IDIyNFxufTtcbiIsIlxuZnVuY3Rpb24gcmFkaWFuc0Zyb21DZW50ZXIoY2VudGVyID0ge3g6IDAuMCwgeTogMC4wfSwgcHQpe1xuXG4gIC8vc2FtZSBwb2ludFxuICBpZigoY2VudGVyLnggPT09IHB0LngpICYmIChjZW50ZXIueSA9PT0gcHQueSkpe1xuICAgIHJldHVybiAwO1xuICB9ZWxzZSBpZihjZW50ZXIueCA9PT0gcHQueCl7XG4gICAgaWYoY2VudGVyLnkgPiBwdC55KXtcbiAgICAgIHJldHVybiAwO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIE1hdGguUEk7XG4gICAgfVxuICB9ZWxzZSBpZihjZW50ZXIueSA9PT0gcHQueSl7XG4gICAgaWYoY2VudGVyLnggPiBwdC54KXtcbiAgICAgIHJldHVybiAxLjUgKiBNYXRoLlBJO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIE1hdGguUEkgLyAyO1xuICAgIH1cbiAgfWVsc2UgaWYoKGNlbnRlci54IDwgcHQueCkgJiYgKGNlbnRlci55ID4gcHQueSkpe1xuICAgIC8vcXVhZHJhbnQgMVxuICAgIC8vY29uc29sZS5sb2coJ3F1YWQxJyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnksJ28nLHB0LnggLSBjZW50ZXIueCwnYScscHQueSAtIGNlbnRlci55KTtcbiAgICByZXR1cm4gTWF0aC5hdGFuKChwdC54IC0gY2VudGVyLngpLyhjZW50ZXIueSAtIHB0LnkpKTtcbiAgfVxuICBlbHNlIGlmKChjZW50ZXIueCA8IHB0LngpICYmIChjZW50ZXIueSA8IHB0LnkpKXtcbiAgICAvL3F1YWRyYW50IDJcbiAgICAvL2NvbnNvbGUubG9nKCdxdWFkMicsY2VudGVyLngsY2VudGVyLnkscHQueCxwdC55KTtcbiAgICByZXR1cm4gTWF0aC5QSSAvIDIgKyBNYXRoLmF0YW4oKHB0LnkgLSBjZW50ZXIueSkvKHB0LnggLSBjZW50ZXIueCkpO1xuICB9XG4gIGVsc2UgaWYoKGNlbnRlci54ID4gcHQueCkgJiYgKGNlbnRlci55IDwgcHQueSkpe1xuICAgIC8vcXVhZHJhbnQgM1xuICAgIC8vY29uc29sZS5sb2coJ3F1YWQzJyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnkpO1xuICAgIHJldHVybiBNYXRoLlBJICsgTWF0aC5hdGFuKChjZW50ZXIueCAtIHB0LngpLyhwdC55IC0gY2VudGVyLnkpKTtcbiAgfVxuICBlbHNle1xuICAgIC8vcXVhZHJhbnQgNFxuICAgIC8vY29uc29sZS5sb2coJ3F1YWQ0JyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnkpO1xuICAgIHJldHVybiAxLjUgKiBNYXRoLlBJICsgTWF0aC5hdGFuKChjZW50ZXIueSAtIHB0LnkpLyhjZW50ZXIueCAtIHB0LngpKTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmFkaWFuc0Zyb21DZW50ZXI7XG4iLCJcbndpbmRvdy5mcm96ZW5qcyA9IHtcbiAgR2FtZUNvcmUgOiByZXF1aXJlKCcuL0dhbWVDb3JlJyksXG4gIElucHV0TWFuYWdlciA6IHJlcXVpcmUoJy4vSW5wdXRNYW5hZ2VyJyksXG4gIFJlc291cmNlTWFuYWdlciA6IHJlcXVpcmUoJy4vUmVzb3VyY2VNYW5hZ2VyJyksXG4gIE1vdXNlQWN0aW9uIDogcmVxdWlyZSgnLi9Nb3VzZUFjdGlvbicpLFxuICBUb3VjaEFjdGlvbiA6IHJlcXVpcmUoJy4vVG91Y2hBY3Rpb24nKSxcbiAga2V5cyA6IHJlcXVpcmUoJy4va2V5cycpLFxuICBBbmltYXRpb246IHJlcXVpcmUoJy4vQW5pbWF0aW9uJyksXG4gIEFuaW1GcmFtZTogcmVxdWlyZSgnLi9BbmltRnJhbWUnKSxcbiAgdXRpbHMgOiByZXF1aXJlKCcuL3V0aWxzJyksXG4gIFNwcml0ZSA6IHJlcXVpcmUoJy4vU3ByaXRlJyksXG4gIHJlaW5lciA6IHtcbiAgICBDcmVhdHVyZSA6IHJlcXVpcmUoJy4vcmVpbmVyL0NyZWF0dXJlJylcbiAgfSxcbiAgc291bmRzIDoge1xuICAgIFdlYkF1ZGlvIDogcmVxdWlyZSgnLi9zb3VuZHMvV2ViQXVkaW8nKVxuICB9LFxuICBib3gyZCA6IHtcbiAgICBlbnRpdGllcyA6IHJlcXVpcmUoJy4vYm94MmQvZW50aXRpZXMnKSxcbiAgICBqb2ludHM6IHJlcXVpcmUoJy4vYm94MmQvam9pbnRzJyksXG4gICAgQm94IDogcmVxdWlyZSgnLi9ib3gyZC9Cb3gnKSxcbiAgICBCb3hHYW1lIDogcmVxdWlyZSgnLi9ib3gyZC9Cb3hHYW1lJylcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuZnJvemVuanM7XG4iLCJcbmZ1bmN0aW9uIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyID0ge3g6IDAuMCwgeTogMC4wfSwgcHQsIGFuZ2xlKXtcbiAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3QgbmV3UHQgPSB7fTtcblxuICAvLyB0cmFuc2xhdGUgcG9pbnQgYmFjayB0byBvcmlnaW46XG4gIG5ld1B0LnggPSBwdC54IC0gY2VudGVyLng7XG4gIG5ld1B0LnkgPSBwdC55IC0gY2VudGVyLnk7XG5cbiAgLy8gcm90YXRlIHBvaW50XG4gIGNvbnN0IHhuZXcgPSBuZXdQdC54ICogYyAtIG5ld1B0LnkgKiBzO1xuICBjb25zdCB5bmV3ID0gbmV3UHQueCAqIHMgKyBuZXdQdC55ICogYztcblxuICAvLyB0cmFuc2xhdGUgcG9pbnQgYmFjazpcbiAgbmV3UHQueCA9IHhuZXcgKyBjZW50ZXIueDtcbiAgbmV3UHQueSA9IHluZXcgKyBjZW50ZXIueTtcbiAgcmV0dXJuIG5ld1B0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXI7XG4iLCJcbmNvbnN0IGNvbG9ycyA9IFtcbiAgWzAsIDIyMSwgMF0sXG4gIFsyMjEsIDAsIDBdLFxuICAvLyBbMjM4LCAyMzgsIDIzOF0sXG4gIFsyMzgsIDAsIDIzOF0sXG4gIFsxNjAsIDgyLCA0NV0sXG4gIFswLCAwLCAyMjFdLFxuICBbMjU1LCAxNjUsIDBdLFxuXTtcblxuZnVuY3Rpb24gcmdiKGlkKSB7XG4gIGNvbnN0IGMgPSBjb2xvcnNbaWRdO1xuICAvLyBjb25zb2xlLmxvZygnY29sb3JzJywgYywgaWQpO1xuICByZXR1cm4gYHJnYigke2NbMF19LCR7Y1sxXX0sJHtjWzJdfSlgO1xufVxuXG5mdW5jdGlvbiByZ2JhKGlkLCBhKSB7XG4gIGNvbnN0IGMgPSBjb2xvcnNbaWRdO1xuICByZXR1cm4gYHJnYmEoJHtjWzBdfSwke2NbMV19LCR7Y1syXX0sJHthfSlgO1xufVxuXG5cbi8vIC8vIGNvbXBsZW1lbnRcbi8vIHRlbXByZ2I9dGhpc3JnYjtcbi8vIHRlbXBoc3Y9UkdCMkhTVih0ZW1wcmdiKTtcbi8vIHRlbXBoc3YuaHVlPUh1ZVNoaWZ0KHRlbXBoc3YuaHVlLDE4MC4wKTtcbi8vIHRlbXByZ2I9SFNWMlJHQih0ZW1waHN2KTtcblxuZnVuY3Rpb24gY29tcGxlbWVudChpZCkge1xuICBjb25zdCBjID0gY29sb3JzW2lkXTtcbiAgLy8gY29uc29sZS5sb2coJ2NvbG9yc2MnLCBjLCBpZCk7XG4gIGNvbnN0IHN0YXJ0ID0ge3I6IGNbMF0sIGc6IGNbMV0sIGI6IGNbMl19O1xuICBjb25zdCBoc3YgPSBSR0IySFNWKHN0YXJ0KTs7XG4gIGhzdi5odWU9SHVlU2hpZnQoaHN2Lmh1ZSwxODAuMCk7XG4gIGNvbnN0IHRlbXByZ2I9SFNWMlJHQihoc3YpO1xuICByZXR1cm4gYHJnYigke3RlbXByZ2Iucn0sJHt0ZW1wcmdiLmd9LCR7dGVtcHJnYi5ifSlgO1xufVxuXG5mdW5jdGlvbiBSR0IySFNWKHJnYikge1xuICAgIGhzdiA9IG5ldyBPYmplY3QoKTtcbiAgICBtYXg9bWF4MyhyZ2IucixyZ2IuZyxyZ2IuYik7XG4gICAgZGlmPW1heC1taW4zKHJnYi5yLHJnYi5nLHJnYi5iKTtcbiAgICBoc3Yuc2F0dXJhdGlvbj0obWF4PT0wLjApPzA6KDEwMCpkaWYvbWF4KTtcbiAgICBpZiAoaHN2LnNhdHVyYXRpb249PTApIGhzdi5odWU9MDtcbiAgICBlbHNlIGlmIChyZ2Iucj09bWF4KSBoc3YuaHVlPTYwLjAqKHJnYi5nLXJnYi5iKS9kaWY7XG4gICAgZWxzZSBpZiAocmdiLmc9PW1heCkgaHN2Lmh1ZT0xMjAuMCs2MC4wKihyZ2IuYi1yZ2IucikvZGlmO1xuICAgIGVsc2UgaWYgKHJnYi5iPT1tYXgpIGhzdi5odWU9MjQwLjArNjAuMCoocmdiLnItcmdiLmcpL2RpZjtcbiAgICBpZiAoaHN2Lmh1ZTwwLjApIGhzdi5odWUrPTM2MC4wO1xuICAgIGhzdi52YWx1ZT1NYXRoLnJvdW5kKG1heCoxMDAvMjU1KTtcbiAgICBoc3YuaHVlPU1hdGgucm91bmQoaHN2Lmh1ZSk7XG4gICAgaHN2LnNhdHVyYXRpb249TWF0aC5yb3VuZChoc3Yuc2F0dXJhdGlvbik7XG4gICAgcmV0dXJuIGhzdjtcbn1cblxuLy8gUkdCMkhTViBhbmQgSFNWMlJHQiBhcmUgYmFzZWQgb24gQ29sb3IgTWF0Y2ggUmVtaXggW2h0dHA6Ly9jb2xvci50d3lzdGVkLm5ldC9dXG4vLyB3aGljaCBpcyBiYXNlZCBvbiBvciBjb3BpZWQgZnJvbSBDb2xvck1hdGNoIDVLIFtodHRwOi8vY29sb3JtYXRjaC5kay9dXG5mdW5jdGlvbiBIU1YyUkdCKGhzdikge1xuICAgIHZhciByZ2I9bmV3IE9iamVjdCgpO1xuICAgIGlmIChoc3Yuc2F0dXJhdGlvbj09MCkge1xuICAgICAgICByZ2Iucj1yZ2IuZz1yZ2IuYj1NYXRoLnJvdW5kKGhzdi52YWx1ZSoyLjU1KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoc3YuaHVlLz02MDtcbiAgICAgICAgaHN2LnNhdHVyYXRpb24vPTEwMDtcbiAgICAgICAgaHN2LnZhbHVlLz0xMDA7XG4gICAgICAgIGk9TWF0aC5mbG9vcihoc3YuaHVlKTtcbiAgICAgICAgZj1oc3YuaHVlLWk7XG4gICAgICAgIHA9aHN2LnZhbHVlKigxLWhzdi5zYXR1cmF0aW9uKTtcbiAgICAgICAgcT1oc3YudmFsdWUqKDEtaHN2LnNhdHVyYXRpb24qZik7XG4gICAgICAgIHQ9aHN2LnZhbHVlKigxLWhzdi5zYXR1cmF0aW9uKigxLWYpKTtcbiAgICAgICAgc3dpdGNoKGkpIHtcbiAgICAgICAgY2FzZSAwOiByZ2Iucj1oc3YudmFsdWU7IHJnYi5nPXQ7IHJnYi5iPXA7IGJyZWFrO1xuICAgICAgICBjYXNlIDE6IHJnYi5yPXE7IHJnYi5nPWhzdi52YWx1ZTsgcmdiLmI9cDsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogcmdiLnI9cDsgcmdiLmc9aHN2LnZhbHVlOyByZ2IuYj10OyBicmVhaztcbiAgICAgICAgY2FzZSAzOiByZ2Iucj1wOyByZ2IuZz1xOyByZ2IuYj1oc3YudmFsdWU7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IHJnYi5yPXQ7IHJnYi5nPXA7IHJnYi5iPWhzdi52YWx1ZTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHJnYi5yPWhzdi52YWx1ZTsgcmdiLmc9cDsgcmdiLmI9cTtcbiAgICAgICAgfVxuICAgICAgICByZ2Iucj1NYXRoLnJvdW5kKHJnYi5yKjI1NSk7XG4gICAgICAgIHJnYi5nPU1hdGgucm91bmQocmdiLmcqMjU1KTtcbiAgICAgICAgcmdiLmI9TWF0aC5yb3VuZChyZ2IuYioyNTUpO1xuICAgIH1cbiAgICByZXR1cm4gcmdiO1xufVxuXG4vL0FkZGluZyBIdWVTaGlmdCB2aWEgSmFjb2IgKHNlZSBjb21tZW50cylcbmZ1bmN0aW9uIEh1ZVNoaWZ0KGgscykgeyBcbiAgICBoKz1zOyB3aGlsZSAoaD49MzYwLjApIGgtPTM2MC4wOyB3aGlsZSAoaDwwLjApIGgrPTM2MC4wOyByZXR1cm4gaDsgXG59XG5cbi8vbWluIG1heCB2aWEgSGFpcmdhbWlfTWFzdGVyIChzZWUgY29tbWVudHMpXG5mdW5jdGlvbiBtaW4zKGEsYixjKSB7IFxuICAgIHJldHVybiAoYTxiKT8oKGE8Yyk/YTpjKTooKGI8Yyk/YjpjKTsgXG59IFxuZnVuY3Rpb24gbWF4MyhhLGIsYykgeyBcbiAgICByZXR1cm4gKGE+Yik/KChhPmMpP2E6Yyk6KChiPmMpP2I6Yyk7IFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29sb3JzLFxuICByZ2IsXG4gIHJnYmEsXG4gIGNvbXBsZW1lbnRcbn07IiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBDaXJjbGUgYm9keSBhbmQgc2hhcGUgaW4gYSBCb3gyZCB3b3JsZFxuICogQG5hbWUgQ2lyY2xlXG4gKiBAY29uc3RydWN0b3IgQ2lyY2xlXG4gKiBAZXh0ZW5kcyBFbnRpdHlcbiAqL1xuXG5jb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xuY29uc3QgZGlzdGFuY2UgPSByZXF1aXJlKCcuLi8uLi91dGlscy9kaXN0YW5jZScpO1xuXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBFbnRpdHl7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmFkaXVzIG9mIHRoaXMgY2lyY2xlLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gMTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIENpcmNsZSBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgYXQgd2hpY2ggdG8gZHJhd1xuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUsIHRoaXMucmFkaXVzICogc2NhbGUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICBpZighdGhpcy5zdGF0aWNCb2R5KXtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgICAgY3R4LmxpbmVUbyh0aGlzLnggKiBzY2FsZSwgKHRoaXMueSAqIHNjYWxlKSAtICh0aGlzLnJhZGl1cyAqIHNjYWxlKSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG5cbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgc2hhcGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDaXJjbGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMucmFkaXVzID0gdGhpcy5yYWRpdXMgKiBzY2FsZTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBDaXJjbGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gKGRpc3RhbmNlKHBvaW50LCB0aGlzKSA8PSB0aGlzLnJhZGl1cyk7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENpcmNsZTtcbiIsIlxuZnVuY3Rpb24gc2NhbGVQb2ludHMocG9pbnRzLCBzY2FsZSl7XG4gIGlmKEFycmF5LmlzQXJyYXkocG9pbnRzKSl7XG4gICAgcG9pbnRzID0gcG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICByZXR1cm4gc2NhbGVQb2ludHMocG9pbnQsIHNjYWxlKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmKHR5cGVvZiBzY2FsZSA9PT0gJ29iamVjdCcpe1xuICAgIHBvaW50cyA9IHtcbiAgICAgIHg6IHBvaW50cy54ICogc2NhbGUueCxcbiAgICAgIHk6IHBvaW50cy55ICogc2NhbGUueVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0ge1xuICAgICAgeDogcG9pbnRzLnggKiBzY2FsZSxcbiAgICAgIHk6IHBvaW50cy55ICogc2NhbGVcbiAgICB9O1xuICB9XG4gIHJldHVybiBwb2ludHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2NhbGVQb2ludHM7XG4iLCJmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyAnXycgKyBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGJvZHkgYW5kIHNoYXBlIGluIGEgQm94MmQgd29ybGQgdXNpbmcgcG9zaXRpb25zIGFuZCBzaXplcyByZWxhdGl2ZSB0byB0aGUgQm94MmQgd29ybGQgaW5zdGFuY2UuXG4gKiBAbmFtZSBFbnRpdHlcbiAqIEBjb25zdHJ1Y3RvciBFbnRpdHlcbiAqL1xuXG5jbGFzcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIGluIHdoaWNoIHRvIHJlZmVyZW5jZSB0aGlzIG9iamVjdC4gQWxzbyB0aGUgdXNlckRhdGEgcHJvcGVydHkgZm9yIGJveDJkIGJvZGllcy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgZ2VuSWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgZW50aXR5J3MgbG9jYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy54ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgZW50aXR5J3MgbG9jYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy55ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBpbiBwaXhlbHMgcGVyIG1ldGVyIGluIHdoaWNoIHRvIHJlcHJlc2VudCB0aGlzIEVudGl0eSBpbiB0aGUgYm94MmQgd29ybGRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zY2FsZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhbmdsZSB0aGF0IHRoaXMgZW50aXR5IGlzIHJvdGF0ZWQgYXRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5hbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBhbmQgeSBsb2NhdGlvbnMgb2Ygd2hhdCBib3gyZCBjb25zaWRlcnMgdGhlIGVuaXR5J3MgY2VudGVyIG9mIG1hc3NcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmNlbnRlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRyYXcgdGhlIHgseSBsb2NhdGlvbiBvZiBhbiBlbnRpdHlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmRyYXdMb2NhdGlvbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRyYXcgdGhlIGNlbnRlciBwb2ludCBvZiBhbiBlbnRpdHlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICAgdGhpcy5kcmF3Q2VudGVyID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50YWdlIG9mIGZvcmNlIGluIHdoaWNoIHRoZSBlbnRpdHkgd2lsbCBib3VuY2UgYmFjayBmcm9tIGFub3RoZXIgYmFzZWQgb24gaXRzIGZvcmNlIHByZS1jb2xsaXNpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0d28tZGltZW5zaW9uYWwgZGVuc2l0eSBvZiB0aGUgZW50aXR5LiAgTWFzcyAvIGFyZWEuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuZGVuc2l0eSA9IDEuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZnJpY3Rpb24gb24gdGggc3VyZmFjZSBvZiB0aGlzIGVudGl0eVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmZyaWN0aW9uID0gMC45O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBsaW5lYXIgdmVsb2NpdHkgdGhlIGVudGl0eSBzaG91bGQgbG9zZSBvdmVyIHRpbWVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZWxvY2l0eSBpbiBtZXRlcnMvc2Vjb25kIGdpdmVuIHRvIHRoaXMgZW50aXR5IGJ5IGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmxpbmVhclZlbG9jaXR5ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmd1bGFyIHZlbG9jaXR5IGluIHJhZGlhbnMvc2Vjb25kIGdpdmVuIHRvIHRoaXMgZW50aXR5IGJ5IGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2YgYW1vdW50IG9mIGFuZ3VsYXIgdmVsb2NpdHkgYW4gZW50aXR5IHNob3VsZCBsb3NlIG92ZXIgdGltZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBlbnRpdHkgZG9lcyBjaGFuZ2UgaXRzIHBvc2l0aW9uIGFuZCBhbmdsZSBhcyB0aGUgcmVzdWx0IG9mIGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zdGF0aWNCb2R5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmlsbFN0eWxlIHRvIHVzZSBmb3IgdGhlIGVudGl0eSdzIGRlZmF1bHQgcmVuZGVyZXJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5maWxsU3R5bGUgPSAncmdiYSgxMjgsMTI4LDEyOCwwLjUpJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJva2VTdHlsZSB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZSB3aWR0aCB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMubGluZVdpZHRoID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSAxNiBiaXQgaW50ZWdlciB1c2VkIGluIGRldGVybWluaW5nIHdoaWNoIG90aGVyIHR5cGVzIG9mIGVudGl0aWVzIHRoaXMgYm9keSB3aWxsIGNvbGxpZGUgd2l0aC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5tYXNrQml0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBkZXNjcmliaW5nIHRoZSB0eXBlIHRoYXQgdGhpcyBlbml0aXR5IGlzIGZvciBjb2xsaXNpb25zLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmNhdGVnb3J5Qml0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBvdmVyaWRpbmcgbWFza0JpdHMgYW5kIGNhdGVnb3J5Qml0cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5ncm91cEluZGV4ID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoaXMgZW50aXR5IHdpdGggdGhlIHN0YXRlIHBhc3NlZCBpblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFN0YXRlIHRvIG1lcmdlIHdpdGggdGhpcyBvYmplY3RcbiAgICovXG4gIHVwZGF0ZShzdGF0ZSl7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIEVudGl0eSBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgSFRNTDUgMmQgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgdG8gZHJhdyB0aGUgZW50aXR5IGF0XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuXG4gICAgLy8gYmxhY2sgY2lyY2xlIGluIGVudGl0eSdzIGxvY2F0aW9uXG4gICAgaWYodGhpcy5kcmF3TG9jYXRpb24pIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUsIDQsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIHllbGxvdyBjaXJjbGUgaW4gZW50aXR5J3MgZ2VvbWV0cmljIGNlbnRlclxuICAgIGlmKHRoaXMuY2VudGVyICYmIHRoaXMuZHJhd0NlbnRlcil7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jZW50ZXJTdHlsZSB8fCAneWVsbG93JztcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmModGhpcy5jZW50ZXIueCAqIHNjYWxlLCB0aGlzLmNlbnRlci55ICogc2NhbGUsIDIsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuXG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcG9zaXRpb24gYW5kIGRpbWVuc2lvbnMgb2YgdGhpcyBzaGFwZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgdG8gbXVsdGlwbHkgdGhlIGRpbWVudGlvbnMgYnlcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMueCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIHRoaXMueSA9IHRoaXMueSAqIHNjYWxlO1xuICAgIHRoaXMuYWxyZWFkeVNjYWxlZCA9IHRydWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFbnRpdHk7XG5cbiIsIi8qKlxuICogVGhlIEdhbWVBY3Rpb24gaGFuZGxlcyBET00gZXZlbnRzIGZvciB1c2UgaW4gZ2FtZXMuXG4gKiBAbmFtZSBHYW1lQWN0aW9uXG4gKiBAY29uc3RydWN0b3IgR2FtZUFjdGlvblxuICovXG5cbi8qKlxuICogQSBtYXAgb2Ygc3RhdGljIGNvbnN0YW50cyBmb3IgaW50ZXJuYWwgdXNlXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gKiBAcHJvcGVydHkge051bWJlcn0gTk9STUFMIE5vcm1hbCBiZWhhdmlvci4gVGhlIGlzUHJlc3NlZCgpIG1ldGhvZCByZXR1cm5zIHRydWUgYXMgbG9uZyBhcyB0aGUga2V5IGlzIGhlbGQgZG93bi5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkgSW5pdGlhbCBwcmVzcyBiZWhhdmlvci4gVGhlIGlzUHJlc3NlZCgpIG1ldGhvZCByZXR1cm5zIHRydWUgb25seSBhZnRlciB0aGUga2V5IGlzIGZpcnN0IHByZXNzZWQsIGFuZCBub3QgYWdhaW4gdW50aWwgdGhlIGtleSBpcyByZWxlYXNlZCBhbmQgcHJlc3NlZCBhZ2Fpbi5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9SRUxFQVNFRCBWYWx1ZSBmb3IgcmVsZWFzZWQgc3RhdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9QUkVTU0VEIFZhbHVlIGZvciBwcmVzc2VkIHN0YXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRSBWYWx1ZSBmb3Igd2FpdGluZyBmb3IgcmVsZWFzZSBzdGF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX01PVkVEIFZhbHVlIGZvciBtb3ZlZCBzdGF0ZVxuICovXG5jb25zdCBzdGF0aWNzID0ge1xuICBOT1JNQUw6IDAsXG4gIERFVEVDVF9JTklUQUxfUFJFU1NfT05MWTogMSxcbiAgU1RBVEVfUkVMRUFTRUQ6IDAsXG4gIFNUQVRFX1BSRVNTRUQ6IDEsXG4gIFNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0U6IDIsXG4gIFNUQVRFX01PVkVEOiAzXG59O1xuXG5jbGFzcyBHYW1lQWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICAvKipcbiAgICAgKiBBIG5hbWUgdG8gcmVmZXJlbmNlIHRoZSBHYW1lQWN0aW9uIHdpdGhcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGRldGVjdCBvbmx5IHRoZSBpbnRpYWwgcHJlc3Mgb2YgdGhlIGdhbWUgYWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYmVoYXZpb3IgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSG93IG1hbnkgdGltZXMgdGhlIEdhbWVBY3Rpb24gaGFzIGJlZW4gcHJlc3NlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFtb3VudCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgR2FtZUFjdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlID0gMDtcblxuICAgIHRoaXMuc3RhdGljcyA9IHN0YXRpY3M7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGlzIEdhbWVBY3Rpb24gc28gdGhhdCBpdCBhcHBlYXJzIGxpa2UgaXQgaGFzbid0IGJlZW4gcHJlc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfUkVMRUFTRUQ7XG4gICAgdGhpcy5hbW91bnQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRhcHMgdGhpcyBHYW1lQWN0aW9uLiBTYW1lIGFzIGNhbGxpbmcgcHJlc3MoKSBmb2xsb3dlZCBieSByZWxlYXNlKCkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHRhcCgpIHtcbiAgICB0aGlzLnByZXNzKCk7XG4gICAgdGhpcy5yZWxlYXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBrZXkgd2FzIHByZXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHByZXNzKCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1BSRVNTRUQ7XG4gICAgaWYodGhpcy5iZWhhdmlvciA9PT0gc3RhdGljcy5ERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkpe1xuICAgICAgdGhpcy5wcmVzc0FtdCgxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBrZXkgd2FzIHByZXNzZWQgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLCBvciB0aGF0IHRoZSBtb3VzZSBtb3ZlIGEgc3BlY2lmaWVkIGRpc3RhbmNlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbW91bnQgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IGlzIHByZXNzZWRcbiAgICovXG4gIHByZXNzQW10KGFtb3VudCkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBzdGF0aWNzLlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0UpIHtcbiAgICAgIHRoaXMuYW1vdW50ICs9IGFtb3VudDtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUga2V5IHdhcyByZWxlYXNlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICByZWxlYXNlKCkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0aWNzLlNUQVRFX1JFTEVBU0VEO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUga2V5IHdhcyBwcmVzc2VkIG9yIG5vdCBzaW5jZSBsYXN0IGNoZWNrZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUga2V5IGlzIHByZXNzZWQsIGVsc2UgZmFsc2VcbiAgICovXG4gIGlzUHJlc3NlZCgpIHtcbiAgICBpZih0aGlzLnN0YXRlID09PSBzdGF0aWNzLlNUQVRFX1BSRVNTRUQpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9yIGtleXMsIHRoaXMgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyBwcmVzc2VkIHNpbmNlIGl0IHdhcyBsYXN0IGNoZWNrZWQuXG4gICAqIEZvciBtb3VzZSBtb3ZlbWVudCwgdGhpcyBpcyB0aGUgZGlzdGFuY2UgbW92ZWQuXG4gICAqXG4gICAqIFRoaXMgUmVzZXRzIHRoZSBhbW91bnQgdG8gemVybyBhZnRlciBiZWluZyBjaGVja2VkIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqIEByZXR1cm4ge051bWJlcn0gTnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHByZXNzZWQgb3IgZGlzdGFuY2UgbW91c2Ugd2FzIG1vdmVkXG4gICAqL1xuICBnZXRBbW91bnQoKSB7XG4gICAgdmFyIHJldFZhbCA9IHRoaXMuYW1vdW50O1xuICAgIGlmIChyZXRWYWwgIT09IDApIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBzdGF0aWNzLlNUQVRFX1JFTEVBU0VEKSB7XG4gICAgICAgIHRoaXMuYW1vdW50ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5iZWhhdmlvciA9PT0gc3RhdGljcy5ERVRFQ1RfSU5JVEFMX1BSRVNTX09OTFkpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRTtcbiAgICAgICAgdGhpcy5hbW91bnQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gR2FtZUFjdGlvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gVXNpbmcgUmF5LUNhc3RpbmcgZm9ybXVsYSBiYXNlZCBvblxuLy8gaHR0cDovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuLy8gYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL1xuLy8gUmUtd3JpdHRlbiBmb3IgbW9zdCByZWFkYWJpbGl0eSBhbmQgZm9yIHVzZSB3aXRoIHBvaW50IG9iamVjdHMgaW5zdGVhZCBvZiBhcnJheXNcblxuZnVuY3Rpb24gcG9pbnRJblBvbHkocG9pbnQsIHBvbHlnb24pe1xuICBpZighcG9pbnQgfHwgIXBvbHlnb24pe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwb2x5ID0gcG9seWdvbi5wb2ludHMgfHwgcG9seWdvbjtcblxuICB2YXIgaW5zaWRlUG9seSA9IGZhbHNlO1xuICB2YXIgaiA9IHBvbHkubGVuZ3RoIC0gMTtcblxuICBmb3IodmFyIGkgPSAwOyBpIDwgcG9seS5sZW5ndGg7IGogPSBpKyspe1xuICAgIHZhciB4aSA9IHBvbHlbaV0ueDtcbiAgICB2YXIgeWkgPSBwb2x5W2ldLnk7XG4gICAgdmFyIHhqID0gcG9seVtqXS54O1xuICAgIHZhciB5aiA9IHBvbHlbal0ueTtcblxuICAgIGlmKHlpID4gcG9pbnQueSAhPT0geWogPiBwb2ludC55KXtcbiAgICAgIGlmKHBvaW50LnggPCAoeGogLSB4aSkgKiAocG9pbnQueSAtIHlpKSAvICh5aiAtIHlpKSArIHhpKXtcbiAgICAgICAgaW5zaWRlUG9seSA9ICFpbnNpZGVQb2x5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbnNpZGVQb2x5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBvaW50SW5Qb2x5O1xuIiwiXG5mdW5jdGlvbiB0cmFuc2xhdGVQb2ludHMocG9pbnRzLCB0cmFuc2xhdGlvbil7XG4gIGlmKEFycmF5LmlzQXJyYXkocG9pbnRzKSl7XG4gICAgcG9pbnRzID0gcG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlUG9pbnRzKHBvaW50LCB0cmFuc2xhdGlvbik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0ge1xuICAgICAgeDogcG9pbnRzLngsXG4gICAgICB5OiBwb2ludHMueVxuICAgIH07XG5cbiAgICBpZih0cmFuc2xhdGlvbi54ICE9IG51bGwpe1xuICAgICAgcG9pbnRzLnggKz0gdHJhbnNsYXRpb24ueDtcbiAgICB9XG5cbiAgICBpZih0cmFuc2xhdGlvbi55ICE9IG51bGwpe1xuICAgICAgcG9pbnRzLnkgKz0gdHJhbnNsYXRpb24ueTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGVQb2ludHM7XG4iLCJmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyAnXycgKyBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIEBuYW1lIEpvaW50XG4gKiBAY29uc3RydWN0b3IgSm9pbnRcbiAqL1xuXG5cbmNsYXNzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBpbiB3aGljaCB0byByZWZlcmVuY2UgdGhpcyBvYmplY3QuIEFsc28gdGhlIHVzZXJEYXRhIHByb3BlcnR5IGZvciBib3gyZCBib2RpZXMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgZ2VuSWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgZmlyc3QgZW50aXR5IHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGlzIGpvaW50XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlJZDEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBzZWNvbmQgZW50aXR5IHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGlzIGpvaW50XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlJZDIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBwb2ludCBvbiB0aGUgZmlyc3QgZW50aXR5IHdoZXJlIGJlIGF0dGFjaGVkIHRvIHRoZSBzZWNvbmQgYm9keS4gSWYgbm8gcG9pbnQgaXMgc3BlY2lmaWVkLCB0aGUgZmlyc3QgYm9keSB3aWxsIGJlIGF0dGFjaGVkIGF0IGl0cyBjZW50ZXIgcG9pbnQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlQb2ludDEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHdpdGggYW55IG90aGVyIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgbWl4ZWQgaW50byB0aGUgYm94MmQgam9pbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuam9pbnRBdHRyaWJ1dGVzID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGVzIHRoZSBwb3NpdGlvbiB0aGF0IG9uIHRoZSBmaXJzdCBib2R5IHRoYXQgdGhlIGpvaW50IGlzIGNvbm5lY3RlZCBhdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBzY2FsZSB0byBtdWx0aXBseSB0aGUgZGltZW50aW9ucyBieVxuICAgKi9cbiAgc2NhbGVKb2ludExvY2F0aW9uKHNjYWxlKXtcbiAgICBpZihzY2FsZSAmJiB0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgdGhpcy5ib2R5UG9pbnQxLnggPSB0aGlzLmJvZHlQb2ludDEueCAqIHNjYWxlO1xuICAgICAgdGhpcy5ib2R5UG9pbnQxLnkgPSB0aGlzLmJvZHlQb2ludDEueSAqIHNjYWxlO1xuICAgICAgdGhpcy5hbHJlYWR5U2NhbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBKb2ludDtcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgcmVwcmVzZW50cyBhIHBvbHlnb24gd2hpY2ggaXMgYnVpbGQgZnJvbSBhbiBhcnJheSBvZiBwb2ludHMuXG4gKiBAbmFtZSBQb2x5Z29uXG4gKiBAY29uc3RydWN0b3IgUG9seWdvblxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvc2NhbGVQb2ludHMnKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IHRyYW5zbGF0ZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3RyYW5zbGF0ZVBvaW50cycpO1xuXG5jbGFzcyBQb2x5Z29uIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIG9iamVjdHMgdGhhdCBoYXZlIHggYW5kIHkgdmFsdWVzLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgUG9seWdvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBQb2x5Z29uIGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgYXQgd2hpY2ggdG8gZHJhd1xuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKCh0aGlzLnggKyB0aGlzLnBvaW50c1swXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2ludHNbMF0ueSkgKiBzY2FsZSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgIGN0eC5saW5lVG8oKHRoaXMucG9pbnRzW2ldLnggKyB0aGlzLngpICogc2NhbGUsICh0aGlzLnBvaW50c1tpXS55ICsgdGhpcy55KSAqIHNjYWxlKTtcbiAgICB9XG4gICAgY3R4LmxpbmVUbygodGhpcy54ICsgdGhpcy5wb2ludHNbMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9pbnRzWzBdLnkpICogc2NhbGUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFBvbHlnb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMucG9pbnRzID0gc2NhbGVQb2ludHModGhpcy5wb2ludHMsIHNjYWxlKTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgUG9seWdvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gcG9pbnRJblBvbHlnb24ocG9pbnQsIHRyYW5zbGF0ZVBvaW50cyh0aGlzLnBvaW50cywgdGhpcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUG9seWdvbjtcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgcmVwcmVzZW50cyBhIFJlY3RhbmdsZVxuICogQG5hbWUgUmVjdGFuZ2xlXG4gKiBAY29uc3RydWN0b3IgUmVjdGFuZ2xlXG4gKiBAZXh0ZW5kcyBFbnRpdHlcbiAqL1xuXG5jb25zdCBFbnRpdHkgPSByZXF1aXJlKCcuL0VudGl0eScpO1xuXG5jbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogSGFsZiBvZiB0aGUgUmVjdGFuZ2xlJ3MgdG90YWwgd2lkdGhcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhhbGZXaWR0aCA9IDE7XG4gICAgLyoqXG4gICAgICogSGFsZiBvZiB0aGUgUmVjdGFuZ2xlJ3MgdG90YWwgd2lkdGhcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhhbGZIZWlnaHQgPSAxO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgUmVjdGFuZ2xlIGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY3R4IFRoZSBkcmF3aW5nIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSBhdCB3aGljaCB0byBkcmF3XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgICh0aGlzLngtdGhpcy5oYWxmV2lkdGgpICogc2NhbGUsXG4gICAgICAodGhpcy55LXRoaXMuaGFsZkhlaWdodCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZXaWR0aCoyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZkhlaWdodCoyKSAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICh0aGlzLngtdGhpcy5oYWxmV2lkdGgpICogc2NhbGUsXG4gICAgICAodGhpcy55LXRoaXMuaGFsZkhlaWdodCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZXaWR0aCoyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZkhlaWdodCoyKSAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlIHRoaXMgc2hhcGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZWN0YW5nbGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMuaGFsZkhlaWdodCA9IHRoaXMuaGFsZkhlaWdodCAqIHNjYWxlO1xuICAgIHRoaXMuaGFsZldpZHRoID0gdGhpcy5oYWxmV2lkdGggKiBzY2FsZTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgUmVjdGFuZ2xlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBvaW50IGlzIGluIHNoYXBlIGVsc2UgZmFsc2VcbiAgICovXG4gIHBvaW50SW5TaGFwZShwb2ludCl7XG4gICAgcmV0dXJuICgocG9pbnQueCA+PSAodGhpcy54IC0gdGhpcy5oYWxmV2lkdGgpKSAmJiAocG9pbnQueCA8PSAodGhpcy54ICsgdGhpcy5oYWxmV2lkdGgpKSAmJiAocG9pbnQueSA+PSAodGhpcy55IC0gdGhpcy5oYWxmSGVpZ2h0KSkgJiYgKHBvaW50LnkgPD0gKHRoaXMueSArIHRoaXMuaGFsZkhlaWdodCkpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY3RhbmdsZTtcbiIsIi8qKlxuICogVGhlIEdhbWVDb3JlIGNsYXNzIHByb3ZpZGVzIHRoZSBiYXNlIHRvIGJ1aWxkIGdhbWVzIG9uLlxuICogQG5hbWUgR2FtZUNvcmVcbiAqIEBjb25zdHJ1Y3RvciBHYW1lQ29yZVxuICogQGV4YW1wbGVcbiAqIHZhciBteUdhbWUgPSBuZXcgR2FtZUNvcmUoe1xuICogICBjYW52YXNJZDogJ215Q2FudmFzJyxcbiAqICAgdXBkYXRlOiBmdW5jdGlvbihtaWxsaXMpe1xuICogICAgIC8vIGRvIHVwZGF0aW5nIG9mIGdhbWUgc3RhdGVcbiAqICAgfSxcbiAqICAgZHJhdzogZnVuY3Rpb24oY29udGV4dCl7XG4gKiAgICAgLy8gZG8gZHJhd2luZyBvZiB0aGUgZ2FtZVxuICogICB9XG4gKiB9KTtcbiAqXG4gKiAvL3N0YXJ0IHRoZSBnYW1lXG4gKiBteUdhbWUucnVuKCk7XG4gKi9cblxuY29uc3QgSW5wdXRNYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnB1dE1hbmFnZXInKTtcbmNvbnN0IFJlc291cmNlTWFuYWdlciA9IHJlcXVpcmUoJy4vUmVzb3VyY2VNYW5hZ2VyJyk7XG5cbmNsYXNzIEdhbWVDb3JlIHtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGdhbWUgc2hvdWxkIGJlIHJ1bm5pbmcgaXRzIGxvb3BcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBjYW52YXMgZWxlbWVudCB0byB1c2UgcmVuZGVyIHRoZSBnYW1lIG9uXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc0lkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1heCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy4gKGluIGNhc2UgdXNlciBzd2l0Y2hlcyB0YWJzIGFuZCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcGF1c2VzKVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tYXhTdGVwID0gNDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBjb250ZXh0IHRvIHJlcXVlc3QgZnJvbSB0aGUgY2FudmFzLiAgMmQgb3IgM2RcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dFR5cGUgPSAnMmQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgR2FtZSBhbmQgY2FudmFzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIEdhbWUgYW5kIGNhbnZhc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUmVzb3VyY2VNYW5hZ2VyIHRvIGJlIHVzZWQgZm9yIGdhbWVcbiAgICAgKiBAdHlwZSB7UmVzb3VyY2VNYW5hZ2VyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmVzb3VyY2VNYW5hZ2VyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBJbnB1dE1hbmFnZXIgdG8gYmUgdXNlZCBmb3IgZ2FtZVxuICAgICAqIEB0eXBlIHtJbnB1dE1hbmFnZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIHRvIGJlIHVzZWQgZm9yIHRoZSBmb3JlZ3JvdW5kIHdoaWxlIGdhbWUgcmVzb3VyY2VzIGFyZSBsb2FkaW5nXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmdGb3JlZ3JvdW5kID0gJyMwMEYnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIHRvIGJlIHVzZWQgZm9yIHRoZSBiYWNrZ3JvdW5kIHdoaWxlIGdhbWUgcmVzb3VyY2VzIGFyZSBsb2FkaW5nXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmxvYWRpbmdCYWNrZ3JvdW5kID0gJyNGRkYnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIGEgRE9NIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgZ2FtZSdzIGNhbnZhc1xuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5nYW1lQXJlYUlkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50YWdlICgwIHRvIDEuMCkgb2YgdGhlIGhlaWdodCBhbmQgd2lkdGggdGhlIGNhbnZhcyBzaG91bGQgdXNlIHRvIGZpbGwgaW4gaXRzIGNvbnRhaW5lciBET00gZWxlbWVudFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNQZXJjZW50YWdlID0gMDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICBpZighdGhpcy5yZXNvdXJjZU1hbmFnZXIpe1xuICAgICAgdGhpcy5yZXNvdXJjZU1hbmFnZXIgPSBuZXcgUmVzb3VyY2VNYW5hZ2VyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGhlaWdodCBvbiB5b3VyIEdhbWVDb3JlIGluc3RhbmNlIGFuZCBvbiB5b3VyIGNhbnZhcyByZWZlcmVuY2VcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5ld0hlaWdodCBUaGUgbmV3IGhlaWdodCBkZXNpcmVkXG4gICAqL1xuICBzZXRIZWlnaHQobmV3SGVpZ2h0KXtcbiAgICB0aGlzLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgd2lkdGggb24geW91ciBHYW1lQ29yZSBpbnN0YW5jZSBhbmQgb24geW91ciBjYW52YXMgcmVmZXJlbmNlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuZXdXaWR0aCBUaGUgbmV3IHdpZHRoIGRlc2lyZWRcbiAgICovXG4gIHNldFdpZHRoKG5ld1dpZHRoKXtcbiAgICB0aGlzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSBuZXdXaWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoZSBnYW1lIGxvb3AgdGhhdCBpdCdzIHRpbWUgdG8gcXVpdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExhdW5jaGVzIHRoZSBnYW1lLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgcnVuKCkge1xuICAgIGlmKCF0aGlzLmlzUnVubmluZyl7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICAgIHRoaXMubG9hZFJlc291cmNlcyh0aGlzLnJlc291cmNlTWFuYWdlcik7XG4gICAgICB0aGlzLmluaXRJbnB1dCh0aGlzLmlucHV0TWFuYWdlcik7XG4gICAgICB0aGlzLmxhdW5jaExvb3AoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJpZGRlbiBpbiBHYW1lQ29yZSBzdWJjbGFzc2VzIHRvIGxvYWQgaW1hZ2VzIGFuZCBzb3VuZHNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtSZXNvdXJjZU1hbmFnZXJ9IHJlc291cmNlTWFuYWdlclxuICAgKi9cbiAgbG9hZFJlc291cmNlcyhyZXNvdXJjZU1hbmFnZXIpe1xuXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2NyZWVuIG1vZGUgYW5kIGluaXRpYXRlcyBhbmQgb2JqZWN0cy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIGluaXQoKSB7XG4gICAgaWYoIXRoaXMuY2FudmFzKXtcbiAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jYW52YXNJZCk7XG4gICAgfVxuICAgIGlmKCF0aGlzLmNhbnZhcyl7XG4gICAgICBcbiAgICAgIGFsZXJ0KCdTb3JyeSwgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY2FudmFzLiAgSSByZWNvbW1lbmQgYW55IGJyb3dzZXIgYnV0IEludGVybmV0IEV4cGxvcmVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKCF0aGlzLmNvbnRleHQpe1xuICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCh0aGlzLmNvbnRleHRUeXBlKTtcbiAgICB9XG4gICAgaWYoIXRoaXMuY29udGV4dCl7XG4gICAgICBhbGVydCgnU29ycnksIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGEgJyArIHRoaXMuY29udGV4dFR5cGUgKyAnIGRyYXdpbmcgc3VyZmFjZSBvbiBjYW52YXMuICBJIHJlY29tbWVuZCBhbnkgYnJvd3NlciBidXQgSW50ZXJuZXQgRXhwbG9yZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldEhlaWdodCh0aGlzLmhlaWdodCB8fCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIHRoaXMuc2V0V2lkdGgodGhpcy53aWR0aCB8fCB0aGlzLmNhbnZhcy53aWR0aCk7XG5cbiAgICBpZighdGhpcy5pbnB1dE1hbmFnZXIpe1xuICAgICAgLy9oYW5kbGUgcmVzaXppbmcgaWYgZ2FtZUFyZWEgYW5kIGNhbnZhc1BlcmNlbnRhZ2UgYXJlIHNwZWNpZmllZFxuICAgICAgaWYodGhpcy5nYW1lQXJlYUlkICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSl7XG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcih7XG4gICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcyxcbiAgICAgICAgICBnYW1lQXJlYTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5nYW1lQXJlYUlkKSxcbiAgICAgICAgICBjYW52YXNQZXJjZW50YWdlOiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHtcbiAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnJlc2l6ZSgpO1xuXG4gICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbiBiZSBvdmVyaWRkZW4gaW4gdGhlIHN1YmNsYXNzZXMgdG8gbWFwIHVzZXIgaW5wdXQgdG8gYWN0aW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0lucHV0TWFuYWdlcn0gaW5wdXRNYW5hZ2VyXG4gICAqL1xuICBpbml0SW5wdXQoaW5wdXRNYW5hZ2VyKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcmlkZGVuIGluIHRoZSBzdWJjbGFzc2VzIHRvIGRlYWwgd2l0aCB1c2VyIGlucHV0IGJlZm9yZSB1cGRhdGluZyB0aGUgZ2FtZSBzdGF0ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0lucHV0TWFuYWdlcn0gaW5wdXRNYW5hZ2VyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICBoYW5kbGVJbnB1dChpbnB1dE1hbmFnZXIsZWxhcHNlZFRpbWUpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhyb3VnaCB0aGUgZ2FtZSBsb29wIHVudGlsIHN0b3AoKSBpcyBjYWxsZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBnYW1lTG9vcCgpIHtcbiAgICB0aGlzLmN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdGhpcy5lbGFwc2VkVGltZSA9IE1hdGgubWluKHRoaXMuY3VyclRpbWUgLSB0aGlzLnByZXZUaW1lLCB0aGlzLm1heFN0ZXApO1xuICAgIHRoaXMucHJldlRpbWUgPSB0aGlzLmN1cnJUaW1lO1xuXG4gICAgLy9pdCdzIHVzaW5nIGEgcmVzb3VyY2UgbWFuYWdlciwgYnV0IHJlc291cmNlcyBoYXZlbid0IGZpbmlzaGVkXG4gICAgaWYodGhpcy5yZXNvdXJjZU1hbmFnZXIgJiYgIXRoaXMucmVzb3VyY2VNYW5hZ2VyLnJlc291cmNlc1JlYWR5KCkpe1xuICAgICAgdGhpcy51cGRhdGVMb2FkaW5nU2NyZWVuKHRoaXMuZWxhcHNlZFRpbWUpO1xuICAgICAgdGhpcy5kcmF3TG9hZGluZ1NjcmVlbih0aGlzLmNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhhbmRsZUlucHV0KHRoaXMuaW5wdXRNYW5hZ2VyLHRoaXMuZWxhcHNlZFRpbWUpO1xuICAgICAgaWYoIXRoaXMucGF1c2VkKXtcbiAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgIHRoaXMudXBkYXRlKHRoaXMuZWxhcHNlZFRpbWUpO1xuICAgICAgfVxuICAgICAgLy8gZHJhdyB0aGUgc2NyZWVuXG4gICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgdGhpcy5kcmF3KHRoaXMuY29udGV4dCk7XG4gICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMYXVuY2hlcyB0aGUgZ2FtZSBsb29wLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgbGF1bmNoTG9vcCgpe1xuICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY3VyclRpbWUgPSBzdGFydFRpbWU7XG4gICAgdGhpcy5wcmV2VGltZSA9IHN0YXJ0VGltZTtcblxuICAgIC8vbmVlZCB0byBrZWVwIHRoZSBjb250ZXh0IGRlZmluZWQgaGVyZSBzbyB0aGUgZ2FtZSBsb29wIGhhcyBhY2Nlc3MgdG8gaXRcbiAgICB0aGlzLmxvb3BSdW5uZXIgPSB0aGlzLmxvb3BSdW5uZXIuYmluZCh0aGlzKTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubG9vcFJ1bm5lcik7XG4gIH1cblxuICBsb29wUnVubmVyKCl7XG4gICAgdGhpcy5nYW1lTG9vcCgpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wUnVubmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG91bGQgYmUgb3ZlcnJpZGRlbiB0byB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSBnYW1lL2FuaW1hdGlvbiBiYXNlZCBvbiB0aGUgYW1vdW50IG9mIGVsYXBzZWQgdGltZSB0aGF0IGhhcyBwYXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGUoZWxhcHNlZFRpbWUpIHtcblxuXG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJyaWRkZW4gdG8gdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgZ2FtZS9hbmltYXRpb24gd2hpbGUgYSBjdXN0b20gbG9hZGluZyBzY3JlZW4gaXMgZGlzcGxheWVkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlTG9hZGluZ1NjcmVlbihlbGFwc2VkVGltZSkge1xuXG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdG8gdGhlIHNjcmVlbi4gU3ViY2xhc3NlcyBvciBpbnN0YW5jZXMgbXVzdCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwYWludCBpdGVtcyB0byB0aGUgc2NyZWVuLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgQW4gSFRNTDUgY2FudmFzIGRyYXdpbmcgY29udGV4dC5cbiAgICovXG4gIGRyYXcoY29udGV4dCl7XG4gICAgaWYodGhpcy5jb250ZXh0VHlwZSA9PT0gJzJkJyl7XG4gICAgICBjb250ZXh0LmZvbnQgPSBcIjE0cHggc2Fucy1zZXJpZlwiO1xuICAgICAgY29udGV4dC5maWxsVGV4dChcIlRoaXMgZ2FtZSBkb2VzIG5vdCBoYXZlIGl0cyBvd24gZHJhdyBmdW5jdGlvbiFcIiwgMTAsIDUwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHByb2dyZXNzIG9mIHRoZSByZXNvdXJjZSBtYW5nZXIgdG8gdGhlIHNjcmVlbiB3aGlsZSBsb2FkaW5nLlxuICAgKiBTdWJjbGFzc2VzIG9yIGluc3RhbmNlcyBtYXkgb3ZlcnJpZGUgZm9yIGN1c3RvbSBsb2FkaW5nIGFuaW1hdGlvbnMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dCBBbiBIVE1MNSBjYW52YXMgZHJhd2luZyBjb250ZXh0LlxuICAgKi9cbiAgZHJhd0xvYWRpbmdTY3JlZW4oY29udGV4dCl7XG4gICAgaWYodGhpcy5yZXNvdXJjZU1hbmFnZXIgJiYgKHRoaXMuY29udGV4dFR5cGUgPT09ICcyZCcpKXtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5sb2FkaW5nQmFja2dyb3VuZDtcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwwLCB0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtcblxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmxvYWRpbmdGb3JlZ3JvdW5kO1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMubG9hZGluZ0ZvcmVncm91bmQ7XG5cbiAgICAgIHZhciB0ZXh0UHhTaXplID0gTWF0aC5mbG9vcih0aGlzLmhlaWdodC8xMik7XG5cbiAgICAgIGNvbnRleHQuZm9udCA9IFwiYm9sZCBcIiArIHRleHRQeFNpemUgKyBcInB4IHNhbnMtc2VyaWZcIjtcblxuICAgICAgY29udGV4dC5maWxsVGV4dChcIkxvYWRpbmcuLi4gXCIgKyB0aGlzLnJlc291cmNlTWFuYWdlci5nZXRQZXJjZW50Q29tcGxldGUoKSArIFwiJVwiLCB0aGlzLndpZHRoICogMC4xLCB0aGlzLmhlaWdodCAqIDAuNTUpO1xuXG4gICAgICBjb250ZXh0LnN0cm9rZVJlY3QodGhpcy53aWR0aCAqIDAuMSwgdGhpcy5oZWlnaHQgKiAwLjcsIHRoaXMud2lkdGggKiAwLjgsIHRoaXMuaGVpZ2h0ICogMC4xKTtcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QodGhpcy53aWR0aCAqIDAuMSwgdGhpcy5oZWlnaHQgKiAwLjcsICh0aGlzLndpZHRoICogMC44KSAqIHRoaXMucmVzb3VyY2VNYW5hZ2VyLmdldFBlcmNlbnRDb21wbGV0ZSgpLzEwMCwgdGhpcy5oZWlnaHQgKiAwLjEpO1xuXG4gICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDQ7XG4gICAgfVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lQ29yZTtcbiIsIi8qKlxuICogVGhlIElucHV0TWFuYWdlciBoYW5kbGVzIERPTSBldmVudHMgZm9yIHVzZSBpbiBnYW1lcy5cbiAqIEBuYW1lIElucHV0TWFuYWdlclxuICogQGNvbnN0cnVjdG9yIElucHV0TWFuYWdlclxuICovXG5cbmNvbnN0IEhhbW1lciA9IHJlcXVpcmUoJ2hhbW1lcmpzJyk7XG5cbmNvbnN0IEdhbWVBY3Rpb24gPSByZXF1aXJlKCcuL0dhbWVBY3Rpb24nKTtcbmNvbnN0IFRvdWNoQWN0aW9uID0gcmVxdWlyZSgnLi9Ub3VjaEFjdGlvbicpO1xuY29uc3QgTW91c2VBY3Rpb24gPSByZXF1aXJlKCcuL01vdXNlQWN0aW9uJyk7XG5jb25zdCBpbnNpZGVDYW52YXMgPSByZXF1aXJlKCcuL3V0aWxzL2luc2lkZUNhbnZhcycpO1xuY29uc3Qga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG5mdW5jdGlvbiBvbiAoZWxlbWVudCwgbmFtZSwgaGFuZGxlcikge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG4gIHJldHVybiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc2l0aW9uKG5vZGUpe1xuICB2YXIgYm91bmRpbmdSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHtcbiAgICB4OiBib3VuZGluZ1JlY3QubGVmdCxcbiAgICB5OiBib3VuZGluZ1JlY3QudG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUobm9kZSl7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKSB8fCB7fTtcbn1cblxuZnVuY3Rpb24gdG9QaXhlbCh2YWx1ZSl7XG4gIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBnZXRNYXJnaW5FeHRlbnRzKG5vZGUpe1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICB2YXIgbCA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luTGVmdCk7XG4gIHZhciB0ID0gdG9QaXhlbChzdHlsZS5tYXJnaW5Ub3ApO1xuICB2YXIgciA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luUmlnaHQpO1xuICB2YXIgYiA9IHRvUGl4ZWwoc3R5bGUubWFyZ2luQm90dG9tKTtcbiAgcmV0dXJuIHtcbiAgICB3OiBsICsgcixcbiAgICBoOiB0ICsgYlxuICB9O1xufVxuXG5jbGFzcyBJbnB1dE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IG9mIGtleUFjdGlvbnMgYmVpbmcgbGlzdGVuZWQgZm9yXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmtleUFjdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIE1vdXNlQWN0aW9uIHRvIGtlZXAgdHJhY2sgb2YgdGhlIG1vdXNlJ3Mgc3RhdGVcbiAgICAgKiBAdHlwZSB7TW91c2VBY3Rpb259XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubW91c2VBY3Rpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFRvdWNoQWN0aW9uIHRvIGtlZXAgdHJhY2sgb2YgdG91Y2ggZXZlbnRzXG4gICAgICogQHR5cGUge1RvdWNoQWN0aW9ufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBIVE1MNSBjYW52YXMgb24gd2hpY2ggdG8gbGlzdGVuIGZvciBldmVudHNcbiAgICAgKiBAdHlwZSB7Q2FudmFzfVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBsaXN0ZW4gZm9yIG1vdXNlIGV2ZW50c1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAZGVwcmVjYXRlZCBNb3VzZSBpcyBhbHdheXMgaGFuZGxlZCwgdXNlIGVtdWxhdGVNb3VzZSB0byBzcGVjaWZ5IGhvdyB0byBoYW5kbGUgaXRcbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZU1vdXNlID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGxpc3RlbiBmb3IgdG91Y2ggZXZlbnRzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqIEBkZXByZWNhdGVkIFRvdWNoIGlzIGFsd2F5cyBoYW5kbGVkLCB1c2UgZW11bGF0ZU1vdXNlIHRvIHNwZWNpZnkgaG93IHRvIGhhbmRsZSBpdFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxlVG91Y2ggPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gbGlzdGVuIGZvciBrZXlib2FyZCBldmVudHNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oYW5kbGVLZXlzID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBnYW1lJ3MgY2FudmFzXG4gICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ2FtZUFyZWEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBlcmNlbnRhZ2UgKDAgdG8gMS4wKSBvZiB0aGUgaGVpZ2h0IGFuZCB3aWR0aCB0aGUgY2FudmFzIHNob3VsZCB1c2UgdG8gZmlsbCBpbiBpdHMgY29udGFpbmVyIERPTSBlbGVtZW50XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jYW52YXNQZXJjZW50YWdlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgbW91c2UgZXZlbnRzIHdoZW4gdXNpbmcgdG91Y2hcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbXVsYXRlTW91c2UgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSW5zdGFuY2Ugb2YgSGFtbWVyLmpzIC0gWW91IGNhbiBwYXNzIGluIGEgSGFtbWVyKCkgY29uc3RydWN0b3Igd2l0aCBvcHRpb25zIHRvIGN1c3RvbWl6ZSB5b3VyIEhhbW1lciBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdCBIYW1tZXIgaW5zdGFuY2UsIGJvdW5kIHRvIGRvY3VtZW50LCB3aXRoIHByZXZlbnRfZGVmYXVsdDogdHJ1ZSwgZHJhZ19tYXhfdG91Y2hlczogMCwgYW5kIGhvbGQ6IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5oYW1tZXIgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLmhhbW1lcil7XG4gICAgICB0aGlzLmhhbW1lciA9IG5ldyBIYW1tZXIoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICBwcmV2ZW50X2RlZmF1bHQ6IHRydWUsXG4gICAgICAgIGRyYWdfbWF4X3RvdWNoZXM6IDAsXG4gICAgICAgIC8vIEhvbGQgdXNlcyBzZXRUaW1lb3V0IHdoaWNoIGlzIHZlcnkgYmFkIGZvciBwZXJmb3JtYW5jZVxuICAgICAgICAvLyBUT0RPOiBEbyB3ZSB3YW50IHRvIGFsbG93IHRoaXMgdG8gYmUgb3ZlcnJpZGRlbj9cbiAgICAgICAgaG9sZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKCF0aGlzLmtleUFjdGlvbnMpe1xuICAgICAgdGhpcy5rZXlBY3Rpb25zID0ge307XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW51cChoYW5kbGVyKXtcbiAgICAgIGhhbmRsZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5oYW5kbGVLZXlzKXtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdrZXl1cCcsIHRoaXMua2V5dXAuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgIH1cblxuICAgIGlmKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50KXtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICd0b3VjaHN0YXJ0JywgdGhpcy50b3VjaHN0YXJ0LmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLnRvdWNobW92ZS5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLnRvdWNoZW5kLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcblxuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ21vdXNlZG93bicsIHRoaXMubW91c2Vkb3duLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlbW92ZS5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMubW91c2V1cC5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgfVxuXG5cbiAgICBpZighdGhpcy5tb3VzZUFjdGlvbil7XG4gICAgICB0aGlzLm1vdXNlQWN0aW9uID0gbmV3IE1vdXNlQWN0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMudG91Y2hBY3Rpb24pe1xuICAgICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbigpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZW11bGF0ZU1vdXNlKXtcblxuICAgICAgLy9kYSBoZWxsIGhhbW1lciwgZ290dGEgZG8gdGhpcyBvdXJzZXZsZXMgbm93P1xuXG4gICAgICAvLyB0aGlzLm9uKCd0b3VjaCcsIHRoaXMubW91c2Vkb3duLmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbignZHJhZycsIHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbigncmVsZWFzZScsIHRoaXMubW91c2V1cC5iaW5kKHRoaXMpKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vZGEgaGVsbCBoYW1tZXIsIGdvdHRhIGRvIHRoaXMgb3Vyc2V2bGVzIG5vdz9cbiAgICAgIC8vIHRoaXMub24oJ3RvdWNoJywgdGhpcy50b3VjaHN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbignZHJhZycsIHRoaXMudG91Y2htb3ZlLmJpbmQodGhpcykpO1xuICAgICAgLy8gdGhpcy5vbigncmVsZWFzZScsIHRoaXMudG91Y2hlbmQuYmluZCh0aGlzKSk7XG5cbiAgICB9XG5cbiAgICBpZih0aGlzLmdhbWVBcmVhICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSl7XG4gICAgICB2YXIgaGFuZGxlciA9IHRoaXMucmVzaXplLmJpbmQodGhpcyk7XG5cbiAgICAgIC8vIExpc3RlbiBmb3IgcmVzaXplIGNoYW5nZXNcblxuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbih3aW5kb3csICdyZXNpemUnLCBoYW5kbGVyKSwgY2xlYW51cCk7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKHdpbmRvdywgJ29yaWVudGF0aW9uY2hhbmdlJywgaGFuZGxlciksIGNsZWFudXApO1xuICAgIH1cblxuICAgIHRoaXMubm9ybWFsaXplUG9pbnQgPSB0aGlzLm5vcm1hbGl6ZVBvaW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSB0aGlzLmluc2lkZUNhbnZhcy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gYmluZCBvdGhlciBIYW1tZXIuanMgZXZlbnRzIChzdWNoIGFzIFN3aXBlIG9yIERvdWJsZXRhcCk7XG4gICAqIFdhcm5pbmc6IE9ubHkgc2V0IGZsYWdzIG9yIHZhcmlhYmxlcyBpbiB0aGlzIGhhbmRsZXIsIG90aGVyd2lzZSB5b3VyIGdhbWUgbWlnaHQgYmVjb21lIHNsb3dcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZ2VzdHVyZSBUaGUgZ2VzdHVyZSB0byBiaW5kXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIgY2FsbGJhY2tcbiAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgcmVtb3ZlIGZ1bmN0aW9uIGZvciByZW1vdmluZyB0aGUgZXZlbnQuXG4gICAqL1xuICBvbihnZXN0dXJlLCBoYW5kbGVyKXtcbiAgICB2YXIgaGFtbWVyID0gdGhpcy5oYW1tZXI7XG4gICAgdmFyIHJlbW92ZUNsZWFudXAgPSB0aGlzLnJlbW92ZUNsZWFudXA7XG5cbiAgICBoYW1tZXIub24oZ2VzdHVyZSwgaGFuZGxlcik7XG4gICAgdmFyIGNsZWFudXAgPSB0aGlzLnB1c2hDbGVhbnVwKFtnZXN0dXJlLCBoYW5kbGVyXSwgZnVuY3Rpb24oYXJncyl7XG4gICAgICBoYW1tZXIub2ZmLmFwcGx5KGhhbW1lciwgYXJncyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpe1xuICAgICAgICByZW1vdmVDbGVhbnVwKGNsZWFudXApO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBhIHBvaW50IGlzIHdpdGhpbiB0aGUgSW5wdXRNYW5hZ2VyJ3MgY2FudmFzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtQb2ludH0gcG9pbnQgUG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcG9pbnQgaXMgaW5zaWRlIHRoaXMgSW5wdXRNYW5hZ2VyJ3MgY2FudmFzXG4gICAqL1xuICBpbnNpZGVDYW52YXMocG9pbnQpe1xuICAgIHJldHVybiBpbnNpZGVDYW52YXMocG9pbnQsIHRoaXMuY2FudmFzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXBzIGEgR2FtZUFjdGlvbiB0byBhIHNwZWNpZmljIGtleS4gVGhlIGtleSBjb2RlcyBhcmUgZGVmaW5lZCBpbiBkb2pvLmtleXMuXG4gICAqIElmIHRoZSBrZXkgYWxyZWFkeSBoYXMgYSBHYW1lQWN0aW9uIG1hcHBlZCB0byBpdCwgdGhlIG5ldyBHYW1lQWN0aW9uIG92ZXJ3cml0ZXMgaXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0ge0dhbWVBY3Rpb259IGdhbWVBY3Rpb24gdGhlIEdhbWVBY3Rpb24gdG8gbWFwXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlDb2RlIGRvam8ua2V5cyBrZXkgY29kZSwgb3IgY2hhcmFjdGVyXG4gICAqL1xuICBtYXBUb0tleShnYW1lQWN0aW9uLCBrZXlDb2RlKXtcbiAgICB0aGlzLmtleUFjdGlvbnNba2V5Q29kZV0gPSBnYW1lQWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBHYW1lQWN0aW9uIHRvIGEga2V5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0ge09iamVjdHx8QXJyYXl9IGtleUNvZGUgS2V5IGNoYXJhY3RlciBvciBkb2pvL2tleXMga2V5IGNvZGVcbiAgICogQHBhcmFtIHtCb29sZWFufSBpbml0aWFsUHJlc3NPbmx5IERvIG9ubHkgb25lIGZpcmUgb2YgdGhlIGFjdGlvbiBwZXIga2V5cHJlc3NcbiAgICogQHJldHVybiB7R2FtZUFjdGlvbn0gR2FtZUFjdGlvbiB0aGF0IGlzIG1hcHBlZCB0byBrZXlDb2RlXG4gICAqL1xuICBhZGRLZXlBY3Rpb24oa2V5Q29kZSwgaW5pdGlhbFByZXNzT25seSl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoa2V5Q29kZSkpIHtcbiAgICAgIGtleUNvZGUgPSBba2V5Q29kZV07XG4gICAgfVxuICAgIGNvbnN0IGdhcyA9IGtleUNvZGUubWFwKChrYykgPT4ge1xuICAgICAgY29uc3QgZ2EgPSBuZXcgR2FtZUFjdGlvbigpO1xuICAgICAgaWYoaW5pdGlhbFByZXNzT25seSl7XG4gICAgICAgIGdhLmJlaGF2aW9yID0gZ2EuZGV0ZWN0SW5pdGlhbFByZXNzT25seTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWFwVG9LZXkoZ2EsIGtjKTtcbiAgICAgIHJldHVybiBnYTtcbiAgICB9KTtcbiAgICBcbiAgICBpZihnYXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIGdhcztcbiAgICB9XG5cbiAgICByZXR1cm4gZ2FzWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYXJyb3cga2V5IEdhbWVBY3Rpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKi9cbiAgYWRkQXJyb3dLZXlBY3Rpb25zKCl7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5VUCk7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5ET1dOKTtcbiAgICB0aGlzLmFkZEtleUFjdGlvbihrZXlzLkxFRlQpO1xuICAgIHRoaXMuYWRkS2V5QWN0aW9uKGtleXMuUklHSFQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNldXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlVXAoZSkge1xuICAgIHRoaXMubW91c2V1cChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdXNldXAoZSl7XG4gICAgdGhpcy5tb3VzZUFjdGlvbi5yZWxlYXNlKHRoaXMubm9ybWFsaXplUG9pbnQoZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgbW91c2VEb3duKGUpe1xuICAgIHRoaXMubW91c2Vkb3duKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3VzZWRvd24oZSl7XG4gICAgLy8gRW5zdXJlIG1vdXNlIGhhcyBiZWVuIHJlbGVhc2VkXG4gICAgdGhpcy5tb3VzZUFjdGlvbi5yZWxlYXNlKG51bGwpO1xuICAgIHZhciBjdXJyZW50UG9pbnQgPSB0aGlzLm5vcm1hbGl6ZVBvaW50KGUpO1xuICAgIHRoaXMubW91c2VBY3Rpb24uaW5zaWRlQ2FudmFzID0gdGhpcy5pbnNpZGVDYW52YXMoY3VycmVudFBvaW50KTtcbiAgICB0aGlzLm1vdXNlQWN0aW9uLnByZXNzKGN1cnJlbnRQb2ludCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlTW92ZShlKXtcbiAgICB0aGlzLm1vdXNlbW92ZShlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW91c2Vtb3ZlKGUpe1xuICAgIHRoaXMubW91c2VBY3Rpb24ucG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZVBvaW50KGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoc3RhcnQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIHRvdWNoU3RhcnQoZSl7XG4gICAgdGhpcy50b3VjaHN0YXJ0KGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoc3RhcnQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgdG91Y2hzdGFydChlKXtcbiAgICAvLyBFbnN1cmUgdG91Y2ggaGFzIGJlZW4gcmVsZWFzZWRcbiAgICB0aGlzLnRvdWNoQWN0aW9uLnJlbGVhc2UobnVsbCk7XG4gICAgY29uc29sZS5sb2coZS50b3VjaGVzLCBlKTtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLmluc2lkZUNhbnZhcyA9IGN1cnJlbnRQb2ludHMuc29tZSh0aGlzLmluc2lkZUNhbnZhcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbi5wcmVzcyhjdXJyZW50UG9pbnRzKTtcbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlZG93bihlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaGVuZCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hFbmQoZSl7XG4gICAgdGhpcy50b3VjaGVuZChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaGVuZCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaGVuZChlKXtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLnJlbGVhc2UoY3VycmVudFBvaW50cyk7XG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuICAgICAgdGhpcy5tb3VzZVVwKGUudG91Y2hlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNobW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hNb3ZlKGUpe1xuICAgIHRoaXMudG91Y2htb3ZlKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNobW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaG1vdmUoZSl7XG4gICAgLy9Ub3VjaExpc3QgZG9lc24ndCBpbXBsZW1lbnQgLm1hcCgpXG4gICAgY29uc3QgY3VycmVudFBvaW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50UG9pbnRzLnB1c2godGhpcy5ub3JtYWxpemVQb2ludChlLnRvdWNoZXNbaV0pKTtcbiAgICB9XG4gICAgdGhpcy50b3VjaEFjdGlvbi5wb3NpdGlvbnMgPSBjdXJyZW50UG9pbnRzO1xuICAgIGlmKHRoaXMudG91Y2hBY3Rpb24uc3RhcnRQb3NpdGlvbnMpe1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlbW92ZShlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIEdhbWVBY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXlDb2RlIG9uIHRoZSBldmVudCBvYmplY3RcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtHYW1lQWN0aW9ufG51bGx9IFRoZSBHYW1lQWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5Q29kZSBlbHNlIG51bGxcbiAgICovXG4gIGdldEtleUFjdGlvbihlKSB7XG4gICAgaWYgKHRoaXMua2V5QWN0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMua2V5QWN0aW9uc1tlLmtleUNvZGVdIHx8IHRoaXMua2V5QWN0aW9uc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5cHJlc3MgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2Uga2V5ZG93biBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBrZXlQcmVzc2VkKGUpIHtcbiAgICB0aGlzLmtleWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5ZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAga2V5RG93bihlKXtcbiAgICB0aGlzLmtleWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5ZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBrZXlkb3duKGUpIHtcbiAgICB2YXIgZ2FtZUFjdGlvbiA9IHRoaXMuZ2V0S2V5QWN0aW9uKGUpO1xuICAgIGlmIChnYW1lQWN0aW9uICYmICFnYW1lQWN0aW9uLmlzUHJlc3NlZCgpKSB7XG4gICAgICBnYW1lQWN0aW9uLnByZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGtleXVwIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIGtleVJlbGVhc2VkKGUpe1xuICAgIHRoaXMua2V5dXAoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5dXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAga2V5dXAoZSkge1xuICAgIHZhciBnYW1lQWN0aW9uID0gdGhpcy5nZXRLZXlBY3Rpb24oZSk7XG4gICAgaWYgKGdhbWVBY3Rpb24pIHtcbiAgICAgIGdhbWVBY3Rpb24ucmVsZWFzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGdldCBhIG5vcm1hbGl6ZWQgcG9pbnQgb3V0IG9mIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGV2dCBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7UG9pbnR9IE5vcm1hbGl6ZWQgcG9pbnRcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBub3JtYWxpemVQb2ludCBmdW5jdGlvbiAoU2FtZSBmdW5jdGlvbmFsaXR5LCBkaWZmZXJlbnQgbmFtZSlcbiAgICovXG4gIGdldE1vdXNlTG9jKGV2dCl7XG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplUG9pbnQoZXZ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGdldCBhIG5vcm1hbGl6ZWQgcG9pbnQgb3V0IG9mIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGV2dCBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7UG9pbnR9IE5vcm1hbGl6ZWQgcG9pbnRcbiAgICovXG4gIG5vcm1hbGl6ZVBvaW50KGV2dCl7XG4gICAgaWYoZXZ0KXtcbiAgICAgIHZhciBjb29yZHNNID0gcG9zaXRpb24odGhpcy5jYW52YXMpO1xuICAgICAgaWYodGhpcy56b29tUmF0aW8pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQoKGV2dC5jbGllbnRYIC0gY29vcmRzTS54KSAvIHRoaXMuem9vbVJhdGlvKSxcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKChldnQuY2xpZW50WSAtIGNvb3Jkc00ueSkgLyB0aGlzLnpvb21SYXRpbylcbiAgICAgICAgfTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQoZXZ0LmNsaWVudFggLSBjb29yZHNNLngpLFxuICAgICAgICAgIHk6IE1hdGgucm91bmQoZXZ0LmNsaWVudFkgLSBjb29yZHNNLnkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVzaXplIHRoZSBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqL1xuICByZXNpemUoKXtcbiAgICBpZih0aGlzLmdhbWVBcmVhICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSAmJiB0aGlzLmNhbnZhcyl7XG4gICAgICB2YXIgY2FudmFzV2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgIHZhciBjYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgIHZhciBib2R5TWFyZ2lucyA9IGdldE1hcmdpbkV4dGVudHMoZG9jdW1lbnQuYm9keSk7XG5cbiAgICAgIHZhciBuZXdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gYm9keU1hcmdpbnMudztcbiAgICAgIHZhciBuZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBib2R5TWFyZ2lucy5oO1xuXG4gICAgICB2YXIgd2lkdGhUb0hlaWdodCA9IGNhbnZhc1dpZHRoIC8gY2FudmFzSGVpZ2h0O1xuICAgICAgdmFyIG5ld1dpZHRoVG9IZWlnaHQgPSBuZXdXaWR0aCAvIG5ld0hlaWdodDtcblxuICAgICAgdmFyIG5ld1dpZHRoU3R5bGUgPSAnJztcbiAgICAgIHZhciBuZXdIZWlnaHRTdHlsZSA9ICcnO1xuICAgICAgaWYgKG5ld1dpZHRoVG9IZWlnaHQgPiB3aWR0aFRvSGVpZ2h0KSB7XG4gICAgICAgIG5ld1dpZHRoID0gbmV3SGVpZ2h0ICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgbmV3V2lkdGhTdHlsZSA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgbmV3SGVpZ2h0U3R5bGUgPSBuZXdIZWlnaHQgKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3V2lkdGhTdHlsZSA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgbmV3SGVpZ2h0U3R5bGUgPSBNYXRoLnJvdW5kKG5ld1dpZHRoIC8gd2lkdGhUb0hlaWdodCkgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvb21SYXRpbyA9IG5ld1dpZHRoIC8gY2FudmFzV2lkdGggKiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2U7XG5cbiAgICAgIHRoaXMuZ2FtZUFyZWEuc3R5bGUud2lkdGggPSBuZXdXaWR0aFN0eWxlO1xuICAgICAgdGhpcy5nYW1lQXJlYS5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHRTdHlsZTtcblxuICAgICAgdmFyIGNhbnZhc1BlcmNlbnRhZ2VTdHlsZSA9IE1hdGguZmxvb3IodGhpcy5jYW52YXNQZXJjZW50YWdlICogMTAwKSArICclJztcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzUGVyY2VudGFnZVN0eWxlO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzUGVyY2VudGFnZVN0eWxlO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5tYXJnaW5MZWZ0ID0gJ2F1dG8nO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUubWFyZ2luUmlnaHQgPSAnYXV0byc7XG4gICAgfVxuICB9XG5cbiAgcHVzaENsZWFudXAoYSwgYil7XG4gICAgLy8gY29uc29sZS5sb2coJ3B1c2hDbGVhbnVwJywgYSwgYik7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IElucHV0TWFuYWdlcjtcbiIsIi8qKlxuICogQSBHYW1lQWN0aW9uIHRoYXQgaGFuZGxlcyBUb3VjaCBldmVudHNcbiAqIEBuYW1lIFRvdWNoQWN0aW9uXG4gKiBAY29uc3RydWN0b3IgVG91Y2hBY3Rpb25cbiAqIEBleHRlbmRzIHtHYW1lQWN0aW9ufVxuICovXG5cbmNvbnN0IEdhbWVBY3Rpb24gPSByZXF1aXJlKCcuL0dhbWVBY3Rpb24nKTtcblxuY2xhc3MgVG91Y2hBY3Rpb24gZXh0ZW5kcyBHYW1lQWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaHN0YXJ0IGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcG9zaXRpb25zIHdoZXJlIHRvdWNoZW5kIGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW5kUG9zaXRpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaG1vdmUgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2V0aGVyIGFueSBvZiB0aGUgdG91Y2ggYWN0aW9ucyBvcmlnaW5hdGVkIGluc2lkZSB0aGUgY2FudmFzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgdG91Y2ggd2FzIGluaXRpYXRlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICogQHBhcmFtIHtBcnJheX0gc3RhcnRQb3NpdGlvbnMgQXJyYXkgb2YgcG9pbnRzIHdoZXJlIHRvdWNoIHdhcyBwcmVzc2VkXG4gICAqL1xuICBwcmVzcyhzdGFydFBvc2l0aW9ucyl7XG4gICAgdGhpcy5zdGFydFBvc2l0aW9ucyA9IHN0YXJ0UG9zaXRpb25zO1xuICAgIHRoaXMucG9zaXRpb25zID0gc3RhcnRQb3NpdGlvbnM7XG4gICAgc3VwZXIucHJlc3Moc3RhcnRQb3NpdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgdG91Y2ggd2FzIHJlbGVhc2VkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAqIEBwYXJhbSB7QXJyYXl9IGVuZFBvc2l0aW9ucyBBcnJheSBvZiBwb2ludHMgd2hlcmUgdG91Y2ggd2FzIHJlbGVhc2VkXG4gICAqL1xuICByZWxlYXNlKGVuZFBvc2l0aW9ucyl7XG4gICAgdGhpcy5lbmRQb3NpdGlvbnMgPSBlbmRQb3NpdGlvbnM7XG4gICAgc3VwZXIucmVsZWFzZShlbmRQb3NpdGlvbnMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hBY3Rpb247XG4iLCIvKipcbiAqIEEgR2FtZUFjdGlvbiB0aGF0IGhhbmRsZXMgTW91c2UgZXZlbnRzXG4gKiBAbmFtZSBNb3VzZUFjdGlvblxuICogQGNvbnN0cnVjdG9yIE1vdXNlQWN0aW9uXG4gKiBAZXh0ZW5kcyB7R2FtZUFjdGlvbn1cbiAqL1xuXG5jb25zdCBHYW1lQWN0aW9uID0gcmVxdWlyZSgnLi9HYW1lQWN0aW9uJyk7XG5cbmNsYXNzIE1vdXNlQWN0aW9uIGV4dGVuZHMgR2FtZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZWRvd24gaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zdGFydFBvc2l0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIHdoZXJlIG1vdXNldXAgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbmRQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZW1vdmUgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXZXRoZXIgdGhlIG1vdXNlIGFjdGlvbiBvcmlnaW5hdGVkIGluc2lkZSB0aGUgY2FudmFzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgbW91c2Ugd2FzIHByZXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHByZXNzKHN0YXJ0UG9zaXRpb24pe1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgdGhpcy5wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgc3VwZXIucHJlc3Moc3RhcnRQb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBtb3VzZSB3YXMgcmVsZWFzZWRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICogQHBhcmFtICB7UG9pbnR9IGVuZFBvc2l0aW9uIFRoZSBwb2ludCB3aGVyZSBtb3VzZSB3YXMgcmVsZWFzZWRcbiAgICovXG4gIHJlbGVhc2UoZW5kUG9zaXRpb24pe1xuICAgIHRoaXMuZW5kUG9zaXRpb24gPSBlbmRQb3NpdGlvbiB8fCB0aGlzLnBvc2l0aW9uO1xuICAgIHN1cGVyLnJlbGVhc2UoZW5kUG9zaXRpb24pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW91c2VBY3Rpb247XG4iLCJmdW5jdGlvbiBpbnNpZGVDYW52YXMocHQsIGNhbnZhcyl7XG4gIGlmKChwdC54IDwgMCkgfHwgKHB0LnggPiAgY2FudmFzLndpZHRoKSB8fCAocHQueSA8IDApIHx8IChwdC55ID4gY2FudmFzLmhlaWdodCkpe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2lkZUNhbnZhcztcbiIsIi8qKlxuICogVGhlIFJlc291cmNlTWFuYWdlciBoYW5kbGVzIGxvYWRpbmcgaW1hZ2VzIGFuZCBzb3VuZHMgZm9yIHVzZSBpbiBnYW1lcy5cbiAqIEBuYW1lIFJlc291cmNlTWFuYWdlclxuICogQGNvbnN0cnVjdG9yIFJlc291cmNlTWFuYWdlclxuICovXG5cbiAndXNlIHN0cmljdCc7XG5cbmNvbnN0IGhhcyA9IHJlcXVpcmUoJy4vaGFzJyk7XG5jb25zdCBTb3VuZCA9IHJlcXVpcmUoJy4vc291bmRzL1NvdW5kJyk7XG5jb25zdCBXZWJBdWRpbyA9IHJlcXVpcmUoJy4vc291bmRzL1dlYkF1ZGlvJyk7XG5cbnZhciByZXNvdXJjZUxpc3QgPSB7fTtcblxuLy9UT0RPOiBtb3ZlIHRoZXNlIHRvIGl0cyBvd24gbW9kdWxlIGZvciB1bml0IHRlc3Rpbmc/XG5mdW5jdGlvbiBub3JtYWxpemVQYXRoKGJhc2VEaXIsIHBhdGgpe1xuICB2YXIgam9pbmVkUGF0aCA9IHBhdGg7XG4gIGlmKGJhc2VEaXIpe1xuICAgIGpvaW5lZFBhdGggPSBbYmFzZURpciwgcGF0aF0uam9pbignLycpO1xuICB9XG4gIHJldHVybiBqb2luZWRQYXRoLnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKTtcbn1cblxuZnVuY3Rpb24gZmxpcFgoaW1hZ2Upe1xuICB2YXIgb2Zmc2NyZWVuQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gIG9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICB2YXIgY3R4ID0gb2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgY3R4LnRyYW5zbGF0ZShvZmZzY3JlZW5DYW52YXMud2lkdGgsIDApO1xuICBjdHguc2NhbGUoLTEsIDEpO1xuICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgcmV0dXJuIG9mZnNjcmVlbkNhbnZhcy50b0RhdGFVUkwoKTtcbn1cblxuZnVuY3Rpb24gZmxpcFkoaW1hZ2Upe1xuICB2YXIgb2Zmc2NyZWVuQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIG9mZnNjcmVlbkNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gIG9mZnNjcmVlbkNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICB2YXIgY3R4ID0gb2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgY3R4LnRyYW5zbGF0ZSgwLCBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0KTtcbiAgY3R4LnNjYWxlKDEsIC0xKTtcbiAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gIHJldHVybiBvZmZzY3JlZW5DYW52YXMudG9EYXRhVVJMKCk7XG59XG5cbmNsYXNzIEltYWdlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKGZpbGVuYW1lKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5uYW1lID0gZmlsZW5hbWU7XG4gICAgc2VsZi5jb21wbGV0ZSA9IGZhbHNlO1xuICAgIHNlbGYuaW1nID0gbmV3IEltYWdlKCk7XG4gICAgc2VsZi5pbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5jb21wbGV0ZSA9IHRydWU7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgbG9hZCgpe1xuICAgIHRoaXMuaW1nLnNyYyA9IHRoaXMubmFtZTtcbiAgfVxufVxuXG5cbmNsYXNzIFJlc291cmNlTWFuYWdlciB7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgYWxsIHRoZSByZXNvdXJjZXMgaGF2ZSBiZWVuIGxvYWRlZFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgZGlyZWN0b3J5IHRvIGxvYWQgaW1hZ2VzIGZyb21cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltYWdlRGlyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGRpcmVjdG9yeSB0byBsb2FkIHNvdW5kcyBmcm9tXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zb3VuZERpciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBhbGwgdGhlIHJlc291cmNlcyBieSB0aGVpciBVUkxzXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5yZXNvdXJjZUxpc3QgPSByZXNvdXJjZUxpc3Q7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgLy8gVE9ETyBub3Qgc3VyZSBhIGJldHRlciB3YXlcbiAgICBpZighdGhpcy5Tb3VuZCl7XG4gICAgICBpZihoYXMoJ1dlYkF1ZGlvJykpe1xuICAgICAgICB0aGlzLlNvdW5kID0gV2ViQXVkaW87XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICB0aGlzLlNvdW5kID0gU291bmQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGFuIGltYWdlIChvciBhIGNvbGxlY3Rpb24gb2YgaW1hZ2VzKSwgYW5kIHRyYWNrcyBpZiBpdCBoYXMgZmluaXNoZWQgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGZpbGVzIEZpbGVuYW1lIG9mIHRoZSBpbWFnZSByZWxhdGl2ZSB0aGUgR2FtZSdzIEhUTUwgcGFnZS5cbiAgICogQHJldHVybnMge0ltYWdlfEFycmF5fSBSZXR1cm4gdHlwZSBiYXNlZCBvbiBhcmd1bWVudDogSW1hZ2UgaWYgU3RyaW5nIG9yIEFycmF5IG9mIEltYWdlcyBpZiBBcnJheVxuICAgKi9cbiAgbG9hZEltYWdlKGZpbGVzKXtcbiAgICBsZXQgc2luZ2xlRmlsZSA9IGZhbHNlO1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgc2luZ2xlRmlsZSA9IHRydWU7XG4gICAgICBmaWxlcyA9IFtmaWxlc107XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZUxpc3QgPSBmaWxlcy5tYXAoKGZpbGUpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gbm9ybWFsaXplUGF0aCh0aGlzLmltYWdlRGlyLCBmaWxlKTtcbiAgICAgIC8vaWYgd2UgYWxyZWFkeSBoYXZlIHRoZSBpbWFnZSwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmKHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSl7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0uaW1nO1xuICAgICAgfVxuICAgICAgdGhpcy5hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgY29uc3Qgd3JhcHBlciA9IG5ldyBJbWFnZVdyYXBwZXIoZmlsZW5hbWUpO1xuICAgICAgLy8gTmVlZCB0byBleHBsaWNpdGx5IGNhbGwgbG9hZCBiZWNhdXNlIGZsaXBJbWFnZSBhbHNvIHVzZXMgdGhpcyBvYmplY3RcbiAgICAgIC8vIHdoaWNoIGlzIHByb2JhYmx5IGEgYmFkIGlkZWEgYW5kIHNob3VsZCBjaGFuZ2UgaW4gZnV0dXJlXG4gICAgICAvLyBUT0RPOiBkaWZmZXJlbnQgb2JqZWN0cyBmb3IgZmxpcHBlZCBpbWFnZSBhbmQgcmVndWxhciBpbWFnZVxuICAgICAgd3JhcHBlci5sb2FkKCk7XG4gICAgICB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0gPSB3cmFwcGVyO1xuICAgICAgcmV0dXJuIHdyYXBwZXIuaW1nO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNpbmdsZUZpbGUgPyBmaWxlTGlzdFswXSA6IGZpbGVMaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGEgc291bmQgZmlsZSAob3IgYSBjb2xsZWN0aW9uIG9mIHNvdW5kIGZpbGVzKSwgYW5kIHRyYWNrcyBpZiBpdCBoYXMgZmluaXNoZWQgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGZpbGVuYW1lIEZpbGVuYW1lIG9mIHRoZSBzb3VuZCByZWxhdGl2ZSB0aGUgR2FtZSdzIEhUTUwgcGFnZS5cbiAgICogQHJldHVybnMge1NvdW5kfEFycmF5fSBSZXR1cm4gdHlwZSBiYXNlZCBvbiBhcmd1bWVudDogU291bmQgT2JqZWN0IGlmIFN0cmluZyBvciBBcnJheSBvZiBTb3VuZCBPYmplY3RzIGlmIEFycmF5XG4gICAqL1xuICBsb2FkU291bmQoZmlsZXMpe1xuICAgIGxldCBzaW5nbGVGaWxlID0gZmFsc2U7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoZmlsZXMpKSB7XG4gICAgICBzaW5nbGVGaWxlID0gdHJ1ZTtcbiAgICAgIGZpbGVzID0gW2ZpbGVzXTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlTGlzdCA9IGZpbGVzLm1hcCgoZmlsZSkgPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBub3JtYWxpemVQYXRoKHRoaXMuc291bmREaXIsIGZpbGUpO1xuICAgICAgLy9pZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHNvdW5kLCBqdXN0IHJldHVybiBpdFxuICAgICAgaWYodGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHNvdW5kID0gbmV3IHRoaXMuU291bmQoZmlsZW5hbWUpO1xuICAgICAgdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdID0gc291bmQ7XG4gICAgICByZXR1cm4gc291bmQ7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2luZ2xlRmlsZSA/IGZpbGVMaXN0WzBdIDogZmlsZUxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogRmxpcHMgYW4gaW1hZ2UgdXNpbmcgdGhlIGxvZ2ljIGluIGEgZmxpcCBmdW5jdGlvbiBwYXNzZWQgYW5kIGF0dGFjaGVzIHRvIHJlc291cmNlIG1hbmFnZXIgd2l0aCBuYW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBuYW1lIE5hbWUgZm9yIGNhY2hpbmcgZmxpcHBlZCBpbWFnZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1hZ2UgSW1hZ2UgdG8gYmUgZmxpcHBlZFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZmxpcEZuIEZ1bmN0aW9uIGNvbnRhaW5pbmcgbG9naWMgdG8gZmxpcCBpbWFnZVxuICAgKiBAcmV0dXJuIHtJbWFnZX0gRmxpcHBlZCBpbWFnZVxuICAgKi9cbiAgZmxpcEltYWdlKG5hbWUsIGltYWdlLCBmbGlwRm4pe1xuICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICBjb25zdCB3cmFwcGVyID0gbmV3IEltYWdlV3JhcHBlcihuYW1lKTtcbiAgICB0aGlzLnJlc291cmNlTGlzdFtuYW1lXSA9IHdyYXBwZXI7XG4gICAgY29uc3QgaW1nMiA9IG5ldyBJbWFnZSgpO1xuICAgIGZ1bmN0aW9uIGRvRmxpcCgpIHtcbiAgICAgIHdyYXBwZXIuaW1nLnNyYyA9IGZsaXBGbihpbWcyKTtcbiAgICAgIGltZzIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvRmxpcCk7XG4gICAgfVxuICAgIGltZzIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvRmxpcCk7XG4gICAgaW1nMi5zcmMgPSBpbWFnZS5zcmM7XG5cbiAgICByZXR1cm4gd3JhcHBlci5pbWc7XG4gIH1cblxuICAvKipcbiAgICogRmxpcCBpbWFnZSBhbG9uZyB4LWF4aXMgdXNpbmcgZGVmYXVsdCBmbGlwIGxvZ2ljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSBuYW1lIE5hbWUgZm9yIGNhY2hpbmcgZmxpcHBlZCBpbWFnZVxuICAgKiBAcGFyYW0gIHtJbWFnZX0gaW1hZ2UgSW1hZ2UgdG8gYmUgZmxpcHBlZFxuICAgKiBAcmV0dXJuIHtJbWFnZX0gRmxpcHBlZCBpbWFnZVxuICAgKi9cbiAgZmxpcEltYWdlWChuYW1lLCBpbWFnZSl7XG4gICAgcmV0dXJuIHRoaXMuZmxpcEltYWdlKG5hbWUsIGltYWdlLCBmbGlwWCk7XG4gIH1cblxuICAvKipcbiAgICogRmxpcCBpbWFnZSBhbG9uZyB0aGUgeS1heGlzIHVzaW5nIGRlZmF1bHQgZmxpcCBsb2dpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbmFtZSBOYW1lIGZvciBjYWNoaW5nIGZsaXBwZWQgaW1hZ2VcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltYWdlIEltYWdlIHRvIGJlIGZsaXBwZWRcbiAgICogQHJldHVybiB7SW1hZ2V9IEZsaXBwZWQgaW1hZ2VcbiAgICovXG4gIGZsaXBJbWFnZVkobmFtZSwgaW1hZ2Upe1xuICAgIHJldHVybiB0aGlzLmZsaXBJbWFnZShuYW1lLCBpbWFnZSwgZmxpcFkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSByZXNvdXJjZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKi9cbiAgcmVzb3VyY2VzUmVhZHkoKXtcbiAgICBpZih0aGlzLmFsbExvYWRlZCl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yKHZhciBmaWxlbmFtZSBpbiB0aGlzLnJlc291cmNlTGlzdCl7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXTtcbiAgICAgICAgaWYoIXJlc291cmNlLmNvbXBsZXRlKXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsTG9hZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwZXJjZW50IG9mIHJlc291cmNlcyBsb2FkZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBwZXJjZW50IG9mIHJlc291cmNlcyBsb2FkZWRcbiAgICovXG4gIGdldFBlcmNlbnRDb21wbGV0ZSgpe1xuICAgIHZhciBudW1Db21wbGV0ZSA9IDAuMDtcbiAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICBmb3IodmFyIGZpbGVuYW1lIGluIHRoaXMucmVzb3VyY2VMaXN0KXtcbiAgICAgIHZhciByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXTtcbiAgICAgIGxlbmd0aCsrO1xuICAgICAgaWYocmVzb3VyY2UuY29tcGxldGUpe1xuICAgICAgICBudW1Db21wbGV0ZSA9IG51bUNvbXBsZXRlICsgMS4wO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihsZW5ndGggPT09IDApe1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKChudW1Db21wbGV0ZSAvIGxlbmd0aCkgKiAxMDAuMCk7XG4gICAgfVxuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZXNvdXJjZU1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGhhY2t5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiBoYXNcblxuY29uc3QgZ2xvYmFsQXVkaW9Db250ZXh0ID0gcmVxdWlyZSgnLi9zaGltcy9BdWRpb0NvbnRleHQnKTtcblxuXG5mdW5jdGlvbiBoYXMoY2hlY2spe1xuXG4gIGlmKGNoZWNrID09ICdzaGl0dHlTb3VuZCcpe1xuICAgIHJldHVybiAhISgoaGFzKCdhbmRyb2lkJykgfHwgaGFzKCdpb3MnKSkgJiYgaGFzKCd3ZWJraXQnKSk7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnYW5kcm9pZCcpe1xuICAgIHJldHVybiAocGFyc2VGbG9hdChuYXZpZ2F0b3IudXNlckFnZW50LnNwbGl0KFwiQW5kcm9pZCBcIilbMV0pIHx8IHVuZGVmaW5lZCk7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnaW9zJyl7XG4gICAgLy9UT0RPIG5lZWQgc29tZXRoaW5nIGZvciB0aGlzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ3dlYmtpdCcpe1xuICAgIHJldHVybiAocGFyc2VGbG9hdChuYXZpZ2F0b3IudXNlckFnZW50LnNwbGl0KFwiV2ViS2l0L1wiKVsxXSkgfHwgdW5kZWZpbmVkKTtcbiAgfVxuICBlbHNlIGlmKGNoZWNrID09ICdXZWJBdWRpbycpe1xuICAgIHJldHVybiAhIWdsb2JhbC5BdWRpb0NvbnRleHQ7XG4gIH1cbiAgZWxzZSBpZiAoY2hlY2sgPT09ICd0b3VjaCcpIHtcbiAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhcztcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qKlxuICogQW4gQXVkaW8gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBhIGdlbmVyaWMgQVBJXG4gKiBAbmFtZSBTb3VuZFxuICogQGNvbnN0cnVjdG9yIFNvdW5kXG4gKi9cblxuXG4vKipcbiAqIE1hcCBvZiBhdWRpbyB0eXBlcyBhbmQgY29kZWNzIHVzZWQgaW4gZmFsbGJhY2sgbG9hZGluZyBvZiBzb3VuZHMgPGJyPlxuICogUmVmZXJlbmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0hUTUwvU3VwcG9ydGVkX21lZGlhX2Zvcm1hdHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyT2YgU291bmQjXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL21wZWcnICcubXAzJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby93ZWJtJyAnLndlYm0nXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL29nZycgJy5vZ2cnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL3dhdicgJy53YXYnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL2FhYycgJy5hYWMnXG4gKiBAcHJvcGVydHkge1N0cmluZ30gJ2F1ZGlvL3gtbTRhJyAnLm00YSdcbiAqIEBleGFtcGxlXG4gKiAvLyBUbyBvdmVycmlkZSB0aGUgZGVmYXVsdCBmb3JtYXRzOlxuICogLy8gRG8gdGhpcyBiZWZvcmUgbG9hZGluZyBhbnkgc291bmRzXG4gKiByZXF1aXJlKFtcbiAqICAgJ2Zyb3plbi9zb3VuZHMvU291bmQnXG4gKiBdLCBmdW5jdGlvbihTb3VuZCl7XG4gKiAgIFNvdW5kLnByb3RvdHlwZS5mb3JtYXRzID0ge1xuICogICAgICdhdWRpby9tcGVnJzogJy5tcDMnLFxuICogICAgICdhdWRpby93ZWJtJzogJy53ZWJtJ1xuICogICB9O1xuICogfSk7XG4gKi9cbmNvbnN0IGZvcm1hdHMgPSB7XG4gICdhdWRpby9tcGVnJzogJy5tcDMnLFxuICAnYXVkaW8vd2VibSc6ICcud2VibScsXG4gICdhdWRpby9vZ2cnOiAnLm9nZycsXG4gICdhdWRpby93YXYnOiAnLndhdicsXG4gICdhdWRpby9hYWMnOiAnLmFhYycsXG4gICdhdWRpby94LW00YSc6ICcubTRhJ1xufTtcblxuXG5cbmNsYXNzIFNvdW5kIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBBdWRpbyBvYmplY3QgLSB0eXBpY2FsbHkgdGhlIGZpbGVuYW1lXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2lnbmFscyBpZiB0aGUgQXVkaW8gb2JqZWN0IGhhcyBjb21wbGV0ZWQgbG9hZGluZ1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGV4dGVuc2lvbnMgdGhlIGJyb3dzZXIgXCJwcm9iYWJseVwiIGNhbiBwbGF5XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucHJvYmFibHkgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGV4dGVuc2lvbnMgdGhlIGJyb3dzZXIgXCJtYXliZVwiIGNhbiBwbGF5XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubWF5YmUgPSBbXTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmZvcm1hdHMgPSBmb3JtYXRzO1xuXG4gICAgaWYodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKXtcbiAgICAgIHRoaXMubG9hZChvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgc291bmQgYnkgZmlsZW5hbWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBmaWxlbmFtZSBUaGUgZmlsZW5hbWUgb2YgdGhlIGZpbGUgdG8gbG9hZFxuICAgKi9cbiAgbG9hZChmaWxlbmFtZSl7XG4gICAgdGhpcy5uYW1lID0gZmlsZW5hbWU7XG4gICAgdGhpcy5jb21wbGV0ZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogTG9vcCB0aGUgc291bmQgYXQgYSBjZXJ0YWluIHZvbHVtZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSBWYWx1ZSBvZiB2b2x1bWUgLSBiZXR3ZWVuIDAgYW5kIDFcbiAgICovXG4gIGxvb3Aodm9sdW1lKXt9XG5cbiAgLyoqXG4gICAqIFBsYXkgdGhlIHNvdW5kIGF0IGEgY2VydGFpbiB2b2x1bWUgYW5kIHN0YXJ0IHRpbWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgICAgVmFsdWUgb2Ygdm9sdW1lIC0gYmV0d2VlbiAwIGFuZCAxXG4gICAqIEBwYXJhbSAge051bWJlcn0gc3RhcnRUaW1lIFZhbHVlIG9mIG1pbGxpc2Vjb25kcyBpbnRvIHRoZSB0cmFjayB0byBzdGFydFxuICAgKi9cbiAgcGxheSh2b2x1bWUsIHN0YXJ0VGltZSl7fVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdXNlZCB0byBjb25zdHJ1Y3QgQXVkaW8gb2JqZWN0cyBpbnRlcm5hbGx5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSAge051bWJlcn0gdm9sdW1lIFZhbHVlIG9mIHZvbHVtZSAtIGJldHdlZW4gMCBhbmQgMVxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBsb29wIFdoZXRoZXIgb3Igbm90IHRvIGxvb3AgYXVkaW9cbiAgICogQHJldHVybiB7QXVkaW99IEF1ZGlvIG9iamVjdCB0aGF0IHdhcyBjb25zdHJ1Y3RlZFxuICAgKi9cbiAgX2luaXRBdWRpbyh2b2x1bWUsIGxvb3Ape31cblxuICAvKipcbiAgICogTWV0aG9kIHVzZWQgdG8gZ2VuZXJhdGUgYSBjYWNoZSBvZiBleHRlbnNpb25zIChwcm9iYWJseS9tYXliZSBhcnJheXMpIHRvIHRyeSBsb2FkaW5nXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1N0cmluZ30gRmlyc3QgZXh0ZW5zaW9uIHRvIHRyeSBsb2FkaW5nXG4gICAqL1xuICBfY2hvb3NlRm9ybWF0KCl7XG4gICAgaWYoIXRoaXMucHJvYmFibHkubGVuZ3RoICYmICF0aGlzLm1heWJlLmxlbmd0aCl7XG4gICAgICAvLyBGaWd1cmUgb3V0IHRoZSBiZXN0IGV4dGVuc2lvbiBpZiB3ZSBoYXZlIG5vIGNhY2hlXG4gICAgICB2YXIgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgIHZhciBjb2RlYztcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBmb3IoY29kZWMgaW4gdGhpcy5mb3JtYXRzKXtcbiAgICAgICAgcmVzdWx0ID0gYXVkaW8uY2FuUGxheVR5cGUoY29kZWMpO1xuICAgICAgICBpZihyZXN1bHQgPT09ICdwcm9iYWJseScpe1xuICAgICAgICAgIHRoaXMucHJvYmFibHkucHVzaCh0aGlzLmZvcm1hdHNbY29kZWNdKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHJlc3VsdCA9PT0gJ21heWJlJyl7XG4gICAgICAgICAgdGhpcy5tYXliZS5wdXNoKHRoaXMuZm9ybWF0c1tjb2RlY10pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9iYWJseS5sZW5ndGgpe1xuICAgICAgcmV0dXJuIHRoaXMucHJvYmFibHlbMF07XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXliZS5sZW5ndGgpe1xuICAgICAgcmV0dXJuIHRoaXMubWF5YmVbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIHRvIHJlbW92ZSBhIGV4dGVuc2lvbiB0aGF0IGRpZG4ndCB3b3JrIGFuZCByZXR1cm4gdGhlIG5leHQgdmlhYmxlIGV4dGVuc2lvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IE5leHQgZXh0ZW5zaW9uIHRvIHRyeSBsb2FkaW5nXG4gICAqL1xuICBfbmV4dEZvcm1hdCgpe1xuICAgIGlmKHRoaXMucHJvYmFibHkubGVuZ3RoID4gMSl7XG4gICAgICB0aGlzLnByb2JhYmx5LnNoaWZ0KCk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9iYWJseVswXTtcbiAgICB9XG5cbiAgICBpZih0aGlzLnByb2JhYmx5Lmxlbmd0aCA9PT0gMSl7XG4gICAgICB0aGlzLnByb2JhYmx5Lmxlbmd0aCA9IDA7XG4gICAgICBpZih0aGlzLm1heWJlLmxlbmd0aCl7XG4gICAgICAgIHJldHVybiB0aGlzLm1heWJlWzBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMubWF5YmUubGVuZ3RoID4gMSl7XG4gICAgICB0aGlzLm1heWJlLnNoaWZ0KCk7XG4gICAgICByZXR1cm4gdGhpcy5tYXliZVswXTtcbiAgICB9XG5cbiAgICBpZih0aGlzLm1heWJlLmxlbmd0aCA9PT0gMSl7XG4gICAgICB0aGlzLm1heWJlLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTb3VuZDtcbiIsIi8qKlxuICogQW4gQXVkaW8gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBXZWJBdWRpbyBpbnRvIGEgZ2VuZXJpYyBBUElcbiAqIEBuYW1lIFdlYkF1ZGlvXG4gKiBAY29uc3RydWN0b3IgV2ViQXVkaW9cbiAqIEBleHRlbmRzIFNvdW5kXG4gKi9cblxuY29uc3QgU291bmQgPSByZXF1aXJlKCcuL1NvdW5kJyk7XG5jb25zdCByZW1vdmVFeHRlbnNpb24gPSByZXF1aXJlKCcuLi91dGlscy9yZW1vdmVFeHRlbnNpb24nKTtcbmNvbnN0IGhhcyA9IHJlcXVpcmUoJy4uL2hhcycpO1xuXG52YXIgYXVkaW9Db250ZXh0ID0gbnVsbDtcblxuXG5pZihoYXMoJ1dlYkF1ZGlvJykpe1xuICBhdWRpb0NvbnRleHQgPSBuZXcgd2luZG93LkF1ZGlvQ29udGV4dCgpO1xufVxuXG5pZihoYXMoJ3NoaXR0eVNvdW5kJykpe1xuICAvLyBTaW1pbGFyIHN0cmF0ZWd5IHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9DcmVhdGVKUy9Tb3VuZEpTXG4gIGZ1bmN0aW9uIGhhbmRsZVNoaXR0eSgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgc291cmNlLmJ1ZmZlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuICAgIHNvdXJjZS5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgc291cmNlLnN0YXJ0KDApO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVTaGl0dHkpO1xuICB9XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVTaGl0dHkpO1xufVxuXG5jbGFzcyBXZWJBdWRpbyBleHRlbmRzIFNvdW5kIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBXZWJBdWRpbyBBdWRpb0NvbnRleHQgLSB1c2VkIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBhIHNvdW5kXG4gICAgICogQHR5cGUge0F1ZGlvQ29udGV4dH1cbiAgICAgKiBAbWVtYmVyT2YgV2ViQXVkaW8jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IGF1ZGlvQ29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb3VuZCBidWZmZXJcbiAgICAgKiBAdHlwZSB7QnVmZmVyfVxuICAgICAqIEBtZW1iZXJPZiBXZWJBdWRpbyNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICBsb2FkKGZpbGVuYW1lKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLm5hbWUgPSBmaWxlbmFtZTtcblxuICAgIHZhciBiYXNlbmFtZSA9IHJlbW92ZUV4dGVuc2lvbihmaWxlbmFtZSk7XG4gICAgaWYoYmFzZW5hbWUgPT09IGZpbGVuYW1lKXtcbiAgICAgIGZpbGVuYW1lID0gYmFzZW5hbWUgKyB0aGlzLl9jaG9vc2VGb3JtYXQoKTtcbiAgICB9XG4gICAgLy8gZmlsZW5hbWUgPSByZXEudG9VcmwoZmlsZW5hbWUpO1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlQXVkaW9EYXRhKGUpe1xuICAgICAgLy8gRGVjb2RlIGFzeW5jaHJvbm91c2x5XG4gICAgICBzZWxmLmF1ZGlvQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoZS50YXJnZXQucmVzcG9uc2UsXG4gICAgICAgIGZ1bmN0aW9uKGJ1ZmZlcil7XG4gICAgICAgICAgc2VsZi5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgICAgc2VsZi5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgdmFyIGZvcm1hdCA9IHNlbGYuX25leHRGb3JtYXQoKTtcbiAgICAgICAgICBpZihmb3JtYXQpe1xuICAgICAgICAgICAgc2VsZi5sb2FkKHNlbGYubmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYnJvd3NlciBoYXMgQXVkaW9Db250ZXh0LCBpdCdzIG5ldyBlbm91Z2ggZm9yIFhNTEh0dHBSZXF1ZXN0XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIGZpbGVuYW1lLCB0cnVlKTtcbiAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICByZXF1ZXN0Lm9ubG9hZCA9IGRlY29kZUF1ZGlvRGF0YTtcbiAgICByZXF1ZXN0LnNlbmQoKTtcbiAgfVxuXG4gIGxvb3Aodm9sdW1lKXtcbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBhIGJ1ZmZlciB0byBwcm90ZWN0IGZyb20gdW5sb2FkZWQgcmVzb3VyY2VzXG4gICAgaWYoIXRoaXMuYnVmZmVyKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXVkaW8gPSB0aGlzLl9pbml0QXVkaW8odm9sdW1lLCB0cnVlKTtcbiAgICBhdWRpby5zdGFydCgwKTtcbiAgfVxuXG4gIHBsYXkodm9sdW1lLCBzdGFydFRpbWUpe1xuICAgIC8vIFJldHVybiBlYXJseSBpZiB3ZSBkb24ndCBoYXZlIGEgYnVmZmVyIHRvIHByb3RlY3QgZnJvbSB1bmxvYWRlZCByZXNvdXJjZXNcbiAgICBpZighdGhpcy5idWZmZXIpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0YXJ0VGltZSA9IHN0YXJ0VGltZSB8fCAwO1xuXG4gICAgdmFyIGF1ZGlvID0gdGhpcy5faW5pdEF1ZGlvKHZvbHVtZSwgZmFsc2UpO1xuICAgIGF1ZGlvLnN0YXJ0KHN0YXJ0VGltZSk7XG4gIH1cblxuICBfaW5pdEF1ZGlvKHZvbHVtZSwgbG9vcCl7XG4gICAgbG9vcCA9IHR5cGVvZiBsb29wID09PSAnYm9vbGVhbicgPyBsb29wIDogZmFsc2U7XG5cbiAgICB2YXIgc291cmNlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgc291cmNlLmJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgIHNvdXJjZS5sb29wID0gbG9vcDtcbiAgICBpZih2b2x1bWUpe1xuICAgICAgdmFyIGdhaW5Ob2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IHZvbHVtZTtcbiAgICAgIHNvdXJjZS5jb25uZWN0KGdhaW5Ob2RlKTtcbiAgICAgIGdhaW5Ob2RlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2UuY29ubmVjdCh0aGlzLmF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBXZWJBdWRpbztcbiIsIi8qKlxuICogUmVwcmVzZW50cyBhIHNlcmllcyBvZiBmcmFtZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYXMgYW4gYW5pbWF0aW9uLlxuICogQG5hbWUgQW5pbWF0aW9uXG4gKiBAY29uc3RydWN0b3IgQW5pbWF0aW9uXG4gKi9cblxuY29uc3QgQW5pbUZyYW1lID0gcmVxdWlyZSgnLi9BbmltRnJhbWUnKTtcblxuXG5jbGFzcyBBbmltYXRpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGZyYW1lIGJlaW5nIHVzZWQgdG8gcmVuZGVyIHRoaXMgQW5pbWF0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jdXJyRnJhbWVJbmRleCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgdGhpcyBhbmltYXRpb24gaGFzIGJlZW4gcnVubmluZ1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYW5pbVRpbWUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZm9yIGEgY29tcGxldGUgY3ljbGVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnRvdGFsRHVyYXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDY0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSA2NDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSB0byByZW5kZXJcbiAgICAgKiBAdHlwZSB7SW1hZ2V9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgb2YgcGl4ZWxzIGluIHRoZSB4IHNsb3QgZnJvbSB0aGUgc291cmNlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5vZmZzZXRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIG9mIHBpeGVscyBpbiB0aGUgeSBzbG90IGZyb20gdGhlIHNvdXJjZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0WSA9IDA7XG5cbiAgICB0aGlzLmZyYW1lcyA9IHVuZGVmaW5lZDtcblxuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuc3RhcnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGNyZWF0ZSBhbiBhbmltYXRpb24gZnJvbSBhIHNoZWV0IG9mIHRpbGVzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyYW1lQ291bnQgTnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgYW5pbWF0aW9uXG4gICAqIEBwYXJhbSAge051bWJlcnxBcnJheX0gZnJhbWVUaW1lcyBWYWx1ZSBvciBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBhbW91bnQgb2YgdGltZSBwZXIgZnJhbWVcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltZyBJbWFnZSBzaGVldCB0byBjcmVhdGUgYW5pbWF0aW9uIGZyb21cbiAgICogQHBhcmFtICB7TnVtYmVyfSB3IFdpZHRoIG9mIGVhY2ggdGlsZSBpbiBwaXhlbHNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBoIEhlaWdodCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0geVNsb3QgU2xvdCBvbiBZIGF4aXMgdG8gc3RhcnQgY3JlYXRpbmcgdGlsZXNcbiAgICogQHJldHVybiB7QW5pbWF0aW9ufSBBbmltYXRpb24gZ2VuZXJhdGVkIHVzaW5nIHBhcmFtZXRlcnNcbiAgICovXG4gIGNyZWF0ZUZyb21TaGVldChmcmFtZUNvdW50LCBmcmFtZVRpbWVzLCBpbWcsIHcsIGgsIHlTbG90KXtcbiAgICB2YXIgYW5pbSA9IG5ldyBBbmltYXRpb24oe1xuICAgICAgaW1hZ2U6IGltZyxcbiAgICAgIGhlaWdodDogaCxcbiAgICAgIHdpZHRoOiB3XG4gICAgfSk7XG5cbiAgICB2YXIgaXNGVEFycmF5ID0gQXJyYXkuaXNBcnJheShmcmFtZVRpbWVzKTtcblxuICAgIHZhciBjdXJyZW50RnJhbWVUaW1lID0gMTtcbiAgICBpZigheVNsb3Qpe1xuICAgICAgeVNsb3QgPSAwO1xuICAgIH1cbiAgICBmb3IodmFyIGogPSAwOyBqIDwgZnJhbWVDb3VudDsgaisrKXtcbiAgICAgIGlmKGlzRlRBcnJheSl7XG4gICAgICAgIGN1cnJlbnRGcmFtZVRpbWUgPSBmcmFtZVRpbWVzW2pdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXM7XG4gICAgICB9XG4gICAgICBhbmltLmFkZEZyYW1lKGN1cnJlbnRGcmFtZVRpbWUsIGosIHlTbG90KTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZSBvZiB0aGlzIGFuaW1hdGlvbi4gVGhlIGxpc3Qgb2YgZnJhbWVzXG4gICAqIGFyZSBzaGFyZWQgYmV0d2VlbiB0aGUgdHdvIEFuaW1hdGlvbnMsIGJ1dCBlYWNoIEFuaW1hdGlvblxuICAgKiBjYW4gYmUgYW5pbWF0ZWQgaW5kZXBlbmRlbnRseS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqL1xuICBjbG9uZSgpe1xuICAgIHJldHVybiBuZXcgQW5pbWF0aW9uKHtcbiAgICAgIGltYWdlOiB0aGlzLmltYWdlLFxuICAgICAgZnJhbWVzOiB0aGlzLmZyYW1lcyxcbiAgICAgIHRvdGFsRHVyYXRpb246IHRoaXMudG90YWxEdXJhdGlvblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gaW1hZ2UgdG8gdGhlIGFuaW1hdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gKHRpbWUgdG8gZGlzcGxheSB0aGUgaW1hZ2UpLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGR1cmF0aW9uIER1cmF0aW9uIG9mIHRoZSBmcmFtZVxuICAgKiBAcGFyYW0ge051bWJlcn0gaW1hZ2VTbG90WCBTbG90IG9uIHRoZSBYIGF4aXMgZm9yIHRoZSBmcmFtZVxuICAgKiBAcGFyYW0ge051bWJlcn0gaW1hZ2VTbG90WSBTbG90IG9uIHRoZSBZIGF4aXMgZm9yIHRoZSBmcmFtZVxuICAgKi9cbiAgYWRkRnJhbWUoZHVyYXRpb24sIGltYWdlU2xvdFgsIGltYWdlU2xvdFkpe1xuICAgIGlmKCF0aGlzLmZyYW1lcyl7XG4gICAgICB0aGlzLmZyYW1lcyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLnRvdGFsRHVyYXRpb24gKz0gZHVyYXRpb247XG4gICAgdGhpcy5mcmFtZXMucHVzaChuZXcgQW5pbUZyYW1lKHtcbiAgICAgIGVuZFRpbWU6IHRoaXMudG90YWxEdXJhdGlvbixcbiAgICAgIGltYWdlOiB0aGlzLmltYWdlLFxuICAgICAgaW1nU2xvdFg6IGltYWdlU2xvdFgsXG4gICAgICBpbWdTbG90WTogaW1hZ2VTbG90WVxuICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhpcyBhbmltYXRpb24gb3ZlciBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKi9cbiAgc3RhcnQoKXtcbiAgICB0aGlzLmFuaW1UaW1lID0gMDtcbiAgICB0aGlzLmN1cnJGcmFtZUluZGV4ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgYW5pbWF0aW9uJ3MgY3VycmVudCBpbWFnZSAoZnJhbWUpLCBpZiBuZWNjZXNhcnkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlKGVsYXBzZWRUaW1lKXtcbiAgICBpZiAodGhpcy5mcmFtZXMubGVuZ3RoID4gMSkge1xuICAgICAgdGhpcy5hbmltVGltZSArPSBlbGFwc2VkVGltZTtcblxuICAgICAgaWYgKHRoaXMuYW5pbVRpbWUgPj0gdGhpcy50b3RhbER1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuYW5pbVRpbWUgPSB0aGlzLmFuaW1UaW1lICUgdGhpcy50b3RhbER1cmF0aW9uO1xuICAgICAgICB0aGlzLmN1cnJGcmFtZUluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRoaXMuYW5pbVRpbWUgPiB0aGlzLmZyYW1lc1t0aGlzLmN1cnJGcmFtZUluZGV4XS5lbmRUaW1lKSB7XG4gICAgICAgIHRoaXMuY3VyckZyYW1lSW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGlzIEFuaW1hdGlvbidzIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLiBSZXR1cm5zIG51bGwgaWYgdGhpcyBhbmltYXRpb24gaGFzIG5vIGZyYW1lcy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEByZXR1cm4ge0FuaW1hdGlvbkZyYW1lfG51bGx9IFRoZSBhbmltYXRpb24gZnJhbWUgYXQgdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXggb3IgbnVsbCBpZiBubyBmcmFtZXMgYXJlIGF2YWlsYWJsZVxuICAgKi9cbiAgZ2V0Q3VycmVudEZyYW1lKCl7XG4gICAgaWYgKHRoaXMuZnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmZyYW1lc1t0aGlzLmN1cnJGcmFtZUluZGV4XTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIGN1cnJlbnQgZnJhbWUgaW50byBhIDJkIGNvbnRleHQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgVGhlIEhUTUw1IGRyYXdpbmcgY2FudmFzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgaW4gdGhlIGdyYXBoaWNzIGNvbnRleHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZSBpbiB0aGUgZ3JhcGhpY3MgY29udGV4dFxuICAgKi9cbiAgZHJhdyhjb250ZXh0LCB4LCB5KXtcbiAgICB2YXIgY2YgPSB0aGlzLmdldEN1cnJlbnRGcmFtZSgpO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIGNmLmltZ1Nsb3RYICogdGhpcy53aWR0aCArIHRoaXMub2Zmc2V0WCwgY2YuaW1nU2xvdFkgKiB0aGlzLmhlaWdodCArIHRoaXMub2Zmc2V0WSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHgsIHksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFuaW1hdGlvbjtcbiIsIi8qKlxuICogUmVwcmVzZW50cyBhIGEgc2luZ2xlIGZyYW1lIGluIGFuIGFuaW1hdGlvbi5cbiAqIEBuYW1lIEFuaW1hdGlvbkZyYW1lXG4gKiBAY29uc3RydWN0b3IgQW5pbWF0aW9uRnJhbWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtaXhpbiBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIG1peGluXG4gKi9cblxuY2xhc3MgQW5pbUZyYW1lIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbmRpbmcgdGltZSBpbiBtaWxsaXNlY29uZHMgb2YgdGhpcyBmcmFtZSByZWxhdGl2ZSB0byBpdHMgQW5pbWF0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVuZFRpbWUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIGdyb3VwIG9mIGZyYW1lcyBjb250YWluZWQgaW4gYSBzaW5nbGUgaW1hZ2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb25GcmFtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1nU2xvdFggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBncm91cCBvZiBmcmFtZXMgY29udGFpbmVkIGluIGEgc2luZ2xlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltZ1Nsb3RZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSB0byByZW5kZXJcbiAgICAgKiBAdHlwZSB7SW1hZ2V9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWFnZSA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltRnJhbWU7XG4iLCJjb25zdCByYWRDb25zdCA9IE1hdGguUEkgLyAxODAuMDtcblxuZnVuY3Rpb24gZGVncmVlc1RvUmFkaWFucyhkZWdyZWVzKXtcbiAgcmV0dXJuIGRlZ3JlZXMgKiByYWRDb25zdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWdyZWVzVG9SYWRpYW5zO1xuIiwiXG5jb25zdCBkZWdDb25zdCA9IDE4MC4wIC8gTWF0aC5QSTtcblxuZnVuY3Rpb24gcmFkaWFuc1RvRGVncmVlcyhyYWRpYW5zKXtcbiAgcmV0dXJuIHJhZGlhbnMgKiBkZWdDb25zdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByYWRpYW5zVG9EZWdyZWVzO1xuIiwiZnVuY3Rpb24gZGlzdGFuY2UocDEsIHAyKXtcbiAgcmV0dXJuIE1hdGguc3FydCggKChwMi54IC0gcDEueCkgKiAocDIueCAtIHAxLngpKSArICgocDIueSAtIHAxLnkpICogKHAyLnkgLSBwMS55KSkgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkaXN0YW5jZTtcbiIsIi8qKlxuICogVGhlIFNwcml0ZSBjbGFzcyByZXByZXNlbnRzIGEgc2ltcGxlIGFuaW1hdGVkIGNoYXJhY3RlciBmb3IgYSBnYW1lXG4gKiBAbmFtZSBTcHJpdGVcbiAqIEBjb25zdHJ1Y3RvciBTcHJpdGVcbiAqL1xuXG5jbGFzcyBTcHJpdGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIHggcG9zaXRpb24gb2YgdGhlIHNwcml0ZSBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnggPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgc3ByaXRlIGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMueSA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHkgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmR4ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eSBpbiBwaXhlbHMgcGVyIHNlY29uZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZHkgPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHNwZWVkIGEgc3ByaXRlIGNhbiBtb3ZlIGluIGVpdGhlciBkaXJlY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1heFNwZWVkID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhpcyBTcHJpdGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIHNwcml0ZSBpbiBwaXhlbHMgZm9yIHNpbXBsZSBjb2xsaXNpb24gZGV0ZWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25SYWRpdXMgPSA0MDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGlzIFNwcml0ZSdzIEFuaW1hdGlvbiBhbmQgaXRzIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSB2ZWxvY2l0eS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBUaGUgZWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgcHJldmlvdXMgdXBkYXRlXG4gICAqL1xuICB1cGRhdGUoZWxhcHNlZFRpbWUpe1xuICAgIHRoaXMueCArPSB0aGlzLmR4ICogZWxhcHNlZFRpbWU7XG4gICAgdGhpcy55ICs9IHRoaXMuZHkgKiBlbGFwc2VkVGltZTtcbiAgICB0aGlzLmFuaW0udXBkYXRlKGVsYXBzZWRUaW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXhTcGVlZCB1cCB0byB0aGUgc3BlZWQgbGltaXRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2IFNwZWVkIGxpbWl0XG4gICAqIEByZXR1cm4ge051bWJlcn0gbWF4U3BlZWQgdXAgdG8gc3BlZWQgbGltaXRcbiAgICovXG4gIGxpbWl0U3BlZWQodil7XG4gICAgaWYodGhpcy5tYXhTcGVlZCl7XG4gICAgICBpZihNYXRoLmFicyh2KSA+IHRoaXMubWF4U3BlZWQpe1xuICAgICAgICBpZih2ID4gMCl7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWF4U3BlZWQ7XG4gICAgICAgIH1lbHNlIGlmKHYgPCAwKXtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXhTcGVlZDtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuICAwO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gdjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGlzIFNwcml0ZSdzIGN1cnJlbnQgYW5pbWF0aW9uIGZyYW1lLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHJldHVybiB7QW5pbWF0aW9uRnJhbWV9IFRoZSBjdXJyZW50IGZyYW1lIG9mIHRoZSBBbmltYXRpb25cbiAgICovXG4gIGdldEN1cnJlbnRGcmFtZSgpe1xuICAgIGlmKHRoaXMuYW5pbSl7XG4gICAgICByZXR1cm4gdGhpcy5hbmltLmdldEN1cnJlbnRGcmFtZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgc3ByaXRlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGNvbnRleHQgVGhlIEhUTUw1IGRyYXdpbmcgY29udGV4dFxuICAgKi9cbiAgZHJhdyhjb250ZXh0KXtcbiAgICBpZih0aGlzLmFuaW0pe1xuICAgICAgdGhpcy5hbmltLmRyYXcoY29udGV4dCwgdGhpcy54LCB0aGlzLnkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIGluc3RhbmNlIG9mIFNwcml0ZSBpdCBpcyBjYWxsZWQgdXBvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHJldHVybiB7U3ByaXRlfSBBIGNsb25lIG9mIHRoZSBTcHJpdGVcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgU3ByaXRlKHtcbiAgICAgIGFuaW06IHRoaXMuYW5pbS5jbG9uZSgpXG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTcHJpdGU7XG5cbiIsIi8qKlxuICogVGhpcyB3cmFwcyB0aGUgYm94MmQgd29ybGQgdGhhdCBjb250YWlucyBib2RpZXMsIHNoYXBlcywgYW5kIHBlcmZvcm1zIHRoZSBwaHlzaWNzIGNhbGN1bGF0aW9ucy5cbiAqIEBuYW1lIEJveFxuICogQGNvbnN0cnVjdG9yIEJveFxuICovXG5cbmNvbnN0IENvbnRhY3QgPSByZXF1aXJlKCcuL2xpc3RlbmVycy9Db250YWN0Jyk7XG5cblxuY29uc29sZS5sb2coQm94MkQsICdCb3gyRCcsIGdsb2JhbCwgd2luZG93KTtcblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJCb2R5RGVmID0gQm94MkQuRHluYW1pY3MuYjJCb2R5RGVmO1xuY29uc3QgQjJCb2R5ID0gQm94MkQuRHluYW1pY3MuYjJCb2R5O1xuY29uc3QgQjJGaXh0dXJlRGVmID0gQm94MkQuRHluYW1pY3MuYjJGaXh0dXJlRGVmO1xuY29uc3QgQjJGaXh0dXJlID0gQm94MkQuRHluYW1pY3MuYjJGaXh0dXJlO1xuY29uc3QgQjJXb3JsZCA9IEJveDJELkR5bmFtaWNzLmIyV29ybGQ7XG5jb25zdCBCMlBvbHlnb25TaGFwZSA9IEJveDJELkNvbGxpc2lvbi5TaGFwZXMuYjJQb2x5Z29uU2hhcGU7XG5jb25zdCBCMkNpcmNsZVNoYXBlID0gQm94MkQuQ29sbGlzaW9uLlNoYXBlcy5iMkNpcmNsZVNoYXBlO1xuXG5jbGFzcyBCb3gge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBjeWNsZXMgcGVyIHNlY29uZCBleHBlY3RlZCBpbiB1cGRhdGUgY2FsY3VhdGlvbnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmludGVydmFsUmF0ZSA9IDYwO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gdHJ5IHRvIGNvbXBlbnNhdGUgY2FsY3VsYXRpb25zIGJhc2VkIG9uIHBlcmZvcm1hbmNlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYWRhcHRpdmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRoZSBib2RpZXMgaW4gdGhlIGJveDJkIHdvcmxkIHJlZmVyZW5jZWQgYnkgdGhlaXIgZ2l2ZW4gdXNlckRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZGllc01hcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0aGUgZml4dHVyZXMgaW4gdGhlIGJveDJkIHdvcmxkIHJlZmVyZW5jZWQgYnkgdGhlaXIgZ2l2ZW4gdXNlckRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmZpeHR1cmVzTWFwID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRoZSBqb2ludHMgaW4gdGhlIGJveDJkIHdvcmxkIHJlZmVyZW5jZWQgYnkgdGhlaXIgZ2l2ZW4gdXNlckRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmpvaW50c01hcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5zdGFuY2Ugb2YgdGhlIEJveDJELkR5bmFtaWNzLmIyV29ybGQgd29ybGQgY2xhc3MgdGhhdCB0aGUgYm9kaWVzLCBmaXh0dXJlcywgYW5kIGpvaW50cyBhcmUgdXNlZCBpbi5cbiAgICAgKiBAdHlwZSB7QjJXb3JsZH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5iMldvcmxkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgYjJXb3JsZCdzIGdyYXZpdHkgaW4gbWV0ZXJzL3NlY29uZCBzcXVhcmVkXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ncmF2aXR5WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeSBjb21wb25lbnQgb2YgdGhlIGIyV29ybGQncyBncmF2aXR5IGluIG1ldGVycy9zZWNvbmQgc3F1YXJlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ3Jhdml0eVkgPSA5Ljg7XG5cbiAgICAvKipcbiAgICAgKiBBbGxvdyBib3gyZCB0byBza2lwIHBoeXNpY3MgY2FsY3VsYXRpb25zIG9uIGJvZGllcyBhdCByZXN0IGZvciBwZXJmb3JtYW5jZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFsbG93U2xlZXAgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBhZGQgYSBsaXN0ZW5lciB0byBjb2xsaXNpb24gZXZlbnRzLiBEZWZhdWx0IGJlaGF2aW9yIGFkZHMgY29sbGlzaW9uIGRhdGEgdG8gZW50aXRpZXMgb24gdXBkYXRlIGN5Y2xlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmVzb2x2ZUNvbGxpc2lvbnMgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEEgY29udGFjdCBsaXN0ZW5lciBmb3IgY2FsbGJhY2tzIG9uIGNvbGxpc2lvbiBldmVudHMuIERlZmF1bHQgaXMgdGhpcyBib3ggaXRzZWxmLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29udGFjdExpc3RlbmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBjb2xsaXNpb25zLiBJbnN0YW50aWF0ZWQgaW4gdXBkYXRlIGlmIHJlc29sdmVDb2xsaXNpb25zIGlzIHRydWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbGxpc2lvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCByZXByZXNudCBvbmUgbWV0ZXIgaW4gdGhlIGJveDJkIHdvcmxkLiAoMzAgcGl4ZWxzIH4gMSBtZXRlciBpbiBib3gyZClcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlID0gMzA7XG5cbiAgICB0aGlzLmJvZGllc01hcCA9IHt9O1xuICAgIHRoaXMuZml4dHVyZXNNYXAgPSB7fTtcbiAgICB0aGlzLmpvaW50c01hcCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmIyV29ybGQgPSBuZXcgQjJXb3JsZChuZXcgQjJWZWMyKHRoaXMuZ3Jhdml0eVgsIHRoaXMuZ3Jhdml0eVkpLCB0aGlzLmFsbG93U2xlZXApO1xuXG4gICAgaWYodGhpcy5pbnRlcnZhbFJhdGUpe1xuICAgICAgdGhpcy5pbnRlcnZhbFJhdGUgPSBwYXJzZUludCh0aGlzLmludGVydmFsUmF0ZSwgMTApO1xuICAgIH1cblxuXG4gICAgaWYodGhpcy5yZXNvbHZlQ29sbGlzaW9ucyl7XG4gICAgICB0aGlzLmNvbnRhY3RMaXN0ZW5lciA9IG5ldyBDb250YWN0KCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5jb250YWN0TGlzdGVuZXIpe1xuICAgICAgdGhpcy5hZGRDb250YWN0TGlzdGVuZXIodGhpcy5jb250YWN0TGlzdGVuZXIpO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYm94MmQgcGh5c2ljcyBjYWxjdWxhdGlvbnNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWlsbGlzIFRoZSBtaWxsaXNlY29uZHMgdXNlZCB0byBkZXRlcm1pbmUgZnJhbWVyYXRlIGZvciBib3gyZCBzdGVwXG4gICAqIEByZXR1cm4ge051bWJlcn0gVGhlIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgdGhlIHVwZGF0ZSB0b29rXG4gICAqL1xuICB1cGRhdGUobWlsbGlzKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ3VwZGF0ZSBtaWxsaXMnLCBtaWxsaXMpO1xuXG4gICAgaWYodGhpcy5jb250YWN0TGlzdGVuZXIgJiYgdGhpcy5jb250YWN0TGlzdGVuZXIucmVzZXQpe1xuICAgICAgdGhpcy5jb250YWN0TGlzdGVuZXIucmVzZXQoKTtcbiAgICB9XG5cbiAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIGlmKG1pbGxpcyl7XG4gICAgICB0aGlzLmIyV29ybGQuU3RlcChtaWxsaXMgLyAxMDAwIC8qIGZyYW1lLXJhdGUgKi8sIDEwIC8qIHZlbG9jaXR5IGl0ZXJhdGlvbnMgKi8sIDEwIC8qcG9zaXRpb24gaXRlcmF0aW9ucyovKTtcbiAgICAgIHRoaXMuYjJXb3JsZC5DbGVhckZvcmNlcygpO1xuICAgIH1lbHNle1xuICAgICAgdmFyIHN0ZXBSYXRlID0gKHRoaXMuYWRhcHRpdmUpID8gKHN0YXJ0IC0gdGhpcy5sYXN0VGltZXN0YW1wKSAvIDEwMDAgOiAoMSAvIHRoaXMuaW50ZXJ2YWxSYXRlKTtcbiAgICAgIHRoaXMuYjJXb3JsZC5TdGVwKHN0ZXBSYXRlIC8qIGZyYW1lLXJhdGUgKi8sIDEwIC8qIHZlbG9jaXR5IGl0ZXJhdGlvbnMgKi8sIDEwIC8qcG9zaXRpb24gaXRlcmF0aW9ucyovKTtcbiAgICAgIHRoaXMuYjJXb3JsZC5DbGVhckZvcmNlcygpO1xuICAgIH1cblxuICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIHN0YXJ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBvYmplY3RzIGluIHRoZSBib3gyZCB3b3JsZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlIG9mIHRoZSBib3gyZCB3b3JsZFxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgdmFyIHN0YXRlID0ge307XG4gICAgICBmb3IgKHZhciBiID0gdGhpcy5iMldvcmxkLkdldEJvZHlMaXN0KCk7IGI7IGIgPSBiLm1fbmV4dCkge1xuICAgICAgICBpZiAoYi5Jc0FjdGl2ZSgpICYmIHR5cGVvZiBiLkdldFVzZXJEYXRhKCkgIT09ICd1bmRlZmluZWQnICYmIGIuR2V0VXNlckRhdGEoKSAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlW2IuR2V0VXNlckRhdGEoKV0gPSB7XG4gICAgICAgICAgICB4OiBiLkdldFBvc2l0aW9uKCkueCxcbiAgICAgICAgICAgIHk6IGIuR2V0UG9zaXRpb24oKS55LFxuICAgICAgICAgICAgYW5nbGU6IGIuR2V0QW5nbGUoKSxcbiAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICB4OiBiLkdldFdvcmxkQ2VudGVyKCkueCxcbiAgICAgICAgICAgICAgeTogYi5HZXRXb3JsZENlbnRlcigpLnlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lYXJWZWxvY2l0eTogYi5tX2xpbmVhclZlbG9jaXR5LFxuICAgICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiBiLm1fYW5ndWxhclZlbG9jaXR5XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZih0aGlzLmNvbnRhY3RMaXN0ZW5lciAmJiB0aGlzLmNvbnRhY3RMaXN0ZW5lci5jb2xsaXNpb25zKXtcbiAgICAgICAgICAgIHN0YXRlW2IuR2V0VXNlckRhdGEoKV0uY29sbGlzaW9ucyA9IHRoaXMuY29udGFjdExpc3RlbmVyLmNvbGxpc2lvbnNbYi5HZXRVc2VyRGF0YSgpXSB8fCBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHN0YXRlIGluIHRoZSBFbnRpdHkgb2JqZWN0cyB0aGF0IGFyZSBtb2RpZmllZCBieSBib3gyZCBjYWxjdWxhdGlvbnMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gZW50aXRpZXMgQW4gYXJyYXkgb3IgbWFwIG9mIEVudGl0eSBvYmplY3RzXG4gICAqL1xuICB1cGRhdGVFeHRlcm5hbFN0YXRlKGVudGl0aWVzKXtcbiAgICAvL3VwZGF0ZSB0aGUgZHlhbm1pYyBzaGFwZXMgd2l0aCBib3gyZCBjYWxjdWxhdGlvbnNcbiAgICB2YXIgYm9kaWVzU3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgZm9yICh2YXIgaWQgaW4gYm9kaWVzU3RhdGUpIHtcbiAgICAgIHZhciBlbnRpdHkgPSBlbnRpdGllc1tpZF07XG4gICAgICAvL3VwZGF0ZSBhbnkgZHluYW1pYyBib2RpZXNcbiAgICAgIGlmIChlbnRpdHkgJiYgIWVudGl0eS5zdGF0aWNCb2R5KXtcbiAgICAgICAgZW50aXR5LnVwZGF0ZShib2RpZXNTdGF0ZVtpZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBtYXAgb2YgZW50aXRpZXMgdG8gdGhlIEJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvZHlFbnRpdGllcyBNYXAgb2YgZW50aXRpZXNcbiAgICovXG4gIHNldEJvZGllcyhib2R5RW50aXRpZXMpIHtcbiAgICBmb3IodmFyIGlkIGluIGJvZHlFbnRpdGllcykge1xuICAgICAgdmFyIGVudGl0eSA9IGJvZHlFbnRpdGllc1tpZF07XG4gICAgICB0aGlzLmFkZEJvZHkoZW50aXR5KTtcbiAgICB9XG4gICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIEVudGl0eSB0byB0aGUgYm94MmQgd29ybGQgd2hpY2ggd2lsbCBpbnRlcm5hbGx5IGJlIGNvbnZlcnRlZCB0byBhIGJveDJkIGJvZHkgYW5kIGZpeHR1cmUgKGF1dG8gc2NhbGVkIHdpdGggQm94J3Mgc2NhbGUgcHJvcGVydHkgaWYgdGhlIGVudGl0eSBoYXNuJ3QgYmVlbiBzY2FsZWQgeWV0KVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBBbnkgRW50aXR5IG9iamVjdFxuICAgKi9cbiAgYWRkQm9keShlbnRpdHkpIHtcbiAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXG4gICAgaWYoIWVudGl0eS5hbHJlYWR5U2NhbGVkKXtcbiAgICAgIGVudGl0eS5zY2FsZVNoYXBlKDEgLyB0aGlzLnNjYWxlKTtcbiAgICAgIGVudGl0eS5zY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgfVxuXG4gICAgdmFyIGJvZHlEZWYgPSBuZXcgQjJCb2R5RGVmKCk7XG4gICAgdmFyIGZpeERlZiA9IG5ldyBCMkZpeHR1cmVEZWYoKTtcbiAgICB2YXIgaSxqLHBvaW50cyx2ZWMsdmVjcztcbiAgICBmaXhEZWYucmVzdGl0dXRpb24gPSBlbnRpdHkucmVzdGl0dXRpb247XG4gICAgZml4RGVmLmRlbnNpdHkgPSBlbnRpdHkuZGVuc2l0eTtcbiAgICBmaXhEZWYuZnJpY3Rpb24gPSBlbnRpdHkuZnJpY3Rpb247XG5cblxuICAgIC8vdGhlc2UgdGhyZWUgcHJvcHMgYXJlIGZvciBjdXN0b20gY29sbGlzaW9uIGZpbHRlcmluZ1xuICAgIGlmKGVudGl0eS5tYXNrQml0cyAhPSBudWxsKXtcbiAgICAgIGZpeERlZi5maWx0ZXIubWFza0JpdHMgPSBlbnRpdHkubWFza0JpdHM7XG4gICAgfVxuICAgIGlmKGVudGl0eS5jYXRlZ29yeUJpdHMgIT0gbnVsbCl7XG4gICAgICBmaXhEZWYuZmlsdGVyLmNhdGVnb3J5Qml0cyA9IGVudGl0eS5jYXRlZ29yeUJpdHM7XG4gICAgfVxuICAgIGlmKGVudGl0eS5ncm91cEluZGV4ICE9IG51bGwpe1xuICAgICAgZml4RGVmLmZpbHRlci5ncm91cEluZGV4ID0gZW50aXR5Lmdyb3VwSW5kZXg7XG4gICAgfVxuXG4gICAgaWYoZW50aXR5LnN0YXRpY0JvZHkpe1xuICAgICAgYm9keURlZi50eXBlID0gIEIyQm9keS5iMl9zdGF0aWNCb2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5RGVmLnR5cGUgPSBCMkJvZHkuYjJfZHluYW1pY0JvZHk7XG4gICAgfVxuXG4gICAgYm9keURlZi5wb3NpdGlvbi54ID0gZW50aXR5Lng7XG4gICAgYm9keURlZi5wb3NpdGlvbi55ID0gZW50aXR5Lnk7XG4gICAgYm9keURlZi51c2VyRGF0YSA9IGVudGl0eS5pZDtcbiAgICBib2R5RGVmLmFuZ2xlID0gZW50aXR5LmFuZ2xlO1xuICAgIGJvZHlEZWYubGluZWFyRGFtcGluZyA9IGVudGl0eS5saW5lYXJEYW1waW5nO1xuICAgIGJvZHlEZWYuYW5ndWxhckRhbXBpbmcgPSBlbnRpdHkuYW5ndWxhckRhbXBpbmc7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmIyV29ybGQuQ3JlYXRlQm9keShib2R5RGVmKTtcblxuXG4gICAgaWYgKGVudGl0eS5yYWRpdXMpIHsgLy9jaXJjbGVcbiAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMkNpcmNsZVNoYXBlKGVudGl0eS5yYWRpdXMpO1xuICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgfSBlbHNlIGlmIChlbnRpdHkucG9pbnRzKSB7IC8vcG9seWdvblxuICAgICAgcG9pbnRzID0gW107XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZW50aXR5LnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2ZWMgPSBuZXcgQjJWZWMyKCk7XG4gICAgICAgIHZlYy5TZXQoZW50aXR5LnBvaW50c1tpXS54LCBlbnRpdHkucG9pbnRzW2ldLnkpO1xuICAgICAgICBwb2ludHNbaV0gPSB2ZWM7XG4gICAgICB9XG4gICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJQb2x5Z29uU2hhcGUoKTtcbiAgICAgIGZpeERlZi5zaGFwZS5TZXRBc0FycmF5KHBvaW50cywgcG9pbnRzLmxlbmd0aCk7XG4gICAgICBib2R5LkNyZWF0ZUZpeHR1cmUoZml4RGVmKTtcbiAgICB9IGVsc2UgaWYoZW50aXR5LnBvbHlzKSB7IC8vY29tcGxleCBvYmplY3RcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGVudGl0eS5wb2x5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcG9pbnRzID0gZW50aXR5LnBvbHlzW2pdO1xuICAgICAgICAgICAgdmVjcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlYyA9IG5ldyBCMlZlYzIoKTtcbiAgICAgICAgICAgICAgICB2ZWMuU2V0KHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICAgICAgdmVjc1tpXSA9IHZlYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMlBvbHlnb25TaGFwZSgpO1xuICAgICAgICAgICAgZml4RGVmLnNoYXBlLlNldEFzQXJyYXkodmVjcywgdmVjcy5sZW5ndGgpO1xuICAgICAgICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgeyAvL3JlY3RhbmdsZVxuICAgICAgZml4RGVmLnNoYXBlID0gbmV3IEIyUG9seWdvblNoYXBlKCk7XG4gICAgICBmaXhEZWYuc2hhcGUuU2V0QXNCb3goZW50aXR5LmhhbGZXaWR0aCwgZW50aXR5LmhhbGZIZWlnaHQpO1xuICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgfVxuXG5cbiAgICB0aGlzLmJvZGllc01hcFtlbnRpdHkuaWRdID0gYm9keTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHBvc2l0aW9uIG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSBuZXcgeCBjb29yZGluYXRlIGluIGJveDJkIHNwYWNlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSBuZXcgeSBjb29yZGluYXRlIGluIGJveDJkIHNwYWNlXG4gICAqL1xuICBzZXRQb3NpdGlvbihib2R5SWQsIHgsIHkpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldFBvc2l0aW9uKG5ldyBCMlZlYzIoeCwgeSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5nbGUgb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIFRoZSBuZXcgYW5nbGUgb2YgdGhlIGJvZHkgaW4gcmFkaWFuc1xuICAgKi9cbiAgc2V0QW5nbGUoYm9keUlkLCBhbmdsZSl7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGNvbnNvbGUubG9nKCdzZXQgYW5nbGUnLCBib2R5LnNldEFuZ2xlLCBib2R5KTtcbiAgICBib2R5LnNldEFuZ2xlKGFuZ2xlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpbmVhciB2ZWxvY2l0eSBvZiBhbiBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgbmV3IHggY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eVxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgbmV3IHkgY29tcG9uZW50IG9mIHRoZSB2ZWxvY2l0eVxuICAgKi9cbiAgc2V0TGluZWFyVmVsb2NpdHkoYm9keUlkLCB4LCB5KXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRMaW5lYXJWZWxvY2l0eShuZXcgQjJWZWMyKHgsIHkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlbG9jaXR5IFRoZSBhbmd1bGFyIHZlbG9jaXR5IGZvciB0aGUgYm9keVxuICAgKi9cbiAgc2V0QW5ndWxhclZlbG9jaXR5KGJvZHlJZCwgdmVsb2NpdHkpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldEFuZ3VsYXJWZWxvY2l0eSh2ZWxvY2l0eSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYW4gaW1wdWxzZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gZGVncmVlc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBpbXB1bHNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIGltcHVsc2UgcG93ZXIuXG4gICAqL1xuICBhcHBseUltcHVsc2VEZWdyZWVzKGJvZHlJZCwgZGVncmVlcywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUltcHVsc2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhIGZvcmNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlcyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGZvcmNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIHBvd2VyIG9mIHRoZSBmb3JjZS4gKFRoZSBhYmlsaXR5IHRvIGRlc3Ryb3kgYSBwbGFuZXQgaXMgaW5zaWduaWZpY2FudCBuZXh0IHRvIHRoaXMpXG4gICAqL1xuICBhcHBseUZvcmNlRGVncmVlcyhib2R5SWQsIGRlZ3JlZXMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlGb3JjZShcbiAgICAgIG5ldyBCMlZlYzIoTWF0aC5zaW4oZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKSkgKiBwb3dlcixcbiAgICAgIE1hdGguY29zKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIgKiAtMSksXG4gICAgICBib2R5LkdldFdvcmxkQ2VudGVyKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGFuIGltcHVsc2UgdG8gYSBib2R5IGF0IGFuIGFuZ2xlIGluIHJhZGlhbnNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIFRoZSBhbmdsZSBpbiB3aGljaCB0byBhcHBseSB0aGUgaW1wdWxzZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBpbXB1bHNlIHBvd2VyLlxuICAgKi9cbiAgYXBwbHlJbXB1bHNlKGJvZHlJZCwgcmFkaWFucywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUltcHVsc2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKHJhZGlhbnMpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhyYWRpYW5zKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhIGZvcmNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGZvcmNlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIHBvd2VyIG9mIHRoZSBmb3JjZS4gKFRoZSBhYmlsaXR5IHRvIGRlc3Ryb3kgYSBwbGFuZXQgaXMgaW5zaWduaWZpY2FudCBuZXh0IHRvIHRoaXMpXG4gICAqL1xuICBhcHBseUZvcmNlKGJvZHlJZCwgcmFkaWFucywgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseUZvcmNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihyYWRpYW5zKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MocmFkaWFucykgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmdsZSBvZiBhIGR5bmFtaWMgYm9keSBpbiByYWRpYW5zXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgdG8gc2V0IHRoZSBib2R5IHRvLlxuICAgKi9cbiAgc2V0QW5nbGUoYm9keUlkLCByYWRpYW5zKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0QW5nbGUocmFkaWFucyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmd1bGFyeSB2ZWxvY2l0eSBvZiBhIGR5bmFtaWMgYm9keVxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlbG9jaXR5IFRoZSB2ZWxvY2l0eSB0byBzZXQgdGhlIGJvZHkgdG8uXG4gICAqL1xuICBzZXRBbmdsdWxhclZlbG9jaXR5KGJvZHlJZCwgdmVsb2NpdHkpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRBbmd1bGFyVmVsb2NpdHkodmVsb2NpdHkpO1xuICB9XG5cblxuICAvKipcbiAgICogQXBwbHkgdG9ycXVlIChyb3RhdGlvbiBmb3JjZSkgdG8gYSBib2R5LlxuICAgKiBQb3NpdGl2ZSB2YWx1ZXMgYXJlIGNsb2Nrd2lzZSwgbmVnYXRpdmUgdmFsdWVzIGFyZSBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgcG93ZXIgb2YgdGhlIHRvcnF1ZS5cbiAgICovXG4gIGFwcGx5VG9ycXVlKGJvZHlJZCwgcG93ZXIpIHtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5BcHBseVRvcnF1ZShwb3dlcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgd29ybGQncyBncmF2aXR5XG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2ZWN0b3IgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMgaW4gbWV0ZXJzIHBlciBzZWNvbmQgc3F1YXJlZC5cbiAgICovXG4gIHNldEdyYXZpdHkodmVjdG9yKSB7XG4gICAgdGhpcy5iMldvcmxkLlNldEdyYXZpdHkobmV3IEIyVmVjMih2ZWN0b3IueCwgdmVjdG9yLnkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBib2R5IGZyb20gdGhlIGJveDJkIHdvcmxkXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKi9cbiAgcmVtb3ZlQm9keShpZCkge1xuICAgIGlmKHRoaXMuYm9kaWVzTWFwW2lkXSl7XG4gICAgICBpZih0aGlzLmZpeHR1cmVzTWFwW2lkXSl7XG4gICAgICAgIHRoaXMuYm9kaWVzTWFwW2lkXS5EZXN0cm95Rml4dHVyZSh0aGlzLmZpeHR1cmVzTWFwW2lkXSk7XG4gICAgICB9XG4gICAgICB0aGlzLmIyV29ybGQuRGVzdHJveUJvZHkodGhpcy5ib2RpZXNNYXBbaWRdKTtcbiAgICAgIC8vZGVsZXRlIHRoaXMuZml4dHVyZXNNYXBbaWRdO1xuICAgICAgZGVsZXRlIHRoaXMuYm9kaWVzTWFwW2lkXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2FrZSB1cCBhIGJvZHkgaW4gdGhlIGJveDJkIHdvcmxkIHNvIHRoYXQgYm94MmQgd2lsbCBjb250aW51ZSB0byBydW4gY2FsY3VsYXRpb25zIG9uIGl0LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICovXG4gIHdha2VVcEJvZHkoaWQpIHtcbiAgICBpZih0aGlzLmJvZGllc01hcFtpZF0pe1xuICAgICAgdGhpcy5ib2RpZXNNYXBbaWRdLlNldEF3YWtlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjb250YWN0TGlzdGVuZXIgdG8gdGhlIGIyV29ybGRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3MgT2JqZWN0IGNvbnRhaW5pbmcgYSBiZWdpbkNvbnRhbnQsIGVuZENvbnRhY3QgYW5kL29yIHByZVNvbHZlL3Bvc3RTb2x2ZSBrZXlzIGFuZCBjYWxsYmFja3NcbiAgICovXG4gIGFkZENvbnRhY3RMaXN0ZW5lcihjb250YWN0TGlzdGVuZXIpe1xuICAgIHZhciBsaXN0ZW5lciA9IG5ldyBCb3gyRC5EeW5hbWljcy5iMkNvbnRhY3RMaXN0ZW5lcigpO1xuICAgIGlmKGNvbnRhY3RMaXN0ZW5lci5iZWdpbkNvbnRhY3Qpe1xuICAgICAgbGlzdGVuZXIuQmVnaW5Db250YWN0ID0gZnVuY3Rpb24oY29udGFjdCl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5iZWdpbkNvbnRhY3QoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYoY29udGFjdExpc3RlbmVyLmVuZENvbnRhY3Qpe1xuICAgICAgbGlzdGVuZXIuRW5kQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3Qpe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIuZW5kQ29udGFjdChjb250YWN0Lm1fZml4dHVyZUEubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QubV9maXh0dXJlQi5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZihjb250YWN0TGlzdGVuZXIucHJlU29sdmUpe1xuICAgICAgbGlzdGVuZXIuUHJlU29sdmUgPSBmdW5jdGlvbihjb250YWN0LCBvbGRNYW5pZm9sZCl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5wcmVTb2x2ZShjb250YWN0Lm1fZml4dHVyZUEubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QubV9maXh0dXJlQi5tX2JvZHkubV91c2VyRGF0YSwgb2xkTWFuaWZvbGQsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbnRhY3RMaXN0ZW5lci5wb3N0U29sdmUpe1xuICAgICAgbGlzdGVuZXIuUG9zdFNvbHZlID0gZnVuY3Rpb24oY29udGFjdCwgaW1wdWxzZSl7XG4gICAgICAgIGNvbnRhY3RMaXN0ZW5lci5wb3N0U29sdmUoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIGltcHVsc2UsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5iMldvcmxkLlNldENvbnRhY3RMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgam9pbnQgZnJvbSB0aGUgd29ybGQuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiwgYW5kIEJFRk9SRSBhbnkgYm9kaWVzIGNvbm5lY3RlZCB0byB0aGUgam9pbnQgYXJlIHJlbW92ZWQhXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gam9pbnRJZCBUaGUgaWQgb2Ygam9pbnQgdG8gYmUgZGVzdHJveWVkLlxuICAgKi9cbiAgcmVtb3ZlSm9pbnQoam9pbnRJZCkge1xuICAgIGlmKHRoaXMuam9pbnRzTWFwW2pvaW50SWRdKXtcbiAgICAgIHRoaXMuYjJXb3JsZC5EZXN0cm95Sm9pbnQodGhpcy5qb2ludHNNYXBbam9pbnRJZF0pO1xuICAgICAgZGVsZXRlIHRoaXMuam9pbnRzTWFwW2pvaW50SWRdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBqb2ludCB0byB0aGUgYm94MmQgd29ybGQuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7Sm9pbnR9IEEgam9pbnQgZGVmaW5pdGlvbi5cbiAgICovXG4gIGFkZEpvaW50KGpvaW50KSB7XG4gICAgaWYoam9pbnQgJiYgam9pbnQuaWQgJiYgIXRoaXMuam9pbnRzTWFwW2pvaW50LmlkXSl7XG5cbiAgICAgIGlmKCFqb2ludC5hbHJlYWR5U2NhbGVkICYmIGpvaW50LnNjYWxlSm9pbnRMb2NhdGlvbil7XG4gICAgICAgIGpvaW50LnNjYWxlSm9pbnRMb2NhdGlvbigxIC8gdGhpcy5zY2FsZSk7XG4gICAgICAgIGpvaW50LnNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGIySm9pbnQgPSBqb2ludC5jcmVhdGVCMkpvaW50KHRoaXMpO1xuICAgICAgaWYoYjJKb2ludCl7XG4gICAgICAgIHRoaXMuam9pbnRzTWFwW2pvaW50LmlkXSA9IGIySm9pbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQm94O1xuXG4iLCJjb25zdCB3YWxsUmVzdGl0dXRpb24gPSAxO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJlbnRpdGllc1wiOiBbXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiA1NjguMTAxMTMsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiA1NjguMTAxMTMsXG4gICAgICAgICAgXCJ5XCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAtMTAwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBcInhcIjogMCxcbiAgICAgIFwieVwiOiAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJQb2x5Z29uXCIsXG4gICAgICBcImlkXCI6IFwidWxlZnR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvblxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDU2OC4xMDExMyxcbiAgICAgICAgICBcInlcIjogMTA4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDU2OC4xMDExMyxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IC0xMDAsXG4gICAgICAgICAgXCJ5XCI6IDExODBcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBcInhcIjogMCxcbiAgICAgIFwieVwiOiAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJQb2x5Z29uXCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICAgIFwiaWRcIjogXCJsbGVmdHdcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMjAyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTkyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJpZFwiOiBcInVyaWdodHR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgICAgXCJ3YWxsXCI6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBcInBvaW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMTA4MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDE5MjAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDIwMjAsXG4gICAgICAgICAgXCJ5XCI6IDU0MFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDIwMjAsXG4gICAgICAgICAgXCJ5XCI6IDExODBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxMzUxLjg5ODg3LFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgXCJ4XCI6IDAsXG4gICAgICBcInlcIjogMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgXCJyZXN0aXR1dGlvblwiOiB3YWxsUmVzdGl0dXRpb24sXG4gICAgICBcImlkXCI6IFwibHJpZ2h0dHdcIixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIFwieFwiOiA5NjAsXG4gICAgICBcInlcIjogMTE4MCxcbiAgICAgIFwiaGFsZldpZHRoXCI6IDEwMDAsXG4gICAgICBcImhhbGZIZWlnaHRcIjogMTAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJSZWN0YW5nbGVcIixcbiAgICAgIFwiaWRcIjogXCJib3R0b213XCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIFwieFwiOiA5NjAsXG4gICAgICBcInlcIjogLTEwMCxcbiAgICAgIFwiaGFsZldpZHRoXCI6IDEwMDAsXG4gICAgICBcImhhbGZIZWlnaHRcIjogMTAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJSZWN0YW5nbGVcIixcbiAgICAgIFwiaWRcIjogXCJ0b3B3XCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgICBcIndhbGxcIjogdHJ1ZSxcbiAgICB9LFxuICBdLFxuICBcImpvaW50c1wiOiBbXG4gIF0sXG4gIFwiY2FudmFzXCI6IHtcbiAgICBcImhlaWdodFwiOiA2MDAsXG4gICAgXCJ3aWR0aFwiOiA4MDBcbiAgfSxcbiAgXCJiYWNrSW1nXCI6IG51bGxcbn07IiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5BdWRpb0NvbnRleHQ7ICsreCkge1xuICB3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93W3ZlbmRvcnNbeF0rJ0F1ZGlvQ29udGV4dCddO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5BdWRpb0NvbnRleHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlbW92ZUV4dGVuc2lvbihwYXRoKXtcbiAgLy8gb25seSBzdHJpcHMgb2ZmIGV4dGVuc2lvbnMgdGhhdCBoYXZlIGxlbmd0aCBvZiA0IG9yIGxlc3NcbiAgLy8gcmVnZXggZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTgzMTAvcmVndWxhci1leHByZXNzaW9uLXRvLXJlbW92ZS1hLWZpbGVzLWV4dGVuc2lvblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKC8oLiopXFwuW14uXXsxLDR9JC8sICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVFeHRlbnNpb247XG4iLCJjb25zdCBhdmVyYWdlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy9hdmVyYWdlUG9pbnRzJyk7XG5jb25zdCBkZWdyZWVzVG9SYWRpYW5zID0gcmVxdWlyZSgnLi91dGlscy9kZWdyZWVzVG9SYWRpYW5zJyk7XG5jb25zdCByYWRpYW5zVG9EZWdyZWVzID0gcmVxdWlyZSgnLi91dGlscy9yYWRpYW5zVG9EZWdyZWVzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IGRpc3RhbmNlID0gcmVxdWlyZSgnLi91dGlscy9kaXN0YW5jZScpO1xuY29uc3QgZGVncmVlc0Zyb21DZW50ZXIgPSByZXF1aXJlKCcuL3V0aWxzL2RlZ3JlZXNGcm9tQ2VudGVyJyk7XG5jb25zdCByYWRpYW5zRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy9zY2FsZVBvaW50cycpO1xuY29uc3QgdHJhbnNsYXRlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcbmNvbnN0IGluc2lkZUNhbnZhcyA9IHJlcXVpcmUoJy4vdXRpbHMvaW5zaWRlQ2FudmFzJyk7XG5jb25zdCByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyJyk7XG5jb25zdCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyJyk7XG5cblxuLyoqXG4gKiBNYXRoIHV0aWxpdHkgbGlicmFyaWVzXG4gKiBAZXhwb3J0cyB1dGlsc1xuICovXG5jb25zdCB1dGlscyA9IHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIGF2ZXJhZ2UgcG9pbnQgdmFsdWUgaW4gYW4gYXJyYXkgb2YgcG9pbnRzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXNcbiAgICovXG4gIGF2ZXJhZ2VQb2ludHMsXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgZGVncmVlcyB0byByYWlkYW5zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlc1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gcmFkaWFuc1xuICAgKi9cbiAgZGVncmVlc1RvUmFkaWFucyxcblxuICAvKipcbiAgICogQ29udmVydCByYWRpYW5zIHRvIGRlZ3JlZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiBkZWdyZWVzXG4gICAqL1xuICByYWRpYW5zVG9EZWdyZWVzLFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbiBhIHBvbHlnb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvbHlnb24gQXJyYXkgb2YgcG9pbnRzXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvblxuICAgKi9cbiAgcG9pbnRJblBvbHlnb24sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludDEgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgZGlzdGFuY2VcbiAgICovXG4gIGRpc3RhbmNlLFxuXG4gIC8qKlxuICAgKiBEZWdyZWVzIGEgcG9pbnQgaXMgb2Zmc2V0IGZyb20gYSBjZW50ZXIgcG9pbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjZW50ZXIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gZGVncmVlc1xuICAgKi9cbiAgZGVncmVlc0Zyb21DZW50ZXIsXG5cbiAgLyoqXG4gICAqIFJhZGlhbnMgYSBwb2ludCBpcyBvZmZzZXQgZnJvbSBhIGNlbnRlciBwb2ludFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiByYWRpYW5zXG4gICAqL1xuICByYWRpYW5zRnJvbUNlbnRlcixcblxuICAvKipcbiAgICogU2NhbGUgYSBwb2ludCBvciBhcnJheSBvZiBwb2ludHMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcG9pbnRzIEEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzY2FsZSBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdHxBcnJheX0gQSBzY2FsZWQgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqL1xuICBzY2FsZVBvaW50cyxcblxuICAvKipcbiAgICogVHJhbnNsYXRlIGEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcG9pbnRzIEEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvZmZzZXQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtPYmplY3R8QXJyYXl9IEEgdHJhbnNsYXRlZCBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICovXG4gIHRyYW5zbGF0ZVBvaW50cyxcblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBhIHBvaW50IGlzIGluc2lkZSBhIGNhbnZhc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEEgcG9pbnQgdG8gdGVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzIE9iamVjdCB3aXRoIGhlaWdodCBhbmQgd2lkdGggcHJvcGVydGllc1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIGluc2lkZSBjYW52YXMgZWxzZSBmYWxzZVxuICAgKi9cbiAgaW5zaWRlQ2FudmFzLFxuXG4gIC8qKlxuICAgKiBHZXQgYSBwb2ludCBiYXNlZCBhcm91bmQgdGhlIHJvdGF0aW9uIGluIHJhZGlhbnMgb2Ygb25lIHBvaW50IGFyb3VuZCBhIGNlbnRlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgcG9pbnQgdGhhdCBoYXMgYmVlbiByb3RhdGVkXG4gICAqL1xuICByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLFxuXG4gIC8qKlxuICAgKiBHZXQgYSBwb2ludCBiYXNlZCBhcm91bmQgdGhlIHJvdGF0aW9uIGluIGRlZ3JlZXMgb2Ygb25lIHBvaW50IGFyb3VuZCBhIGNlbnRlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgcG9pbnQgdGhhdCBoYXMgYmVlbiByb3RhdGVkXG4gICAqL1xuICByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlscztcbiIsIlxuZnVuY3Rpb24gYXZlcmFnZVBvaW50cyhwb2ludHMpe1xuICB2YXIgcmV0VmFsID0ge3g6IDAsIHk6IDB9O1xuICBwb2ludHMuZm9yRWFjaChwb2ludHMsIGZ1bmN0aW9uKHBvaW50KXtcbiAgICByZXRWYWwueCs9IHBvaW50Lng7XG4gICAgcmV0VmFsLnkrPSBwb2ludC55O1xuICB9KTtcbiAgcmV0VmFsLnggPSByZXRWYWwueCAvIHBvaW50cy5sZW5ndGg7XG4gIHJldFZhbC55ID0gcmV0VmFsLnkgLyBwb2ludHMubGVuZ3RoO1xuICByZXR1cm4gcmV0VmFsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGF2ZXJhZ2VQb2ludHM7XG4iLCJjb25zdCByYWRpYW5zVG9EZWdyZWVzID0gcmVxdWlyZSgnLi9yYWRpYW5zVG9EZWdyZWVzJyk7XG5jb25zdCByYWRpYW5zRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vcmFkaWFuc0Zyb21DZW50ZXInKTtcblxuZnVuY3Rpb24gZGVncmVlc0Zyb21DZW50ZXIoY2VudGVyLCBwdCl7XG4gIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnNGcm9tQ2VudGVyKGNlbnRlciwgcHQpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWdyZWVzRnJvbUNlbnRlcjtcbiIsImNvbnN0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgPSByZXF1aXJlKCcuL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInKTtcbmNvbnN0IGRlZ3JlZXNUb1JhZGlhbnMgPSByZXF1aXJlKCcuL2RlZ3JlZXNUb1JhZGlhbnMnKTsgXG5cbmZ1bmN0aW9uIHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIoY2VudGVyLCBwdCwgYW5nbGUpIHtcbiAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyLCBwdCwgZGVncmVlc1RvUmFkaWFucyhhbmdsZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXI7IiwiLyoqXG4gKiBUaGlzIHR5cGUgb2Ygc3ByaXRlIGlzIGJhc2VkIG9mZiBvZiB0aGUgZXhjZWxsZW50IGltYWdlcyBmcm9tIFJlaW5lcidzIHRpbGVzZXRzOiBodHRwOi8vd3d3LnJlaW5lcnN0aWxlc2V0cy5kZS9cbiAqIDxicj5cbiAqIGNyZWF0dXJlcyBoYXZlIHdhbGtpbmcsIGlkbGUsIGFuZCBkeWluZyBhbmltYXRpb25zIGluIDggaXNvbWV0cmljIGRpcmVjdGlvbnNcbiAqIFRoZSBhbmltYXRpb25zIGRpcmVjdGlvbnMgYXJlIGluIEUsTixORSxOVyxTLFNFLFNXLFcgKGFscGhhYmV0aWNhbCkgb3JkZXIgc2ltcGx5IGJlY2F1c2UgdGhhdCdzXG4gKiBob3cgdGhleSB3ZXJlIHN0aXRjaGVkIHRvZ2V0aGVyIHVzaW5nIEltYWdlTWFnaWNrLlxuICpcbiAqIEBuYW1lIENyZWF0dXJlXG4gKiBAY29uc3RydWN0b3IgQ3JlYXR1cmVcbiAqIEBleHRlbmRzIFNwcml0ZVxuICovXG5cbmNvbnN0IFNwcml0ZSA9IHJlcXVpcmUoJy4uL1Nwcml0ZScpO1xuY29uc3QgQW5pbWF0aW9uID0gcmVxdWlyZSgnLi4vQW5pbWF0aW9uJyk7XG5cblxuLyoqXG4qIEEgbWFwIG9mIHN0YXRpYyBjb25zdGFudHMgZm9yIGludGVybmFsIHVzZVxuKiBAdHlwZSB7T2JqZWN0fVxuKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBFQVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gTk9SVEggYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSEVBU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTT1VUSCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIRUFTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIV0VTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9XQUxLSU5HIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfRFlJTkcgYSBzdGF0ZSB0aGUgY3JlYXR1cmUgY2FuIGJlIGluXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9JRExFIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKi9cbmNvbnN0IEVBU1QgPSAwO1xuY29uc3QgTk9SVEggPSAxO1xuY29uc3QgTk9SVEhFQVNUID0gMjtcbmNvbnN0IE5PUlRIV0VTVCA9IDM7XG5jb25zdCBTT1VUSCA9IDQ7XG5jb25zdCBTT1VUSEVBU1QgPSA1O1xuY29uc3QgU09VVEhXRVNUID0gNjtcbmNvbnN0IFdFU1QgPSA3O1xuY29uc3QgU1RBVEVfV0FMS0lORyA9IDA7XG5jb25zdCBTVEFURV9EWUlORyA9IDE7XG5jb25zdCBTVEFURV9JRExFID0gMjtcblxuXG5jbGFzcyBDcmVhdHVyZSBleHRlbmRzIFNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjcmVhdHVyZS4gV2lsbCBiZSBhIHZhbHVlIGZyb20gdGhlIHN0YXRpYyBjb25zdGFudHMuXG4gICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9JRExFO1xuXG4gICAgLyoqXG4gICAgKiBBbiBhcnJheSBvZiBBbmltYXRpb24gb2JqZWN0cyAob25lIGZvciBlYWNoIGRpcmVjdGlvbikgdG8gZGlzcGxheSB0aGUgY3JlYXR1cmUgaW4gYSB3YWxraW5nIHN0YXRlXG4gICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy53YWxraW5nQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGEgZHlpbmcgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmR5aW5nQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGFuIGlkbGUgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmlkbGVBbmltcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY3VycmVudCBkaXJlY3Rpb24gdGhhdCB0aGUgY3JlYXR1cmUgaXMgcG9pbnRlZC4gV2lsbCBiZSBhIHZhbHVlIGZyb20gdGhlIHN0YXRpYyBjb25zdGFuc3RzLlxuICAgICogQHR5cGUge051bWJlcn1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmRpcmVjdGlvbiA9IEVBU1Q7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBjcmVhdHVyZSdzIGN1cnJlbnQgZGlyZWN0aW9uIChmcmFtZSksIGFuZCBjaGFuZ2VzIHdoaWNoIGFuaW1hdGlvbiBpdCBzaG91bGQgYmUgdXNpbmcgaWYgbmVjY2VzYXJ5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlRGlyZWN0aW9uKGVsYXBzZWRUaW1lKXtcbiAgICB0aGlzLnggKz0gdGhpcy5keCAqIGVsYXBzZWRUaW1lO1xuICAgIHRoaXMueSArPSB0aGlzLmR5ICogZWxhcHNlZFRpbWU7XG5cbiAgICBpZih0aGlzLnN0YXRlICE9PSB0aGlzLnN0YXRpY3MuU1RBVEVfRFlJTkcpe1xuICAgICAgaWYodGhpcy5keCA+IDAgJiYgdGhpcy5keSA9PT0gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLkVBU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5IDwgMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLk5PUlRIO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPiAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEhFQVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPCAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEhXRVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPT09IDAgJiYgdGhpcy5keSA+IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5TT1VUSDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4ID4gMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIRUFTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIV0VTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuV0VTVDtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGljcy5TVEFURV9JRExFO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGljcy5TVEFURV9XQUxLSU5HO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgY3JlYXR1cmUncyBjdXJyZW50IGFuaW1hdGlvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZUFuaW1hdGlvbnMoZWxhcHNlZFRpbWUpe1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IHRoaXMuc3RhdGljcy5TVEFURV9XQUxLSU5HKXtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMud2Fsa2luZ0FuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9IGVsc2UgaWYodGhpcy5zdGF0ZSA9PT0gdGhpcy5zdGF0aWNzLlNUQVRFX0RZSU5HKXtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMuZHlpbmdBbmltc1t0aGlzLmRpcmVjdGlvbl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMuaWRsZUFuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9XG4gICAgdGhpcy5hbmltLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBjcmVhdGUgYW5pbWF0aW9ucyBmcm9tIGEgc2hlZXQgb2YgdGlsZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUNvdW50IE51bWJlciBvZiBmcmFtZXMgaW4gdGhlIGFuaW1hdGlvblxuICAgKiBAcGFyYW0gIHtOdW1iZXJ8QXJyYXl9IGZyYW1lVGltZXMgVmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYW1vdW50IG9mIHRpbWUgcGVyIGZyYW1lXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWcgSW1hZ2Ugc2hlZXQgdG8gY3JlYXRlIGFuaW1hdGlvbiBmcm9tXG4gICAqIEBwYXJhbSAge051bWJlcn0gdyBXaWR0aCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0gaCBIZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlTbG90IFNsb3Qgb24gWSBheGlzIHRvIHN0YXJ0IGNyZWF0aW5nIHRpbGVzXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBBbmltYXRpb25zIGdlbmVyYXRlZCB1c2luZyBwYXJhbWV0ZXJzXG4gICAqL1xuICBjcmVhdGVBbmltYXRpb25zKGZyYW1lQ291bnQsIGZyYW1lVGltZXMsIGltZywgaCwgdywgeVNsb3Qpe1xuICAgIHZhciBhbmltcyA9IFtdO1xuICAgIHZhciBpc0ZUQXJyYXkgPSBBcnJheS5pc0FycmF5KGZyYW1lVGltZXMpO1xuICAgIHZhciBjdXJyZW50RnJhbWVUaW1lID0gMTtcbiAgICBpZigheVNsb3Qpe1xuICAgICAgeVNsb3QgPSAwO1xuICAgIH1cbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgODsgaSsrKXtcbiAgICAgIGFuaW1zW2ldID0gbmV3IEFuaW1hdGlvbih7XG4gICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgd2lkdGg6IHcsXG4gICAgICAgIGltYWdlOiBpbWdcbiAgICAgIH0pO1xuICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGZyYW1lQ291bnQ7IGorKyl7XG4gICAgICAgIGlmKGlzRlRBcnJheSl7XG4gICAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXNbal07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXM7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbXNbaV0uYWRkRnJhbWUoY3VycmVudEZyYW1lVGltZSwgaiArIGZyYW1lQ291bnQgKiBpLCB5U2xvdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmltcztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENyZWF0dXJlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBDaXJjbGUgPSByZXF1aXJlKCcuL2VudGl0aWVzL0NpcmNsZScpO1xuY29uc3QgTXVsdGlQb2x5Z29uID0gcmVxdWlyZSgnLi9lbnRpdGllcy9NdWx0aVBvbHlnb24nKTtcbmNvbnN0IFBvbHlnb24gPSByZXF1aXJlKCcuL2VudGl0aWVzL1BvbHlnb24nKTtcbmNvbnN0IFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vZW50aXRpZXMvUmVjdGFuZ2xlJyk7XG5cbnZhciBlbnRpdGllcyA9IHtcbiAgQ2lyY2xlLFxuICBNdWx0aVBvbHlnb24sXG4gIFBvbHlnb24sXG4gIFJlY3RhbmdsZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRpdGllcztcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgaXMgZm9yIGJ1aWxkaW5nIGNvbXBsZXggYW5kIHBvc3NpYmx5IGNvbmNhdmUgc2hhcGVzXG4gKiBAbmFtZSBNdWx0aVBvbHlnb25cbiAqIEBjb25zdHJ1Y3RvciBNdWx0aVBvbHlnb25cbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5jb25zdCBzY2FsZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3NjYWxlUG9pbnRzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3BvaW50SW5Qb2x5Z29uJyk7XG5jb25zdCB0cmFuc2xhdGVQb2ludHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcblxuY2xhc3MgTXVsdGlQb2x5Z29uIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHBvbHlnb25zXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnBvbHlzID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGVhY2ggcG9seWdvbiBpbiB0aGUgZW50aXR5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgTXVsdGlQb2x5Z29uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCB0aGUgSFRNTDUgMmQgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgc2NhbGUgdG8gZHJhdyB0aGUgZW50aXR5IGF0XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IHRoaXMucG9seXMubGVuZ3RoOyBqKyspe1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygodGhpcy54ICsgdGhpcy5wb2x5c1tqXVswXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2x5c1tqXVswXS55KSAqIHNjYWxlKTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2x5c1tqXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgY3R4LmxpbmVUbygodGhpcy5wb2x5c1tqXVtpXS54ICsgdGhpcy54KSAqIHNjYWxlLCAodGhpcy5wb2x5c1tqXVtpXS55ICsgdGhpcy55KSAqIHNjYWxlKTtcbiAgICAgIH1cbiAgICAgIGN0eC5saW5lVG8oKHRoaXMueCArIHRoaXMucG9seXNbal1bMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9seXNbal1bMF0ueSkgKiBzY2FsZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIE11bHRpUG9seWdvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5wb2x5cyA9IHNjYWxlUG9pbnRzKHRoaXMucG9seXMsIHNjYWxlKTtcbiAgICBzdXAuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIE11bHRpUG9seWdvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb2ludCBpcyBpbiBzaGFwZSBlbHNlIGZhbHNlXG4gICAqL1xuICBwb2ludEluU2hhcGUocG9pbnQpe1xuICAgIGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLnBvbHlzLmxlbmd0aDsgaisrKXtcbiAgICAgIGlmKHBvaW50SW5Qb2x5Z29uKHBvaW50LCB0cmFuc2xhdGVQb2ludHModGhpcy5wb2x5c1tqXSwgdGhpcykpKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gTXVsdGlQb2x5Z29uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEaXN0YW5jZSA9IHJlcXVpcmUoJy4vam9pbnRzL0Rpc3RhbmNlJyk7XG5jb25zdCBQcmlzbWF0aWMgPSByZXF1aXJlKCcuL2pvaW50cy9QcmlzbWF0aWMnKTtcbmNvbnN0IFJldm9sdXRlID0gcmVxdWlyZSgnLi9qb2ludHMvUmV2b2x1dGUnKTtcblxudmFyIGpvaW50cyA9IHtcbiAgRGlzdGFuY2UsXG4gIFByaXNtYXRpYyxcbiAgUmV2b2x1dGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gam9pbnRzO1xuIiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBkaXN0YW5jZSBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIHR5cGUgb2Ygam9pbnQgZm9yY2VzIHR3byBib2RpZXMgdG8ga2VlcCBhIGNvbnN0YW50IGRpc3RhbmNlIGZvciBlYWNoIG90aGVyLlxuICogQG5hbWUgRGlzdGFuY2VcbiAqIEBjb25zdHJ1Y3RvciBEaXN0YW5jZVxuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMkRpc3RhbmNlSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJEaXN0YW5jZUpvaW50RGVmO1xuXG5jbGFzcyBEaXN0YW5jZSBleHRlbmRzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEEgcG9pbnQgb24gdGhlIHNlY29uZCBlbnRpdHkgd2hlcmUgdGhlIGpvaW50IHdpbGwgYmUgYXR0YWNoZWQuIElmIG5vIHBvaW50IGlzIHNwZWNpZmllZCwgdGhlIHNlY29uZCBib2R5IHdpbGwgYmUgYXR0YWNoZWQgYXQgaXRzIGNlbnRlciBwb2ludC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBEaXN0YW5jZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9keVBvaW50MiA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcG9zaXRpb25zIGJvZGllcyB0aGF0IHRoZSBqb2ludCBhcmUgY29ubmVjdGVkIGF0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIERpc3RhbmNlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIHNjYWxlIHRvIG11bHRpcGx5IHRoZSBkaW1lbnRpb25zIGJ5XG4gICAqL1xuICBzY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpe1xuICAgIGlmKHNjYWxlICYmIHRoaXMuYm9keVBvaW50Mil7XG4gICAgICB0aGlzLmJvZHlQb2ludDIueCA9IHRoaXMuYm9keVBvaW50Mi54ICogc2NhbGU7XG4gICAgICB0aGlzLmJvZHlQb2ludDIueSA9IHRoaXMuYm9keVBvaW50Mi55ICogc2NhbGU7XG4gICAgICB0aGlzLmFscmVhZHlTY2FsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzdXBlci5zY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRGlzdGFuY2UjXG4gICAqIEBwYXJhbSB7Qm94fSB0aGUgYm94IGluIHdoaWNoIHRvIGNyZWF0ZSB0aGUgam9pbnQuXG4gICAqIEByZXR1cm4ge2IySm9pbnR9IEpvaW50IGNyZWF0ZWQgYnkgYm94MmRcbiAgICovXG4gIGNyZWF0ZUIySm9pbnQoYm94KXtcbiAgICBpZihib3ggJiYgYm94LmJvZGllc01hcCAmJiBib3guYjJXb3JsZCAmJiBib3guam9pbnRzTWFwICYmICFib3guam9pbnRzTWFwW3RoaXMuaWRdKXtcbiAgICAgIGNvbnN0IGJvZHkxID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDFdO1xuICAgICAgY29uc3QgYm9keTIgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMl07XG4gICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgIGxldCB2ZWMxLCB2ZWMyO1xuICAgICAgICBpZih0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQyKXtcbiAgICAgICAgICB2ZWMyID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDIueCwgdGhpcy5ib2R5UG9pbnQyLnkpO1xuICAgICAgICB9XG4gICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIHZlYzIgPSB2ZWMyIHx8IGJvZHkyLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGpvaW50ID0gbmV3IEIyRGlzdGFuY2VKb2ludERlZigpO1xuICAgICAgICBqb2ludC5Jbml0aWFsaXplKGJvZHkxLCBib2R5MiwgdmVjMSwgdmVjMik7XG5cbiAgICAgICAgaWYgKHRoaXMuam9pbnRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3guYjJXb3JsZC5DcmVhdGVKb2ludChqb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGlzdGFuY2U7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIHByaXNtYXRpYyBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIHR5cGUgb2Ygam9pbnQgZm9yY2VzIGEgYm9keSB0byBrZWVwIGl0cyBhbmdsZSByb3RhdGlvbiBjb25zaXRlbnQgd2l0aCBhbm90aGVyIGJvZHlcbiAqIEBuYW1lIFByaXNtYXRpY1xuICogQGNvbnN0cnVjdG9yIFByaXNtYXRpY1xuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJQcmlzbWF0aWNKb2ludERlZiA9IEJveDJELkR5bmFtaWNzLkpvaW50cy5iMlByaXNtYXRpY0pvaW50RGVmO1xuXG5jbGFzcyBQcmlzbWF0aWMgZXh0ZW5kcyBKb2ludCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IG51bWVyaWMgY29tcG9uZW50cyByZXByZXNlbnRpbmcgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGVudGl0aWVzIGNhbiBtb3ZlIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBQcmlzbWF0aWMjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmF4aXNTY2FsZSA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUHJpc21hdGljI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICBjb25zdCBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgIGNvbnN0IGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgaWYoYm9keTEgJiYgYm9keTIpe1xuICAgICAgICBsZXQgdmVjMTtcbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICB2ZWMxID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDEueCwgdGhpcy5ib2R5UG9pbnQxLnkpO1xuICAgICAgICB9XG4gICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIHZhciBqb2ludCA9IG5ldyBCMlByaXNtYXRpY0pvaW50RGVmKCk7XG4gICAgICAgIHZhciBheGlzO1xuICAgICAgICBpZih0aGlzLmF4aXNTY2FsZSl7XG4gICAgICAgICAgYXhpcyA9IG5ldyBCMlZlYzIodGhpcy5heGlzU2NhbGUueCwgdGhpcy5heGlzU2NhbGUueSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGF4aXMgPSBuZXcgQjJWZWMyKDEsIDApO1xuICAgICAgICB9XG4gICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCBheGlzKTtcblxuICAgICAgICBpZiAodGhpcy5qb2ludEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGpvaW50LCB0aGlzLmpvaW50QXR0cmlidXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJveC5iMldvcmxkLkNyZWF0ZUpvaW50KGpvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcmlzbWF0aWM7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIHJldm9sdXRlIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIFRoaXMgYWxsb3cgZm9yIHJvdGF0aW9uIG9mIG9uZSBib2R5IGFyb3VuZCBhIHBvaW50IG9mIGFub3RoZXIuXG4gKiBAbmFtZSBSZXZvbHV0ZVxuICogQGNvbnN0cnVjdG9yIFJldm9sdXRlXG4gKiBAZXh0ZW5kcyBKb2ludFxuICovXG5cbmNvbnN0IEpvaW50ID0gcmVxdWlyZSgnLi9Kb2ludCcpO1xuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMlJldm9sdXRlSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJSZXZvbHV0ZUpvaW50RGVmO1xuXG5cbmNsYXNzIFJldm9sdXRlIGV4dGVuZHMgSm9pbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBhZGRzIHRoaXMgam9pbnQgaW4gdGhlIEJveDJkIHdvcmxkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJldm9sdXRlI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICAgIHZhciBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgICAgdmFyIGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgICAgdmFyIHZlYzE7XG4gICAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgICAgdmFyIGpvaW50ID0gbmV3IEIyUmV2b2x1dGVKb2ludERlZigpO1xuICAgICAgICAgIHZhciBheGlzO1xuICAgICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCBheGlzKTtcblxuICAgICAgICAgIGlmICh0aGlzLmpvaW50QXR0cmlidXRlcykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYm94LmIyV29ybGQuQ3JlYXRlSm9pbnQoam9pbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJldm9sdXRlO1xuIiwiLyoqXG4gKiBUaGlzIGNvbnRhY3QgbGlzdGVuZXIgZm9yIHRoZSBCb3gyZCB3b3JsZCBhc3NpZ25zIGNvbGxpc2lvbiBvYmplY3RzIHRvIGVudGl0aWVzIHdoZW4gdGhleSBjb2xsaWRlLlxuICogQG5hbWUgQ29udGFjdFxuICogQGNvbnN0cnVjdG9yIENvbnRhY3RcbiAqL1xuXG5jbGFzcyBDb250YWN0IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmNvbGxpc2lvbnMgPSB0aGlzLmNvbGxpc2lvbnMgfHwge307XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBzdGF0ZSBvZiB0aGUgY29udGFjdCBsaXN0ZW5lciBwZXIgaXRlcmF0aW9uIG9mIHRoZSBib3ggd29ybGQgY2FsY3VsYXRpb25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqL1xuICByZXNldCgpe1xuICAgIHRoaXMuY29sbGlzaW9ucyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgYm94MmQgY29sbGlzb24gYmVnaW5zXG4gICAqIEBmdW5jdGlvbiBiZWdpbkNvbnRhY3RcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7YjJDb250YWNudH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGJveDJkIGNvbGxpc29uIGVuZHNcbiAgICogQGZ1bmN0aW9uIGVuZENvbnRhY3RcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7YjJDb250YWN0fSBjb250YWN0IFRoZSBib3gyZCBjb250YWN0IG9iamVjdC5cbiAgKi9cblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBhIGJveDJkIGNvbGxpc29uIGlzIHJlc29sdmVkXG4gICAqIEBmdW5jdGlvbiBwcmVTb2x2ZVxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQSBJZCBvZiBib2R5IEFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQiBJZCBvZiBib2R5IEJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9sZE1hbmlmb2xkIE9sZCBtYW5pZm9sZCBvYmplY3QgcGFzc2VkIGludG8gcHJlU29sdmUgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtiMkNvbnRhY3R9IGNvbnRhY3QgVGhlIGJveDJkIGNvbnRhY3Qgb2JqZWN0LlxuICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYWZ0ZXIgYSBib3gyZCBjb2xsaXNvbiBpcyByZXNvbHZlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbXB1bHNlIEltcHVsc2Ugb2JqZWN0IHBhc3NlZCBpbnRvIHBvc3RTb2x2ZSBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge2IyQ29udGFjdH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICovXG4gIHBvc3RTb2x2ZShpZEEsIGlkQiwgaW1wdWxzZSwgY29udGFjdCl7XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQV0gPSB0aGlzLmNvbGxpc2lvbnNbaWRBXSB8fCBbXTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRBXS5wdXNoKHtpZDogaWRCLCBpbXB1bHNlOiBpbXB1bHNlLm5vcm1hbEltcHVsc2VzWzBdfSk7XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQl0gPSB0aGlzLmNvbGxpc2lvbnNbaWRCXSB8fCBbXTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRCXS5wdXNoKHtpZDogaWRBLCBpbXB1bHNlOiBpbXB1bHNlLm5vcm1hbEltcHVsc2VzWzBdfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0O1xuIiwiLyoqXG4gKiBUaGlzIGlzIGEgY29udmVuaWVuY2Ugb2JqZWN0IHRoYXQgYWxsb3dzIGZvciBxdWlja2x5IGNyZWF0aW5nIGEgYm94MmQgYmFzZWQgZ2FtZS5cbiAqIEBuYW1lIEJveEdhbWVcbiAqIEBjb25zdHJ1Y3RvciBCb3hHYW1lXG4gKiBAZXh0ZW5kcyBHYW1lQ29yZVxuICovXG5cbmNvbnN0IEdhbWVDb3JlID0gcmVxdWlyZSgnLi4vR2FtZUNvcmUnKTtcbmNvbnN0IEJveCA9IHJlcXVpcmUoJy4vQm94Jyk7XG5cbmNsYXNzIEJveEdhbWUgZXh0ZW5kcyBHYW1lQ29yZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ2JveGdhbWUgb3B0aW9ucycsIG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnN0YW5jZSBvZiBCb3ggdXNlZCBmb3IgdGhpcyBnYW1lLlxuICAgICAqIEB0eXBlIHtCb3h9XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJveCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBib3ggc2hvdWxkIHBlcmZvcm0gY2FsY3VsYXRpb25zIGR1cmluZyBpdHMgdXBkYXRlIGN5Y2xlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJveFVwZGF0aW5nID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIEVudGl0eSBvYmplY3RzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBCb3hcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbnRpdGllcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBKb2ludCBvYmplY3RzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBCb3hcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5qb2ludHMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLmJveCl7XG4gICAgICB0aGlzLmJveCA9IG5ldyBCb3gob3B0aW9ucy5ib3hPcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5lbnRpdGllcyl7XG4gICAgICB0aGlzLmVudGl0aWVzID0ge307XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuam9pbnRzKXtcbiAgICAgIHRoaXMuam9pbnRzID0ge307XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYWxsIHBoeXNpY3MgY2FsY3VsYXRpb25zIGluIHRoZSBCb3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1pbGxpcyBUaGUgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBwYXNzZWQgc2luY2UgbGFzdCBpdGVyYXRpb24gb2YgZ2FtZUxvb3BcbiAgICovXG4gIHVwZGF0ZUJveChtaWxsaXMpe1xuICAgIGlmKHRoaXMuYm94VXBkYXRpbmcpe1xuICAgICAgdGhpcy5ib3gudXBkYXRlKG1pbGxpcyk7XG4gICAgICB0aGlzLmJveC51cGRhdGVFeHRlcm5hbFN0YXRlKHRoaXMuZW50aXRpZXMpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gRW50aXR5IG9iamVjdCB0byBlbnRpdGllcyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgdG8gYWRkXG4gICAqL1xuICBhZGRCb2R5KGVudGl0eSl7XG4gICAgdGhpcy5lbnRpdGllc1tlbnRpdHkuaWRdID0gZW50aXR5O1xuICAgIHRoaXMuYm94LmFkZEJvZHkoZW50aXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2VyaWVzIG9mIEVudGl0eSBvYmplY3RzIHRvIGVudGl0aWVzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEVudGl0eX0gZW50aXRpZXMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgRW50aXR5IG9iamVjdHMgb3IgYW55IG51bWJlciBvZiBFbnRpdHkgb2JqZWN0c1xuICAgKi9cbiAgYWRkQm9kaWVzKGVudGl0aWVzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcbiAgICAgIGVudGl0aWVzID0gW2VudGl0aWVzXTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGVudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgdGhpcy5hZGRCb2R5KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBFbnRpdHkgb2JqZWN0IGZyb20gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSAge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUJvZHkoZW50aXR5KXtcbiAgICB0aGlzLmJveC5yZW1vdmVCb2R5KGVudGl0eS5pZCk7XG4gICAgZGVsZXRlIHRoaXMuZW50aXRpZXNbZW50aXR5LmlkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgc2VyaWVzIG9mIEVudGl0eSBvYmplY3RzIGZyb20gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7QXJyYXl8RW50aXR5fSBlbnRpdGllcyBDYW4gdGFrZSBhbiBhcnJheSBvZiBFbnRpdHkgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEVudGl0eSBvYmplY3RzXG4gICAqL1xuICByZW1vdmVCb2RpZXMoZW50aXRpZXMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBbZW50aXRpZXNdO1xuICAgIH1cbiAgICBlbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlQm9keShlbnRpdHkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBKb2ludCB0byBqb2ludHMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7Sm9pbnR9IGpvaW50IEpvaW50IHRvIGFkZFxuICAgKi9cbiAgYWRkSm9pbnQoam9pbnQpe1xuICAgIHRoaXMuam9pbnRzW2pvaW50LmlkXSA9IGpvaW50O1xuICAgIHRoaXMuYm94LmFkZEpvaW50KGpvaW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2VyaWVzIG9mIEpvaW50IG9iamVjdHMgdG8gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEpvaW50fSBqb2ludHMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgSm9pbnQgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEpvaW50IG9iamVjdHNcbiAgICovXG4gIGFkZEpvaW50cyhqb2ludHMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGpvaW50cykpIHtcbiAgICAgIGpvaW50cyA9IFtqb2ludHNdO1xuICAgIH1cbiAgICBqb2ludHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLmFkZEpvaW50KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIEpvaW50IGZyb20gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtKb2ludH0gam9pbnQgSm9pbnQgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVKb2ludChqb2ludCl7XG4gICAgdGhpcy5ib3gucmVtb3ZlSm9pbnQoam9pbnQuaWQpO1xuICAgIGRlbGV0ZSB0aGlzLmpvaW50c1tqb2ludC5pZF07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHNlcmllcyBvZiBKb2ludCBvYmplY3RzIGZyb20gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEpvaW50fSBqb2ludHMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgSm9pbnQgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEpvaW50IG9iamVjdHNcbiAgICovXG4gIHJlbW92ZUpvaW50cyhqb2ludHMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGpvaW50cykpIHtcbiAgICAgIGpvaW50cyA9IFtqb2ludHNdO1xuICAgIH1cbiAgICBqb2ludHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUpvaW50KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCb3hHYW1lO1xuXG4iLCJcbmZ1bmN0aW9uIGRyYXcoY3R4LCBzY2FsZSkge1xuICBjb25zdCB7ZnVsbFcsIGZ1bGxILCBoZXhTaWRlLCBzaWRlVywgc2ludDEsIGFuZzEsIHNpbnQyLCBhbmcyfSA9IHRoaXMubWVhc3VyZW1lbnRzO1xuICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1swXS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHNpZGVXLCAxKTtcbiAgY3R4LmxpbmVUbyhmdWxsVyAtIHNpZGVXLCAxKTtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGxheWVyc1szXS5jb2xvcjtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHNpZGVXLCBmdWxsSCk7XG4gIGN0eC5saW5lVG8oZnVsbFcgLSBzaWRlVywgZnVsbEgpO1xuICBjdHguc3Ryb2tlKCk7XG5cbiAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wbGF5ZXJzWzFdLmNvbG9yO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oZnVsbFcgLSBzaWRlVywgMCk7XG4gIGN0eC5saW5lVG8oZnVsbFcsIGZ1bGxILzIpO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbMl0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhmdWxsVywgZnVsbEgvMik7XG4gIGN0eC5saW5lVG8oZnVsbFcgLSBzaWRlVywgZnVsbEgpO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbNF0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbyhzaWRlVywgZnVsbEgpO1xuICBjdHgubGluZVRvKDAsIGZ1bGxILzIpO1xuICBjdHguc3Ryb2tlKCk7XG4gIFxuICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnBsYXllcnNbNV0uY29sb3I7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4Lm1vdmVUbygwLCBmdWxsSC8yKTtcbiAgY3R4LmxpbmVUbyhzaWRlVywgMCk7XG4gIGN0eC5zdHJva2UoKTtcblxuICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocCkgPT4ge1xuICAgIGlmKCFwLmZhY2UuZGVhZCkge1xuICAgICAgcC5wYWRkbGVzWzBdLmRyYXcoY3R4LCBzY2FsZSk7XG4gICAgfVxuICAgIHAuZmFjZS5kcmF3KGN0eCwgc2NhbGUpO1xuICB9KTtcblxuICBPYmplY3Qua2V5cyh0aGlzLmVudGl0aWVzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgaWYoIXRoaXMuZW50aXRpZXNba10uaGlkZGVuKSB7XG4gICAgICB0aGlzLmVudGl0aWVzW2tdLmRyYXcoY3R4KTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuYmFsbC5kcmF3KGN0eCwgc2NhbGUpO1xuXG4gIFxufVxuXG5leHBvcnQgZGVmYXVsdCBkcmF3OyIsImltcG9ydCBSZWN0YW5nbGUgZnJvbSAnZnJvemVuanMvYm94MmQvZW50aXRpZXMvUmVjdGFuZ2xlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG93ZXIgZXh0ZW5kcyBSZWN0YW5nbGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihPYmplY3QuYXNzaWduKHtcbiAgICAgIGhhbGZXaWR0aDogMjAsXG4gICAgICBoYWxmSGVpZ2h0OiAyMCxcbiAgICAgIHN0YXRpY0JvZHk6IGZhbHNlLFxuICAgICAgbGluZVdpZHRoOiAyLFxuICAgICAgcG93ZXI6IHRydWUsXG4gICAgICBkcmF3Q2VudGVyOiBmYWxzZSxcbiAgICAgIGRyYXdMb2NhdGlvbjogZmFsc2UsXG4gICAgfSwgb3B0aW9ucykpO1xuICB9XG5cbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjMjIyJztcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgICh0aGlzLngtdGhpcy5oYWxmV2lkdGgpICogc2NhbGUsXG4gICAgICAodGhpcy55LXRoaXMuaGFsZkhlaWdodCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZXaWR0aCoyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZkhlaWdodCoyKSAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICh0aGlzLngtdGhpcy5oYWxmV2lkdGgpICogc2NhbGUsXG4gICAgICAodGhpcy55LXRoaXMuaGFsZkhlaWdodCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLmhhbGZXaWR0aCoyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZkhlaWdodCoyKSAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvZ0xpbmVXaWR0aDtcbiAgfVxufVxuIiwiaW1wb3J0IFBvd2VyIGZyb20gJy4vUG93ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3dlclVwIGV4dGVuZHMgUG93ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtwb3dlclVwOiB0cnVlfSkpO1xuICB9XG5cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xuICAgIGNvbnN0IHF1YXJ0ZXIgPSB0aGlzLmhhbGZXaWR0aCAvIDI7XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgKHRoaXMueC1xdWFydGVyKSAqIHNjYWxlLFxuICAgICAgKHRoaXMueS0ocXVhcnRlciAvIDIpKSAqIHNjYWxlLFxuICAgICAgdGhpcy5oYWxmV2lkdGggKiBzY2FsZSxcbiAgICAgIHF1YXJ0ZXIgKiBzY2FsZVxuICAgICk7XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgKHRoaXMueC0ocXVhcnRlciAvIDIpKSAqIHNjYWxlLFxuICAgICAgKHRoaXMueS1xdWFydGVyKSAqIHNjYWxlLFxuICAgICAgcXVhcnRlciAqIHNjYWxlLFxuICAgICAgdGhpcy5oYWxmV2lkdGggKiBzY2FsZVxuICAgICk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvd2VyIGZyb20gJy4vUG93ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3dlckRvd24gZXh0ZW5kcyBQb3dlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKE9iamVjdC5hc3NpZ24ob3B0aW9ucywge3Bvd2VyRG93bjogdHJ1ZX0pKTtcbiAgfVxuXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XG4gICAgY29uc3QgcXVhcnRlciA9IHRoaXMuaGFsZldpZHRoIC8gMjtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICAodGhpcy54LXF1YXJ0ZXIpICogc2NhbGUsXG4gICAgICAodGhpcy55LShxdWFydGVyIC8gMikpICogc2NhbGUsXG4gICAgICB0aGlzLmhhbGZXaWR0aCAqIHNjYWxlLFxuICAgICAgcXVhcnRlciAqIHNjYWxlXG4gICAgKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJmdW5jdGlvbiBzaHVmZmxlKGFycikge1xuICBjb25zdCBhcnJheSA9IGFyci5zbGljZSgwKTtcbiAgbGV0IGNvdW50ZXIgPSBhcnJheS5sZW5ndGg7XG5cbiAgLy8gV2hpbGUgdGhlcmUgYXJlIGVsZW1lbnRzIGluIHRoZSBhcnJheVxuICB3aGlsZSAoY291bnRlciA+IDApIHtcbiAgICAgIC8vIFBpY2sgYSByYW5kb20gaW5kZXhcbiAgICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvdW50ZXIpO1xuXG4gICAgICAvLyBEZWNyZWFzZSBjb3VudGVyIGJ5IDFcbiAgICAgIGNvdW50ZXItLTtcblxuICAgICAgLy8gQW5kIHN3YXAgdGhlIGxhc3QgZWxlbWVudCB3aXRoIGl0XG4gICAgICBsZXQgdGVtcCA9IGFycmF5W2NvdW50ZXJdO1xuICAgICAgYXJyYXlbY291bnRlcl0gPSBhcnJheVtpbmRleF07XG4gICAgICBhcnJheVtpbmRleF0gPSB0ZW1wO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5jb25zdCBsaWIgPSB7XG4gIHNodWZmbGVcbn07XG5cbmNvbnNvbGUubG9nKCdsaWInLCBsaWIpO1xuXG5leHBvcnQgZGVmYXVsdCBsaWI7IiwiaW1wb3J0IHsgYm94MmQsIHV0aWxzIH0gZnJvbSAnZnJvemVuanMnO1xuaW1wb3J0IGNvbG9ycyBmcm9tICcuL2NvbG9ycyc7XG5pbXBvcnQgUG93ZXJVcCBmcm9tICcuL1Bvd2VyVXAnO1xuaW1wb3J0IFBvd2VyRG93biBmcm9tICcuL1Bvd2VyRG93bic7XG5pbXBvcnQgbGliIGZyb20gJy4vbGliJztcblxuY29uc3QgeyBlbnRpdGllcyB9ID0gYm94MmQ7XG5jb25zdCB7IHJhZGlhbnNGcm9tQ2VudGVyLCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLCBkaXN0YW5jZSB9ID0gdXRpbHM7XG5cblxuY29uc3QgcGxheWVyU3BlZWQgPSAwLjAwMjc7XG5jb25zdCBCUklDS19ERUFUSF9BTklNID0gMjUwMDtcbmNvbnN0IFNNQUxMX1RJTUUgPSAxMDAwMDtcblxuY29uc3QgY2VudGVyUG9pbnQgPSB7eDogMCwgeTogMH07XG5cbmNvbnN0IHJhbmRvbUFuZ2xlU3ByZWFkID0gKChNYXRoLlBJICogMikgLyAzNjApICogMS43NTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tQW5nbGVPZmZzZXQoKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpID8gLShNYXRoLnJhbmRvbSgpICogcmFuZG9tQW5nbGVTcHJlYWQpIDogTWF0aC5yYW5kb20oKSAqIHJhbmRvbUFuZ2xlU3ByZWFkO1xufVxuXG5cbmZ1bmN0aW9uIGV4cGxvZGVCcmljayhnYW1lLCBicmljaywgcGllY2VzLCBwbGF5U291bmQpIHtcbiAgY29uc3QgbGlsT3BzID0ge1xuICAgIHg6IGJyaWNrLnggKiAzMCxcbiAgICB5OiBicmljay55ICogMzAsXG4gICAgYnJpY2tQaWVjZTogdHJ1ZSxcbiAgICBsaWZlOiBCUklDS19ERUFUSF9BTklNLFxuICAgIHN0YXRpY0JvZHk6IGZhbHNlLFxuICAgIGRlbnNpdHk6IDAuMDAxLFxuICAgIHBsYXllcklkOiBicmljay5wbGF5ZXJJZCxcbiAgICBmaWxsU3R5bGU6IGNvbG9ycy5yZ2IoYnJpY2sucGxheWVySWQpLFxuICAgIGRyYXdDZW50ZXI6IGZhbHNlLFxuICAgIGRyYXdMb2NhdGlvbjogZmFsc2VcbiAgfTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IHBpZWNlczsgaSsrKXtcbiAgICBjb25zdCBsaWxiT3BzID0ge1xuICAgICAgaGFsZkhlaWdodDogYnJpY2suaGFsZkhlaWdodCAvICgoTWF0aC5yYW5kb20oKSAqIDIpICsgMi41KSxcbiAgICAgIGhhbGZXaWR0aDogYnJpY2suaGFsZldpZHRoIC8gKChNYXRoLnJhbmRvbSgpICogMikgKyAyLjUpLFxuICAgIH07XG4gICAgY29uc3QgbGlsQiA9IG5ldyBlbnRpdGllcy5SZWN0YW5nbGUoT2JqZWN0LmFzc2lnbih7fSwgbGlsT3BzLCBsaWxiT3BzKSk7XG4gICAgZ2FtZS5hZGRCb2R5KGxpbEIpO1xuICAgIGdhbWUuYm94LnNldEFuZ2xlKGxpbEIuaWQsIE1hdGgucmFuZG9tKCkgKiAoTWF0aC5QSSAqIDIpKTtcbiAgICBnYW1lLmJveC5hcHBseUltcHVsc2UobGlsQi5pZCwgTWF0aC5yYW5kb20oKSAqIChNYXRoLlBJICogMiksIDMwKTtcbiAgfVxuICBpZihwbGF5U291bmQpIHtcbiAgICBjb25zdCByYW5kRXhwbG9zaW9uID0gZ2FtZS5zb3VuZHMuZXhwbG9zaW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBnYW1lLnNvdW5kcy5leHBsb3Npb25zLmxlbmd0aCldO1xuICAgIHJhbmRFeHBsb3Npb24ucGxheSgwLjIpO1xuICB9XG4gIFxufVxuXG5mdW5jdGlvbiB1cGRhdGUobWlsbGlzKSB7XG4gIHRoaXMudXBkYXRlQm94KG1pbGxpcyk7XG4gIGNvbnN0IHsgc2NhbGVXLCBzY2FsZUggfSA9IHRoaXMubWVhc3VyZW1lbnRzO1xuXG4gIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLmZvckVhY2goKGspID0+IHtcbiAgICBjb25zdCBlbnQgPSB0aGlzLmVudGl0aWVzW2tdO1xuICAgIGlmKGVudC5icmlja1BpZWNlKSB7XG4gICAgICBlbnQubGlmZSA9IGVudC5saWZlIC0gbWlsbGlzO1xuICAgICAgaWYoZW50LmxpZmUgPCAwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQm9keShlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW50LmZpbGxTdHlsZSA9IGNvbG9ycy5yZ2JhKGVudC5wbGF5ZXJJZCwgZW50LmxpZmUgLyBCUklDS19ERUFUSF9BTklNICogMC42KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoZW50LnBvd2VyKSB7XG4gICAgICBpZihlbnQueCA8IDAgfHwgZW50LnkgPCAwIHx8IGVudC54ID4gc2NhbGVXIHx8IGVudC55ID4gc2NhbGVIICkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnS0lMTCBQT1dFUicsIGVudCk7XG4gICAgICAgIHRoaXMucmVtb3ZlQm9keShlbnQpO1xuICAgICAgfVxuICAgICAgaWYoZW50LmNvbGxpc2lvbnMgJiYgZW50LmNvbGxpc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBoaXRQYWRkbGUgPSBmYWxzZTsgLy9UT0RPIG1ha2UgcG93ZXJ1cHMgbm90IGhpdCBlYWNob3RoZXJcbiAgICAgICAgZW50LmNvbGxpc2lvbnMuZm9yRWFjaCgoZXQpID0+IHtcbiAgICAgICAgICBpZih0aGlzLmVudGl0aWVzW2V0LmlkXS5wYWRkbGUpIHtcbiAgICAgICAgICAgIGhpdFBhZGRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoaGl0UGFkZGxlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0dPVCBUSEUgUE9XRVInLCBlbnQpO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShlbnQpO1xuICAgICAgICAgIGlmKGVudC5wb3dlclVwKSB7XG4gICAgICAgICAgICB0aGlzLnNvdW5kcy5wb3dlcnVwLnBsYXkoKTtcbiAgICAgICAgICAgIC8vVE9ETyBicmVhayB0aGlzIG91dCBpbnRvIGFuIGludGVyYWNlXG4gICAgICAgICAgICBjb25zdCBwQnJpY2tzID0gbGliLnNodWZmbGUoT2JqZWN0LmtleXModGhpcy5lbnRpdGllcykucmVkdWNlKChhY2MsIGIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbWF5YmVCcmljayA9IHRoaXMuZW50aXRpZXNbYl07XG4gICAgICAgICAgICAgIGlmKG1heWJlQnJpY2suYnJpY2sgJiYgbWF5YmVCcmljay5wbGF5ZXJJZCA9PT0gZW50LnBsYXllcklkKSB7XG4gICAgICAgICAgICAgICAgYWNjLnB1c2gobWF5YmVCcmljayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIFtdKSk7XG4gICAgICAgICAgICBbMCwxLDIsM10uZm9yRWFjaCgoaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGlmKHBCcmlja3NbaWR4XSkge1xuICAgICAgICAgICAgICAgIHBCcmlja3NbaWR4XS5oaXRQb2ludHMgKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc291bmRzLnBvd2VyZG93bi5wbGF5KCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbZW50LnBsYXllcklkXS5zbWFsbFRpbWUgPSBTTUFMTF9USU1FO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnaGl0IG90aGVyIHBhZGRsZScsIGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZih0aGlzLmJhbGwpIHtcbiAgICBcbiAgICBpZih0aGlzLmJhbGwuY29sbGlzaW9ucyAmJiB0aGlzLmJhbGwuY29sbGlzaW9ucy5sZW5ndGgpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ2JhbGwnLCB0aGlzLmJhbGwuY29sbGlzaW9ucyk7XG4gICAgICB0aGlzLmJhbGwuY29sbGlzaW9ucy5mb3JFYWNoKChldCkgPT4ge1xuICAgICAgICBjb25zdCBlbnQgPSB0aGlzLmVudGl0aWVzW2V0LmlkXTtcbiAgICAgICAgaWYoZW50KSB7XG4gICAgICAgICAgaWYoZW50LmJyaWNrKSB7XG4gICAgICAgICAgICBlbnQuaGl0UG9pbnRzLS07XG4gICAgICAgICAgICBpZihlbnQuaGl0UG9pbnRzIDwgMSApIHtcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGV0KTtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnYnJpY2sga2lsbCcsIGVudCk7XG4gICAgICAgICAgICAgIGV4cGxvZGVCcmljayh0aGlzLCBlbnQsIDYsIHRydWUpO1xuICAgICAgICAgICAgICBpZihlbnQucG93ZXJVcCB8fCBlbnQucG93ZXJEb3duICYmIHRoaXMuYmFsbC5oaXRQbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5iYWxsLmhpdFBsYXllcjtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdoaXRwbGF5ZXInLCBwLCBwLnBsYXllcklkKTtcbiAgICAgICAgICAgICAgICBpZihwICYmICFwLmRlYWQgJiYgZW50LnBsYXllcklkICE9PSBwLnBsYXllcklkICYmICFwLmRlYWQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZEFuY2hvciA9IHt4OiAocC5wYWRkbGVzWzBdLnggKyBwLmFuY2hvci54KSAvIDIsIHk6IChwLnBhZGRsZXNbMF0ueSArIHAuYW5jaG9yLnkpIC8gMn07XG4gICAgICAgICAgICAgICAgICBjb25zdCBwb3dlckFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIoZW50LCBwYWRBbmNob3IpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWFzayA9ICgxIDw8ICg4ICsgcC5wbGF5ZXJJZCkpO1xuICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncG93ZXIhJywgZW50LCBwLCBtYXNrLCBwLnBsYXllcklkKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VyT3BzID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBlbnQueCAqIHRoaXMuYm94LnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICB5OiBlbnQueSAqIHRoaXMuYm94LnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogcC5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlCaXRzOiBtYXNrLFxuICAgICAgICAgICAgICAgICAgICBtYXNrQml0czogbWFzayxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IHAucGxheWVySWQsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncG93ZXJvcHMnLCBwb3dlck9wcyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBwb3dlciA9IGVudC5wb3dlclVwID8gbmV3IFBvd2VyVXAocG93ZXJPcHMpIDogbmV3IFBvd2VyRG93bihwb3dlck9wcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFkZEJvZHkocG93ZXIpXG4gICAgICAgICAgICAgICAgICB0aGlzLmJveC5hcHBseUZvcmNlKHBvd2VyLmlkLCBwb3dlckFuZ2xlLCA0MDApO1xuICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbWFza3MnLCBwb3dlci5tYXNrQml0cyAmIGVudC5jYXRlZ29yeUJpdHMsIHBvd2VyLmNhdGVnb3J5Qml0cyAmIGVudC5tYXNrQml0cywgcG93ZXIsIGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGVudC5raW5nKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdraW5nIGtpbGwnLCBlbnQpO1xuICAgICAgICAgICAgdGhpcy5zb3VuZHMuc2NyZWFtLnBsYXkoKTtcbiAgICAgICAgICAgIGVudC5kZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tlbnQucGxheWVySWRdLmRlYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmVudGl0aWVzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGJyaWNrID0gdGhpcy5lbnRpdGllc1trXTtcbiAgICAgICAgICAgICAgaWYoYnJpY2suYnJpY2sgJiYgYnJpY2sucGxheWVySWQgPT09IGVudC5wbGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShicmljayk7XG4gICAgICAgICAgICAgICAgZXhwbG9kZUJyaWNrKHRoaXMsIGJyaWNrLCAzLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMucGxheWVyc1tlbnQucGxheWVySWRdLnBhZGRsZXMuZm9yRWFjaCgocGFkKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShwYWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keShlbnQpOyAvL3JlbW92ZSBmYWNlLCBidXQgd2lsbCBzdGlsbCBkcmF3IGl0XG5cbiAgICAgICAgICAgIFxuICAgICAgICAgIH0gZWxzZSBpZiAoZW50LnBhZGRsZSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5wbGF5ZXJzW2VudC5wbGF5ZXJJZF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGJhbGxmcm9tQW5jaG9yID0gZGlzdGFuY2UocC5hbmNob3IsIHRoaXMuYmFsbCk7XG4gICAgICAgICAgICBjb25zdCBwYWRkbGVGcm9tQW5jaG9yID0gZGlzdGFuY2UocC5hbmNob3IsIGVudCk7XG5cbiAgICAgICAgICAgIC8vaWdub3JlIGhpdHMgdG8gYm90dG9tIG9mIHBhZGRsZVxuICAgICAgICAgICAgaWYoYmFsbGZyb21BbmNob3IgPiBwYWRkbGVGcm9tQW5jaG9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuYmFsbC5oaXRQbGF5ZXIgPSBwO1xuICAgICAgICAgICAgICB0aGlzLmJhbGwuaGl0UGFkZGxlID0gZW50O1xuICAgICAgICAgICAgICBpZihwLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBhZGRsZVBvc2l0aW9uID0gcC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY2F1Z2h0UGxheWVySWQgPSBlbnQucGxheWVySWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNhdWdodFBvc2l0aW9uID0ge3g6IHRoaXMuYmFsbC54LCB5OiB0aGlzLmJhbGwueX07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJyVjIE9oIG15IGhlYXZlbnMhICcsICdiYWNrZ3JvdW5kOiAjMjIyOyBjb2xvcjogI2JhZGE1NScpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnJWNwYWRkbGVoaXQgJyArIGVudC5wbGF5ZXJJZCwgJ2ZvbnQtc2l6ZTogMS41ZW07IGJhY2tncm91bmQ6ICMyMjI7IGNvbG9yOiAnICsgdGhpcy5wbGF5ZXJzW2VudC5wbGF5ZXJJZF0uY29sb3IpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbnQud2FsbCkge1xuICAgICAgICAgICAgdGhpcy5iYWxsLndhbGxIaXRzKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFsbC53YWxsSGl0cyA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSk7XG4gICAgICBcblxuICAgICAgdGhpcy5yZW1vdmVCb2R5KHRoaXMuYmFsbCk7XG4gICAgICB0aGlzLmJhbGwuYW5ndWxhclZlbG9jaXR5ID0gbnVsbDtcbiAgICAgIHRoaXMuYmFsbC5wcmV2TGluZWFyVmVsb2NpdHkgPSB0aGlzLmJhbGwubGluZWFyVmVsb2NpdHk7XG4gICAgICB0aGlzLmJhbGwubGluZWFyVmVsb2NpdHkgPSBudWxsO1xuICAgICAgaWYodGhpcy5iYWxsLmNhdWdodCkge1xuICAgICAgICBjb25zdCBjYXVnaHRQbGF5ZXIgPSB0aGlzLnBsYXllcnNbdGhpcy5iYWxsLmNhdWdodFBsYXllcklkXTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25EZWx0YSA9IGNhdWdodFBsYXllci5wb3NpdGlvbiAtIHRoaXMuYmFsbC5jYXVnaHRQYWRkbGVQb3NpdGlvbiArIChNYXRoLlBJICogMik7XG4gICAgICAgIGNvbnN0IG5ld0JhbGxMb2MgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNhdWdodFBsYXllci5hbmNob3IsIHRoaXMuYmFsbC5jYXVnaHRQb3NpdGlvbiwgcG9zaXRpb25EZWx0YSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYXVnaHQnLCBwb3NpdGlvbkRlbHRhLCBuZXdCYWxsTG9jKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYmFsbC54ID0gbmV3QmFsbExvYy54O1xuICAgICAgICB0aGlzLmJhbGwueSA9IG5ld0JhbGxMb2MueTtcbiAgICAgICAgaWYoY2F1Z2h0UGxheWVyLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgICAgLy9zdGlsbCBjYXVnaHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmJhbGwuY2F1Z2h0ID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgYnJpY2tzTGVmdCA9IHRoaXMuZ2V0QnJpY2tzTGVmdCgpO1xuICAgICAgICAgIGNvbnN0IG5ld1NwZWVkID0gdGhpcy5iYWxsU3BlZWQgKyAoMzMwIC0gYnJpY2tzTGVmdCk7IC8vIHNwZWVkIHVwIGFzIGJyaWNrcyBnbyBhd2F5XG4gICAgICAgICAgdGhpcy5hZGRCb2R5KHRoaXMuYmFsbCk7XG4gICAgICAgICAgY29uc3QgcGFkZGxlQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsLmhpdFBsYXllci5wYWRkbGVzWzBdKTtcbiAgICAgICAgICBjb25zdCBiYWxsQW5nbGUgPSByYWRpYW5zRnJvbUNlbnRlcih0aGlzLmJhbGwuaGl0UGxheWVyLmFuY2hvciwgdGhpcy5iYWxsKTtcbiAgICAgICAgICBjb25zdCBkZWx0YSA9IHBhZGRsZUFuZ2xlIC0gYmFsbEFuZ2xlO1xuICAgICAgICAgIHRoaXMuYm94LmFwcGx5Rm9yY2UodGhpcy5iYWxsLmlkLCBwYWRkbGVBbmdsZSAtIChkZWx0YSAqIDUpLCBuZXdTcGVlZCk7XG4gICAgICAgICAgdGhpcy5iYWxsLmhpdFBhZGRsZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJyaWNrc0xlZnQgPSB0aGlzLmdldEJyaWNrc0xlZnQoKTtcbiAgICAgICAgY29uc3QgbmV3U3BlZWQgPSB0aGlzLmJhbGxTcGVlZCArICgzMzAgLSBicmlja3NMZWZ0KTsgLy8gc3BlZWQgdXAgYXMgYnJpY2tzIGdvIGF3YXlcbiAgICAgICAgY29uc3QgYW5nbGVPZmZzZXQgPSBnZXRSYW5kb21BbmdsZU9mZnNldCgpO1xuICAgICAgICB0aGlzLmFkZEJvZHkodGhpcy5iYWxsKTtcbiAgICAgICAgaWYodGhpcy5iYWxsLmhpdFBhZGRsZSkge1xuICAgICAgICAgIGNvbnN0IHBhZGRsZUFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5iYWxsLmhpdFBsYXllci5hbmNob3IsIHRoaXMuYmFsbC5oaXRQbGF5ZXIucGFkZGxlc1swXSk7XG4gICAgICAgICAgY29uc3QgYmFsbEFuZ2xlID0gcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5iYWxsLmhpdFBsYXllci5hbmNob3IsIHRoaXMuYmFsbCk7XG4gICAgICAgICAgY29uc3QgZGVsdGEgPSBwYWRkbGVBbmdsZSAtIGJhbGxBbmdsZTtcbiAgICAgICAgICB0aGlzLmJveC5hcHBseUZvcmNlKHRoaXMuYmFsbC5pZCwgcGFkZGxlQW5nbGUgLSAoZGVsdGEgKiA1KSArIGFuZ2xlT2Zmc2V0LCBuZXdTcGVlZCk7XG4gICAgICAgICAgdGhpcy5iYWxsLmhpdFBhZGRsZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5zb3VuZHMucGFkZGxlLnBsYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYmFsbGhpdHMnLCB0aGlzLmJhbGwud2FsbEhpdHMsIGFuZ2xlT2Zmc2V0LCBhbmdsZU9mZnNldCAqIHRoaXMuYmFsbC53YWxsSGl0cyk7XG4gICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gcmFkaWFuc0Zyb21DZW50ZXIoY2VudGVyUG9pbnQsIHRoaXMuYmFsbC5wcmV2TGluZWFyVmVsb2NpdHkpO1xuICAgICAgICAgIHRoaXMuYm94LmFwcGx5Rm9yY2UodGhpcy5iYWxsLmlkLCBkaXJlY3Rpb24gKyBhbmdsZU9mZnNldCArIChhbmdsZU9mZnNldCAqIHRoaXMuYmFsbC53YWxsSGl0cyksIG5ld1NwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBcblxuICAgIH0gZWxzZSB7XG4gICAgICAvL3JlZ3VsYXRlIGJhbGwgc3BlZWQ7XG4gIFxuICAgIH1cbiAgfVxuICBcblxuXG4gIGdhbWUucGxheWVycy5mb3JFYWNoKChwLCBpZHgpID0+IHtcbiAgICBpZighcC5mYWNlLmRlYWQpIHtcbiAgICAgIGlmKHAuZGlyZWN0aW9uID4gMCAmJiBwLnBvc2l0aW9uIDwgTWF0aC5QSSkge1xuICAgICAgICBwLnBvc2l0aW9uICs9IChwbGF5ZXJTcGVlZCAqIG1pbGxpcyk7XG4gICAgICAgIHAucG9zaXRpb24gPSBNYXRoLm1pbihwLnBvc2l0aW9uLCBNYXRoLlBJKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYocC5kaXJlY3Rpb24gPCAwICYmIHAucG9zaXRpb24gPiAwKSB7XG4gICAgICAgIHAucG9zaXRpb24gLT0gKHBsYXllclNwZWVkICogbWlsbGlzKTtcbiAgICAgICAgcC5wb3NpdGlvbiA9IE1hdGgubWF4KHAucG9zaXRpb24sIDApO1xuICAgICAgfVxuXG4gICAgICBsZXQgcGFkZGxlU2l6ZSA9IDE7XG4gICAgICBpZihwLnNtYWxsVGltZSA+IDApIHtcbiAgICAgICAgcC5zbWFsbFRpbWUgPSBwLnNtYWxsVGltZSAtIG1pbGxpcztcbiAgICAgICAgcGFkZGxlU2l6ZSA9IDAuNTtcbiAgICAgIH1cblxuICAgICAgLy9jb25zdCBuZXdQYWRkbGVQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIocC5hbmNob3IsIHt4OiBwLmFuY2hvci54LCB5OiBwLmFuY2hvci55ICsgKGRpc3RGcm9tQW5jaG9yIC8gMzApfSwgcC5hbmdsZSArIHAucG9zaXRpb24gLSAoTWF0aC5QSSAvIDIpKTtcbiAgICAgIGNvbnN0IG5ld1BhZGRsZVB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwLnB0LCB7eDogcC5wdC54LCB5OiBwLnB0LnkgKyB0aGlzLmRpc3RGcm9tQW5jaG9yfSwgcC5hbmdsZSArIHAucG9zaXRpb24gLSAoTWF0aC5QSSAvIDIpKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGFkZGxlT3BzID0gcC5wYWRkbGVPcHM7IC8vIE9iamVjdC5hc3NpZ24oe30sIHAucGFkZGxlT3BzLCBuZXdQYWRkbGVQdCk7XG4gICAgICBwYWRkbGVPcHMueCA9IG5ld1BhZGRsZVB0Lng7XG4gICAgICBwYWRkbGVPcHMueSA9IG5ld1BhZGRsZVB0Lnk7XG4gICAgICBcblxuICAgICAgcGFkZGxlT3BzLnBvaW50cyA9IFtcbiAgICAgICAge3g6IHBhZGRsZU9wcy5oYWxmV2lkdGggKiBwYWRkbGVTaXplLCB5OiAtcGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgICAgICB7eDogcGFkZGxlT3BzLmhhbGZXaWR0aCAqIDAuNyAqIHBhZGRsZVNpemUsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0IC8gMn0sXG4gICAgICAgIHt4OiBwYWRkbGVPcHMuaGFsZldpZHRoICogMC40ICogcGFkZGxlU2l6ZSwgeTogcGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgICAgICB7eDogLXBhZGRsZU9wcy5oYWxmV2lkdGggKiAwLjQgKiBwYWRkbGVTaXplLCB5OiBwYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICAgIHt4OiAtcGFkZGxlT3BzLmhhbGZXaWR0aCAqIDAuNyAqIHBhZGRsZVNpemUsIHk6IHBhZGRsZU9wcy5oYWxmSGVpZ2h0IC8gMn0sXG4gICAgICAgIHt4OiAtcGFkZGxlT3BzLmhhbGZXaWR0aCAqIHBhZGRsZVNpemUsIHk6IC1wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAgICBdO1xuXG4gICAgICBpZihwLmZpcmVQcmVzc2VkKSB7XG4gICAgICAgIHBhZGRsZU9wcy5zdHJva2VTdHlsZSA9IHAuY29sb3JDb21wbGVtZW50O1xuICAgICAgICBwYWRkbGVPcHMubGluZVdpZHRoID0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZGRsZU9wcy5zdHJva2VTdHlsZSA9IHAuY29sb3I7XG4gICAgICAgIHBhZGRsZU9wcy5saW5lV2lkdGggPSAxO1xuICAgICAgfVxuICAgICAgXG4gICAgXG4gICAgICBwYWRkbGVPcHMucG9pbnRzID0gcC5wYWRkbGVPcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgICAgICByZXR1cm4gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXJQb2ludCwgb3BwdCwgcC5hbmdsZSArIHAucG9zaXRpb24gLSAoTWF0aC5QSSAvIDIpKTtcbiAgICAgIH0pO1xuICAgICAgcC51cGRhdGUrKztcbiAgICAgIHBhZGRsZU9wcy5pZCA9IGlkeCArICdwYWRkbGUnICsgcC51cGRhdGU7IFxuICAgICAgY29uc3QgcGFkZGxlID0gbmV3IGVudGl0aWVzLlBvbHlnb24ocGFkZGxlT3BzKTtcbiAgICAgIC8vY29uc3QgcGFkZGxlMiA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKE9iamVjdC5hc3NpZ24oe30sIHBhZGRsZU9wcywge2lkOiBwLnBhZGRsZTIuaWR9KSk7XG4gICAgICAvL2dhbWUucmVtb3ZlQm9keShwLnBhZGRsZSk7XG4gICAgICAvL2dhbWUucmVtb3ZlQm9keShwLnBhZGRsZTIpO1xuICAgICAgZ2FtZS5hZGRCb2R5KHBhZGRsZSk7XG4gICAgICAvL2dhbWUuYWRkQm9keShwYWRkbGUyKTtcbiAgICAgIHAucGFkZGxlcy5wdXNoKHBhZGRsZSk7XG4gICAgICBpZihwLnBhZGRsZXMubGVuZ3RoID4gMykge1xuICAgICAgICBjb25zdCBmaXJzdCA9IHAucGFkZGxlcy5zaGlmdCgpO1xuICAgICAgICBnYW1lLnJlbW92ZUJvZHkoZmlyc3QpO1xuICAgICAgfVxuICAgICAgXG5cbiAgICB9XG4gIH0pO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVwZGF0ZTsiLCJpbXBvcnQgQ2lyY2xlIGZyb20gJ2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZSc7XG5pbXBvcnQgcmFkaWFuc0Zyb21DZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInO1xuaW1wb3J0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcic7XG5cbmNvbnN0IG9yaWdpbiA9IHt4OiAwLCB5OiAwfTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFsbCBleHRlbmRzIENpcmNsZSB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIC8vIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIC8vIGN0eC5zYXZlKCk7XG4gICAgLy8gY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIC8vIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgLy8gY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIC8vIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIHRoaXMueCAqIHNjYWxlIC0gKHRoaXMuaW1nLndpZHRoIC8gMiksIHRoaXMueSAqIHNjYWxlIC0gKHRoaXMuaW1nLmhlaWdodCAvIDIpKTtcbiAgICAvLyBjdHgucmVzdG9yZSgpO1xuXG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgY29uc3QgeCA9IHRoaXMueCAqIHNjYWxlO1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgKiBzY2FsZTtcbiAgICBjb25zdCByYWRpdXMgPSB0aGlzLnB0UmFkaXVzOyAvLyAvIHNjYWxlO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTI3LDAsMC42NiknO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgaWYodGhpcy5saW5lYXJWZWxvY2l0eSkge1xuICAgICAgY29uc3QgdGFpbERpc3J1cHRpb24gPSAwLjA2O1xuICAgICAgY29uc3QgdGFpbERpc3QgPSAwLjg1O1xuXG4gICAgICBjb25zdCByYWRzID0gcmFkaWFuc0Zyb21DZW50ZXIob3JpZ2luLCB0aGlzLmxpbmVhclZlbG9jaXR5KTtcbiAgICAgIGNvbnN0IGNlbnRlciA9IHt4LCB5fTtcbiAgICAgIGNvbnN0IHRhaWxTZWdtZW50cyA9IHRoaXMuY2F1Z2h0ID8gWzEsIDJdIDogWzEsIDIsIDMsIDQsIDVdO1xuICAgICAgY29uc3QgdGFpbHMgPSB0YWlsU2VnbWVudHMubWFwKCh0LCBpZHgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyLCB7eCwgeTogeSAtIChyYWRpdXMgKiAodGFpbERpc3QgKiB0KSl9LCByYWRzICsgTWF0aC5QSSArICh0ICUgMiA/IHRhaWxEaXNydXB0aW9uIDogLXRhaWxEaXNydXB0aW9uKSk7XG4gICAgICB9KTtcblxuICAgICAgXG4gICAgICB0YWlscy5mb3JFYWNoKCh0LCBpZHgpID0+IHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMCwwLjUpJztcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHQueCwgdC55LCByYWRpdXMgLSAocmFkaXVzICogKChpZHggKyAxKSAqIDAuMTUpKSwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9KTtcbiAgICAgIFxuXG5cbiAgICB9XG5cbiAgICBcblxuXG4gICAgXG4gICAgXG5cbiAgfVxufVxuIiwiXG5jb25zb2xlLmxvZygnd3RmIHRvbyBtYW55IGJyaWNrcz8nKTtcblxubGV0IGJyaWNrcyA9IFtcbiAgWzYsMV0sWzEwLDFdLFsxNCwxXSxbMzQsMV0sWzM4LDFdLFs0MiwxXSxcbiAgWzgsM10sWzEyLDNdLFsxNiwzXSxbMzIsM10sWzM2LDNdLFs0MCwzXSxcbiAgWzYsNV0sWzEwLDVdLFsxNCw1XSxbMzQsNV0sWzM4LDVdLFs0Miw1XSxcbiAgWzgsN10sWzEyLDddLFsxNiw3XSxbMzIsN10sWzM2LDddLFs0MCw3XSxcbiAgWzEwLDldLFsxNCw5XSxbMTgsOV0sWzMwLDldLFszNCw5XSxbMzgsOV0sXG4gIFsxMiwxMV0sWzE2LDExXSxbMjAsMTFdLFsyNCwxMV0sWzI4LDExXSxbMzIsMTFdLFszNiwxMV0sXG4gIFsxNCwxM10sWzE4LDEzXSxbMjIsMTNdLFsyNiwxM10sWzMwLDEzXSxbMzQsMTNdLFxuICBbMTIsMTVdLFsxNiwxNV0sWzIwLDE1XSxbMjQsMTVdLFsyOCwxNV0sWzMyLDE1XSxbMzYsMTVdLFxuICBbMTgsMTddLFsyMiwxN10sWzI2LDE3XSxbMzAsMTddLFxuICBbMjQsMTldXG5dO1xuXG5cbmJyaWNrcyA9IGJyaWNrcy5tYXAoKGIpID0+IHtcbiAgYiA9IFtiWzBdICogMTIuNSwgYlsxXSAqIDEyLjVdO1xuICBiWzBdID0gYlswXSAtIDMwMDtcbiAgcmV0dXJuIGI7XG59KTtcblxuXG5leHBvcnQgZGVmYXVsdCBicmlja3M7XG4iLCJpbXBvcnQgUG9seWdvbiBmcm9tICdmcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9Qb2x5Z29uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJpY2sgZXh0ZW5kcyBQb2x5Z29uIHtcbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgY29uc3Qgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIFxuICAgIGN0eC5zYXZlKCk7XG4gICAgLy9jdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgY3R4LmxpbmVKb2luID0gXCJyb3VuZFwiO1xuICAgIGlmKHRoaXMuaGl0UG9pbnRzID4gMikge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRUVFJztcbiAgICB9IGVsc2UgaWYodGhpcy5oaXRQb2ludHMgPiAxKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJyNBQUEnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsdGhpcy5wcmV5LCAwLCB0aGlzLnByZXkgKyB0aGlzLmhhbGZIZWlnaHQgKiAyKTtcblxuICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBjdHguZmlsbFN0eWxlKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgJyM0NDQnKTtcblxuICAgIGN0eC50cmFuc2xhdGUodGhpcy5wcmV4LCB0aGlzLnByZXkpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5wcmVBbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMucHJleCksIC0odGhpcy5wcmV5KSk7XG4gICAgLy9cbiAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB0aGlzLnByZXgtdGhpcy5oYWxmV2lkdGgsXG4gICAgICB0aGlzLnByZXktdGhpcy5oYWxmSGVpZ2h0LFxuICAgICAgdGhpcy5oYWxmV2lkdGgqMixcbiAgICAgIHRoaXMuaGFsZkhlaWdodCoyXG4gICAgKTtcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgIHRoaXMucHJleC10aGlzLmhhbGZXaWR0aCxcbiAgICAgIHRoaXMucHJleS10aGlzLmhhbGZIZWlnaHQsXG4gICAgICB0aGlzLmhhbGZXaWR0aCoyLFxuICAgICAgdGhpcy5oYWxmSGVpZ2h0KjJcbiAgICApO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIC8vc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfVxufVxuIiwiaW1wb3J0IENpcmNsZSBmcm9tICdmcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9DaXJjbGUnO1xuXG5pbXBvcnQgcmFkaWFuc0Zyb21DZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInO1xuaW1wb3J0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhY2UgZXh0ZW5kcyBDaXJjbGUge1xuICBkcmF3KGN0eCwgc2NhbGUpIHtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICBjb25zdCBzY2FsZWRYID0gdGhpcy54ICogc2NhbGU7XG4gICAgY29uc3Qgc2NhbGVkWSA9IHRoaXMueSAqIHNjYWxlO1xuICAgIGNvbnN0IG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5kZWFkID8gdGhpcy5kZWFkRmlsbFN0eWxlIDogdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5kZWFkID8gdGhpcy5maWxsU3R5bGUgOiB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHNjYWxlZFgsIHNjYWxlZFksIHRoaXMucmFkaXVzICogc2NhbGUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICBjb25zdCBsZWZ0RXllID0ge3g6IHNjYWxlZFggLSAxNywgeTogc2NhbGVkWSAtIDE1fTtcbiAgICBjb25zdCByaWdodEV5ZSA9IHt4OiBzY2FsZWRYICsgMTcsIHk6IHNjYWxlZFkgLSAxNX07XG5cbiAgICBpZighdGhpcy5kZWFkKSB7XG4gICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRic7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKHNjYWxlZFggLSAxNywgc2NhbGVkWSAtIDE1LCAxMCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyhzY2FsZWRYICsgMTcsIHNjYWxlZFkgLSAxNSwgMTAsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIGNvbnN0IHJhZHNMID0gcmFkaWFuc0Zyb21DZW50ZXIobGVmdEV5ZSwge3g6IHRoaXMuYmFsbC54ICogc2NhbGUsIHk6IHRoaXMuYmFsbC55ICogc2NhbGV9KTtcbiAgICAgIGNvbnN0IHJhZHNSID0gcmFkaWFuc0Zyb21DZW50ZXIocmlnaHRFeWUsIHt4OiB0aGlzLmJhbGwueCAqIHNjYWxlLCB5OiB0aGlzLmJhbGwueSAqIHNjYWxlfSk7XG5cbiAgICAgIGNvbnN0IGxJcmlzID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihsZWZ0RXllLCB7eDogc2NhbGVkWCAtIDE3LCB5OiBzY2FsZWRZIC0gMjB9LCByYWRzTCk7XG4gICAgICBjb25zdCBySXJpcyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIocmlnaHRFeWUsIHt4OiBzY2FsZWRYICsgMTcsIHk6IHNjYWxlZFkgLSAyMH0sIHJhZHNSKTtcblxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKGxJcmlzLngsIGxJcmlzLnksIDYsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIGN0eC5maWxsKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMocklyaXMueCwgcklyaXMueSwgNiwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcblxuICAgICAgLy8gY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhsZWZ0RXllLnggLSAxMCwgbGVmdEV5ZS55IC0gMTApO1xuICAgICAgY3R4LmxpbmVUbyhsZWZ0RXllLnggKyAxMCwgbGVmdEV5ZS55ICsgMTApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKGxlZnRFeWUueCArIDEwLCBsZWZ0RXllLnkgLSAxMCk7XG4gICAgICBjdHgubGluZVRvKGxlZnRFeWUueCAtIDEwLCBsZWZ0RXllLnkgKyAxMCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8ocmlnaHRFeWUueCAtIDEwLCByaWdodEV5ZS55IC0gMTApO1xuICAgICAgY3R4LmxpbmVUbyhyaWdodEV5ZS54ICsgMTAsIHJpZ2h0RXllLnkgKyAxMCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8ocmlnaHRFeWUueCArIDEwLCByaWdodEV5ZS55IC0gMTApO1xuICAgICAgY3R4LmxpbmVUbyhyaWdodEV5ZS54IC0gMTAsIHJpZ2h0RXllLnkgKyAxMCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgXG5cbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG5cbiAgfVxufVxuIiwiaW1wb3J0IGtleXMgZnJvbSAnZnJvemVuanMva2V5cyc7XG5pbXBvcnQgcmFkaWFuc0Zyb21DZW50ZXIgZnJvbSAnZnJvemVuanMvdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInO1xuaW1wb3J0IHNjYWxlUG9pbnRzIGZyb20gJ2Zyb3plbmpzL3V0aWxzL3NjYWxlUG9pbnRzJztcblxuY29uc3Qgc3BlZWQgPSAxMDtcblxuZnVuY3Rpb24gaGFuZGxlRGlyZWN0aW9uKGdhbWUsIGZpcmVLZXkgLGxlZnRLZXksIHJpZ2h0S2V5LCBwbGF5ZXJJZCkge1xuICBsZXQgbFByZXNzZWQgPSBnYW1lLmlucHV0TWFuYWdlci5rZXlBY3Rpb25zW2xlZnRLZXldLmlzUHJlc3NlZCgpO1xuICBpZihnYW1lLmlucHV0TWFuYWdlci5rZXlBY3Rpb25zW2ZpcmVLZXldLmlzUHJlc3NlZCgpKSB7XG4gICAgZ2FtZS5wbGF5ZXJzW3BsYXllcklkXS5maXJlUHJlc3NlZCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgZ2FtZS5wbGF5ZXJzW3BsYXllcklkXS5maXJlUHJlc3NlZCA9IGZhbHNlO1xuICB9XG4gIGlmKGxQcmVzc2VkIHx8IGdhbWUuaW5wdXRNYW5hZ2VyLmtleUFjdGlvbnNbcmlnaHRLZXldLmlzUHJlc3NlZCgpKSB7XG4gICAgaWYobFByZXNzZWQpIHtcbiAgICAgIHJldHVybiBnYW1lLnBsYXllcnNbcGxheWVySWRdLmRpcmVjdGlvbiA9IC0xO1xuICAgIH1cbiAgICByZXR1cm4gZ2FtZS5wbGF5ZXJzW3BsYXllcklkXS5kaXJlY3Rpb24gPSAxO1xuICB9IFxuXG4gIGdhbWUucGxheWVyc1twbGF5ZXJJZF0uZGlyZWN0aW9uID0gMDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlSW5wdXQoaW0pIHtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsIGtleXMuU0xBU0gsIGtleXMuTEVGVCwga2V5cy5SSUdIVCwgMik7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnUScsICdXJywgJ0UnLCA1KTtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsICdYJywgJ0MnLCAnVicsIDQpO1xuICBoYW5kbGVEaXJlY3Rpb24odGhpcywgJ0InLCAnTicsICdNJywgMyk7XG4gIGhhbmRsZURpcmVjdGlvbih0aGlzLCAnVCcsICdZJywgJ1UnLCAwKTtcbiAgaGFuZGxlRGlyZWN0aW9uKHRoaXMsICdPJywgJ1AnLCBrZXlzLk9QRU5fQlJBQ0tFVCwgMSk7XG5cblxuICBpZihpbS5rZXlBY3Rpb25zW2tleXMuVVBdLmlzUHJlc3NlZCgpKXtcbiAgICB0aGlzLmJveC5hcHBseUltcHVsc2VEZWdyZWVzKCdiYWxsJywgMCwgc3BlZWQpO1xuICB9XG5cbiAgaWYoaW0ua2V5QWN0aW9uc1trZXlzLkRPV05dLmlzUHJlc3NlZCgpKXtcbiAgICB0aGlzLmJveC5hcHBseUltcHVsc2VEZWdyZWVzKCdiYWxsJywgMTgwLCBzcGVlZCk7XG4gIH1cblxuICBpZihpbS5rZXlBY3Rpb25zLkEuaXNQcmVzc2VkKCkpe1xuICAgIHRoaXMuYm94LmFwcGx5VG9ycXVlKCdiYWxsJywgLXNwZWVkICogMTAwKTtcbiAgfVxuXG4gIGlmKGltLmtleUFjdGlvbnMuRC5pc1ByZXNzZWQoKSl7XG4gICAgdGhpcy5ib3guYXBwbHlUb3JxdWUoJ2JhbGwnLCBzcGVlZCAgKiAxMDApO1xuICB9XG5cbiAgLy8gaWYoaW0ubW91c2VBY3Rpb24uaXNQcmVzc2VkKCkpe1xuICAvLyAgIHRoaXMuYm94LmFwcGx5SW1wdWxzZSgnYmFsbCcsIHJhZGlhbnNGcm9tQ2VudGVyKHRoaXMuZW50aXRpZXMuYmFsbCwgc2NhbGVQb2ludHMoaW0ubW91c2VBY3Rpb24ucG9zaXRpb24sIDEvdGhpcy5ib3guc2NhbGUpKSwgc3BlZWQpO1xuICAvLyB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZUlucHV0OyIsImltcG9ydCB7IGJveDJkLCB1dGlscywga2V5cyB9IGZyb20gJ2Zyb3plbmpzJztcblxuaW1wb3J0IGJveERhdGEgZnJvbSAnLi9ib3hEYXRhJztcbmltcG9ydCBkcmF3IGZyb20gJy4vZHJhdyc7XG5pbXBvcnQgdXBkYXRlIGZyb20gJy4vdXBkYXRlJztcbmltcG9ydCBCYWxsIGZyb20gJy4vQmFsbCc7XG5pbXBvcnQgcmF3QnJpY2tzIGZyb20gJy4vYnJpY2tzJztcbmltcG9ydCBjb2xvcnMgZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IEJyaWNrIGZyb20gJy4vQnJpY2snO1xuaW1wb3J0IEZhY2UgZnJvbSAnLi9GYWNlJztcbmltcG9ydCBoYW5kbGVJbnB1dCBmcm9tICcuL2hhbmRsZUlucHV0JztcbmltcG9ydCBsaWIgZnJvbSAnLi9saWInO1xuXG5jb25zb2xlLmxvZygnc2h1ZmZsZScsIGxpYik7XG5cbmNvbnN0IHsgQm94R2FtZSwgZW50aXRpZXMsIGpvaW50cyB9ID0gYm94MmQ7XG5jb25zdCB7IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIsIGRpc3RhbmNlIH0gPSB1dGlscztcblxuY29uc29sZS5sb2coJ3VwZGF0ZScsIHVwZGF0ZSk7XG5cbi8vIEZ1bGwgSEQgR2FtZSAhXG5jb25zdCBmdWxsVyA9IDE5MjA7XG5jb25zdCBmdWxsSCA9IDEwODA7XG5jb25zdCBoZXhTaWRlID0gNzgzLjc5NzczODQ0NDEzO1xuY29uc3Qgc2lkZVcgPSA1NjguMTAxMTMwNzc3Njk7XG5jb25zdCBzaW50MSA9IDU0MCAvIGhleFNpZGU7XG5jb25zdCBhbmcxID0gTWF0aC5hc2luKHNpbnQxKTtcbmNvbnN0IHNpbnQyID0gc2lkZVcgLyBoZXhTaWRlO1xuY29uc3QgYW5nMiA9IE1hdGguYXNpbihzaW50MilcbmNvbnNvbGUubG9nKCdhbmdsZSBpbiByYWRpYW5zJywgYW5nMSwgYW5nMik7XG5jb25zdCBjZW50ZXJQb2ludCA9IHt4OiAwLCB5OiAwfTtcblxuXG4vL3NldHVwIGEgR2FtZUNvcmUgaW5zdGFuY2VcbmNvbnN0IGdhbWUgPSBuZXcgQm94R2FtZSh7XG4gIGNhbnZhc0lkOiAnY2FudmFzJyxcbiAgZ2FtZUFyZWFJZDogJ2dhbWVBcmVhJyxcbiAgY2FudmFzUGVyY2VudGFnZTogMSxcbiAgYm94T3B0aW9uczoge3Jlc29sdmVDb2xsaXNpb25zOiB0cnVlLCBncmF2aXR5WTogMH0sXG4gIGRyYXcsXG4gIHVwZGF0ZSxcbiAgbG9hZFJlc291cmNlczogZnVuY3Rpb24ocm0pIHtcbiAgICBjb25zdCBleHBsb3Npb25zID0gW107XG4gICAgZXhwbG9zaW9ucy5wdXNoKHJtLmxvYWRTb3VuZCgnc291bmRzL2V4cGxvc2lvbjUnKSk7XG4gICAgZXhwbG9zaW9ucy5wdXNoKHJtLmxvYWRTb3VuZCgnc291bmRzL2V4cGxvc2lvbjcnKSk7XG4gICAgZXhwbG9zaW9ucy5wdXNoKHJtLmxvYWRTb3VuZCgnc291bmRzL2V4cGxvc2lvbjgnKSk7XG4gICAgdGhpcy5zb3VuZHMgPSB7XG4gICAgICBleHBsb3Npb25zLFxuICAgICAgc2NyZWFtOiBybS5sb2FkU291bmQoJ3NvdW5kcy9zY3JlYW0nKSxcbiAgICAgIHBhZGRsZTogcm0ubG9hZFNvdW5kKCdzb3VuZHMvcGFkZGxlJyksXG4gICAgICBwb3dlcnVwOiBybS5sb2FkU291bmQoJ3NvdW5kcy9wb3dlcnVwJyksXG4gICAgICBwb3dlcmRvd246IHJtLmxvYWRTb3VuZCgnc291bmRzL3Bvd2VyZG93bicpLFxuICAgIH07XG4gIH0sXG4gIGluaXRJbnB1dDogZnVuY3Rpb24oaW0pe1xuICAgIGltLmFkZEFycm93S2V5QWN0aW9ucygpO1xuICAgIGltLmFkZEtleUFjdGlvbihbJ0EnLCdEJywgXG4gICAgICAnUScsJ1cnLCdFJyxcbiAgICAgICdYJywnQycsJ1YnLFxuICAgICAgJ0InLCdOJywnTScsXG4gICAgICAnVCcsJ1knLCdVJyxcbiAgICAgICdPJywnUCcsIGtleXMuT1BFTl9CUkFDS0VULFxuICAgICAga2V5cy5TTEFTSF0pO1xuICB9LFxuICBoYW5kbGVJbnB1dCxcbiAgZ2V0QnJpY2tzTGVmdDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICBpZih0aGlzLmVudGl0aWVzW2tdLmJyaWNrKSB7XG4gICAgICAgICAgcmV0dXJuIGFjYyArIDE7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgMCk7XG4gIH0sXG4gIGRpc3RGcm9tQW5jaG9yOiAyOTUsXG4gIGJhbGxTcGVlZDogNDAwLFxufSk7XG5cbmNvbnN0IGJhbGxQcm9wcyA9IHtcbiAgeDogZnVsbFcgLyAyLFxuICB5OiBmdWxsSCAvIDIsXG4gIHB0UmFkaXVzOiAxMCxcbiAgcmFkaXVzOiAxMCxcbiAgcG9pbnRzOiBbMCwxLDIsMyw0LDUsNiw3LDhdLFxuICBpZDogJ2JhbGwnLFxuICB3YWxsSGl0czogMCxcbiAgaGlkZGVuOiB0cnVlXG59O1xuXG5iYWxsUHJvcHMucG9pbnRzID0gYmFsbFByb3BzLnBvaW50cy5tYXAoKHAsIGlkeCkgPT4ge1xuICBjb25zdCBuZXdQdCA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyUG9pbnQsIHt4OiAwLCB5OiBiYWxsUHJvcHMucHRSYWRpdXN9LCAoKE1hdGguUEkgKiAyKSAvIGJhbGxQcm9wcy5wb2ludHMubGVuZ3RoKSAqIGlkeCk7XG4gIHJldHVybiBuZXdQdFxufSk7XG5cbmdhbWUuYmFsbCA9IG5ldyBCYWxsKGJhbGxQcm9wcyk7XG5nYW1lLmFkZEJvZHkoZ2FtZS5iYWxsKTtcblxuICAvL2FkZCBldmVyeXRoaW5nIHRvIGJveCBmcm9tIHRoZSBib3hEYXRhXG5ib3hEYXRhLmVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcHMpe1xuICBwcm9wcy5tYXNrQml0cyA9IDE7XG4gIGNvbnN0IEVudGl0eSA9IGVudGl0aWVzW3Byb3BzLnR5cGVdO1xuICBpZihFbnRpdHkpe1xuICAgIHByb3BzLmRyYXdDZW50ZXIgPSBmYWxzZTtcbiAgICBnYW1lLmFkZEJvZHkobmV3IEVudGl0eShwcm9wcykpO1xuICB9XG59KTtcblxuXG5jb25zdCBwY3QgPSAwLjYwNDMxMjIzODk1NDc5MTg1ODM7IFxuXG5jb25zdCBhbmdzID0gW1xuICAwLFxuICBhbmcxLFxuICBhbmcyICsgKE1hdGguUEkvMiksXG4gIE1hdGguUEksXG4gIE1hdGguUEkgKyBhbmcxLFxuICAoTWF0aC5QSSAqIDEuNSkgKyBhbmcyXG5dO1xuXG5sZXQgYyA9IFtcbiAgW2Z1bGxXIC8gMiwgMF0sXG4gIFtmdWxsVyAtIChzaWRlVyAqIHBjdCksIChmdWxsSCAvIDIpICogKDEgLSBwY3QpXSxcbiAgW2Z1bGxXIC0gKHNpZGVXICogcGN0KSwgKGZ1bGxIIC8gMikgKyAoKGZ1bGxIIC8gMikgKiBwY3QpXSxcbiAgW2Z1bGxXIC8gMiwgZnVsbEhdLFxuICBbc2lkZVcgKiBwY3QsIChmdWxsSCAvIDIpICsgKChmdWxsSCAvIDIpICogcGN0KV0sXG4gIFtzaWRlVyAqIHBjdCwgKGZ1bGxIIC8gMikgKiAoMSAtIHBjdCldLFxuXTtcblxuY29uc3QgcGxheWVycyA9IGMubWFwKChjcHQsIGlkeCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHBsYXllcklkOiBpZHgsXG4gICAgcHQ6IHt4OiBjcHRbMF0sIHk6IGNwdFsxXX0sXG4gICAgY29sb3I6IGNvbG9ycy5yZ2IoaWR4KSxcbiAgICBjb2xvckNvbXBsZW1lbnQ6IGNvbG9ycy5jb21wbGVtZW50KGlkeCksXG4gICAgYW5nbGU6IGFuZ3NbaWR4XSxcbiAgICBkaXJlY3Rpb246IDAsXG4gICAgcG9zaXRpb246IE1hdGguUEkgLyAyLFxuICAgIHVwZGF0ZTogMCxcbiAgICBwYWRkbGVNYXNrQml0czogKDEgPDwgKDggKyBpZHgpKSArIDI1NSxcbiAgICBzbWFsbFRpbWU6IDAsXG4gICAgYmlnVGltZTogMCxcbiAgfVxufSk7XG5cbmNvbnNvbGUubG9nKCdwbGF5ZXJzJywgcGxheWVycyk7XG5cbmNvbnN0IG9yaWdpbiA9IHBsYXllcnNbMF0ucHQ7XG5cbnBsYXllcnMuZm9yRWFjaCgocCwgaWR4KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdjcmVhdGluZyBwbGF5ZXInLCBwKTtcbiAgY29uc3QgcHB0ID0gcC5wdDtcblxuICBjb25zdCBuZXdGYWNlUHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHBwdCwge3g6IHBwdC54LCB5OiBwcHQueSArIDU1fSwgcC5hbmdsZSk7XG4gIGNvbnN0IGNpciA9IG5ldyBGYWNlKHtcbiAgICB4OiBuZXdGYWNlUHQueCxcbiAgICB5OiBuZXdGYWNlUHQueSxcbiAgICByYWRpdXM6IDUwLFxuICAgIHN0YXRpY0JvZHk6IHRydWUsXG4gICAgcmVzdGl0dXRpb246IDIsXG4gICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgIGRlYWRGaWxsU3R5bGU6IGNvbG9ycy5yZ2JhKGlkeCwgMC4yNSksXG4gICAga2luZzogdHJ1ZSxcbiAgICBiYWxsOiBnYW1lLmJhbGwsXG4gICAgcGxheWVySWQ6IGlkeCxcbiAgfSk7XG4gIGdhbWUuYWRkQm9keShjaXIpO1xuICBwLmZhY2UgPSBjaXI7XG5cbiAgY29uc3QgbmV3UGFkZGxlUHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHBwdCwge3g6IHBwdC54LCB5OiBwcHQueSArIGdhbWUuZGlzdEZyb21BbmNob3J9LCBwLmFuZ2xlKTtcbiAgcC5wYWRkbGVPcHMgPSB7XG4gICAgeDogbmV3UGFkZGxlUHQueCxcbiAgICB5OiBuZXdQYWRkbGVQdC55LFxuICAgIGhhbGZXaWR0aDogNTUsXG4gICAgaGFsZkhlaWdodDogMTIsXG4gICAgcmVzdGl0dXRpb246IDEsXG4gICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgIHN0cm9rZVN0eWxlOiBwLmNvbG9yLFxuICAgIHBhZGRsZTogdHJ1ZSxcbiAgICBkcmF3Q2VudGVyOiBmYWxzZSxcbiAgICBwbGF5ZXJJZDogaWR4LFxuICAgIGRlbnNpdHk6IDEwMCxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIGlkOiBpZHggKyAncGFkZGxlMCcsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIGRyYXdMb2NhdGlvbjogZmFsc2UsXG4gICAgbWFza0JpdHM6IHAucGFkZGxlTWFza0JpdHMsXG4gICAgY2F0ZWdvcnlCaXRzOiBwLnBhZGRsZU1hc2tCaXRzXG4gIH07XG4gIHAucGFkZGxlT3BzLnBvaW50cyA9IFtcbiAgICB7eDogcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IHAucGFkZGxlT3BzLmhhbGZXaWR0aCwgeTogcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gICAge3g6IC1wLnBhZGRsZU9wcy5oYWxmV2lkdGgsIHk6IHAucGFkZGxlT3BzLmhhbGZIZWlnaHR9LFxuICAgIHt4OiAtcC5wYWRkbGVPcHMuaGFsZldpZHRoLCB5OiAtcC5wYWRkbGVPcHMuaGFsZkhlaWdodH0sXG4gIF07XG5cbiAgcC5wYWRkbGVPcHMucG9pbnRzID0gcC5wYWRkbGVPcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgIHJldHVybiByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKGNlbnRlclBvaW50LCBvcHB0LCBwLmFuZ2xlKTtcbiAgfSk7XG4gIGNvbnN0IHBhZGRsZSA9IG5ldyBlbnRpdGllcy5Qb2x5Z29uKHAucGFkZGxlT3BzKTtcbiAgZ2FtZS5hZGRCb2R5KHBhZGRsZSk7XG4gIHAucGFkZGxlcyA9IFtwYWRkbGVdO1xuXG4gIHAuYW5jaG9yID0gbmV3IGVudGl0aWVzLkNpcmNsZSh7XG4gICAgeDogcC5wdC54LFxuICAgIHk6IHAucHQueSxcbiAgICByYWRpdXM6IDAuMSxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIHBsYXllcklkOiBpZHgsXG4gICAgaGlkZGVuOiB0cnVlXG4gIH0pO1xuICBnYW1lLmFkZEJvZHkocC5hbmNob3IpO1xuXG4gIHBhZGRsZS5kaXN0YW5jZSA9IGRpc3RhbmNlKHAuYW5jaG9yLCBwYWRkbGUpO1xuXG4gIGNvbnN0IGNKb2ludCA9IG5ldyBqb2ludHMuRGlzdGFuY2Uoe2JvZHlJZDE6IHAuYW5jaG9yLmlkLCBib2R5SWQyOiBwYWRkbGUuaWQsIGlkOiBNYXRoLnJhbmRvbSgpICsgJ2onfSk7XG4gIGdhbWUuYWRkSm9pbnQoY0pvaW50KTtcblxuICBjb25zdCBwQnJpY2tzID0gcmF3QnJpY2tzLm1hcCgocmIsIGpkeCkgPT4ge1xuICAgIGNvbnN0IG9wcyA9IHtcbiAgICAgIHg6IHJiWzBdICsgKGZ1bGxXIC8gMiksXG4gICAgICB5OiByYlsxXSxcbiAgICAgIGhhbGZXaWR0aDogMjUsXG4gICAgICBoYWxmSGVpZ2h0OiAxMi41LFxuICAgICAgc3RhdGljQm9keTogdHJ1ZSxcbiAgICAgIHJlc3RpdHV0aW9uOiAxLjUsXG4gICAgICBwbGF5ZXJJZDogaWR4LFxuICAgICAgZmlsbFN0eWxlOiBwLmNvbG9yLFxuICAgICAgYnJpY2s6IHRydWUsXG4gICAgICBwcmVBbmdsZTogcC5hbmdsZSxcbiAgICAgIG1hc2tCaXRzOiAxLFxuICAgICAgY2F0ZWdvcnlCaXRzOiAxLFxuICAgICAgaGl0UG9pbnRzOiAxLFxuICAgIH07XG4gIFxuICAgIGNvbnN0IHB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihvcmlnaW4sIG9wcywgcC5hbmdsZSk7XG4gICAgXG4gICAgb3BzLnggPSBwdC54O1xuICAgIG9wcy55ID0gcHQueTtcbiAgXG4gIFxuICAgIG9wcy54ICs9IChwcHQueCAtIHBsYXllcnNbMF0ucHQueCk7XG4gICAgb3BzLnkgKz0gKHBwdC55IC0gcGxheWVyc1swXS5wdC55KTtcblxuICAgIG9wcy5wb2ludHMgPSBbXG4gICAgICB7eDogb3BzLmhhbGZXaWR0aCwgeTogLW9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgIHt4OiBvcHMuaGFsZldpZHRoLCB5OiBvcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogLW9wcy5oYWxmV2lkdGgsIHk6IG9wcy5oYWxmSGVpZ2h0fSxcbiAgICAgIHt4OiAtb3BzLmhhbGZXaWR0aCwgeTogLW9wcy5oYWxmSGVpZ2h0fSxcbiAgICBdO1xuXG4gICAgb3BzLnBvaW50cyA9IG9wcy5wb2ludHMubWFwKChvcHB0KSA9PiB7XG4gICAgICByZXR1cm4gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXJQb2ludCwgb3BwdCwgcC5hbmdsZSk7XG4gICAgfSk7XG5cbiAgICBvcHMucHJleCA9IG9wcy54O1xuICAgIG9wcy5wcmV5ID0gb3BzLnk7XG4gIFxuICAgIGNvbnN0IGIgPSBuZXcgQnJpY2sob3BzKTtcbiAgICBnYW1lLmFkZEJvZHkoYik7XG4gICAgcmV0dXJuIGI7XG5cbiAgfSk7XG5cbiAgY29uc3Qgc2h1ZlBicmlja3MgPSBsaWIuc2h1ZmZsZShwQnJpY2tzKTtcbiAgWzAsMSwyLDMsNCw1LDYsNyw4LDldLmZvckVhY2goKG51bSkgPT4ge1xuICAgIGlmKG51bSAlIDIpIHtcbiAgICAgIHNodWZQYnJpY2tzW251bV0ucG93ZXJVcCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNodWZQYnJpY2tzW251bV0ucG93ZXJEb3duID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmdhbWUubWVhc3VyZW1lbnRzID0ge2Z1bGxXLCBmdWxsSCwgaGV4U2lkZSwgc2lkZVcsIHNpbnQxLCBhbmcxLCBzaW50MiwgYW5nMiwgc2NhbGVXOiBmdWxsVyAvIGdhbWUuYm94LnNjYWxlLCBzY2FsZUg6IGZ1bGxIIC8gZ2FtZS5ib3guc2NhbGV9O1xuZ2FtZS5wbGF5ZXJzID0gcGxheWVycztcblxuLy9pZiB5b3Ugd2FudCB0byB0YWtlIGEgbG9vayBhdCB0aGUgZ2FtZSBvYmplY3QgaW4gZGV2IHRvb2xzXG5jb25zb2xlLmxvZyhnYW1lKTtcbndpbmRvdy5nYW1lID0gZ2FtZTtcblxuLy9sYXVuY2ggdGhlIGdhbWUhXG5nYW1lLnJ1bigpO1xuZ2FtZS5ib3guYXBwbHlGb3JjZURlZ3JlZXMoJ2JhbGwnLCBNYXRoLnJhbmRvbSgpICogMzYwLCBnYW1lLmJhbGxTcGVlZCk7XG4iXSwic291cmNlUm9vdCI6IiJ9