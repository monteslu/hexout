!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=48)}([function(t,e,i){window.frozenjs={GameCore:i(12),InputManager:i(13),ResourceManager:i(18),MouseAction:i(15),TouchAction:i(14),keys:i(17),Animation:i(23),AnimFrame:i(24),utils:i(34),Sprite:i(28),reiner:{Creature:i(38)},sounds:{WebAudio:i(22)},box2d:{entities:i(39),joints:i(42),Box:i(29),BoxGame:i(47)}},t.exports=window.frozenjs},function(t,e){t.exports=function(t={x:0,y:0},e){return t.x===e.x&&t.y===e.y?0:t.x===e.x?t.y>e.y?0:Math.PI:t.y===e.y?t.x>e.x?1.5*Math.PI:Math.PI/2:t.x<e.x&&t.y>e.y?Math.atan((e.x-t.x)/(t.y-e.y)):t.x<e.x&&t.y<e.y?Math.PI/2+Math.atan((e.y-t.y)/(e.x-t.x)):t.x>e.x&&t.y<e.y?Math.PI+Math.atan((t.x-e.x)/(e.y-t.y)):1.5*Math.PI+Math.atan((t.y-e.y)/(t.x-e.x))}},function(t,e){t.exports=function(t={x:0,y:0},e,i){const s=Math.sin(i),n=Math.cos(i),o={};o.x=e.x-t.x,o.y=e.y-t.y;const r=o.x*n-o.y*s,a=o.x*s+o.y*n;return o.x=r+t.x,o.y=a+t.y,o}},function(t,e,i){const s=i(4),n=i(27);t.exports=class extends s{constructor(t={}){super(t),this.radius=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),this.staticBody||(t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.beginPath(),t.moveTo(this.x*e,this.y*e),t.lineTo(this.x*e,this.y*e-this.radius*e),t.closePath(),t.stroke(),t.restore()),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.radius=this.radius*t,super.scaleShape(t)}pointInShape(t){return n(t,this)<=this.radius}}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.x=0,this.y=0,this.scale=null,this.angle=0,this.center=null,this.drawCenter=!0,this.restitution=.3,this.density=1,this.friction=.9,this.linearDamping=0,this.linearVelocity=null,this.angularVelocity=0,this.angularDamping=0,this.staticBody=!1,this.fillStyle="rgba(128,128,128,0.5)",this.strokeStyle="#000",this.lineWidth=1,this.maskBits=null,this.categoryBits=null,this.groupIndex=null,Object.assign(this,t)}update(t){Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.fillStyle=this.strokeStyle,t.beginPath(),t.arc(this.x*e,this.y*e,4,0,2*Math.PI,!0),t.closePath(),t.fill(),this.center&&this.drawCenter&&(t.fillStyle=this.centerStyle||"yellow",t.beginPath(),t.arc(this.center.x*e,this.center.y*e,2,0,2*Math.PI,!0),t.closePath(),t.fill()),t.lineWidth=i}scaleShape(t){this.x=this.x*t,this.y=this.y*t,this.alreadyScaled=!0}}},function(t,e){const i={NORMAL:0,DETECT_INITAL_PRESS_ONLY:1,STATE_RELEASED:0,STATE_PRESSED:1,STATE_WAITING_FOR_RELEASE:2,STATE_MOVED:3};t.exports=class{constructor(t={}){this.name=null,this.behavior=0,this.amount=0,this.state=0,this.statics=i,Object.assign(this,t),this.reset()}reset(){this.state=i.STATE_RELEASED,this.amount=0}tap(){this.press(),this.release()}press(){this.state=i.STATE_PRESSED,this.behavior===i.DETECT_INITAL_PRESS_ONLY&&this.pressAmt(1)}pressAmt(t){this.state!==i.STATE_WAITING_FOR_RELEASE&&(this.amount+=t,this.state=i.STATE_WAITING_FOR_RELEASE)}release(){this.state=i.STATE_RELEASED}isPressed(){return this.state===i.STATE_PRESSED}getAmount(){var t=this.amount;return 0!==t&&(this.state===i.STATE_RELEASED?this.amount=0:this.behavior===i.DETECT_INITAL_PRESS_ONLY&&(this.state=i.STATE_WAITING_FOR_RELEASE,this.amount=0)),t}}},function(t,e,i){"use strict";t.exports=function(t,e){if(!t||!e)return!1;for(var i=e.points||e,s=!1,n=i.length-1,o=0;o<i.length;n=o++){var r=i[o].x,a=i[o].y,h=i[n].x,l=i[n].y;a>t.y!=l>t.y&&t.x<(h-r)*(t.y-a)/(l-a)+r&&(s=!s)}return s}},function(t,e){t.exports=function t(e,i){return e=Array.isArray(e)?e.map(function(e){return t(e,i)}):"object"==typeof i?{x:e.x*i.x,y:e.y*i.y}:{x:e.x*i,y:e.y*i}}},function(t,e){t.exports=function t(e,i){return Array.isArray(e)?e=e.map(function(e){return t(e,i)}):(e={x:e.x,y:e.y},null!=i.x&&(e.x+=i.x),null!=i.y&&(e.y+=i.y)),e}},function(t,e){t.exports=class{constructor(t={}){this.id=t.id||Math.random()+"_"+Date.now(),this.bodyId1=null,this.bodyId2=null,this.bodyPoint1=null,this.jointAttributes=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint1&&(this.bodyPoint1.x=this.bodyPoint1.x*t,this.bodyPoint1.y=this.bodyPoint1.y*t,this.alreadyScaled=!0)}}},function(t,e,i){const s=i(4),n=i(7),o=i(6),r=i(8);t.exports=class extends s{constructor(t={}){super(t),this.points=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.moveTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e);for(var s=1;s<this.points.length;s++)t.lineTo((this.points[s].x+this.x)*e,(this.points[s].y+this.y)*e);t.lineTo((this.x+this.points[0].x)*e,(this.y+this.points[0].y)*e),t.closePath(),t.fill(),t.stroke(),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.points=n(this.points,t),super.scaleShape(t)}pointInShape(t){return o(t,r(this.points,this))}}},function(t,e){t.exports={entities:[{points:[{x:-100,y:-100},{x:568.10113,y:-100},{x:568.10113,y:0},{x:0,y:540},{x:-100,y:540}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",id:"uleftw",hidden:!0,restitution:2.5},{points:[{x:-100,y:540},{x:0,y:540},{x:568.10113,y:1080},{x:568.10113,y:1180},{x:-100,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:2.5,hidden:!0,id:"lleftw"},{points:[{x:1351.89887,y:-100},{x:2020,y:-100},{x:2020,y:540},{x:1920,y:540},{x:1351.89887,y:0}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:2.5,id:"urighttw",hidden:!0},{points:[{x:1351.89887,y:1080},{x:1920,y:540},{x:2020,y:540},{x:2020,y:1180},{x:1351.89887,y:1180}],x:0,y:0,staticBody:!0,zone:!1,type:"Polygon",restitution:2.5,id:"lrighttw",hidden:!0},{x:960,y:1180,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"bottomw",restitution:2.5,hidden:!0},{x:960,y:-100,halfWidth:1e3,halfHeight:100,staticBody:!0,zone:!1,type:"Rectangle",id:"topw",restitution:2.5,hidden:!0},{x:960,y:540,halfWidth:9,halfHeight:20,staticBody:!1,zone:!1,type:"Rectangle",fillStyle:"#EECEB3",strokeStyle:"red",lineWidth:5,id:"neck"},{x:960,y:527,radius:24,staticBody:!1,zone:!1,type:"Circle",fillStyle:"rgba(239,208,207,0.2)",id:"ball"}],joints:[{bodyId1:"ball",bodyId2:"neck",type:"Revolute",id:"balljoint",jointAttributes:{enableLimit:!0,lowerAngle:-.5,upperAngle:.5}},{bodyId1:"ruleg",bodyId2:"torso",type:"Revolute",id:"rhip",bodyPoint1:{x:210,y:273},jointAttributes:{enableLimit:!0,lowerAngle:-.785385,upperAngle:1.570796}},{bodyId1:"llleg",bodyId2:"luleg",type:"Revolute",id:"lknee",bodyPoint1:{x:157,y:364},jointAttributes:{enableLimit:!0,lowerAngle:-.185385,upperAngle:1.570796}},{bodyId1:"rlleg",bodyId2:"ruleg",type:"Revolute",id:"rknee",bodyPoint1:{x:231,y:364},jointAttributes:{enableLimit:!0,lowerAngle:-1.570796,upperAngle:.185385}},{bodyId1:"lhand",bodyId2:"llarm",type:"Revolute",id:"lhand",bodyPoint1:{x:125,y:302},jointAttributes:{enableLimit:!0,lowerAngle:-1.6,upperAngle:1.6}},{bodyId1:"rhand",bodyId2:"rlarm",type:"Revolute",id:"rhand",bodyPoint1:{x:268,y:290},jointAttributes:{enableLimit:!0,lowerAngle:-1.6,upperAngle:1.6}},{bodyId1:"lfoot",bodyId2:"llleg",type:"Revolute",id:"lfoot",bodyPoint1:{x:147,y:426},jointAttributes:{enableLimit:!0,lowerAngle:-1.070796,upperAngle:.785385}},{bodyId1:"rfoot",bodyId2:"rlleg",type:"Revolute",id:"rfoot",bodyPoint1:{x:238,y:427},jointAttributes:{enableLimit:!0,lowerAngle:-.785385,upperAngle:1.070796}},{bodyId1:"thumb",bodyId2:"lhand",type:"Revolute",id:"thumb",bodyPoint1:{x:127,y:315},jointAttributes:{enableLimit:!0,lowerAngle:.1,upperAngle:-.1}}],canvas:{height:600,width:800},backImg:null}},function(t,e,i){const s=i(13),n=i(18);t.exports=class{constructor(t={}){this.isRunning=!1,this.canvasId=null,this.maxStep=40,this.contextType="2d",this.height=0,this.width=0,this.resourceManager=null,this.inputManager=null,this.loadingForeground="#00F",this.loadingBackground="#FFF",this.gameAreaId=null,this.canvasPercentage=0,Object.assign(this,t),this.resourceManager||(this.resourceManager=new n)}setHeight(t){this.height=t,this.canvas.height=t}setWidth(t){this.width=t,this.canvas.width=t}stop(){this.isRunning=!1}run(){this.isRunning||(this.init(),this.loadResources(this.resourceManager),this.initInput(this.inputManager),this.launchLoop())}loadResources(t){}init(){this.canvas||(this.canvas=document.getElementById(this.canvasId)),this.canvas?(this.context||(this.context=this.canvas.getContext(this.contextType)),this.context?(this.setHeight(this.height||this.canvas.height),this.setWidth(this.width||this.canvas.width),this.inputManager||(this.gameAreaId&&this.canvasPercentage?this.inputManager=new s({canvas:this.canvas,gameArea:document.getElementById(this.gameAreaId),canvasPercentage:this.canvasPercentage}):this.inputManager=new s({canvas:this.canvas})),this.inputManager.resize(),this.isRunning=!0):alert("Sorry, your browser does not support a "+this.contextType+" drawing surface on canvas.  I recommend any browser but Internet Explorer")):alert("Sorry, your browser does not support canvas.  I recommend any browser but Internet Explorer")}initInput(t){}handleInput(t,e){}gameLoop(){this.currTime=(new Date).getTime(),this.elapsedTime=Math.min(this.currTime-this.prevTime,this.maxStep),this.prevTime=this.currTime,this.resourceManager&&!this.resourceManager.resourcesReady()?(this.updateLoadingScreen(this.elapsedTime),this.drawLoadingScreen(this.context)):(this.handleInput(this.inputManager,this.elapsedTime),this.paused||this.update(this.elapsedTime),this.context.save(),this.draw(this.context),this.context.restore())}launchLoop(){this.elapsedTime=0;var t=Date.now();this.currTime=t,this.prevTime=t,this.loopRunner=this.loopRunner.bind(this),window.requestAnimationFrame(this.loopRunner)}loopRunner(){this.gameLoop(),window.requestAnimationFrame(this.loopRunner)}update(t){}updateLoadingScreen(t){}draw(t){"2d"===this.contextType&&(t.font="14px sans-serif",t.fillText("This game does not have its own draw function!",10,50))}drawLoadingScreen(t){if(this.resourceManager&&"2d"===this.contextType){t.fillStyle=this.loadingBackground,t.fillRect(0,0,this.width,this.height),t.fillStyle=this.loadingForeground,t.strokeStyle=this.loadingForeground;var e=Math.floor(this.height/12);t.font="bold "+e+"px sans-serif",t.fillText("Loading... "+this.resourceManager.getPercentComplete()+"%",.1*this.width,.55*this.height),t.strokeRect(.1*this.width,.7*this.height,.8*this.width,.1*this.height),t.fillRect(.1*this.width,.7*this.height,.8*this.width*this.resourceManager.getPercentComplete()/100,.1*this.height),t.lineWidth=4}}}},function(t,e,i){const s=i(31),n=i(5),o=i(14),r=i(15),a=i(16),h=i(17);function l(t,e,i){return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}}function c(t){return parseFloat(t)||0}function u(t){var e=function(t){return window.getComputedStyle(t,null)||{}}(t),i=c(e.marginLeft),s=c(e.marginTop);return{w:i+c(e.marginRight),h:s+c(e.marginBottom)}}t.exports=class{constructor(t={}){function e(t){t.remove()}if(this.keyActions=null,this.mouseAction=null,this.touchAction=null,this.canvas=null,this.handleMouse=!0,this.handleTouch=!0,this.handleKeys=!0,this.gameArea=null,this.canvasPercentage=null,this.emulateMouse=!0,this.hammer=null,Object.assign(this,t),this.hammer||(this.hammer=new s(document.body,{prevent_default:!0,drag_max_touches:0,hold:!1})),this.keyActions||(this.keyActions={}),this.handleKeys&&(this.pushCleanup(l(document,"keydown",this.keydown.bind(this)),e),this.pushCleanup(l(document,"keyup",this.keyup.bind(this)),e)),"ontouchstart"in document?(this.pushCleanup(l(document,"touchstart",this.touchstart.bind(this)),e),this.pushCleanup(l(document,"touchmove",this.touchmove.bind(this)),e),this.pushCleanup(l(document,"touchend",this.touchend.bind(this)),e)):(this.pushCleanup(l(document,"mousedown",this.mousedown.bind(this)),e),this.pushCleanup(l(document,"mousemove",this.mousemove.bind(this)),e),this.pushCleanup(l(document,"mouseup",this.mouseup.bind(this)),e)),this.mouseAction||(this.mouseAction=new r),this.touchAction||(this.touchAction=new o),this.emulateMouse,this.gameArea&&this.canvasPercentage){var i=this.resize.bind(this);this.pushCleanup(l(window,"resize",i),e),this.pushCleanup(l(window,"orientationchange",i),e)}this.normalizePoint=this.normalizePoint.bind(this),this.insideCanvas=this.insideCanvas.bind(this)}on(t,e){var i=this.hammer,s=this.removeCleanup;i.on(t,e);var n=this.pushCleanup([t,e],function(t){i.off.apply(i,t)});return{remove:function(){s(n),n()}}}insideCanvas(t){return a(t,this.canvas)}mapToKey(t,e){this.keyActions[e]=t}addKeyAction(t,e){var i=new n;return e&&(i.behavior=i.detectInitialPressOnly),this.mapToKey(i,t),i}addArrowKeyActions(){this.addKeyAction(h.UP),this.addKeyAction(h.DOWN),this.addKeyAction(h.LEFT),this.addKeyAction(h.RIGHT)}mouseUp(t){this.mouseup(t)}mouseup(t){this.mouseAction.release(this.normalizePoint(t))}mouseDown(t){this.mousedown(t)}mousedown(t){this.mouseAction.release(null);var e=this.normalizePoint(t);this.mouseAction.insideCanvas=this.insideCanvas(e),this.mouseAction.press(e)}mouseMove(t){this.mousemove(t)}mousemove(t){this.mouseAction.position=this.normalizePoint(t)}touchStart(t){this.touchstart(t)}touchstart(t){this.touchAction.release(null),console.log(t.touches,t);const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.insideCanvas=e.some(this.insideCanvas),this.touchAction.press(e),this.emulateMouse&&this.mousedown(t.touches[0])}touchEnd(t){this.touchend(t)}touchend(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.release(e),this.emulateMouse&&this.mouseUp(t.touches[0])}touchMove(t){this.touchmove(t)}touchmove(t){const e=[];for(let i=0;i<t.touches.length;i++)e.push(this.normalizePoint(t.touches[i]));this.touchAction.positions=e,this.touchAction.startPositions&&t.preventDefault(),this.emulateMouse&&this.mousemove(t.touches[0])}getKeyAction(t){return this.keyActions?this.keyActions[t.keyCode]||this.keyActions[String.fromCharCode(t.keyCode)]:null}keyPressed(t){this.keydown(t)}keyDown(t){this.keydown(t)}keydown(t){var e=this.getKeyAction(t);e&&!e.isPressed()&&e.press()}keyReleased(t){this.keyup(t)}keyup(t){var e=this.getKeyAction(t);e&&e.release()}getMouseLoc(t){return this.normalizePoint(t)}normalizePoint(t){if(t){var e=(i=this.canvas,{x:(s=i.getBoundingClientRect()).left,y:s.top});return this.zoomRatio?{x:Math.round((t.clientX-e.x)/this.zoomRatio),y:Math.round((t.clientY-e.y)/this.zoomRatio)}:{x:Math.round(t.clientX-e.x),y:Math.round(t.clientY-e.y)}}var i,s}resize(){if(this.gameArea&&this.canvasPercentage&&this.canvas){var t=this.canvas.width,e=this.canvas.height,i=u(document.body),s=window.innerWidth-i.w,n=window.innerHeight-i.h,o=t/e,r="",a="";s/n>o?(r=(s=n*o)+"px",a=n+"px"):(r=s+"px",a=Math.round(s/o)+"px"),this.zoomRatio=s/t*this.canvasPercentage,this.gameArea.style.width=r,this.gameArea.style.height=a;var h=Math.floor(100*this.canvasPercentage)+"%";this.canvas.style.width=h,this.canvas.style.height=h,this.canvas.style.display="block",this.canvas.style.marginLeft="auto",this.canvas.style.marginRight="auto"}}pushCleanup(t,e){}}},function(t,e,i){const s=i(5);t.exports=class extends s{constructor(t={}){super(t),this.startPositions=null,this.endPositions=null,this.positions=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPositions=t,this.positions=t,super.press(t)}release(t){this.endPositions=t,super.release(t)}}},function(t,e,i){const s=i(5);t.exports=class extends s{constructor(t={}){super(t),this.startPosition=null,this.endPosition=null,this.position=null,this.insideCanvas=null,Object.assign(this,t)}press(t){this.startPosition=t,this.position=t,super.press(t)}release(t){this.endPosition=t||this.position,super.release(t)}}},function(t,e){t.exports=function(t,e){return!(t.x<0||t.x>e.width||t.y<0||t.y>e.height)}},function(t,e){t.exports={CANCEL:3,HELP:6,BACK_SPACE:8,TAB:9,CLEAR:12,RETURN:13,ENTER:14,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINTSCREEN:44,INSERT:45,DELETE:46,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,SEMICOLON:59,EQUALS:61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}},function(t,e,i){"use strict";const s=i(19),n=i(21),o=i(22);var r={};function a(t,e){var i=e;return t&&(i=[t,e].join("/")),i.replace(/\/{2,}/g,"/")}function h(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(e.width,0),i.scale(-1,1),i.drawImage(t,0,0),e.toDataURL()}function l(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var i=e.getContext("2d");return i.translate(0,e.height),i.scale(1,-1),i.drawImage(t,0,0),e.toDataURL()}class c{constructor(t){var e=this;e.name=t,e.complete=!1,e.img=new Image,e.img.addEventListener("load",function(){e.complete=!0},!1)}load(){this.img.src=this.name}}t.exports=class{constructor(t={}){this.allLoaded=!1,this.imageDir=null,this.soundDir=null,this.resourceList=r,Object.assign(this,t),this.Sound||(s("WebAudio")?this.Sound=o:this.Sound=n)}loadImage(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=a(this.imageDir,t);if(this.resourceList[e])return this.resourceList[e].img;this.allLoaded=!1;const i=new c(e);return i.load(),this.resourceList[e]=i,i.img});return e?i[0]:i}loadSound(t){let e=!1;Array.isArray(t)||(e=!0,t=[t]);const i=t.map(t=>{const e=a(this.soundDir,t);if(this.resourceList[e])return this.resourceList[e];this.allLoaded=!1;const i=new this.Sound(e);return this.resourceList[e]=i,i});return e?i[0]:i}flipImage(t,e,i){this.allLoaded=!1;const s=new c(t);this.resourceList[t]=s;const n=new Image;return n.addEventListener("load",function t(){s.img.src=i(n),n.removeEventListener("load",t)}),n.src=e.src,s.img}flipImageX(t,e){return this.flipImage(t,e,h)}flipImageY(t,e){return this.flipImage(t,e,l)}resourcesReady(){if(this.allLoaded)return!0;for(var t in this.resourceList)if(!this.resourceList[t].complete)return!1;return this.allLoaded=!0,!0}getPercentComplete(){var t=0,e=0;for(var i in this.resourceList)e++,this.resourceList[i].complete&&(t+=1);return 0===e?0:Math.round(t/e*100)}}},function(t,e,i){"use strict";(function(e){i(32);t.exports=function t(i){return"shittySound"==i?!(!t("android")&&!t("ios")||!t("webkit")):"android"==i?parseFloat(navigator.userAgent.split("Android ")[1])||void 0:"ios"!=i&&("webkit"==i?parseFloat(navigator.userAgent.split("WebKit/")[1])||void 0:"WebAudio"==i?!!e.AudioContext:"touch"===i&&"ontouchstart"in document.documentElement)}}).call(this,i(20))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){const i={"audio/mpeg":".mp3","audio/webm":".webm","audio/ogg":".ogg","audio/wav":".wav","audio/aac":".aac","audio/x-m4a":".m4a"};t.exports=class{constructor(t={}){this.name=null,this.complete=!1,this.probably=[],this.maybe=[],Object.assign(this,t),this.formats=i,"string"==typeof t&&this.load(t)}load(t){this.name=t,this.complete=!0}loop(t){}play(t,e){}_initAudio(t,e){}_chooseFormat(){if(!this.probably.length&&!this.maybe.length){var t,e,i=new Audio;for(t in this.formats)"probably"!==(e=i.canPlayType(t))?"maybe"!==e||this.maybe.push(this.formats[t]):this.probably.push(this.formats[t])}return this.probably.length?this.probably[0]:this.maybe.length?this.maybe[0]:""}_nextFormat(){return this.probably.length>1?(this.probably.shift(),this.probably[0]):1===this.probably.length&&(this.probably.length=0,this.maybe.length)?this.maybe[0]:this.maybe.length>1?(this.maybe.shift(),this.maybe[0]):(1===this.maybe.length&&(this.maybe.length=0),"")}}},function(t,e,i){const s=i(21),n=i(33),o=i(19);var r=null;if(o("WebAudio")&&(r=new window.AudioContext),o("shittySound")){document.addEventListener("touchstart",function t(){const e=r.createBufferSource();e.buffer=r.createBuffer(1,1,22050),e.connect(r.destination),e.start(0),document.removeEventListener("touchstart",t)})}t.exports=class extends s{constructor(t={}){super(t),this.audioContext=r,this.buffer=null,Object.assign(this,t)}load(t){var e=this;this.name=t;var i=n(t);i===t&&(t=i+this._chooseFormat());var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(t){e.audioContext.decodeAudioData(t.target.response,function(t){e.buffer=t,e.complete=!0},function(t){e._nextFormat()?e.load(e.name):e.complete=!0})},s.send()}loop(t){this.buffer&&this._initAudio(t,!0).start(0)}play(t,e){this.buffer&&(e=e||0,this._initAudio(t,!1).start(e))}_initAudio(t,e){e="boolean"==typeof e&&e;var i=this.audioContext.createBufferSource();if(i.buffer=this.buffer,i.loop=e,t){var s=this.audioContext.createGain();s.gain.value=t,i.connect(s),s.connect(this.audioContext.destination)}else i.connect(this.audioContext.destination);return i}}},function(t,e,i){const s=i(24);class n{constructor(t={}){this.currFrameIndex=0,this.animTime=0,this.totalDuration=0,this.height=64,this.width=64,this.image=null,this.offsetX=0,this.offsetY=0,this.frames=void 0,Object.assign(this,t),this.start()}createFromSheet(t,e,i,s,o,r){var a=new n({image:i,height:o,width:s}),h=Array.isArray(e),l=1;r||(r=0);for(var c=0;c<t;c++)l=h?e[c]:e,a.addFrame(l,c,r);return a}clone(){return new n({image:this.image,frames:this.frames,totalDuration:this.totalDuration})}addFrame(t,e,i){this.frames||(this.frames=[]),this.totalDuration+=t,this.frames.push(new s({endTime:this.totalDuration,image:this.image,imgSlotX:e,imgSlotY:i}))}start(){this.animTime=0,this.currFrameIndex=0}update(t){if(this.frames.length>1)for(this.animTime+=t,this.animTime>=this.totalDuration&&(this.animTime=this.animTime%this.totalDuration,this.currFrameIndex=0);this.animTime>this.frames[this.currFrameIndex].endTime;)this.currFrameIndex++}getCurrentFrame(){return 0===this.frames.length?null:this.frames[this.currFrameIndex]}draw(t,e,i){var s=this.getCurrentFrame();t.drawImage(this.image,s.imgSlotX*this.width+this.offsetX,s.imgSlotY*this.height+this.offsetY,this.width,this.height,e,i,this.width,this.height)}}t.exports=n},function(t,e){t.exports=class{constructor(t={}){this.endTime=0,this.imgSlotX=0,this.imgSlotY=0,this.image=null,Object.assign(this,t)}}},function(t,e){const i=Math.PI/180;t.exports=function(t){return t*i}},function(t,e){const i=180/Math.PI;t.exports=function(t){return t*i}},function(t,e){t.exports=function(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}},function(t,e){class i{constructor(t={}){this.x=0,this.y=0,this.dx=0,this.dy=0,this.maxSpeed=0,this.name=null,this.collisionRadius=40,Object.assign(this,t)}update(t){this.x+=this.dx*t,this.y+=this.dy*t,this.anim.update(t)}limitSpeed(t){return this.maxSpeed&&Math.abs(t)>this.maxSpeed?t>0?this.maxSpeed:t<0?this.maxSpeed:0:t}getCurrentFrame(){if(this.anim)return this.anim.getCurrentFrame()}draw(t){this.anim&&this.anim.draw(t,this.x,this.y)}clone(){return new i({anim:this.anim.clone()})}}t.exports=i},function(t,e,i){(function(e){const s=i(46);console.log(Box2D,"Box2D",e,window);const n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.b2BodyDef,r=Box2D.Dynamics.b2Body,a=Box2D.Dynamics.b2FixtureDef,h=(Box2D.Dynamics.b2Fixture,Box2D.Dynamics.b2World),l=Box2D.Collision.Shapes.b2PolygonShape,c=Box2D.Collision.Shapes.b2CircleShape;t.exports=class{constructor(t={}){this.intervalRate=60,this.adaptive=!1,this.bodiesMap=null,this.fixturesMap=null,this.jointsMap=null,this.b2World=null,this.gravityX=0,this.gravityY=9.8,this.allowSleep=!0,this.resolveCollisions=!1,this.contactListener=null,this.collisions=null,this.scale=30,this.bodiesMap={},this.fixturesMap={},this.jointsMap={},Object.assign(this,t),this.b2World=new h(new n(this.gravityX,this.gravityY),this.allowSleep),this.intervalRate&&(this.intervalRate=parseInt(this.intervalRate,10)),this.resolveCollisions&&(this.contactListener=new s),this.contactListener&&this.addContactListener(this.contactListener)}update(t){this.contactListener&&this.contactListener.reset&&this.contactListener.reset();var e=Date.now();if(t)this.b2World.Step(t/1e3,10,10),this.b2World.ClearForces();else{var i=this.adaptive?(e-this.lastTimestamp)/1e3:1/this.intervalRate;this.b2World.Step(i,10,10),this.b2World.ClearForces()}return Date.now()-e}getState(){for(var t={},e=this.b2World.GetBodyList();e;e=e.m_next)e.IsActive()&&void 0!==e.GetUserData()&&null!==e.GetUserData()&&(t[e.GetUserData()]={x:e.GetPosition().x,y:e.GetPosition().y,angle:e.GetAngle(),center:{x:e.GetWorldCenter().x,y:e.GetWorldCenter().y},linearVelocity:e.m_linearVelocity,angularVelocity:e.m_angularVelocity},this.contactListener&&this.contactListener.collisions&&(t[e.GetUserData()].collisions=this.contactListener.collisions[e.GetUserData()]||null));return t}updateExternalState(t){var e=this.getState();for(var i in e){var s=t[i];s&&!s.staticBody&&s.update(e[i])}}setBodies(t){for(var e in t){var i=t[e];this.addBody(i)}this.ready=!0}addBody(t){t.alreadyScaled||(t.scaleShape(1/this.scale),t.scale=this.scale);var e,i,s,h,u,d=new o,p=new a;p.restitution=t.restitution,p.density=t.density,p.friction=t.friction,null!=t.maskBits&&(p.filter.maskBits=t.maskBits),null!=t.categoryBits&&(p.filter.categoryBits=t.categoryBits),null!=t.groupIndex&&(p.filter.groupIndex=t.groupIndex),t.staticBody?d.type=r.b2_staticBody:d.type=r.b2_dynamicBody,d.position.x=t.x,d.position.y=t.y,d.userData=t.id,d.angle=t.angle,d.linearDamping=t.linearDamping,d.angularDamping=t.angularDamping;var y=this.b2World.CreateBody(d);if(t.radius)p.shape=new c(t.radius),y.CreateFixture(p);else if(t.points){for(s=[],e=0;e<t.points.length;e++)(h=new n).Set(t.points[e].x,t.points[e].y),s[e]=h;p.shape=new l,p.shape.SetAsArray(s,s.length),y.CreateFixture(p)}else if(t.polys)for(i=0;i<t.polys.length;i++){for(s=t.polys[i],u=[],e=0;e<s.length;e++)(h=new n).Set(s[e].x,s[e].y),u[e]=h;p.shape=new l,p.shape.SetAsArray(u,u.length),y.CreateFixture(p)}else p.shape=new l,p.shape.SetAsBox(t.halfWidth,t.halfHeight),y.CreateFixture(p);this.bodiesMap[t.id]=y}setPosition(t,e,i){this.bodiesMap[t].SetPosition(new n(e,i))}setAngle(t,e){var i=this.bodiesMap[t];console.log("set angle",i.setAngle,i),i.setAngle(e)}setLinearVelocity(t,e,i){this.bodiesMap[t].SetLinearVelocity(new n(e,i))}setAngularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyImpulseDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyForceDegrees(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e*(Math.PI/180))*i,Math.cos(e*(Math.PI/180))*i*-1),s.GetWorldCenter())}applyImpulse(t,e,i){var s=this.bodiesMap[t];s.ApplyImpulse(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}applyForce(t,e,i){var s=this.bodiesMap[t];s.ApplyForce(new n(Math.sin(e)*i,Math.cos(e)*i*-1),s.GetWorldCenter())}setAngle(t,e){this.bodiesMap[t].SetAngle(e)}setAnglularVelocity(t,e){this.bodiesMap[t].SetAngularVelocity(e)}applyTorque(t,e){this.bodiesMap[t].ApplyTorque(e)}setGravity(t){this.b2World.SetGravity(new n(t.x,t.y))}removeBody(t){this.bodiesMap[t]&&(this.fixturesMap[t]&&this.bodiesMap[t].DestroyFixture(this.fixturesMap[t]),this.b2World.DestroyBody(this.bodiesMap[t]),delete this.bodiesMap[t])}wakeUpBody(t){this.bodiesMap[t]&&this.bodiesMap[t].SetAwake(!0)}addContactListener(t){var e=new Box2D.Dynamics.b2ContactListener;t.beginContact&&(e.BeginContact=function(e){t.beginContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.endContact&&(e.EndContact=function(e){t.endContact(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,e)}),t.preSolve&&(e.PreSolve=function(e,i){t.preSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),t.postSolve&&(e.PostSolve=function(e,i){t.postSolve(e.m_fixtureA.m_body.m_userData,e.m_fixtureB.m_body.m_userData,i,e)}),this.b2World.SetContactListener(e)}removeJoint(t){this.jointsMap[t]&&(this.b2World.DestroyJoint(this.jointsMap[t]),delete this.jointsMap[t])}addJoint(t){if(t&&t.id&&!this.jointsMap[t.id]){!t.alreadyScaled&&t.scaleJointLocation&&(t.scaleJointLocation(1/this.scale),t.scale=this.scale);var e=t.createB2Joint(this);e&&(this.jointsMap[t.id]=e)}}}}).call(this,i(20))},function(t,e){t.exports=["#00DD00","#DD0000","#EEEEEE","#A0522D","#0000DD","#FF8C00"]},function(t,e,i){var s;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(n,o,r,a){"use strict";var h,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),u="function",d=Math.round,p=Math.abs,y=Date.now;function f(t,e,i){return setTimeout(T(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function v(t,e,i){var s="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=n.console&&(n.console.warn||n.console.log);return o&&o.call(n.console,s,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==a&&null!==s)for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n])}return e}:Object.assign;var x=v(function(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&t[s[n]]===a)&&(t[s[n]]=e[s[n]]),n++;return t},"extend","Use `assign`."),b=v(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function A(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&h(s,i)}function T(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==u?t.apply(e&&e[0]||a,e):t}function w(t,e){return t===a?e:t}function E(t,e,i){g(D(e),function(e){t.addEventListener(e,i,!1)})}function P(t,e,i){g(D(e),function(e){t.removeEventListener(e,i,!1)})}function I(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function C(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function R(t,e,i){for(var s=[],n=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];C(n,r)<0&&s.push(t[o]),n[o]=r,o++}return i&&(s=e?s.sort(function(t,i){return t[e]>i[e]}):s.sort()),s}function L(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((s=(i=l[o])?i+n:e)in t)return s;o++}return a}var W=1;function F(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var k="ontouchstart"in n,O=L(n,"PointerEvent")!==a,B=k&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,N=1,U=2,z=4,H=8,G=1,Y=2,X=4,J=8,V=16,K=Y|X,q=J|V,Q=K|q,Z=["x","y"],$=["clientX","clientY"];function tt(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&i.handler(e)},this.init()}function et(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&N&&s-n==0,r=e&(z|H)&&s-n==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=it(e));n>1&&!i.firstMultiple?i.firstMultiple=it(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,h=r?r.center:o.center,l=e.center=st(s);e.timeStamp=y(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=at(h,l),e.distance=rt(h,l),function(t,e){var i=e.center,s=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};e.eventType!==N&&o.eventType!==z||(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y});e.deltaX=n.x+(i.x-s.x),e.deltaY=n.y+(i.y-s.y)}(i,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=r?(u=r.pointers,d=s,rt(d[0],d[1],$)/rt(u[0],u[1],$)):1,e.rotation=r?function(t,e){return at(e[1],e[0],$)+at(t[1],t[0],$)}(r.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,s,n,o,r=t.lastInterval||e,h=e.timeStamp-r.timeStamp;if(e.eventType!=H&&(h>j||r.velocity===a)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,u=nt(h,l,c);s=u.x,n=u.y,i=p(u.x)>p(u.y)?u.x:u.y,o=ot(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,n=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=o}(i,e);var u,d;var f=t.element;I(e.srcEvent.target,f)&&(f=e.srcEvent.target);e.target=f}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function it(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:y(),pointers:e,center:st(e),deltaX:t.deltaX,deltaY:t.deltaY}}function st(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:d(i/e),y:d(s/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?Y:X:e<0?J:V}function rt(t,e,i){i||(i=Z);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function at(t,e,i){i||(i=Z);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(F(this.element),this.evWin,this.domHandler)}};var ht={mousedown:N,mousemove:U,mouseup:z},lt="mousedown",ct="mousemove mouseup";function ut(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}A(ut,tt,{handler:function(t){var e=ht[t.type];e&N&&0===t.button&&(this.pressed=!0),e&U&&1!==t.which&&(e=z),this.pressed&&(e&z&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:N,pointermove:U,pointerup:z,pointercancel:H,pointerout:H},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},yt="pointerdown",ft="pointermove pointerup pointercancel";function mt(){this.evEl=yt,this.evWin=ft,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(yt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),A(mt,tt,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=dt[s],o=pt[t.pointerType]||t.pointerType,r="touch"==o,a=C(e,t.pointerId,"pointerId");n&N&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):n&(z|H)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var gt={touchstart:N,touchmove:U,touchend:z,touchcancel:H},vt="touchstart",xt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}A(bt,tt,{handler:function(t){var e=gt[t.type];if(e===N&&(this.started=!0),this.started){var i=function(t,e){var i=_(t.touches),s=_(t.changedTouches);e&(z|H)&&(i=R(i.concat(s),"identifier",!0));return[i,s]}.call(this,t,e);e&(z|H)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var At={touchstart:N,touchmove:U,touchend:z,touchcancel:H},Tt="touchstart touchmove touchend touchcancel";function St(){this.evTarget=Tt,this.targetIds={},tt.apply(this,arguments)}A(St,tt,{handler:function(t){var e=At[t.type],i=function(t,e){var i=_(t.touches),s=this.targetIds;if(e&(N|U)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,r=_(t.changedTouches),a=[],h=this.target;if(o=i.filter(function(t){return I(t.target,h)}),e===N)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;n=0;for(;n<r.length;)s[r[n].identifier]&&a.push(r[n]),e&(z|H)&&delete s[r[n].identifier],n++;if(!a.length)return;return[R(o.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var wt=2500,Et=25;function Pt(){tt.apply(this,arguments);var t=T(this.handler,this);this.touch=new St(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function It(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches;setTimeout(function(){var t=s.indexOf(i);t>-1&&s.splice(t,1)},wt)}}A(Pt,tt,{handler:function(t,e,i){var s="touch"==i.pointerType,n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(s)(function(t,e){t&N?(this.primaryTouch=e.changedPointers[0].identifier,It.call(this,e)):t&(z|H)&&It.call(this,e)}).call(this,e,i);else if(n&&function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var n=this.lastTouches[s],o=Math.abs(e-n.x),r=Math.abs(i-n.y);if(o<=Et&&r<=Et)return!0}return!1}.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Mt=L(c.style,"touchAction"),Dt=Mt!==a,Ct="auto",_t="manipulation",Rt="none",Lt="pan-x",Wt="pan-y",Ft=function(){if(!Dt)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)}),t}();function kt(t,e){this.manager=t,this.set(e)}kt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Dt&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[Mt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(M(t,Rt))return Rt;var e=M(t,Lt),i=M(t,Wt);if(e&&i)return Rt;if(e||i)return e?Lt:Wt;if(M(t,_t))return _t;return Ct}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var s=this.actions,n=M(s,Rt)&&!Ft[Rt],o=M(s,Wt)&&!Ft[Wt],r=M(s,Lt)&&!Ft[Lt];if(n){var a=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(a&&h&&l)return}if(!r||!o)return n||o&&i&K||r&&i&q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=1,Bt=2,jt=4,Nt=8,Ut=Nt,zt=16;function Ht(t){this.options=h({},this.defaults,t||{}),this.id=W++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Ot,this.simultaneous={},this.requireFail=[]}function Gt(t){return t&zt?"cancel":t&Nt?"end":t&jt?"move":t&Bt?"start":""}function Yt(t){return t==V?"down":t==J?"up":t==Y?"left":t==X?"right":""}function Xt(t,e){var i=e.manager;return i?i.get(t):t}function Jt(){Ht.apply(this,arguments)}function Vt(){Jt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Jt.apply(this,arguments)}function qt(){Ht.apply(this,arguments),this._timer=null,this._input=null}function Qt(){Jt.apply(this,arguments)}function Zt(){Jt.apply(this,arguments)}function $t(){Ht.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=w(e.recognizers,te.defaults.preset),new ee(t,e)}Ht.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===C(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=C(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(i){e.manager.emit(i,t)}i<Nt&&s(e.options.event+Gt(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=Nt&&s(e.options.event+Gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ot)))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Ut|zt|32)&&(this.state=Ot),this.state=this.process(e),this.state&(Bt|jt|Nt|zt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},A(Jt,Ht,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Bt|jt),n=this.attrTest(t);return s&&(i&H||!n)?e|zt:s||n?i&z?e|Nt:e&Bt?e|jt:Bt:32}}),A(Vt,Jt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Wt),t&q&&e.push(Lt),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,r=t.deltaY;return n&e.direction||(e.direction&K?(n=0===o?G:o<0?Y:X,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===r?G:r<0?J:V,i=r!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return Jt.prototype.attrTest.call(this,t)&&(this.state&Bt||!(this.state&Bt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),A(Kt,Jt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Rt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Bt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),A(qt,Ht,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ct]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(z|H)&&!n)this.reset();else if(t.eventType&N)this.reset(),this._timer=f(function(){this.state=Ut,this.tryEmit()},e.time,this);else if(t.eventType&z)return Ut;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Ut&&(t&&t.eventType&z?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}}),A(Qt,Jt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Rt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Bt)}}),A(Zt,Jt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|q,pointers:1},getTouchAction:function(){return Vt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(K|q)?e=t.overallVelocity:i&K?e=t.overallVelocityX:i&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&z},emit:function(t){var e=Yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),A($t,Ht,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_t]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&N&&0===this.count)return this.failTimeout();if(s&&n&&i){if(t.eventType!=z)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Ut,this.tryEmit()},e.interval,this),Bt):Ut}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Qt,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Zt,{direction:K}],[Vt,{direction:K},["swipe"]],[$t],[$t,{event:"doubletap",taps:2},["tap"]],[qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){var i;this.options=h({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(O?mt:B?St:k?Pt:ut))(i,et),this.touchAction=new kt(this,this.options.touchAction),ie(this,!0),g(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ie(t,e){var i,s=t.element;s.style&&(g(t.options.cssProps,function(n,o){i=L(s.style,o),e?(t.oldCssProps[i]=s.style[i],s.style[i]=n):s.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Ut)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Bt|jt|Nt)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof Ht)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=C(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return g(D(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==a){var i=this.handlers;return g(D(t),function(t){e?i[t]&&i[t].splice(C(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(te,{INPUT_START:N,INPUT_MOVE:U,INPUT_END:z,INPUT_CANCEL:H,STATE_POSSIBLE:Ot,STATE_BEGAN:Bt,STATE_CHANGED:jt,STATE_ENDED:Nt,STATE_RECOGNIZED:Ut,STATE_CANCELLED:zt,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:X,DIRECTION_UP:J,DIRECTION_DOWN:V,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:q,DIRECTION_ALL:Q,Manager:ee,Input:tt,TouchAction:kt,TouchInput:St,MouseInput:ut,PointerEventInput:mt,TouchMouseInput:Pt,SingleTouchInput:bt,Recognizer:Ht,AttrRecognizer:Jt,Tap:$t,Pan:Vt,Swipe:Zt,Pinch:Kt,Rotate:Qt,Press:qt,on:E,off:P,each:g,merge:b,extend:x,assign:h,inherit:A,bindFn:T,prefixed:L}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=te,(s=function(){return te}.call(e,i,e,t))===a||(t.exports=s)}(window,document)},function(t,e,i){"use strict";for(var s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.AudioContext;++n)window.AudioContext=window[s[n]+"AudioContext"];t.exports=window.AudioContext},function(t,e,i){"use strict";t.exports=function(t){return t.replace(/(.*)\.[^.]{1,4}$/,"")}},function(t,e,i){const s=i(35),n=i(25),o=i(26),r=i(6),a=i(27),h=i(36),l=i(1),c=i(7),u=i(8),d=i(16),p=i(37),y={averagePoints:s,degreesToRadians:n,radiansToDegrees:o,pointInPolygon:r,distance:a,degreesFromCenter:h,radiansFromCenter:l,scalePoints:c,translatePoints:u,insideCanvas:d,rotateRadiansAroundCenter:i(2),rotateDegreesAroundCenter:p};t.exports=y},function(t,e){t.exports=function(t){var e={x:0,y:0};return t.forEach(t,function(t){e.x+=t.x,e.y+=t.y}),e.x=e.x/t.length,e.y=e.y/t.length,e}},function(t,e,i){const s=i(26),n=i(1);t.exports=function(t,e){return s(n(t,e))}},function(t,e,i){const s=i(2),n=i(25);t.exports=function(t,e,i){return s(t,e,n(i))}},function(t,e,i){const s=i(28),n=i(23),o=0,r=2;t.exports=class extends s{constructor(t={}){super(t),this.state=r,this.walkingAnims=[],this.dyingAnims=[],this.idleAnims=[],this.direction=o,Object.assign(this,t)}updateDirection(t){this.x+=this.dx*t,this.y+=this.dy*t,this.state!==this.statics.STATE_DYING&&(this.dx>0&&0===this.dy?this.direction=this.statics.EAST:0===this.dx&&this.dy<0?this.direction=this.statics.NORTH:this.dx>0&&this.dy<0?this.direction=this.statics.NORTHEAST:this.dx<0&&this.dy<0?this.direction=this.statics.NORTHWEST:0===this.dx&&this.dy>0?this.direction=this.statics.SOUTH:this.dx>0&&this.dy>0?this.direction=this.statics.SOUTHEAST:this.dx<0&&this.dy>0?this.direction=this.statics.SOUTHWEST:this.dx<0&&0===this.dy&&(this.direction=this.statics.WEST),0===this.dx&&0===this.dy?this.state=this.statics.STATE_IDLE:this.state=this.statics.STATE_WALKING)}updateAnimations(t){this.state===this.statics.STATE_WALKING?this.anim=this.walkingAnims[this.direction]:this.state===this.statics.STATE_DYING?this.anim=this.dyingAnims[this.direction]:this.anim=this.idleAnims[this.direction],this.anim.update(t)}createAnimations(t,e,i,s,o,r){var a=[],h=Array.isArray(e),l=1;r||(r=0);for(var c=0;c<8;c++){a[c]=new n({height:s,width:o,image:i});for(var u=0;u<t;u++)l=h?e[u]:e,a[c].addFrame(l,u+t*c,r)}return a}}},function(t,e,i){"use strict";var s={Circle:i(3),MultiPolygon:i(40),Polygon:i(10),Rectangle:i(41)};t.exports=s},function(t,e,i){const s=i(4),n=i(7),o=i(6),r=i(8);t.exports=class extends s{constructor(t={}){super(t),this.polys=[],Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle;for(var s=0;s<this.polys.length;s++){t.beginPath(),t.moveTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e);for(var n=1;n<this.polys[s].length;n++)t.lineTo((this.polys[s][n].x+this.x)*e,(this.polys[s][n].y+this.y)*e);t.lineTo((this.x+this.polys[s][0].x)*e,(this.y+this.polys[s][0].y)*e),t.closePath(),t.fill(),t.stroke()}t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.polys=n(this.polys,t),sup.scaleShape(t)}pointInShape(t){for(var e=0;e<this.polys.length;e++)if(o(t,r(this.polys[e],this)))return!0;return!1}}},function(t,e,i){const s=i(4);t.exports=class extends s{constructor(t={}){super(t),this.halfWidth=1,this.halfHeight=1,Object.assign(this,t)}draw(t,e){e=e||this.scale||1;var i=t.lineWidth;t.lineWidth=this.lineWidth,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.fillRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.strokeRect((this.x-this.halfWidth)*e,(this.y-this.halfHeight)*e,2*this.halfWidth*e,2*this.halfHeight*e),t.restore(),t.lineWidth=i,super.draw(t,e)}scaleShape(t){this.halfHeight=this.halfHeight*t,this.halfWidth=this.halfWidth*t,super.scaleShape(t)}pointInShape(t){return t.x>=this.x-this.halfWidth&&t.x<=this.x+this.halfWidth&&t.y>=this.y-this.halfHeight&&t.y<=this.y+this.halfHeight}}},function(t,e,i){"use strict";var s={Distance:i(43),Prismatic:i(44),Revolute:i(45)};t.exports=s},function(t,e,i){const s=i(9),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2DistanceJointDef;t.exports=class extends s{constructor(t={}){super(t),this.bodyPoint2=null,Object.assign(this,t)}scaleJointLocation(t){t&&this.bodyPoint2&&(this.bodyPoint2.x=this.bodyPoint2.x*t,this.bodyPoint2.y=this.bodyPoint2.y*t,this.alreadyScaled=!0),super.scaleJointLocation(t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){let s,r;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),this.bodyPoint2&&(r=new n(this.bodyPoint2.x,this.bodyPoint2.y)),s=s||e.GetWorldCenter(),r=r||i.GetWorldCenter();const a=new o;return a.Initialize(e,i,s,r),this.jointAttributes&&Object.assign(a,this.jointAttributes),t.b2World.CreateJoint(a)}}}}},function(t,e,i){const s=i(9),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2PrismaticJointDef;t.exports=class extends s{constructor(t={}){super(t),this.axisScale=null,Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){const s=t.bodiesMap[this.bodyId1],r=t.bodiesMap[this.bodyId2];if(s&&r){let a;this.bodyPoint1&&(a=new n(this.bodyPoint1.x,this.bodyPoint1.y)),a=a||s.GetWorldCenter();var e,i=new o;return e=this.axisScale?new n(this.axisScale.x,this.axisScale.y):new n(1,0),i.Initialize(s,r,a,e),this.jointAttributes&&Object.assign(i,this.jointAttributes),t.b2World.CreateJoint(i)}}}}},function(t,e,i){const s=i(9),n=Box2D.Common.Math.b2Vec2,o=Box2D.Dynamics.Joints.b2RevoluteJointDef;t.exports=class extends s{constructor(t={}){super(t),Object.assign(this,t)}createB2Joint(t){if(t&&t.bodiesMap&&t.b2World&&t.jointsMap&&!t.jointsMap[this.id]){var e=t.bodiesMap[this.bodyId1],i=t.bodiesMap[this.bodyId2];if(e&&i){var s;this.bodyPoint1&&(s=new n(this.bodyPoint1.x,this.bodyPoint1.y)),s=s||e.GetWorldCenter();var r=new o;return r.Initialize(e,i,s,void 0),this.jointAttributes&&Object.assign(r,this.jointAttributes),t.b2World.CreateJoint(r)}}}}},function(t,e){t.exports=class{constructor(t={}){Object.assign(this,t),this.collisions=this.collisions||{}}reset(){this.collisions={}}postSolve(t,e,i,s){this.collisions[t]=this.collisions[t]||[],this.collisions[t].push({id:e,impulse:i.normalImpulses[0]}),this.collisions[e]=this.collisions[e]||[],this.collisions[e].push({id:t,impulse:i.normalImpulses[0]})}}},function(t,e,i){const s=i(12),n=i(29);t.exports=class extends s{constructor(t={}){super(t),console.log("boxgame options",t),this.box=null,this.boxUpdating=!0,this.entities=null,this.joints=null,Object.assign(this,t),this.box||(this.box=new n(t.boxOptions)),this.entities||(this.entities={}),this.joints||(this.joints={})}updateBox(t){this.boxUpdating&&(this.box.update(t),this.box.updateExternalState(this.entities))}addBody(t){this.entities[t.id]=t,this.box.addBody(t)}addBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addBody(t)})}removeBody(t){this.box.removeBody(t.id),delete this.entities[t.id]}removeBodies(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeBody(t)})}addJoint(t){this.joints[t.id]=t,this.box.addJoint(t)}addJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.addJoint(t)})}removeJoint(t){this.box.removeJoint(t.id),delete this.joints[t.id]}removeJoints(t){Array.isArray(t)||(t=[t]),t.forEach(t=>{this.removeJoint(t)})}}},function(t,e,i){"use strict";i.r(e);var s=i(0),n=i(11),o=i.n(n);var r=function(t){t.fillStyle="#AAA",t.clearRect(0,0,this.width,this.height),Object.keys(this.entities).forEach(e=>{this.entities[e].hidden||this.entities[e].draw(t)})},a=i(3),h=i.n(a);class l extends h.a{draw(t,e){e=e||this.scale||1,t.save(),t.translate(this.x*e,this.y*e),t.rotate(this.angle),t.translate(-this.x*e,-this.y*e),t.drawImage(this.img,this.x*e-this.img.width/2,this.y*e-this.img.height/2),t.restore()}}console.log("wtf too many bricks?");let c=[[6,1],[10,1],[14,1],[34,1],[38,1],[42,1],[8,3],[12,3],[16,3],[32,3],[36,3],[40,3],[6,5],[10,5],[14,5],[34,5],[38,5],[42,5],[8,7],[12,7],[16,7],[32,7],[36,7],[40,7],[10,9],[14,9],[18,9],[30,9],[34,9],[38,9],[12,11],[16,11],[20,11],[24,11],[28,11],[32,11],[36,11],[14,13],[18,13],[22,13],[26,13],[30,13],[34,13],[12,15],[16,15],[20,15],[24,15],[28,15],[32,15],[36,15],[18,17],[22,17],[26,17],[30,17],[24,19]];var u=c=c.map(t=>((t=[12.5*t[0],12.5*t[1]])[0]=t[0]-300,t)),d=i(30),p=i.n(d),y=i(10),f=i.n(y);class m extends f.a{draw(t,e){const i=t.lineWidth;t.save(),t.lineWidth=1,t.lineJoin="round",t.fillStyle=this.fillStyle;const s=t.createLinearGradient(0,this.prey,0,this.prey+2*this.halfHeight);s.addColorStop(0,t.fillStyle),s.addColorStop(1,"#444"),t.translate(this.prex,this.prey),t.rotate(this.preAngle),t.translate(-this.prex,-this.prey),t.fillStyle=s,t.strokeStyle=this.strokeStyle,t.fillRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.strokeRect(this.prex-this.halfWidth,this.prey-this.halfHeight,2*this.halfWidth,2*this.halfHeight),t.restore(),t.lineWidth=i}}var g=i(1),v=i.n(g),x=i(2),b=i.n(x);class A extends h.a{draw(t,e){e=e||this.scale||1;const i=this.x*e,s=this.y*e,n=t.lineWidth;t.lineWidth=2,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(i,s,this.radius*e,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.lineWidth=1,t.fillStyle="#FFF",t.beginPath(),t.arc(i-17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.beginPath(),t.arc(i+17,s-15,10,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke();const o=v()({x:i-17,y:s-15},{x:this.ball.x*e,y:this.ball.y*e}),r=v()({x:i+17,y:s-15},{x:this.ball.x*e,y:this.ball.y*e}),a=b()({x:i-17,y:s-15},{x:i-17,y:s-20},o),h=b()({x:i+17,y:s-15},{x:i+17,y:s-20},r);t.fillStyle="black",t.beginPath(),t.arc(a.x,a.y,6,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="black",t.beginPath(),t.arc(h.x,h.y,6,0,2*Math.PI,!0),t.closePath(),t.fill(),t.lineWidth=n}}const{BoxGame:T,entities:S,joints:w}=s.box2d,{Revolute:E}=w,{radiansFromCenter:P,scalePoints:I,rotateRadiansAroundCenter:M}=s.utils,D=new T({canvasId:"canvas",gameAreaId:"gameArea",canvasPercentage:1,boxOptions:{resolveCollisions:!0,gravityY:0},draw:r,initInput:function(t){t.addArrowKeyActions(),t.addKeyAction("A"),t.addKeyAction("D")},handleInput:function(t){t.keyActions[s.keys.LEFT].isPressed()&&this.box.applyImpulseDegrees("ball",270,30),t.keyActions[s.keys.RIGHT].isPressed()&&this.box.applyImpulseDegrees("ball",90,30),t.keyActions[s.keys.UP].isPressed()&&this.box.applyImpulseDegrees("ball",0,30),t.keyActions[s.keys.DOWN].isPressed()&&this.box.applyImpulseDegrees("ball",180,30),t.keyActions.A.isPressed()&&this.box.applyTorque("ball",-3e3),t.keyActions.D.isPressed()&&this.box.applyTorque("ball",3e3),t.mouseAction.isPressed()&&this.box.applyImpulse("ball",P(this.entities.ball,I(t.mouseAction.position,1/this.box.scale)),30)},update:function(t){this.updateBox(t),this.ball&&this.ball.collisions&&this.ball.collisions.forEach(t=>{const e=this.entities[t.id];e&&e.brick?this.removeBody(t):e&&e.king&&(e.fillStyle="black")}),this.entities.neck&&this.entities.neck.collisions&&this.entities.neck.collisions.forEach(t=>{const e=this.entities[t.id];e&&e.brick?this.removeBody(t):e&&e.king&&(e.fillStyle="black")}),D.players.forEach(t=>{this.box.setAngularVelocity(t.paddle.id,0);const e=s.utils.radiansFromCenter(t.anchor,t.paddle);this.box.setAngle(t.paddle.id,e)})}});o.a.entities.forEach(function(t){if("ball"===t.id)t.img=D.resourceManager.loadImage("images/head.png"),D.ball=new l(t),D.addBody(D.ball);else{const e=S[t.type];e&&(t.drawCenter=!1,D.addBody(new e(t)))}});const C=568.10113077769,_=Math.asin(.6889532509648748),R=Math.asin(.7248057794927981);console.log("angle in radians",_,R);const L=.6043122389547919,W=[0,_,R+Math.PI/2,Math.PI,Math.PI+_,1.5*Math.PI+R];const F=[[960,0],[1920-C*L,540*(1-L)],[1920-C*L,540+540*L],[960,1080],[C*L,540+540*L],[C*L,540*(1-L)]].map((t,e)=>({pt:t,color:p.a[e],angle:W[e]}));console.log("players",F);const k={x:F[0].pt[0],y:F[0].pt[1]};F.forEach((t,e)=>{console.log("creating player",t);const i={x:t.pt[0],y:t.pt[1]},s=M(i,{x:i.x,y:i.y+55},t.angle),n=new A({x:s.x,y:s.y,radius:50,staticBody:!0,restitution:2,fillStyle:t.color,king:!0,ball:D.ball});D.addBody(n),t.face=n;const o=M(i,{x:i.x,y:i.y+300},t.angle),r=new S.Rectangle({x:o.x,y:o.y,halfWidth:40,halfHeight:10,restitution:1,fillStyle:t.color,paddle:!0,drawCenter:!1});D.addBody(r),t.paddle=r,t.anchor=new S.Circle({x:t.pt[0],y:t.pt[1],radius:.1,staticBody:!0}),D.addBody(t.anchor);const a=new w.Distance({bodyId1:t.anchor.id,bodyId2:r.id,id:Math.random()+"j"});D.addJoint(a),u.forEach((s,n)=>{const o={x:s[0]+960,y:s[1],halfWidth:25,halfHeight:12.5,staticBody:!0,restitution:1.5,playerId:e,fillStyle:t.color,brick:!0,preAngle:t.angle},r=M(k,o,t.angle);o.x=r.x,o.y=r.y,o.x+=i.x-F[0].pt[0],o.y+=i.y-F[0].pt[1],o.points=[{x:o.halfWidth,y:-o.halfHeight},{x:o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:o.halfHeight},{x:-o.halfWidth,y:-o.halfHeight}],o.points=o.points.map(e=>M({x:0,y:0},e,t.angle)),o.prex=o.x,o.prey=o.y;const a=new m(o);D.addBody(a)})}),D.players=F,o.a.joints.forEach(function(t){var e;"Revolute"===t.type&&(e=new E(t)),e&&D.box.addJoint(e)}),console.log(D),window.game=D,D.run(),D.box.applyImpulseDegrees("ball",360*Math.random(),50)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy91dGlscy9yYWRpYW5zRnJvbUNlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvdXRpbHMvcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlci5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvYm94MmQvZW50aXRpZXMvQ2lyY2xlLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9FbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL0dhbWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL3BvaW50SW5Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy91dGlscy9zY2FsZVBvaW50cy5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvdXRpbHMvdHJhbnNsYXRlUG9pbnRzLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9ib3gyZC9qb2ludHMvSm9pbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL1BvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JveERhdGEuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL0dhbWVDb3JlLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9JbnB1dE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL1RvdWNoQWN0aW9uLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9Nb3VzZUFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvdXRpbHMvaW5zaWRlQ2FudmFzLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9rZXlzLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9SZXNvdXJjZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2hhcy5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9zb3VuZHMvU291bmQuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3NvdW5kcy9XZWJBdWRpby5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvQW5pbWF0aW9uLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9BbmltRnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL2RlZ3JlZXNUb1JhZGlhbnMuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL3JhZGlhbnNUb0RlZ3JlZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL2Rpc3RhbmNlLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9TcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL0JveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3JzLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9ub2RlX21vZHVsZXMvaGFtbWVyanMvaGFtbWVyLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9zaGltcy9BdWRpb0NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL3JlbW92ZUV4dGVuc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL2F2ZXJhZ2VQb2ludHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL3V0aWxzL2RlZ3JlZXNGcm9tQ2VudGVyLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy91dGlscy9yb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9yZWluZXIvQ3JlYXR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9NdWx0aVBvbHlnb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL1JlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvYm94MmQvam9pbnRzLmpzIiwid2VicGFjazovLy8uLi9mcm96ZW5qcy9ib3gyZC9qb2ludHMvRGlzdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL2pvaW50cy9QcmlzbWF0aWMuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL2pvaW50cy9SZXZvbHV0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vZnJvemVuanMvYm94MmQvbGlzdGVuZXJzL0NvbnRhY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL2Zyb3plbmpzL2JveDJkL0JveEdhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JhbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JyaWNrcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQnJpY2suanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJmcm96ZW5qcyIsIkdhbWVDb3JlIiwiSW5wdXRNYW5hZ2VyIiwiUmVzb3VyY2VNYW5hZ2VyIiwiTW91c2VBY3Rpb24iLCJUb3VjaEFjdGlvbiIsImtleXMiLCJBbmltYXRpb24iLCJBbmltRnJhbWUiLCJ1dGlscyIsIlNwcml0ZSIsInJlaW5lciIsIkNyZWF0dXJlIiwic291bmRzIiwiV2ViQXVkaW8iLCJib3gyZCIsImVudGl0aWVzIiwiam9pbnRzIiwiQm94IiwiQm94R2FtZSIsImNlbnRlciIsIngiLCJ5IiwicHQiLCJNYXRoIiwiUEkiLCJhdGFuIiwiYW5nbGUiLCJzaW4iLCJjb3MiLCJuZXdQdCIsInhuZXciLCJ5bmV3IiwiRW50aXR5IiwiZGlzdGFuY2UiLCJbb2JqZWN0IE9iamVjdF0iLCJvcHRpb25zIiwic3VwZXIiLCJ0aGlzIiwicmFkaXVzIiwiYXNzaWduIiwiY3R4Iiwic2NhbGUiLCJvZ0xpbmVXaWR0aCIsImxpbmVXaWR0aCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbCIsInN0cm9rZSIsInN0YXRpY0JvZHkiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwibW92ZVRvIiwibGluZVRvIiwicmVzdG9yZSIsImRyYXciLCJzY2FsZVNoYXBlIiwicG9pbnQiLCJpZCIsInJhbmRvbSIsIkRhdGUiLCJub3ciLCJkcmF3Q2VudGVyIiwicmVzdGl0dXRpb24iLCJkZW5zaXR5IiwiZnJpY3Rpb24iLCJsaW5lYXJEYW1waW5nIiwibGluZWFyVmVsb2NpdHkiLCJhbmd1bGFyVmVsb2NpdHkiLCJhbmd1bGFyRGFtcGluZyIsIm1hc2tCaXRzIiwiY2F0ZWdvcnlCaXRzIiwiZ3JvdXBJbmRleCIsInN0YXRlIiwiY2VudGVyU3R5bGUiLCJhbHJlYWR5U2NhbGVkIiwic3RhdGljcyIsIk5PUk1BTCIsIkRFVEVDVF9JTklUQUxfUFJFU1NfT05MWSIsIlNUQVRFX1JFTEVBU0VEIiwiU1RBVEVfUFJFU1NFRCIsIlNUQVRFX1dBSVRJTkdfRk9SX1JFTEVBU0UiLCJTVEFURV9NT1ZFRCIsImJlaGF2aW9yIiwiYW1vdW50IiwicmVzZXQiLCJwcmVzcyIsInJlbGVhc2UiLCJwcmVzc0FtdCIsInJldFZhbCIsInBvbHlnb24iLCJwb2x5IiwicG9pbnRzIiwiaW5zaWRlUG9seSIsImoiLCJsZW5ndGgiLCJ4aSIsInlpIiwieGoiLCJ5aiIsInNjYWxlUG9pbnRzIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwidHJhbnNsYXRlUG9pbnRzIiwidHJhbnNsYXRpb24iLCJib2R5SWQxIiwiYm9keUlkMiIsImJvZHlQb2ludDEiLCJqb2ludEF0dHJpYnV0ZXMiLCJwb2ludEluUG9seWdvbiIsInpvbmUiLCJ0eXBlIiwiaGlkZGVuIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImVuYWJsZUxpbWl0IiwibG93ZXJBbmdsZSIsInVwcGVyQW5nbGUiLCJjYW52YXMiLCJoZWlnaHQiLCJ3aWR0aCIsImJhY2tJbWciLCJpc1J1bm5pbmciLCJjYW52YXNJZCIsIm1heFN0ZXAiLCJjb250ZXh0VHlwZSIsInJlc291cmNlTWFuYWdlciIsImlucHV0TWFuYWdlciIsImxvYWRpbmdGb3JlZ3JvdW5kIiwibG9hZGluZ0JhY2tncm91bmQiLCJnYW1lQXJlYUlkIiwiY2FudmFzUGVyY2VudGFnZSIsIm5ld0hlaWdodCIsIm5ld1dpZHRoIiwiaW5pdCIsImxvYWRSZXNvdXJjZXMiLCJpbml0SW5wdXQiLCJsYXVuY2hMb29wIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRleHQiLCJnZXRDb250ZXh0Iiwic2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJnYW1lQXJlYSIsInJlc2l6ZSIsImFsZXJ0IiwiZWxhcHNlZFRpbWUiLCJjdXJyVGltZSIsImdldFRpbWUiLCJtaW4iLCJwcmV2VGltZSIsInJlc291cmNlc1JlYWR5IiwidXBkYXRlTG9hZGluZ1NjcmVlbiIsImRyYXdMb2FkaW5nU2NyZWVuIiwiaGFuZGxlSW5wdXQiLCJwYXVzZWQiLCJ1cGRhdGUiLCJzdGFydFRpbWUiLCJsb29wUnVubmVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2FtZUxvb3AiLCJmb250IiwiZmlsbFRleHQiLCJmaWxsUmVjdCIsInRleHRQeFNpemUiLCJmbG9vciIsImdldFBlcmNlbnRDb21wbGV0ZSIsInN0cm9rZVJlY3QiLCJIYW1tZXIiLCJHYW1lQWN0aW9uIiwiaW5zaWRlQ2FudmFzIiwib24iLCJlbGVtZW50IiwiaGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidG9QaXhlbCIsInBhcnNlRmxvYXQiLCJnZXRNYXJnaW5FeHRlbnRzIiwibm9kZSIsInN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJ3IiwibWFyZ2luUmlnaHQiLCJoIiwibWFyZ2luQm90dG9tIiwiY2xlYW51cCIsInJlbW92ZSIsImtleUFjdGlvbnMiLCJtb3VzZUFjdGlvbiIsInRvdWNoQWN0aW9uIiwiaGFuZGxlTW91c2UiLCJoYW5kbGVUb3VjaCIsImhhbmRsZUtleXMiLCJlbXVsYXRlTW91c2UiLCJoYW1tZXIiLCJib2R5IiwicHJldmVudF9kZWZhdWx0IiwiZHJhZ19tYXhfdG91Y2hlcyIsImhvbGQiLCJwdXNoQ2xlYW51cCIsImtleWRvd24iLCJrZXl1cCIsInRvdWNoc3RhcnQiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsIm1vdXNlZG93biIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJub3JtYWxpemVQb2ludCIsImdlc3R1cmUiLCJyZW1vdmVDbGVhbnVwIiwiYXJncyIsIm9mZiIsImFwcGx5IiwiZ2FtZUFjdGlvbiIsImtleUNvZGUiLCJpbml0aWFsUHJlc3NPbmx5IiwiZ2EiLCJkZXRlY3RJbml0aWFsUHJlc3NPbmx5IiwibWFwVG9LZXkiLCJhZGRLZXlBY3Rpb24iLCJVUCIsIkRPV04iLCJMRUZUIiwiUklHSFQiLCJlIiwiY3VycmVudFBvaW50IiwicG9zaXRpb24iLCJjb25zb2xlIiwibG9nIiwidG91Y2hlcyIsImN1cnJlbnRQb2ludHMiLCJwdXNoIiwic29tZSIsIm1vdXNlVXAiLCJwb3NpdGlvbnMiLCJzdGFydFBvc2l0aW9ucyIsInByZXZlbnREZWZhdWx0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZ2V0S2V5QWN0aW9uIiwiaXNQcmVzc2VkIiwiZXZ0IiwiY29vcmRzTSIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0b3AiLCJ6b29tUmF0aW8iLCJyb3VuZCIsImNsaWVudFgiLCJjbGllbnRZIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJib2R5TWFyZ2lucyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIndpZHRoVG9IZWlnaHQiLCJuZXdXaWR0aFN0eWxlIiwibmV3SGVpZ2h0U3R5bGUiLCJjYW52YXNQZXJjZW50YWdlU3R5bGUiLCJkaXNwbGF5IiwiYSIsImIiLCJlbmRQb3NpdGlvbnMiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRpb24iLCJDQU5DRUwiLCJIRUxQIiwiQkFDS19TUEFDRSIsIlRBQiIsIkNMRUFSIiwiUkVUVVJOIiwiRU5URVIiLCJTSElGVCIsIkNPTlRST0wiLCJBTFQiLCJQQVVTRSIsIkNBUFNfTE9DSyIsIkVTQ0FQRSIsIlNQQUNFIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkVORCIsIkhPTUUiLCJQUklOVFNDUkVFTiIsIklOU0VSVCIsIkRFTEVURSIsIk5VTTAiLCJOVU0xIiwiTlVNMiIsIk5VTTMiLCJOVU00IiwiTlVNNSIsIk5VTTYiLCJOVU03IiwiTlVNOCIsIk5VTTkiLCJTRU1JQ09MT04iLCJFUVVBTFMiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIkNPTlRFWFRfTUVOVSIsIk5VTVBBRDAiLCJOVU1QQUQxIiwiTlVNUEFEMiIsIk5VTVBBRDMiLCJOVU1QQUQ0IiwiTlVNUEFENSIsIk5VTVBBRDYiLCJOVU1QQUQ3IiwiTlVNUEFEOCIsIk5VTVBBRDkiLCJNVUxUSVBMWSIsIkFERCIsIlNFUEFSQVRPUiIsIlNVQlRSQUNUIiwiREVDSU1BTCIsIkRJVklERSIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIkYxMyIsIkYxNCIsIkYxNSIsIkYxNiIsIkYxNyIsIkYxOCIsIkYxOSIsIkYyMCIsIkYyMSIsIkYyMiIsIkYyMyIsIkYyNCIsIk5VTV9MT0NLIiwiU0NST0xMX0xPQ0siLCJVUF9EUEFEIiwiRE9XTl9EUEFEIiwiTEVGVF9EUEFEIiwiUklHSFRfRFBBRCIsIkNPTU1BIiwiUEVSSU9EIiwiU0xBU0giLCJCQUNLX1FVT1RFIiwiT1BFTl9CUkFDS0VUIiwiQkFDS19TTEFTSCIsIkNMT1NFX0JSQUNLRVQiLCJRVU9URSIsIk1FVEEiLCJoYXMiLCJTb3VuZCIsInJlc291cmNlTGlzdCIsIm5vcm1hbGl6ZVBhdGgiLCJiYXNlRGlyIiwicGF0aCIsImpvaW5lZFBhdGgiLCJqb2luIiwicmVwbGFjZSIsImZsaXBYIiwiaW1hZ2UiLCJvZmZzY3JlZW5DYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwiZmxpcFkiLCJJbWFnZVdyYXBwZXIiLCJmaWxlbmFtZSIsInNlbGYiLCJjb21wbGV0ZSIsImltZyIsIkltYWdlIiwic3JjIiwiYWxsTG9hZGVkIiwiaW1hZ2VEaXIiLCJzb3VuZERpciIsImZpbGVzIiwic2luZ2xlRmlsZSIsImZpbGVMaXN0IiwiZmlsZSIsIndyYXBwZXIiLCJsb2FkIiwic291bmQiLCJmbGlwRm4iLCJpbWcyIiwiZG9GbGlwIiwiZmxpcEltYWdlIiwibnVtQ29tcGxldGUiLCJnbG9iYWwiLCJjaGVjayIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInNwbGl0IiwidW5kZWZpbmVkIiwiQXVkaW9Db250ZXh0IiwiZG9jdW1lbnRFbGVtZW50IiwiZyIsIkZ1bmN0aW9uIiwiZm9ybWF0cyIsImF1ZGlvL21wZWciLCJhdWRpby93ZWJtIiwiYXVkaW8vb2dnIiwiYXVkaW8vd2F2IiwiYXVkaW8vYWFjIiwiYXVkaW8veC1tNGEiLCJwcm9iYWJseSIsIm1heWJlIiwidm9sdW1lIiwibG9vcCIsImNvZGVjIiwicmVzdWx0IiwiYXVkaW8iLCJBdWRpbyIsImNhblBsYXlUeXBlIiwic2hpZnQiLCJyZW1vdmVFeHRlbnNpb24iLCJhdWRpb0NvbnRleHQiLCJoYW5kbGVTaGl0dHkiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzdGFydCIsImJhc2VuYW1lIiwiX2Nob29zZUZvcm1hdCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJvbmxvYWQiLCJkZWNvZGVBdWRpb0RhdGEiLCJ0YXJnZXQiLCJyZXNwb25zZSIsImVyciIsIl9uZXh0Rm9ybWF0Iiwic2VuZCIsIl9pbml0QXVkaW8iLCJnYWluTm9kZSIsImNyZWF0ZUdhaW4iLCJnYWluIiwiY3VyckZyYW1lSW5kZXgiLCJhbmltVGltZSIsInRvdGFsRHVyYXRpb24iLCJvZmZzZXRYIiwib2Zmc2V0WSIsImZyYW1lcyIsImZyYW1lQ291bnQiLCJmcmFtZVRpbWVzIiwieVNsb3QiLCJhbmltIiwiaXNGVEFycmF5IiwiY3VycmVudEZyYW1lVGltZSIsImFkZEZyYW1lIiwiZHVyYXRpb24iLCJpbWFnZVNsb3RYIiwiaW1hZ2VTbG90WSIsImVuZFRpbWUiLCJpbWdTbG90WCIsImltZ1Nsb3RZIiwiY2YiLCJnZXRDdXJyZW50RnJhbWUiLCJyYWRDb25zdCIsImRlZ3JlZXMiLCJkZWdDb25zdCIsInJhZGlhbnMiLCJwMSIsInAyIiwic3FydCIsImR4IiwiZHkiLCJtYXhTcGVlZCIsImNvbGxpc2lvblJhZGl1cyIsInYiLCJhYnMiLCJjbG9uZSIsIkNvbnRhY3QiLCJCb3gyRCIsIkIyVmVjMiIsIkNvbW1vbiIsImIyVmVjMiIsIkIyQm9keURlZiIsIkR5bmFtaWNzIiwiYjJCb2R5RGVmIiwiQjJCb2R5IiwiYjJCb2R5IiwiQjJGaXh0dXJlRGVmIiwiYjJGaXh0dXJlRGVmIiwiQjJXb3JsZCIsImIyRml4dHVyZSIsImIyV29ybGQiLCJCMlBvbHlnb25TaGFwZSIsIkNvbGxpc2lvbiIsIlNoYXBlcyIsImIyUG9seWdvblNoYXBlIiwiQjJDaXJjbGVTaGFwZSIsImIyQ2lyY2xlU2hhcGUiLCJpbnRlcnZhbFJhdGUiLCJhZGFwdGl2ZSIsImJvZGllc01hcCIsImZpeHR1cmVzTWFwIiwiam9pbnRzTWFwIiwiZ3Jhdml0eVgiLCJncmF2aXR5WSIsImFsbG93U2xlZXAiLCJyZXNvbHZlQ29sbGlzaW9ucyIsImNvbnRhY3RMaXN0ZW5lciIsImNvbGxpc2lvbnMiLCJwYXJzZUludCIsImFkZENvbnRhY3RMaXN0ZW5lciIsIm1pbGxpcyIsIlN0ZXAiLCJDbGVhckZvcmNlcyIsInN0ZXBSYXRlIiwibGFzdFRpbWVzdGFtcCIsIkdldEJvZHlMaXN0IiwibV9uZXh0IiwiSXNBY3RpdmUiLCJHZXRVc2VyRGF0YSIsIkdldFBvc2l0aW9uIiwiR2V0QW5nbGUiLCJHZXRXb3JsZENlbnRlciIsIm1fbGluZWFyVmVsb2NpdHkiLCJtX2FuZ3VsYXJWZWxvY2l0eSIsImJvZGllc1N0YXRlIiwiZ2V0U3RhdGUiLCJlbnRpdHkiLCJib2R5RW50aXRpZXMiLCJhZGRCb2R5IiwicmVhZHkiLCJ2ZWMiLCJ2ZWNzIiwiYm9keURlZiIsImZpeERlZiIsImZpbHRlciIsImIyX3N0YXRpY0JvZHkiLCJiMl9keW5hbWljQm9keSIsInVzZXJEYXRhIiwiQ3JlYXRlQm9keSIsInNoYXBlIiwiQ3JlYXRlRml4dHVyZSIsIlNldCIsIlNldEFzQXJyYXkiLCJwb2x5cyIsIlNldEFzQm94IiwiYm9keUlkIiwiU2V0UG9zaXRpb24iLCJzZXRBbmdsZSIsIlNldExpbmVhclZlbG9jaXR5IiwidmVsb2NpdHkiLCJTZXRBbmd1bGFyVmVsb2NpdHkiLCJwb3dlciIsIkFwcGx5SW1wdWxzZSIsIkFwcGx5Rm9yY2UiLCJTZXRBbmdsZSIsIkFwcGx5VG9ycXVlIiwidmVjdG9yIiwiU2V0R3Jhdml0eSIsIkRlc3Ryb3lGaXh0dXJlIiwiRGVzdHJveUJvZHkiLCJTZXRBd2FrZSIsImxpc3RlbmVyIiwiYjJDb250YWN0TGlzdGVuZXIiLCJiZWdpbkNvbnRhY3QiLCJCZWdpbkNvbnRhY3QiLCJjb250YWN0IiwibV9maXh0dXJlQSIsIm1fYm9keSIsIm1fdXNlckRhdGEiLCJtX2ZpeHR1cmVCIiwiZW5kQ29udGFjdCIsIkVuZENvbnRhY3QiLCJwcmVTb2x2ZSIsIlByZVNvbHZlIiwib2xkTWFuaWZvbGQiLCJwb3N0U29sdmUiLCJQb3N0U29sdmUiLCJpbXB1bHNlIiwiU2V0Q29udGFjdExpc3RlbmVyIiwiam9pbnRJZCIsIkRlc3Ryb3lKb2ludCIsImpvaW50Iiwic2NhbGVKb2ludExvY2F0aW9uIiwiYjJKb2ludCIsImNyZWF0ZUIySm9pbnQiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImV4cG9ydE5hbWUiLCJWRU5ET1JfUFJFRklYRVMiLCJURVNUX0VMRU1FTlQiLCJUWVBFX0ZVTkNUSU9OIiwic2V0VGltZW91dENvbnRleHQiLCJmbiIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYmluZEZuIiwiaW52b2tlQXJyYXlBcmciLCJhcmciLCJlYWNoIiwib2JqIiwiaXRlcmF0b3IiLCJmb3JFYWNoIiwiZGVwcmVjYXRlIiwibWV0aG9kIiwibWVzc2FnZSIsImRlcHJlY2F0aW9uTWVzc2FnZSIsIkVycm9yIiwic3RhY2siLCJ3YXJuIiwiYXJndW1lbnRzIiwiVHlwZUVycm9yIiwib3V0cHV0IiwiaW5kZXgiLCJuZXh0S2V5IiwiZXh0ZW5kIiwiZGVzdCIsIm1lcmdlIiwiaW5oZXJpdCIsImNoaWxkIiwiYmFzZSIsInByb3BlcnRpZXMiLCJjaGlsZFAiLCJiYXNlUCIsImNvbnN0cnVjdG9yIiwiX3N1cGVyIiwiYm9vbE9yRm4iLCJ2YWwiLCJpZlVuZGVmaW5lZCIsInZhbDEiLCJ2YWwyIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJ0eXBlcyIsInNwbGl0U3RyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYXNQYXJlbnQiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiaW5TdHIiLCJzdHIiLCJmaW5kIiwiaW5kZXhPZiIsInRyaW0iLCJpbkFycmF5IiwiZmluZEJ5S2V5IiwidG9BcnJheSIsInNsaWNlIiwidW5pcXVlQXJyYXkiLCJzb3J0IiwicmVzdWx0cyIsInZhbHVlcyIsInByZWZpeGVkIiwicHJlZml4IiwicHJvcCIsImNhbWVsUHJvcCIsInRvVXBwZXJDYXNlIiwiX3VuaXF1ZUlkIiwiZ2V0V2luZG93Rm9yRWxlbWVudCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsIlNVUFBPUlRfVE9VQ0giLCJTVVBQT1JUX1BPSU5URVJfRVZFTlRTIiwiU1VQUE9SVF9PTkxZX1RPVUNIIiwidGVzdCIsIkNPTVBVVEVfSU5URVJWQUwiLCJJTlBVVF9TVEFSVCIsIklOUFVUX01PVkUiLCJJTlBVVF9FTkQiLCJJTlBVVF9DQU5DRUwiLCJESVJFQ1RJT05fTk9ORSIsIkRJUkVDVElPTl9MRUZUIiwiRElSRUNUSU9OX1JJR0hUIiwiRElSRUNUSU9OX1VQIiwiRElSRUNUSU9OX0RPV04iLCJESVJFQ1RJT05fSE9SSVpPTlRBTCIsIkRJUkVDVElPTl9WRVJUSUNBTCIsIkRJUkVDVElPTl9BTEwiLCJQUk9QU19YWSIsIlBST1BTX0NMSUVOVF9YWSIsIklucHV0IiwibWFuYWdlciIsImNhbGxiYWNrIiwiaW5wdXRUYXJnZXQiLCJkb21IYW5kbGVyIiwiZXYiLCJlbmFibGUiLCJpbnB1dEhhbmRsZXIiLCJldmVudFR5cGUiLCJpbnB1dCIsInBvaW50ZXJzTGVuIiwicG9pbnRlcnMiLCJjaGFuZ2VkUG9pbnRlcnNMZW4iLCJjaGFuZ2VkUG9pbnRlcnMiLCJpc0ZpcnN0IiwiaXNGaW5hbCIsInNlc3Npb24iLCJwb2ludGVyc0xlbmd0aCIsImZpcnN0SW5wdXQiLCJzaW1wbGVDbG9uZUlucHV0RGF0YSIsImZpcnN0TXVsdGlwbGUiLCJvZmZzZXRDZW50ZXIiLCJnZXRDZW50ZXIiLCJ0aW1lU3RhbXAiLCJkZWx0YVRpbWUiLCJnZXRBbmdsZSIsImdldERpc3RhbmNlIiwib2Zmc2V0Iiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJwcmV2SW5wdXQiLCJkZWx0YVgiLCJkZWx0YVkiLCJjb21wdXRlRGVsdGFYWSIsIm9mZnNldERpcmVjdGlvbiIsImdldERpcmVjdGlvbiIsIm92ZXJhbGxWZWxvY2l0eSIsImdldFZlbG9jaXR5Iiwib3ZlcmFsbFZlbG9jaXR5WCIsIm92ZXJhbGxWZWxvY2l0eVkiLCJlbmQiLCJyb3RhdGlvbiIsImdldFJvdGF0aW9uIiwibWF4UG9pbnRlcnMiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJkaXJlY3Rpb24iLCJsYXN0IiwibGFzdEludGVydmFsIiwiY29tcHV0ZUludGVydmFsSW5wdXREYXRhIiwic3JjRXZlbnQiLCJjb21wdXRlSW5wdXREYXRhIiwiZW1pdCIsInJlY29nbml6ZSIsInByb3BzIiwiYXRhbjIiLCJldkVsIiwiZXZUYXJnZXQiLCJldldpbiIsImRlc3Ryb3kiLCJNT1VTRV9JTlBVVF9NQVAiLCJNT1VTRV9FTEVNRU5UX0VWRU5UUyIsIk1PVVNFX1dJTkRPV19FVkVOVFMiLCJNb3VzZUlucHV0IiwicHJlc3NlZCIsImJ1dHRvbiIsIndoaWNoIiwicG9pbnRlclR5cGUiLCJQT0lOVEVSX0lOUFVUX01BUCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVyY2FuY2VsIiwicG9pbnRlcm91dCIsIklFMTBfUE9JTlRFUl9UWVBFX0VOVU0iLCIyIiwiMyIsIjQiLCI1IiwiUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyIsIlBPSU5URVJfV0lORE9XX0VWRU5UUyIsIlBvaW50ZXJFdmVudElucHV0Iiwic3RvcmUiLCJwb2ludGVyRXZlbnRzIiwiTVNQb2ludGVyRXZlbnQiLCJQb2ludGVyRXZlbnQiLCJyZW1vdmVQb2ludGVyIiwiZXZlbnRUeXBlTm9ybWFsaXplZCIsInRvTG93ZXJDYXNlIiwiaXNUb3VjaCIsInN0b3JlSW5kZXgiLCJwb2ludGVySWQiLCJzcGxpY2UiLCJTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQIiwidG91Y2hjYW5jZWwiLCJTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyIsIlNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTIiwiU2luZ2xlVG91Y2hJbnB1dCIsInN0YXJ0ZWQiLCJhbGwiLCJjaGFuZ2VkIiwiY2hhbmdlZFRvdWNoZXMiLCJjb25jYXQiLCJUT1VDSF9JTlBVVF9NQVAiLCJUT1VDSF9UQVJHRVRfRVZFTlRTIiwiVG91Y2hJbnB1dCIsInRhcmdldElkcyIsImFsbFRvdWNoZXMiLCJpZGVudGlmaWVyIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUYXJnZXRUb3VjaGVzIiwidG91Y2giLCJERURVUF9USU1FT1VUIiwiREVEVVBfRElTVEFOQ0UiLCJUb3VjaE1vdXNlSW5wdXQiLCJtb3VzZSIsInByaW1hcnlUb3VjaCIsImxhc3RUb3VjaGVzIiwic2V0TGFzdFRvdWNoIiwiZXZlbnREYXRhIiwibGFzdFRvdWNoIiwibHRzIiwiaW5wdXRFdmVudCIsImlucHV0RGF0YSIsImlzTW91c2UiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwiUFJFRklYRURfVE9VQ0hfQUNUSU9OIiwiTkFUSVZFX1RPVUNIX0FDVElPTiIsIlRPVUNIX0FDVElPTl9BVVRPIiwiVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiIsIlRPVUNIX0FDVElPTl9OT05FIiwiVE9VQ0hfQUNUSU9OX1BBTl9YIiwiVE9VQ0hfQUNUSU9OX1BBTl9ZIiwiVE9VQ0hfQUNUSU9OX01BUCIsInRvdWNoTWFwIiwiY3NzU3VwcG9ydHMiLCJDU1MiLCJzdXBwb3J0cyIsImdldFRvdWNoQWN0aW9uUHJvcHMiLCJzZXQiLCJjb21wdXRlIiwiYWN0aW9ucyIsInJlY29nbml6ZXJzIiwicmVjb2duaXplciIsImdldFRvdWNoQWN0aW9uIiwiaGFzUGFuWCIsImhhc1BhblkiLCJjbGVhblRvdWNoQWN0aW9ucyIsInByZXZlbnREZWZhdWx0cyIsInByZXZlbnRlZCIsImhhc05vbmUiLCJpc1RhcFBvaW50ZXIiLCJpc1RhcE1vdmVtZW50IiwiaXNUYXBUb3VjaFRpbWUiLCJwcmV2ZW50U3JjIiwiU1RBVEVfUE9TU0lCTEUiLCJTVEFURV9CRUdBTiIsIlNUQVRFX0NIQU5HRUQiLCJTVEFURV9FTkRFRCIsIlNUQVRFX1JFQ09HTklaRUQiLCJTVEFURV9DQU5DRUxMRUQiLCJSZWNvZ25pemVyIiwiZGVmYXVsdHMiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiZGlyZWN0aW9uU3RyIiwiZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlciIsIm90aGVyUmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsImNvdW50IiwicHJlc2V0IiwiTWFuYWdlciIsInJlY29nbml6ZVdpdGgiLCJkcm9wUmVjb2duaXplV2l0aCIsInJlcXVpcmVGYWlsdXJlIiwiZHJvcFJlcXVpcmVGYWlsdXJlIiwiaGFzUmVxdWlyZUZhaWx1cmVzIiwiY2FuUmVjb2duaXplV2l0aCIsImV2ZW50IiwiYWRkaXRpb25hbEV2ZW50IiwidHJ5RW1pdCIsImNhbkVtaXQiLCJpbnB1dERhdGFDbG9uZSIsInByb2Nlc3MiLCJhdHRyVGVzdCIsIm9wdGlvblBvaW50ZXJzIiwiaXNSZWNvZ25pemVkIiwiaXNWYWxpZCIsInRocmVzaG9sZCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwiY2xlYXJUaW1lb3V0IiwidGFwcyIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwiZG9tRXZlbnRzIiwiaW5wdXRDbGFzcyIsImNzc1Byb3BzIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiaGFuZGxlcnMiLCJvbGRDc3NQcm9wcyIsInRvZ2dsZUNzc1Byb3BzIiwiaXRlbSIsImFkZCIsInN0b3AiLCJmb3JjZSIsInN0b3BwZWQiLCJjdXJSZWNvZ25pemVyIiwiZXhpc3RpbmciLCJldmVudHMiLCJkYXRhIiwiZ2VzdHVyZUV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwidHJpZ2dlckRvbUV2ZW50IiwiU1RBVEVfRkFJTEVEIiwiVGFwIiwiUGFuIiwiU3dpcGUiLCJQaW5jaCIsIlJvdGF0ZSIsIlByZXNzIiwidmVuZG9ycyIsImF2ZXJhZ2VQb2ludHMiLCJkZWdyZWVzVG9SYWRpYW5zIiwicmFkaWFuc1RvRGVncmVlcyIsImRlZ3JlZXNGcm9tQ2VudGVyIiwicmFkaWFuc0Zyb21DZW50ZXIiLCJyb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyIiwicm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciIsIkVBU1QiLCJTVEFURV9JRExFIiwid2Fsa2luZ0FuaW1zIiwiZHlpbmdBbmltcyIsImlkbGVBbmltcyIsIlNUQVRFX0RZSU5HIiwiTk9SVEgiLCJOT1JUSEVBU1QiLCJOT1JUSFdFU1QiLCJTT1VUSCIsIlNPVVRIRUFTVCIsIlNPVVRIV0VTVCIsIldFU1QiLCJTVEFURV9XQUxLSU5HIiwiYW5pbXMiLCJDaXJjbGUiLCJNdWx0aVBvbHlnb24iLCJQb2x5Z29uIiwiUmVjdGFuZ2xlIiwic3VwIiwiRGlzdGFuY2UiLCJQcmlzbWF0aWMiLCJSZXZvbHV0ZSIsIkpvaW50IiwiQjJEaXN0YW5jZUpvaW50RGVmIiwiSm9pbnRzIiwiYjJEaXN0YW5jZUpvaW50RGVmIiwiYm9keVBvaW50MiIsImJveCIsImJvZHkxIiwiYm9keTIiLCJ2ZWMxIiwidmVjMiIsIkluaXRpYWxpemUiLCJDcmVhdGVKb2ludCIsIkIyUHJpc21hdGljSm9pbnREZWYiLCJiMlByaXNtYXRpY0pvaW50RGVmIiwiYXhpc1NjYWxlIiwiYXhpcyIsIkIyUmV2b2x1dGVKb2ludERlZiIsImIyUmV2b2x1dGVKb2ludERlZiIsImlkQSIsImlkQiIsIm5vcm1hbEltcHVsc2VzIiwiYm94VXBkYXRpbmciLCJib3hPcHRpb25zIiwidXBkYXRlRXh0ZXJuYWxTdGF0ZSIsInJlbW92ZUJvZHkiLCJhZGRKb2ludCIsInJlbW92ZUpvaW50Iiwic3JjX2RyYXciLCJjbGVhclJlY3QiLCJrIiwiQmFsbF9CYWxsIiwiQ2lyY2xlX2RlZmF1bHQiLCJicmlja3MiLCJzcmNfYnJpY2tzIiwiQnJpY2tfQnJpY2siLCJQb2x5Z29uX2RlZmF1bHQiLCJsaW5lSm9pbiIsImdyYWRpZW50IiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJwcmV5IiwiYWRkQ29sb3JTdG9wIiwicHJleCIsInByZUFuZ2xlIiwiRmFjZV9GYWNlIiwic2NhbGVkWCIsInNjYWxlZFkiLCJyYWRzTCIsInJhZGlhbnNGcm9tQ2VudGVyX2RlZmF1bHQiLCJiYWxsIiwicmFkc1IiLCJsSXJpcyIsInJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXJfZGVmYXVsdCIsInJJcmlzIiwiZ2FtZV9yYWRpYW5zRnJvbUNlbnRlciIsImdhbWVfcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciIsImdhbWUiLCJpbSIsImFkZEFycm93S2V5QWN0aW9ucyIsImFwcGx5SW1wdWxzZURlZ3JlZXMiLCJhcHBseVRvcnF1ZSIsInNwZWVkIiwiYXBwbHlJbXB1bHNlIiwidXBkYXRlQm94IiwiZXQiLCJlbnQiLCJicmljayIsImtpbmciLCJuZWNrIiwicGxheWVycyIsInNldEFuZ3VsYXJWZWxvY2l0eSIsInBhZGRsZSIsImFuZyIsImFuY2hvciIsImJveERhdGFfZGVmYXVsdCIsImxvYWRJbWFnZSIsInNpZGVXIiwiYW5nMSIsImFzaW4iLCJhbmcyIiwicGN0IiwiYW5ncyIsImZ1bGxXIiwiY3B0IiwiaWR4IiwiY29sb3IiLCJjb2xvcnNfZGVmYXVsdCIsIm9yaWdpbiIsInBwdCIsIm5ld0JhbGxQdCIsImNpciIsImZhY2UiLCJuZXdQYWRkbGVQdCIsImNKb2ludCIsInJiIiwiamR4Iiwib3BzIiwicGxheWVySWQiLCJvcHB0IiwicnVuIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFB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QkM1REFyVCxFQUFBRCxRQVJBLFNBQUEwRCxFQUFBb0csR0FDQSxRQUFBcEcsRUFBQUYsRUFBQSxHQUFBRSxFQUFBRixFQUFBc0csRUFBQUUsT0FBQXRHLEVBQUFELEVBQUEsR0FBQUMsRUFBQUQsRUFBQXFHLEVBQUFDLHdCQ0RBOUosRUFBQUQsUUFBQSxDQUNBdVQsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLFdBQUEsRUFDQUMsSUFBQSxFQUNBQyxNQUFBLEdBQ0FDLE9BQUEsR0FDQUMsTUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsSUFBQSxHQUNBQyxNQUFBLEdBQ0FDLFVBQUEsR0FDQUMsT0FBQSxHQUNBQyxNQUFBLEdBQ0FDLFFBQUEsR0FDQUMsVUFBQSxHQUNBQyxJQUFBLEdBQ0FDLEtBQUEsR0FDQTdELEtBQUEsR0FDQUYsR0FBQSxHQUNBRyxNQUFBLEdBQ0FGLEtBQUEsR0FDQStELFlBQUEsR0FDQUMsT0FBQSxHQUNBQyxPQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsVUFBQSxHQUNBQyxPQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxhQUFBLEdBQ0FDLFFBQUEsR0FDQUMsUUFBQSxHQUNBQyxRQUFBLEdBQ0FDLFFBQUEsR0FDQUMs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SUFBa0IrdkIsRUFBSzZELEdBQ3ZCeEMsRUFBQTFlLFFBQUExUyxPQU1Bb3hCLEVBQUFhLFVBRUFLLEVBQUF2eUIsRUFBTzlQLE9BQUFpbkIsUUFBQSxTQUFBcUksR0FDUCxJQUFBeEosRUFDQSxhQUFBd0osRUFBQW5wQixPQUNBMmYsRUFBQSxJQUFBNlgsRUFBQXJPLElBR0F4SixHQUNBcWIsRUFBQWxELElBQUFvQixTQUFBdlosS0FLQWxZLFFBQUFDLElBQUFzekIsR0FDQXJpQyxPQUFBcWlDLE9BSUFBLEVBQUEyQyxNQUNBM0MsRUFBQWxELElBQUFxRCxvQkFBQSxXQUFBL2dDLEtBQUF1QyxTQUFBIiwiZmlsZSI6ImhleG91dC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNDgpO1xuIiwiXG53aW5kb3cuZnJvemVuanMgPSB7XG4gIEdhbWVDb3JlIDogcmVxdWlyZSgnLi9HYW1lQ29yZScpLFxuICBJbnB1dE1hbmFnZXIgOiByZXF1aXJlKCcuL0lucHV0TWFuYWdlcicpLFxuICBSZXNvdXJjZU1hbmFnZXIgOiByZXF1aXJlKCcuL1Jlc291cmNlTWFuYWdlcicpLFxuICBNb3VzZUFjdGlvbiA6IHJlcXVpcmUoJy4vTW91c2VBY3Rpb24nKSxcbiAgVG91Y2hBY3Rpb24gOiByZXF1aXJlKCcuL1RvdWNoQWN0aW9uJyksXG4gIGtleXMgOiByZXF1aXJlKCcuL2tleXMnKSxcbiAgQW5pbWF0aW9uOiByZXF1aXJlKCcuL0FuaW1hdGlvbicpLFxuICBBbmltRnJhbWU6IHJlcXVpcmUoJy4vQW5pbUZyYW1lJyksXG4gIHV0aWxzIDogcmVxdWlyZSgnLi91dGlscycpLFxuICBTcHJpdGUgOiByZXF1aXJlKCcuL1Nwcml0ZScpLFxuICByZWluZXIgOiB7XG4gICAgQ3JlYXR1cmUgOiByZXF1aXJlKCcuL3JlaW5lci9DcmVhdHVyZScpXG4gIH0sXG4gIHNvdW5kcyA6IHtcbiAgICBXZWJBdWRpbyA6IHJlcXVpcmUoJy4vc291bmRzL1dlYkF1ZGlvJylcbiAgfSxcbiAgYm94MmQgOiB7XG4gICAgZW50aXRpZXMgOiByZXF1aXJlKCcuL2JveDJkL2VudGl0aWVzJyksXG4gICAgam9pbnRzOiByZXF1aXJlKCcuL2JveDJkL2pvaW50cycpLFxuICAgIEJveCA6IHJlcXVpcmUoJy4vYm94MmQvQm94JyksXG4gICAgQm94R2FtZSA6IHJlcXVpcmUoJy4vYm94MmQvQm94R2FtZScpXG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd2luZG93LmZyb3plbmpzO1xuIiwiXG5mdW5jdGlvbiByYWRpYW5zRnJvbUNlbnRlcihjZW50ZXIgPSB7eDogMC4wLCB5OiAwLjB9LCBwdCl7XG5cbiAgLy9zYW1lIHBvaW50XG4gIGlmKChjZW50ZXIueCA9PT0gcHQueCkgJiYgKGNlbnRlci55ID09PSBwdC55KSl7XG4gICAgcmV0dXJuIDA7XG4gIH1lbHNlIGlmKGNlbnRlci54ID09PSBwdC54KXtcbiAgICBpZihjZW50ZXIueSA+IHB0Lnkpe1xuICAgICAgcmV0dXJuIDA7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gTWF0aC5QSTtcbiAgICB9XG4gIH1lbHNlIGlmKGNlbnRlci55ID09PSBwdC55KXtcbiAgICBpZihjZW50ZXIueCA+IHB0Lngpe1xuICAgICAgcmV0dXJuIDEuNSAqIE1hdGguUEk7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gTWF0aC5QSSAvIDI7XG4gICAgfVxuICB9ZWxzZSBpZigoY2VudGVyLnggPCBwdC54KSAmJiAoY2VudGVyLnkgPiBwdC55KSl7XG4gICAgLy9xdWFkcmFudCAxXG4gICAgLy9jb25zb2xlLmxvZygncXVhZDEnLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSwnbycscHQueCAtIGNlbnRlci54LCdhJyxwdC55IC0gY2VudGVyLnkpO1xuICAgIHJldHVybiBNYXRoLmF0YW4oKHB0LnggLSBjZW50ZXIueCkvKGNlbnRlci55IC0gcHQueSkpO1xuICB9XG4gIGVsc2UgaWYoKGNlbnRlci54IDwgcHQueCkgJiYgKGNlbnRlci55IDwgcHQueSkpe1xuICAgIC8vcXVhZHJhbnQgMlxuICAgIC8vY29uc29sZS5sb2coJ3F1YWQyJyxjZW50ZXIueCxjZW50ZXIueSxwdC54LHB0LnkpO1xuICAgIHJldHVybiBNYXRoLlBJIC8gMiArIE1hdGguYXRhbigocHQueSAtIGNlbnRlci55KS8ocHQueCAtIGNlbnRlci54KSk7XG4gIH1cbiAgZWxzZSBpZigoY2VudGVyLnggPiBwdC54KSAmJiAoY2VudGVyLnkgPCBwdC55KSl7XG4gICAgLy9xdWFkcmFudCAzXG4gICAgLy9jb25zb2xlLmxvZygncXVhZDMnLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSk7XG4gICAgcmV0dXJuIE1hdGguUEkgKyBNYXRoLmF0YW4oKGNlbnRlci54IC0gcHQueCkvKHB0LnkgLSBjZW50ZXIueSkpO1xuICB9XG4gIGVsc2V7XG4gICAgLy9xdWFkcmFudCA0XG4gICAgLy9jb25zb2xlLmxvZygncXVhZDQnLGNlbnRlci54LGNlbnRlci55LHB0LngscHQueSk7XG4gICAgcmV0dXJuIDEuNSAqIE1hdGguUEkgKyBNYXRoLmF0YW4oKGNlbnRlci55IC0gcHQueSkvKGNlbnRlci54IC0gcHQueCkpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByYWRpYW5zRnJvbUNlbnRlcjtcbiIsIlxuZnVuY3Rpb24gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihjZW50ZXIgPSB7eDogMC4wLCB5OiAwLjB9LCBwdCwgYW5nbGUpe1xuICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICBjb25zdCBuZXdQdCA9IHt9O1xuXG4gIC8vIHRyYW5zbGF0ZSBwb2ludCBiYWNrIHRvIG9yaWdpbjpcbiAgbmV3UHQueCA9IHB0LnggLSBjZW50ZXIueDtcbiAgbmV3UHQueSA9IHB0LnkgLSBjZW50ZXIueTtcblxuICAvLyByb3RhdGUgcG9pbnRcbiAgY29uc3QgeG5ldyA9IG5ld1B0LnggKiBjIC0gbmV3UHQueSAqIHM7XG4gIGNvbnN0IHluZXcgPSBuZXdQdC54ICogcyArIG5ld1B0LnkgKiBjO1xuXG4gIC8vIHRyYW5zbGF0ZSBwb2ludCBiYWNrOlxuICBuZXdQdC54ID0geG5ldyArIGNlbnRlci54O1xuICBuZXdQdC55ID0geW5ldyArIGNlbnRlci55O1xuICByZXR1cm4gbmV3UHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcjtcbiIsIi8qKlxuICogVGhpcyByZXByZXNlbnRzIGEgQ2lyY2xlIGJvZHkgYW5kIHNoYXBlIGluIGEgQm94MmQgd29ybGRcbiAqIEBuYW1lIENpcmNsZVxuICogQGNvbnN0cnVjdG9yIENpcmNsZVxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbmNvbnN0IGRpc3RhbmNlID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZGlzdGFuY2UnKTtcblxuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgRW50aXR5e1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJhZGl1cyBvZiB0aGlzIGNpcmNsZS5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBDaXJjbGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1cyA9IDE7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBDaXJjbGUgYXQgYSBnaXZlbiBzY2FsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggVGhlIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIGF0IHdoaWNoIHRvIGRyYXdcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmModGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlLCB0aGlzLnJhZGl1cyAqIHNjYWxlLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgaWYoIXRoaXMuc3RhdGljQm9keSl7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICAgIGN0eC5saW5lVG8odGhpcy54ICogc2NhbGUsICh0aGlzLnkgKiBzY2FsZSkgLSAodGhpcy5yYWRpdXMgKiBzY2FsZSkpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuXG4gICAgc3VwZXIuZHJhdyhjdHgsIHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2FsZSB0aGlzIHNoYXBlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQ2lyY2xlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIGFtb3VudCB0aGUgc2hhcGUgc2hvdWxkIHNjYWxlXG4gICAqL1xuICBzY2FsZVNoYXBlKHNjYWxlKXtcbiAgICB0aGlzLnJhZGl1cyA9IHRoaXMucmFkaXVzICogc2NhbGU7XG4gICAgc3VwZXIuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgQ2lyY2xlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENpcmNsZSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzLlxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHBvaW50IGlzIGluIHNoYXBlIGVsc2UgZmFsc2VcbiAgICovXG4gIHBvaW50SW5TaGFwZShwb2ludCl7XG4gICAgcmV0dXJuIChkaXN0YW5jZShwb2ludCwgdGhpcykgPD0gdGhpcy5yYWRpdXMpO1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDaXJjbGU7XG4iLCJmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyAnXycgKyBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGJvZHkgYW5kIHNoYXBlIGluIGEgQm94MmQgd29ybGQgdXNpbmcgcG9zaXRpb25zIGFuZCBzaXplcyByZWxhdGl2ZSB0byB0aGUgQm94MmQgd29ybGQgaW5zdGFuY2UuXG4gKiBAbmFtZSBFbnRpdHlcbiAqIEBjb25zdHJ1Y3RvciBFbnRpdHlcbiAqL1xuXG5jbGFzcyBFbnRpdHkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIGluIHdoaWNoIHRvIHJlZmVyZW5jZSB0aGlzIG9iamVjdC4gQWxzbyB0aGUgdXNlckRhdGEgcHJvcGVydHkgZm9yIGJveDJkIGJvZGllcy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgZ2VuSWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgZW50aXR5J3MgbG9jYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy54ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgZW50aXR5J3MgbG9jYXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy55ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBpbiBwaXhlbHMgcGVyIG1ldGVyIGluIHdoaWNoIHRvIHJlcHJlc2VudCB0aGlzIEVudGl0eSBpbiB0aGUgYm94MmQgd29ybGRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zY2FsZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhbmdsZSB0aGF0IHRoaXMgZW50aXR5IGlzIHJvdGF0ZWQgYXRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5hbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBhbmQgeSBsb2NhdGlvbnMgb2Ygd2hhdCBib3gyZCBjb25zaWRlcnMgdGhlIGVuaXR5J3MgY2VudGVyIG9mIG1hc3NcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmNlbnRlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGRyYXcgdGhlIGNlbnRlciBwb2ludCBvZiBhbiBlbnRpdHlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICAgdGhpcy5kcmF3Q2VudGVyID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwZXJjZW50YWdlIG9mIGZvcmNlIGluIHdoaWNoIHRoZSBlbnRpdHkgd2lsbCBib3VuY2UgYmFjayBmcm9tIGFub3RoZXIgYmFzZWQgb24gaXRzIGZvcmNlIHByZS1jb2xsaXNpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0d28tZGltZW5zaW9uYWwgZGVuc2l0eSBvZiB0aGUgZW50aXR5LiAgTWFzcyAvIGFyZWEuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuZGVuc2l0eSA9IDEuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZnJpY3Rpb24gb24gdGggc3VyZmFjZSBvZiB0aGlzIGVudGl0eVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmZyaWN0aW9uID0gMC45O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBsaW5lYXIgdmVsb2NpdHkgdGhlIGVudGl0eSBzaG91bGQgbG9zZSBvdmVyIHRpbWVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZWxvY2l0eSBpbiBtZXRlcnMvc2Vjb25kIGdpdmVuIHRvIHRoaXMgZW50aXR5IGJ5IGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmxpbmVhclZlbG9jaXR5ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmd1bGFyIHZlbG9jaXR5IGluIHJhZGlhbnMvc2Vjb25kIGdpdmVuIHRvIHRoaXMgZW50aXR5IGJ5IGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2YgYW1vdW50IG9mIGFuZ3VsYXIgdmVsb2NpdHkgYW4gZW50aXR5IHNob3VsZCBsb3NlIG92ZXIgdGltZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBlbnRpdHkgZG9lcyBjaGFuZ2UgaXRzIHBvc2l0aW9uIGFuZCBhbmdsZSBhcyB0aGUgcmVzdWx0IG9mIGJveDJkIGNhbGN1bGF0aW9uc1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5zdGF0aWNCb2R5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmlsbFN0eWxlIHRvIHVzZSBmb3IgdGhlIGVudGl0eSdzIGRlZmF1bHQgcmVuZGVyZXJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5maWxsU3R5bGUgPSAncmdiYSgxMjgsMTI4LDEyOCwwLjUpJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJva2VTdHlsZSB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSAnIzAwMCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZSB3aWR0aCB0byB1c2UgZm9yIHRoZSBlbnRpdHkncyBkZWZhdWx0IHJlbmRlcmVyXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgIHRoaXMubGluZVdpZHRoID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSAxNiBiaXQgaW50ZWdlciB1c2VkIGluIGRldGVybWluaW5nIHdoaWNoIG90aGVyIHR5cGVzIG9mIGVudGl0aWVzIHRoaXMgYm9keSB3aWxsIGNvbGxpZGUgd2l0aC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5tYXNrQml0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBkZXNjcmliaW5nIHRoZSB0eXBlIHRoYXQgdGhpcyBlbml0aXR5IGlzIGZvciBjb2xsaXNpb25zLlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgICB0aGlzLmNhdGVnb3J5Qml0cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgMTYgYml0IGludGVnZXIgdXNlZCBpbiBvdmVyaWRpbmcgbWFza0JpdHMgYW5kIGNhdGVnb3J5Qml0cyBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBFbnRpdHkjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICAgdGhpcy5ncm91cEluZGV4ID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoaXMgZW50aXR5IHdpdGggdGhlIHN0YXRlIHBhc3NlZCBpblxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFN0YXRlIHRvIG1lcmdlIHdpdGggdGhpcyBvYmplY3RcbiAgICovXG4gIHVwZGF0ZShzdGF0ZSl7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIEVudGl0eSBhdCBhIGdpdmVuIHNjYWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgSFRNTDUgMmQgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgdG8gZHJhdyB0aGUgZW50aXR5IGF0XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIC8vIGJsYWNrIGNpcmNsZSBpbiBlbnRpdHkncyBsb2NhdGlvblxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSwgNCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuXG4gICAgLy8geWVsbG93IGNpcmNsZSBpbiBlbnRpdHkncyBnZW9tZXRyaWMgY2VudGVyXG4gICAgaWYodGhpcy5jZW50ZXIgJiYgdGhpcy5kcmF3Q2VudGVyKXtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNlbnRlclN0eWxlIHx8ICd5ZWxsb3cnO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh0aGlzLmNlbnRlci54ICogc2NhbGUsIHRoaXMuY2VudGVyLnkgKiBzY2FsZSwgMiwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG5cbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGVzIHRoZSBwb3NpdGlvbiBhbmQgZGltZW5zaW9ucyBvZiB0aGlzIHNoYXBlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEVudGl0eSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBzY2FsZSB0byBtdWx0aXBseSB0aGUgZGltZW50aW9ucyBieVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy54ID0gdGhpcy54ICogc2NhbGU7XG4gICAgdGhpcy55ID0gdGhpcy55ICogc2NhbGU7XG4gICAgdGhpcy5hbHJlYWR5U2NhbGVkID0gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEVudGl0eTtcblxuIiwiLyoqXG4gKiBUaGUgR2FtZUFjdGlvbiBoYW5kbGVzIERPTSBldmVudHMgZm9yIHVzZSBpbiBnYW1lcy5cbiAqIEBuYW1lIEdhbWVBY3Rpb25cbiAqIEBjb25zdHJ1Y3RvciBHYW1lQWN0aW9uXG4gKi9cblxuLyoqXG4gKiBBIG1hcCBvZiBzdGF0aWMgY29uc3RhbnRzIGZvciBpbnRlcm5hbCB1c2VcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JNQUwgTm9ybWFsIGJlaGF2aW9yLiBUaGUgaXNQcmVzc2VkKCkgbWV0aG9kIHJldHVybnMgdHJ1ZSBhcyBsb25nIGFzIHRoZSBrZXkgaXMgaGVsZCBkb3duLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IERFVEVDVF9JTklUQUxfUFJFU1NfT05MWSBJbml0aWFsIHByZXNzIGJlaGF2aW9yLiBUaGUgaXNQcmVzc2VkKCkgbWV0aG9kIHJldHVybnMgdHJ1ZSBvbmx5IGFmdGVyIHRoZSBrZXkgaXMgZmlyc3QgcHJlc3NlZCwgYW5kIG5vdCBhZ2FpbiB1bnRpbCB0aGUga2V5IGlzIHJlbGVhc2VkIGFuZCBwcmVzc2VkIGFnYWluLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX1JFTEVBU0VEIFZhbHVlIGZvciByZWxlYXNlZCBzdGF0ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFNUQVRFX1BSRVNTRUQgVmFsdWUgZm9yIHByZXNzZWQgc3RhdGVcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFIFZhbHVlIGZvciB3YWl0aW5nIGZvciByZWxlYXNlIHN0YXRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfTU9WRUQgVmFsdWUgZm9yIG1vdmVkIHN0YXRlXG4gKi9cbmNvbnN0IHN0YXRpY3MgPSB7XG4gIE5PUk1BTDogMCxcbiAgREVURUNUX0lOSVRBTF9QUkVTU19PTkxZOiAxLFxuICBTVEFURV9SRUxFQVNFRDogMCxcbiAgU1RBVEVfUFJFU1NFRDogMSxcbiAgU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRTogMixcbiAgU1RBVEVfTU9WRUQ6IDNcbn07XG5cbmNsYXNzIEdhbWVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIC8qKlxuICAgICAqIEEgbmFtZSB0byByZWZlcmVuY2UgdGhlIEdhbWVBY3Rpb24gd2l0aFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gZGV0ZWN0IG9ubHkgdGhlIGludGlhbCBwcmVzcyBvZiB0aGUgZ2FtZSBhY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5iZWhhdmlvciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbWFueSB0aW1lcyB0aGUgR2FtZUFjdGlvbiBoYXMgYmVlbiBwcmVzc2VkXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYW1vdW50ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBHYW1lQWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSAwO1xuXG4gICAgdGhpcy5zdGF0aWNzID0gc3RhdGljcztcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoaXMgR2FtZUFjdGlvbiBzbyB0aGF0IGl0IGFwcGVhcnMgbGlrZSBpdCBoYXNuJ3QgYmVlbiBwcmVzc2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVBY3Rpb24jXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9SRUxFQVNFRDtcbiAgICB0aGlzLmFtb3VudCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVGFwcyB0aGlzIEdhbWVBY3Rpb24uIFNhbWUgYXMgY2FsbGluZyBwcmVzcygpIGZvbGxvd2VkIGJ5IHJlbGVhc2UoKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgdGFwKCkge1xuICAgIHRoaXMucHJlc3MoKTtcbiAgICB0aGlzLnJlbGVhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIGtleSB3YXMgcHJlc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKi9cbiAgcHJlc3MoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfUFJFU1NFRDtcbiAgICBpZih0aGlzLmJlaGF2aW9yID09PSBzdGF0aWNzLkRFVEVDVF9JTklUQUxfUFJFU1NfT05MWSl7XG4gICAgICB0aGlzLnByZXNzQW10KDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoYXQgdGhlIGtleSB3YXMgcHJlc3NlZCBhIHNwZWNpZmllZCBudW1iZXIgb2YgdGltZXMsIG9yIHRoYXQgdGhlIG1vdXNlIG1vdmUgYSBzcGVjaWZpZWQgZGlzdGFuY2UuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGFtb3VudCB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJlc3NBbXQoYW1vdW50KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT09IHN0YXRpY3MuU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRSkge1xuICAgICAgdGhpcy5hbW91bnQgKz0gYW1vdW50O1xuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfV0FJVElOR19GT1JfUkVMRUFTRTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBrZXkgd2FzIHJlbGVhc2VkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHJlbGVhc2UoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRpY3MuU1RBVEVfUkVMRUFTRUQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBrZXkgd2FzIHByZXNzZWQgb3Igbm90IHNpbmNlIGxhc3QgY2hlY2tlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQWN0aW9uI1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBrZXkgaXMgcHJlc3NlZCwgZWxzZSBmYWxzZVxuICAgKi9cbiAgaXNQcmVzc2VkKCkge1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IHN0YXRpY3MuU1RBVEVfUFJFU1NFRCl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3Iga2V5cywgdGhpcyBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHByZXNzZWQgc2luY2UgaXQgd2FzIGxhc3QgY2hlY2tlZC5cbiAgICogRm9yIG1vdXNlIG1vdmVtZW50LCB0aGlzIGlzIHRoZSBkaXN0YW5jZSBtb3ZlZC5cbiAgICpcbiAgICogVGhpcyBSZXNldHMgdGhlIGFtb3VudCB0byB6ZXJvIGFmdGVyIGJlaW5nIGNoZWNrZWQhXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICogQHJldHVybiB7TnVtYmVyfSBOdW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcHJlc3NlZCBvciBkaXN0YW5jZSBtb3VzZSB3YXMgbW92ZWRcbiAgICovXG4gIGdldEFtb3VudCgpIHtcbiAgICB2YXIgcmV0VmFsID0gdGhpcy5hbW91bnQ7XG4gICAgaWYgKHJldFZhbCAhPT0gMCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHN0YXRpY3MuU1RBVEVfUkVMRUFTRUQpIHtcbiAgICAgICAgdGhpcy5hbW91bnQgPSAwO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmJlaGF2aW9yID09PSBzdGF0aWNzLkRFVEVDVF9JTklUQUxfUFJFU1NfT05MWSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGljcy5TVEFURV9XQUlUSU5HX0ZPUl9SRUxFQVNFO1xuICAgICAgICB0aGlzLmFtb3VudCA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXRWYWw7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lQWN0aW9uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBVc2luZyBSYXktQ2FzdGluZyBmb3JtdWxhIGJhc2VkIG9uXG4vLyBodHRwOi8vd3d3LmVjc2UucnBpLmVkdS9Ib21lcGFnZXMvd3JmL1Jlc2VhcmNoL1Nob3J0X05vdGVzL3BucG9seS5odG1sXG4vLyBhbmQgaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vXG4vLyBSZS13cml0dGVuIGZvciBtb3N0IHJlYWRhYmlsaXR5IGFuZCBmb3IgdXNlIHdpdGggcG9pbnQgb2JqZWN0cyBpbnN0ZWFkIG9mIGFycmF5c1xuXG5mdW5jdGlvbiBwb2ludEluUG9seShwb2ludCwgcG9seWdvbil7XG4gIGlmKCFwb2ludCB8fCAhcG9seWdvbil7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBvbHkgPSBwb2x5Z29uLnBvaW50cyB8fCBwb2x5Z29uO1xuXG4gIHZhciBpbnNpZGVQb2x5ID0gZmFsc2U7XG4gIHZhciBqID0gcG9seS5sZW5ndGggLSAxO1xuXG4gIGZvcih2YXIgaSA9IDA7IGkgPCBwb2x5Lmxlbmd0aDsgaiA9IGkrKyl7XG4gICAgdmFyIHhpID0gcG9seVtpXS54O1xuICAgIHZhciB5aSA9IHBvbHlbaV0ueTtcbiAgICB2YXIgeGogPSBwb2x5W2pdLng7XG4gICAgdmFyIHlqID0gcG9seVtqXS55O1xuXG4gICAgaWYoeWkgPiBwb2ludC55ICE9PSB5aiA+IHBvaW50Lnkpe1xuICAgICAgaWYocG9pbnQueCA8ICh4aiAtIHhpKSAqIChwb2ludC55IC0geWkpIC8gKHlqIC0geWkpICsgeGkpe1xuICAgICAgICBpbnNpZGVQb2x5ID0gIWluc2lkZVBvbHk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluc2lkZVBvbHk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcG9pbnRJblBvbHk7XG4iLCJcbmZ1bmN0aW9uIHNjYWxlUG9pbnRzKHBvaW50cywgc2NhbGUpe1xuICBpZihBcnJheS5pc0FycmF5KHBvaW50cykpe1xuICAgIHBvaW50cyA9IHBvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpe1xuICAgICAgcmV0dXJuIHNjYWxlUG9pbnRzKHBvaW50LCBzY2FsZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZih0eXBlb2Ygc2NhbGUgPT09ICdvYmplY3QnKXtcbiAgICBwb2ludHMgPSB7XG4gICAgICB4OiBwb2ludHMueCAqIHNjYWxlLngsXG4gICAgICB5OiBwb2ludHMueSAqIHNjYWxlLnlcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHBvaW50cyA9IHtcbiAgICAgIHg6IHBvaW50cy54ICogc2NhbGUsXG4gICAgICB5OiBwb2ludHMueSAqIHNjYWxlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNjYWxlUG9pbnRzO1xuIiwiXG5mdW5jdGlvbiB0cmFuc2xhdGVQb2ludHMocG9pbnRzLCB0cmFuc2xhdGlvbil7XG4gIGlmKEFycmF5LmlzQXJyYXkocG9pbnRzKSl7XG4gICAgcG9pbnRzID0gcG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCl7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlUG9pbnRzKHBvaW50LCB0cmFuc2xhdGlvbik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0ge1xuICAgICAgeDogcG9pbnRzLngsXG4gICAgICB5OiBwb2ludHMueVxuICAgIH07XG5cbiAgICBpZih0cmFuc2xhdGlvbi54ICE9IG51bGwpe1xuICAgICAgcG9pbnRzLnggKz0gdHJhbnNsYXRpb24ueDtcbiAgICB9XG5cbiAgICBpZih0cmFuc2xhdGlvbi55ICE9IG51bGwpe1xuICAgICAgcG9pbnRzLnkgKz0gdHJhbnNsYXRpb24ueTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGVQb2ludHM7XG4iLCJmdW5jdGlvbiBnZW5JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKyAnXycgKyBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIEBuYW1lIEpvaW50XG4gKiBAY29uc3RydWN0b3IgSm9pbnRcbiAqL1xuXG5cbmNsYXNzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBpbiB3aGljaCB0byByZWZlcmVuY2UgdGhpcyBvYmplY3QuIEFsc28gdGhlIHVzZXJEYXRhIHByb3BlcnR5IGZvciBib3gyZCBib2RpZXMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgRW50aXR5I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWQgfHwgZ2VuSWQoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgZmlyc3QgZW50aXR5IHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGlzIGpvaW50XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlJZDEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBzZWNvbmQgZW50aXR5IHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGlzIGpvaW50XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlJZDIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBwb2ludCBvbiB0aGUgZmlyc3QgZW50aXR5IHdoZXJlIGJlIGF0dGFjaGVkIHRvIHRoZSBzZWNvbmQgYm9keS4gSWYgbm8gcG9pbnQgaXMgc3BlY2lmaWVkLCB0aGUgZmlyc3QgYm9keSB3aWxsIGJlIGF0dGFjaGVkIGF0IGl0cyBjZW50ZXIgcG9pbnQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgSm9pbnQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJvZHlQb2ludDEgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHdpdGggYW55IG90aGVyIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgbWl4ZWQgaW50byB0aGUgYm94MmQgam9pbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuam9pbnRBdHRyaWJ1dGVzID0gbnVsbDtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGVzIHRoZSBwb3NpdGlvbiB0aGF0IG9uIHRoZSBmaXJzdCBib2R5IHRoYXQgdGhlIGpvaW50IGlzIGNvbm5lY3RlZCBhdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBKb2ludCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBzY2FsZSB0byBtdWx0aXBseSB0aGUgZGltZW50aW9ucyBieVxuICAgKi9cbiAgc2NhbGVKb2ludExvY2F0aW9uKHNjYWxlKXtcbiAgICBpZihzY2FsZSAmJiB0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgdGhpcy5ib2R5UG9pbnQxLnggPSB0aGlzLmJvZHlQb2ludDEueCAqIHNjYWxlO1xuICAgICAgdGhpcy5ib2R5UG9pbnQxLnkgPSB0aGlzLmJvZHlQb2ludDEueSAqIHNjYWxlO1xuICAgICAgdGhpcy5hbHJlYWR5U2NhbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBKb2ludDtcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgcmVwcmVzZW50cyBhIHBvbHlnb24gd2hpY2ggaXMgYnVpbGQgZnJvbSBhbiBhcnJheSBvZiBwb2ludHMuXG4gKiBAbmFtZSBQb2x5Z29uXG4gKiBAY29uc3RydWN0b3IgUG9seWdvblxuICogQGV4dGVuZHMgRW50aXR5XG4gKi9cblxuY29uc3QgRW50aXR5ID0gcmVxdWlyZSgnLi9FbnRpdHknKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvc2NhbGVQb2ludHMnKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IHRyYW5zbGF0ZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3RyYW5zbGF0ZVBvaW50cycpO1xuXG5jbGFzcyBQb2x5Z29uIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIG9iamVjdHMgdGhhdCBoYXZlIHggYW5kIHkgdmFsdWVzLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgUG9seWdvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBQb2x5Z29uIGF0IGEgZ2l2ZW4gc2NhbGVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCBUaGUgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgc2NhbGUgYXQgd2hpY2ggdG8gZHJhd1xuICAgKi9cbiAgZHJhdyhjdHgsIHNjYWxlKXtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgMTtcbiAgICB2YXIgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54ICogc2NhbGUsIHRoaXMueSAqIHNjYWxlKTtcbiAgICBjdHgucm90YXRlKHRoaXMuYW5nbGUpO1xuICAgIGN0eC50cmFuc2xhdGUoLSh0aGlzLngpICogc2NhbGUsIC0odGhpcy55KSAqIHNjYWxlKTtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKCh0aGlzLnggKyB0aGlzLnBvaW50c1swXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2ludHNbMF0ueSkgKiBzY2FsZSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgIGN0eC5saW5lVG8oKHRoaXMucG9pbnRzW2ldLnggKyB0aGlzLngpICogc2NhbGUsICh0aGlzLnBvaW50c1tpXS55ICsgdGhpcy55KSAqIHNjYWxlKTtcbiAgICB9XG4gICAgY3R4LmxpbmVUbygodGhpcy54ICsgdGhpcy5wb2ludHNbMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9pbnRzWzBdLnkpICogc2NhbGUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFBvbHlnb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSBUaGUgYW1vdW50IHRoZSBzaGFwZSBzaG91bGQgc2NhbGVcbiAgICovXG4gIHNjYWxlU2hhcGUoc2NhbGUpe1xuICAgIHRoaXMucG9pbnRzID0gc2NhbGVQb2ludHModGhpcy5wb2ludHMsIHNjYWxlKTtcbiAgICBzdXBlci5zY2FsZVNoYXBlKHNjYWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBnaXZlbiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgUG9seWdvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBQb2x5Z29uI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gcG9pbnRJblBvbHlnb24ocG9pbnQsIHRyYW5zbGF0ZVBvaW50cyh0aGlzLnBvaW50cywgdGhpcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUG9seWdvbjtcbiIsImNvbnN0IHdhbGxSZXN0aXR1dGlvbiA9IDIuNTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFwiZW50aXRpZXNcIjogW1xuICAgIHtcbiAgICAgIFwicG9pbnRzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAtMTAwLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgXCJ4XCI6IDAsXG4gICAgICBcInlcIjogMCxcbiAgICAgIFwic3RhdGljQm9keVwiOiB0cnVlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiUG9seWdvblwiLFxuICAgICAgXCJpZFwiOiBcInVsZWZ0d1wiLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uXG4gICAgfSxcbiAgICB7XG4gICAgICBcInBvaW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAxMDgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogNTY4LjEwMTEzLFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogLTEwMCxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwiaWRcIjogXCJsbGVmdHdcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IC0xMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiAtMTAwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMjAyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTkyMCxcbiAgICAgICAgICBcInlcIjogNTQwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJpZFwiOiBcInVyaWdodHR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJwb2ludHNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJ4XCI6IDEzNTEuODk4ODcsXG4gICAgICAgICAgXCJ5XCI6IDEwODBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAxOTIwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiA1NDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwieFwiOiAyMDIwLFxuICAgICAgICAgIFwieVwiOiAxMTgwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcInhcIjogMTM1MS44OTg4NyxcbiAgICAgICAgICBcInlcIjogMTE4MFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFwieFwiOiAwLFxuICAgICAgXCJ5XCI6IDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlBvbHlnb25cIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJpZFwiOiBcImxyaWdodHR3XCIsXG4gICAgICBcImhpZGRlblwiOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJ4XCI6IDk2MCxcbiAgICAgIFwieVwiOiAxMTgwLFxuICAgICAgXCJoYWxmV2lkdGhcIjogMTAwMCxcbiAgICAgIFwiaGFsZkhlaWdodFwiOiAxMDAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogdHJ1ZSxcbiAgICAgIFwiem9uZVwiOiBmYWxzZSxcbiAgICAgIFwidHlwZVwiOiBcIlJlY3RhbmdsZVwiLFxuICAgICAgXCJpZFwiOiBcImJvdHRvbXdcIixcbiAgICAgIFwicmVzdGl0dXRpb25cIjogd2FsbFJlc3RpdHV0aW9uLFxuICAgICAgXCJoaWRkZW5cIjogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIFwieFwiOiA5NjAsXG4gICAgICBcInlcIjogLTEwMCxcbiAgICAgIFwiaGFsZldpZHRoXCI6IDEwMDAsXG4gICAgICBcImhhbGZIZWlnaHRcIjogMTAwLFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IHRydWUsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJSZWN0YW5nbGVcIixcbiAgICAgIFwiaWRcIjogXCJ0b3B3XCIsXG4gICAgICBcInJlc3RpdHV0aW9uXCI6IHdhbGxSZXN0aXR1dGlvbixcbiAgICAgIFwiaGlkZGVuXCI6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBcInhcIjogOTYwLFxuICAgICAgXCJ5XCI6IDU0MCxcbiAgICAgIFwiaGFsZldpZHRoXCI6IDksXG4gICAgICBcImhhbGZIZWlnaHRcIjogMjAsXG4gICAgICBcInN0YXRpY0JvZHlcIjogZmFsc2UsXG4gICAgICBcInpvbmVcIjogZmFsc2UsXG4gICAgICBcInR5cGVcIjogXCJSZWN0YW5nbGVcIixcbiAgICAgIFwiZmlsbFN0eWxlXCI6IFwiI0VFQ0VCM1wiLFxuICAgICAgXCJzdHJva2VTdHlsZVwiOiBcInJlZFwiLFxuICAgICAgXCJsaW5lV2lkdGhcIiA6IDUsXG4gICAgICBcImlkXCI6IFwibmVja1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInhcIjogOTYwLFxuICAgICAgXCJ5XCI6IDUyNyxcbiAgICAgIFwicmFkaXVzXCI6IDI0LFxuICAgICAgXCJzdGF0aWNCb2R5XCI6IGZhbHNlLFxuICAgICAgXCJ6b25lXCI6IGZhbHNlLFxuICAgICAgXCJ0eXBlXCI6IFwiQ2lyY2xlXCIsXG4gICAgICBcImZpbGxTdHlsZVwiOiBcInJnYmEoMjM5LDIwOCwyMDcsMC4yKVwiLFxuICAgICAgXCJpZFwiOiBcImJhbGxcIlxuICAgIH0sXG4gIF0sXG4gIFwiam9pbnRzXCI6IFtcbiAgICB7XG4gICAgICBcImJvZHlJZDFcIjogXCJiYWxsXCIsXG4gICAgICBcImJvZHlJZDJcIjogXCJuZWNrXCIsXG4gICAgICBcInR5cGVcIjogXCJSZXZvbHV0ZVwiLFxuICAgICAgXCJpZFwiOiBcImJhbGxqb2ludFwiLFxuICAgICAgXCJqb2ludEF0dHJpYnV0ZXNcIjoge1xuICAgICAgICBcImVuYWJsZUxpbWl0XCI6IHRydWUsXG4gICAgICAgIFwibG93ZXJBbmdsZVwiOiAtMC41LFxuICAgICAgICBcInVwcGVyQW5nbGVcIjogMC41XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcImJvZHlJZDFcIjogXCJydWxlZ1wiLFxuICAgICAgXCJib2R5SWQyXCI6IFwidG9yc29cIixcbiAgICAgIFwidHlwZVwiOiBcIlJldm9sdXRlXCIsXG4gICAgICBcImlkXCI6IFwicmhpcFwiLFxuICAgICAgXCJib2R5UG9pbnQxXCI6IHtcbiAgICAgICAgXCJ4XCI6IDIxMCxcbiAgICAgICAgXCJ5XCI6IDI3M1xuICAgICAgfSxcbiAgICAgIFwiam9pbnRBdHRyaWJ1dGVzXCI6IHtcbiAgICAgICAgXCJlbmFibGVMaW1pdFwiOiB0cnVlLFxuICAgICAgICBcImxvd2VyQW5nbGVcIjogLTAuNzg1Mzg1LFxuICAgICAgICBcInVwcGVyQW5nbGVcIjogMS41NzA3OTZcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwiYm9keUlkMVwiOiBcImxsbGVnXCIsXG4gICAgICBcImJvZHlJZDJcIjogXCJsdWxlZ1wiLFxuICAgICAgXCJ0eXBlXCI6IFwiUmV2b2x1dGVcIixcbiAgICAgIFwiaWRcIjogXCJsa25lZVwiLFxuICAgICAgXCJib2R5UG9pbnQxXCI6IHtcbiAgICAgICAgXCJ4XCI6IDE1NyxcbiAgICAgICAgXCJ5XCI6IDM2NFxuICAgICAgfSxcbiAgICAgIFwiam9pbnRBdHRyaWJ1dGVzXCI6IHtcbiAgICAgICAgXCJlbmFibGVMaW1pdFwiOiB0cnVlLFxuICAgICAgICBcImxvd2VyQW5nbGVcIjogLTAuMTg1Mzg1LFxuICAgICAgICBcInVwcGVyQW5nbGVcIjogMS41NzA3OTZcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwiYm9keUlkMVwiOiBcInJsbGVnXCIsXG4gICAgICBcImJvZHlJZDJcIjogXCJydWxlZ1wiLFxuICAgICAgXCJ0eXBlXCI6IFwiUmV2b2x1dGVcIixcbiAgICAgIFwiaWRcIjogXCJya25lZVwiLFxuICAgICAgXCJib2R5UG9pbnQxXCI6IHtcbiAgICAgICAgXCJ4XCI6IDIzMSxcbiAgICAgICAgXCJ5XCI6IDM2NFxuICAgICAgfSxcbiAgICAgIFwiam9pbnRBdHRyaWJ1dGVzXCI6IHtcbiAgICAgICAgXCJlbmFibGVMaW1pdFwiOiB0cnVlLFxuICAgICAgICBcImxvd2VyQW5nbGVcIjogLTEuNTcwNzk2LFxuICAgICAgICBcInVwcGVyQW5nbGVcIjogMC4xODUzODVcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIFwiYm9keUlkMVwiOiBcImxoYW5kXCIsXG4gICAgICBcImJvZHlJZDJcIjogXCJsbGFybVwiLFxuICAgICAgXCJ0eXBlXCI6IFwiUmV2b2x1dGVcIixcbiAgICAgIFwiaWRcIjogXCJsaGFuZFwiLFxuICAgICAgXCJib2R5UG9pbnQxXCI6IHtcbiAgICAgICAgXCJ4XCI6IDEyNSxcbiAgICAgICAgXCJ5XCI6IDMwMlxuICAgICAgfSxcbiAgICAgIFwiam9pbnRBdHRyaWJ1dGVzXCI6IHtcbiAgICAgICAgXCJlbmFibGVMaW1pdFwiOiB0cnVlLFxuICAgICAgICBcImxvd2VyQW5nbGVcIjogLTEuNixcbiAgICAgICAgXCJ1cHBlckFuZ2xlXCI6IDEuNlxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgXCJib2R5SWQxXCI6IFwicmhhbmRcIixcbiAgICAgIFwiYm9keUlkMlwiOiBcInJsYXJtXCIsXG4gICAgICBcInR5cGVcIjogXCJSZXZvbHV0ZVwiLFxuICAgICAgXCJpZFwiOiBcInJoYW5kXCIsXG4gICAgICBcImJvZHlQb2ludDFcIjoge1xuICAgICAgICBcInhcIjogMjY4LFxuICAgICAgICBcInlcIjogMjkwXG4gICAgICB9LFxuICAgICAgXCJqb2ludEF0dHJpYnV0ZXNcIjoge1xuICAgICAgICBcImVuYWJsZUxpbWl0XCI6IHRydWUsXG4gICAgICAgIFwibG93ZXJBbmdsZVwiOiAtMS42LFxuICAgICAgICBcInVwcGVyQW5nbGVcIjogMS42XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcImJvZHlJZDFcIjogXCJsZm9vdFwiLFxuICAgICAgXCJib2R5SWQyXCI6IFwibGxsZWdcIixcbiAgICAgIFwidHlwZVwiOiBcIlJldm9sdXRlXCIsXG4gICAgICBcImlkXCI6IFwibGZvb3RcIixcbiAgICAgIFwiYm9keVBvaW50MVwiOiB7XG4gICAgICAgIFwieFwiOiAxNDcsXG4gICAgICAgIFwieVwiOiA0MjZcbiAgICAgIH0sXG4gICAgICBcImpvaW50QXR0cmlidXRlc1wiOiB7XG4gICAgICAgIFwiZW5hYmxlTGltaXRcIjogdHJ1ZSxcbiAgICAgICAgXCJsb3dlckFuZ2xlXCI6IC0xLjA3MDc5NixcbiAgICAgICAgXCJ1cHBlckFuZ2xlXCI6IDAuNzg1Mzg1XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcImJvZHlJZDFcIjogXCJyZm9vdFwiLFxuICAgICAgXCJib2R5SWQyXCI6IFwicmxsZWdcIixcbiAgICAgIFwidHlwZVwiOiBcIlJldm9sdXRlXCIsXG4gICAgICBcImlkXCI6IFwicmZvb3RcIixcbiAgICAgIFwiYm9keVBvaW50MVwiOiB7XG4gICAgICAgIFwieFwiOiAyMzgsXG4gICAgICAgIFwieVwiOiA0MjdcbiAgICAgIH0sXG4gICAgICBcImpvaW50QXR0cmlidXRlc1wiOiB7XG4gICAgICAgIFwiZW5hYmxlTGltaXRcIjogdHJ1ZSxcbiAgICAgICAgXCJsb3dlckFuZ2xlXCI6IC0wLjc4NTM4NSxcbiAgICAgICAgXCJ1cHBlckFuZ2xlXCI6IDEuMDcwNzk2XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBcImJvZHlJZDFcIjogXCJ0aHVtYlwiLFxuICAgICAgXCJib2R5SWQyXCI6IFwibGhhbmRcIixcbiAgICAgIFwidHlwZVwiOiBcIlJldm9sdXRlXCIsXG4gICAgICBcImlkXCI6IFwidGh1bWJcIixcbiAgICAgIFwiYm9keVBvaW50MVwiOiB7XG4gICAgICAgIFwieFwiOiAxMjcsXG4gICAgICAgIFwieVwiOiAzMTVcbiAgICAgIH0sXG4gICAgICBcImpvaW50QXR0cmlidXRlc1wiOiB7XG4gICAgICAgIFwiZW5hYmxlTGltaXRcIjogdHJ1ZSxcbiAgICAgICAgXCJsb3dlckFuZ2xlXCI6IDAuMSxcbiAgICAgICAgXCJ1cHBlckFuZ2xlXCI6IC0wLjFcbiAgICAgIH1cbiAgICB9XG4gIF0sXG4gIFwiY2FudmFzXCI6IHtcbiAgICBcImhlaWdodFwiOiA2MDAsXG4gICAgXCJ3aWR0aFwiOiA4MDBcbiAgfSxcbiAgXCJiYWNrSW1nXCI6IG51bGxcbn07IiwiLyoqXG4gKiBUaGUgR2FtZUNvcmUgY2xhc3MgcHJvdmlkZXMgdGhlIGJhc2UgdG8gYnVpbGQgZ2FtZXMgb24uXG4gKiBAbmFtZSBHYW1lQ29yZVxuICogQGNvbnN0cnVjdG9yIEdhbWVDb3JlXG4gKiBAZXhhbXBsZVxuICogdmFyIG15R2FtZSA9IG5ldyBHYW1lQ29yZSh7XG4gKiAgIGNhbnZhc0lkOiAnbXlDYW52YXMnLFxuICogICB1cGRhdGU6IGZ1bmN0aW9uKG1pbGxpcyl7XG4gKiAgICAgLy8gZG8gdXBkYXRpbmcgb2YgZ2FtZSBzdGF0ZVxuICogICB9LFxuICogICBkcmF3OiBmdW5jdGlvbihjb250ZXh0KXtcbiAqICAgICAvLyBkbyBkcmF3aW5nIG9mIHRoZSBnYW1lXG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIC8vc3RhcnQgdGhlIGdhbWVcbiAqIG15R2FtZS5ydW4oKTtcbiAqL1xuXG5jb25zdCBJbnB1dE1hbmFnZXIgPSByZXF1aXJlKCcuL0lucHV0TWFuYWdlcicpO1xuY29uc3QgUmVzb3VyY2VNYW5hZ2VyID0gcmVxdWlyZSgnLi9SZXNvdXJjZU1hbmFnZXInKTtcblxuY2xhc3MgR2FtZUNvcmUge1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgZ2FtZSBzaG91bGQgYmUgcnVubmluZyBpdHMgbG9vcFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIGNhbnZhcyBlbGVtZW50IHRvIHVzZSByZW5kZXIgdGhlIGdhbWUgb25cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzSWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogTWF4IG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLiAoaW4gY2FzZSB1c2VyIHN3aXRjaGVzIHRhYnMgYW5kIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwYXVzZXMpXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1heFN0ZXAgPSA0MDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIGNvbnRleHQgdG8gcmVxdWVzdCBmcm9tIHRoZSBjYW52YXMuICAyZCBvciAzZFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0VHlwZSA9ICcyZCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBHYW1lIGFuZCBjYW52YXNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgR2FtZSBhbmQgY2FudmFzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBSZXNvdXJjZU1hbmFnZXIgdG8gYmUgdXNlZCBmb3IgZ2FtZVxuICAgICAqIEB0eXBlIHtSZXNvdXJjZU1hbmFnZXJ9XG4gICAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5yZXNvdXJjZU1hbmFnZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIElucHV0TWFuYWdlciB0byBiZSB1c2VkIGZvciBnYW1lXG4gICAgICogQHR5cGUge0lucHV0TWFuYWdlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgdG8gYmUgdXNlZCBmb3IgdGhlIGZvcmVncm91bmQgd2hpbGUgZ2FtZSByZXNvdXJjZXMgYXJlIGxvYWRpbmdcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZ0ZvcmVncm91bmQgPSAnIzAwRic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgdG8gYmUgdXNlZCBmb3IgdGhlIGJhY2tncm91bmQgd2hpbGUgZ2FtZSByZXNvdXJjZXMgYXJlIGxvYWRpbmdcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMubG9hZGluZ0JhY2tncm91bmQgPSAnI0ZGRic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgYSBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIHRoZSBnYW1lJ3MgY2FudmFzXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmdhbWVBcmVhSWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBlcmNlbnRhZ2UgKDAgdG8gMS4wKSBvZiB0aGUgaGVpZ2h0IGFuZCB3aWR0aCB0aGUgY2FudmFzIHNob3VsZCB1c2UgdG8gZmlsbCBpbiBpdHMgY29udGFpbmVyIERPTSBlbGVtZW50XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc1BlcmNlbnRhZ2UgPSAwO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLnJlc291cmNlTWFuYWdlcil7XG4gICAgICB0aGlzLnJlc291cmNlTWFuYWdlciA9IG5ldyBSZXNvdXJjZU1hbmFnZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGVpZ2h0IG9uIHlvdXIgR2FtZUNvcmUgaW5zdGFuY2UgYW5kIG9uIHlvdXIgY2FudmFzIHJlZmVyZW5jZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gbmV3SGVpZ2h0IFRoZSBuZXcgaGVpZ2h0IGRlc2lyZWRcbiAgICovXG4gIHNldEhlaWdodChuZXdIZWlnaHQpe1xuICAgIHRoaXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IG5ld0hlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB3aWR0aCBvbiB5b3VyIEdhbWVDb3JlIGluc3RhbmNlIGFuZCBvbiB5b3VyIGNhbnZhcyByZWZlcmVuY2VcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5ld1dpZHRoIFRoZSBuZXcgd2lkdGggZGVzaXJlZFxuICAgKi9cbiAgc2V0V2lkdGgobmV3V2lkdGgpe1xuICAgIHRoaXMud2lkdGggPSBuZXdXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IG5ld1dpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhlIGdhbWUgbG9vcCB0aGF0IGl0J3MgdGltZSB0byBxdWl0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogTGF1bmNoZXMgdGhlIGdhbWUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBydW4oKSB7XG4gICAgaWYoIXRoaXMuaXNSdW5uaW5nKXtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgdGhpcy5sb2FkUmVzb3VyY2VzKHRoaXMucmVzb3VyY2VNYW5hZ2VyKTtcbiAgICAgIHRoaXMuaW5pdElucHV0KHRoaXMuaW5wdXRNYW5hZ2VyKTtcbiAgICAgIHRoaXMubGF1bmNoTG9vcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcmlkZGVuIGluIEdhbWVDb3JlIHN1YmNsYXNzZXMgdG8gbG9hZCBpbWFnZXMgYW5kIHNvdW5kc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKiBAcGFyYW0ge1Jlc291cmNlTWFuYWdlcn0gcmVzb3VyY2VNYW5hZ2VyXG4gICAqL1xuICBsb2FkUmVzb3VyY2VzKHJlc291cmNlTWFuYWdlcil7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzY3JlZW4gbW9kZSBhbmQgaW5pdGlhdGVzIGFuZCBvYmplY3RzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEdhbWVDb3JlI1xuICAgKi9cbiAgaW5pdCgpIHtcbiAgICBpZighdGhpcy5jYW52YXMpe1xuICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0lkKTtcbiAgICB9XG4gICAgaWYoIXRoaXMuY2FudmFzKXtcbiAgICAgIFxuICAgICAgYWxlcnQoJ1NvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjYW52YXMuICBJIHJlY29tbWVuZCBhbnkgYnJvd3NlciBidXQgSW50ZXJuZXQgRXhwbG9yZXInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYoIXRoaXMuY29udGV4dCl7XG4gICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KHRoaXMuY29udGV4dFR5cGUpO1xuICAgIH1cbiAgICBpZighdGhpcy5jb250ZXh0KXtcbiAgICAgIGFsZXJ0KCdTb3JyeSwgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYSAnICsgdGhpcy5jb250ZXh0VHlwZSArICcgZHJhd2luZyBzdXJmYWNlIG9uIGNhbnZhcy4gIEkgcmVjb21tZW5kIGFueSBicm93c2VyIGJ1dCBJbnRlcm5ldCBFeHBsb3JlcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0SGVpZ2h0KHRoaXMuaGVpZ2h0IHx8IHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5zZXRXaWR0aCh0aGlzLndpZHRoIHx8IHRoaXMuY2FudmFzLndpZHRoKTtcblxuICAgIGlmKCF0aGlzLmlucHV0TWFuYWdlcil7XG4gICAgICAvL2hhbmRsZSByZXNpemluZyBpZiBnYW1lQXJlYSBhbmQgY2FudmFzUGVyY2VudGFnZSBhcmUgc3BlY2lmaWVkXG4gICAgICBpZih0aGlzLmdhbWVBcmVhSWQgJiYgdGhpcy5jYW52YXNQZXJjZW50YWdlKXtcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHtcbiAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGdhbWVBcmVhOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdhbWVBcmVhSWQpLFxuICAgICAgICAgIGNhbnZhc1BlcmNlbnRhZ2U6IHRoaXMuY2FudmFzUGVyY2VudGFnZVxuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoe1xuICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pbnB1dE1hbmFnZXIucmVzaXplKCk7XG5cbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2FuIGJlIG92ZXJpZGRlbiBpbiB0aGUgc3ViY2xhc3NlcyB0byBtYXAgdXNlciBpbnB1dCB0byBhY3Rpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7SW5wdXRNYW5hZ2VyfSBpbnB1dE1hbmFnZXJcbiAgICovXG4gIGluaXRJbnB1dChpbnB1dE1hbmFnZXIpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIENhbiBiZSBvdmVyaWRkZW4gaW4gdGhlIHN1YmNsYXNzZXMgdG8gZGVhbCB3aXRoIHVzZXIgaW5wdXQgYmVmb3JlIHVwZGF0aW5nIHRoZSBnYW1lIHN0YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7SW5wdXRNYW5hZ2VyfSBpbnB1dE1hbmFnZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIGhhbmRsZUlucHV0KGlucHV0TWFuYWdlcixlbGFwc2VkVGltZSkge1xuXG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aHJvdWdoIHRoZSBnYW1lIGxvb3AgdW50aWwgc3RvcCgpIGlzIGNhbGxlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICovXG4gIGdhbWVMb29wKCkge1xuICAgIHRoaXMuY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB0aGlzLmVsYXBzZWRUaW1lID0gTWF0aC5taW4odGhpcy5jdXJyVGltZSAtIHRoaXMucHJldlRpbWUsIHRoaXMubWF4U3RlcCk7XG4gICAgdGhpcy5wcmV2VGltZSA9IHRoaXMuY3VyclRpbWU7XG5cbiAgICAvL2l0J3MgdXNpbmcgYSByZXNvdXJjZSBtYW5hZ2VyLCBidXQgcmVzb3VyY2VzIGhhdmVuJ3QgZmluaXNoZWRcbiAgICBpZih0aGlzLnJlc291cmNlTWFuYWdlciAmJiAhdGhpcy5yZXNvdXJjZU1hbmFnZXIucmVzb3VyY2VzUmVhZHkoKSl7XG4gICAgICB0aGlzLnVwZGF0ZUxvYWRpbmdTY3JlZW4odGhpcy5lbGFwc2VkVGltZSk7XG4gICAgICB0aGlzLmRyYXdMb2FkaW5nU2NyZWVuKHRoaXMuY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlSW5wdXQodGhpcy5pbnB1dE1hbmFnZXIsdGhpcy5lbGFwc2VkVGltZSk7XG4gICAgICBpZighdGhpcy5wYXVzZWQpe1xuICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgdGhpcy51cGRhdGUodGhpcy5lbGFwc2VkVGltZSk7XG4gICAgICB9XG4gICAgICAvLyBkcmF3IHRoZSBzY3JlZW5cbiAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG4gICAgICB0aGlzLmRyYXcodGhpcy5jb250ZXh0KTtcbiAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExhdW5jaGVzIHRoZSBnYW1lIGxvb3AuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqL1xuICBsYXVuY2hMb29wKCl7XG4gICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XG4gICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jdXJyVGltZSA9IHN0YXJ0VGltZTtcbiAgICB0aGlzLnByZXZUaW1lID0gc3RhcnRUaW1lO1xuXG4gICAgLy9uZWVkIHRvIGtlZXAgdGhlIGNvbnRleHQgZGVmaW5lZCBoZXJlIHNvIHRoZSBnYW1lIGxvb3AgaGFzIGFjY2VzcyB0byBpdFxuICAgIHRoaXMubG9vcFJ1bm5lciA9IHRoaXMubG9vcFJ1bm5lci5iaW5kKHRoaXMpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wUnVubmVyKTtcbiAgfVxuXG4gIGxvb3BSdW5uZXIoKXtcbiAgICB0aGlzLmdhbWVMb29wKCk7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3BSdW5uZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3VsZCBiZSBvdmVycmlkZGVuIHRvIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGdhbWUvYW5pbWF0aW9uIGJhc2VkIG9uIHRoZSBhbW91bnQgb2YgZWxhcHNlZCB0aW1lIHRoYXQgaGFzIHBhc3NlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZShlbGFwc2VkVGltZSkge1xuXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgb3ZlcnJpZGRlbiB0byB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSBnYW1lL2FuaW1hdGlvbiB3aGlsZSBhIGN1c3RvbSBsb2FkaW5nIHNjcmVlbiBpcyBkaXNwbGF5ZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbGFwc2VkVGltZSBFbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAqL1xuICB1cGRhdGVMb2FkaW5nU2NyZWVuKGVsYXBzZWRUaW1lKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0byB0aGUgc2NyZWVuLiBTdWJjbGFzc2VzIG9yIGluc3RhbmNlcyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHBhaW50IGl0ZW1zIHRvIHRoZSBzY3JlZW4uXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUNvcmUjXG4gICAqIEBwYXJhbSB7Q29udGV4dH0gY29udGV4dCBBbiBIVE1MNSBjYW52YXMgZHJhd2luZyBjb250ZXh0LlxuICAgKi9cbiAgZHJhdyhjb250ZXh0KXtcbiAgICBpZih0aGlzLmNvbnRleHRUeXBlID09PSAnMmQnKXtcbiAgICAgIGNvbnRleHQuZm9udCA9IFwiMTRweCBzYW5zLXNlcmlmXCI7XG4gICAgICBjb250ZXh0LmZpbGxUZXh0KFwiVGhpcyBnYW1lIGRvZXMgbm90IGhhdmUgaXRzIG93biBkcmF3IGZ1bmN0aW9uIVwiLCAxMCwgNTApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIHJlc291cmNlIG1hbmdlciB0byB0aGUgc2NyZWVuIHdoaWxlIGxvYWRpbmcuXG4gICAqIFN1YmNsYXNzZXMgb3IgaW5zdGFuY2VzIG1heSBvdmVycmlkZSBmb3IgY3VzdG9tIGxvYWRpbmcgYW5pbWF0aW9ucy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBHYW1lQ29yZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IEFuIEhUTUw1IGNhbnZhcyBkcmF3aW5nIGNvbnRleHQuXG4gICAqL1xuICBkcmF3TG9hZGluZ1NjcmVlbihjb250ZXh0KXtcbiAgICBpZih0aGlzLnJlc291cmNlTWFuYWdlciAmJiAodGhpcy5jb250ZXh0VHlwZSA9PT0gJzJkJykpe1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmxvYWRpbmdCYWNrZ3JvdW5kO1xuICAgICAgY29udGV4dC5maWxsUmVjdCgwLDAsIHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMubG9hZGluZ0ZvcmVncm91bmQ7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5sb2FkaW5nRm9yZWdyb3VuZDtcblxuICAgICAgdmFyIHRleHRQeFNpemUgPSBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0LzEyKTtcblxuICAgICAgY29udGV4dC5mb250ID0gXCJib2xkIFwiICsgdGV4dFB4U2l6ZSArIFwicHggc2Fucy1zZXJpZlwiO1xuXG4gICAgICBjb250ZXh0LmZpbGxUZXh0KFwiTG9hZGluZy4uLiBcIiArIHRoaXMucmVzb3VyY2VNYW5hZ2VyLmdldFBlcmNlbnRDb21wbGV0ZSgpICsgXCIlXCIsIHRoaXMud2lkdGggKiAwLjEsIHRoaXMuaGVpZ2h0ICogMC41NSk7XG5cbiAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdCh0aGlzLndpZHRoICogMC4xLCB0aGlzLmhlaWdodCAqIDAuNywgdGhpcy53aWR0aCAqIDAuOCwgdGhpcy5oZWlnaHQgKiAwLjEpO1xuICAgICAgY29udGV4dC5maWxsUmVjdCh0aGlzLndpZHRoICogMC4xLCB0aGlzLmhlaWdodCAqIDAuNywgKHRoaXMud2lkdGggKiAwLjgpICogdGhpcy5yZXNvdXJjZU1hbmFnZXIuZ2V0UGVyY2VudENvbXBsZXRlKCkvMTAwLCB0aGlzLmhlaWdodCAqIDAuMSk7XG5cbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gNDtcbiAgICB9XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWVDb3JlO1xuIiwiLyoqXG4gKiBUaGUgSW5wdXRNYW5hZ2VyIGhhbmRsZXMgRE9NIGV2ZW50cyBmb3IgdXNlIGluIGdhbWVzLlxuICogQG5hbWUgSW5wdXRNYW5hZ2VyXG4gKiBAY29uc3RydWN0b3IgSW5wdXRNYW5hZ2VyXG4gKi9cblxuY29uc3QgSGFtbWVyID0gcmVxdWlyZSgnaGFtbWVyanMnKTtcblxuY29uc3QgR2FtZUFjdGlvbiA9IHJlcXVpcmUoJy4vR2FtZUFjdGlvbicpO1xuY29uc3QgVG91Y2hBY3Rpb24gPSByZXF1aXJlKCcuL1RvdWNoQWN0aW9uJyk7XG5jb25zdCBNb3VzZUFjdGlvbiA9IHJlcXVpcmUoJy4vTW91c2VBY3Rpb24nKTtcbmNvbnN0IGluc2lkZUNhbnZhcyA9IHJlcXVpcmUoJy4vdXRpbHMvaW5zaWRlQ2FudmFzJyk7XG5jb25zdCBrZXlzID0gcmVxdWlyZSgnLi9rZXlzJyk7XG5cbmZ1bmN0aW9uIG9uIChlbGVtZW50LCBuYW1lLCBoYW5kbGVyKSB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9zaXRpb24obm9kZSl7XG4gIHZhciBib3VuZGluZ1JlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4ge1xuICAgIHg6IGJvdW5kaW5nUmVjdC5sZWZ0LFxuICAgIHk6IGJvdW5kaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKXtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsIG51bGwpIHx8IHt9O1xufVxuXG5mdW5jdGlvbiB0b1BpeGVsKHZhbHVlKXtcbiAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG59XG5cbmZ1bmN0aW9uIGdldE1hcmdpbkV4dGVudHMobm9kZSl7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gIHZhciBsID0gdG9QaXhlbChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgdmFyIHQgPSB0b1BpeGVsKHN0eWxlLm1hcmdpblRvcCk7XG4gIHZhciByID0gdG9QaXhlbChzdHlsZS5tYXJnaW5SaWdodCk7XG4gIHZhciBiID0gdG9QaXhlbChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICByZXR1cm4ge1xuICAgIHc6IGwgKyByLFxuICAgIGg6IHQgKyBiXG4gIH07XG59XG5cbmNsYXNzIElucHV0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3Qgb2Yga2V5QWN0aW9ucyBiZWluZyBsaXN0ZW5lZCBmb3JcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMua2V5QWN0aW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgTW91c2VBY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0aGUgbW91c2UncyBzdGF0ZVxuICAgICAqIEB0eXBlIHtNb3VzZUFjdGlvbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tb3VzZUFjdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgVG91Y2hBY3Rpb24gdG8ga2VlcCB0cmFjayBvZiB0b3VjaCBldmVudHNcbiAgICAgKiBAdHlwZSB7VG91Y2hBY3Rpb259XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEhUTUw1IGNhbnZhcyBvbiB3aGljaCB0byBsaXN0ZW4gZm9yIGV2ZW50c1xuICAgICAqIEB0eXBlIHtDYW52YXN9XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGxpc3RlbiBmb3IgbW91c2UgZXZlbnRzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqIEBkZXByZWNhdGVkIE1vdXNlIGlzIGFsd2F5cyBoYW5kbGVkLCB1c2UgZW11bGF0ZU1vdXNlIHRvIHNwZWNpZnkgaG93IHRvIGhhbmRsZSBpdFxuICAgICAqL1xuICAgIHRoaXMuaGFuZGxlTW91c2UgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdG8gbGlzdGVuIGZvciB0b3VjaCBldmVudHNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICogQGRlcHJlY2F0ZWQgVG91Y2ggaXMgYWx3YXlzIGhhbmRsZWQsIHVzZSBlbXVsYXRlTW91c2UgdG8gc3BlY2lmeSBob3cgdG8gaGFuZGxlIGl0XG4gICAgICovXG4gICAgdGhpcy5oYW5kbGVUb3VjaCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBsaXN0ZW4gZm9yIGtleWJvYXJkIGV2ZW50c1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZUtleXMgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIGdhbWUncyBjYW52YXNcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5nYW1lQXJlYSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGVyY2VudGFnZSAoMCB0byAxLjApIG9mIHRoZSBoZWlnaHQgYW5kIHdpZHRoIHRoZSBjYW52YXMgc2hvdWxkIHVzZSB0byBmaWxsIGluIGl0cyBjb250YWluZXIgRE9NIGVsZW1lbnRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhc1BlcmNlbnRhZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRW11bGF0ZSBtb3VzZSBldmVudHMgd2hlbiB1c2luZyB0b3VjaFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmVtdWxhdGVNb3VzZSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBvZiBIYW1tZXIuanMgLSBZb3UgY2FuIHBhc3MgaW4gYSBIYW1tZXIoKSBjb25zdHJ1Y3RvciB3aXRoIG9wdGlvbnMgdG8gY3VzdG9taXplIHlvdXIgSGFtbWVyIGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0IEhhbW1lciBpbnN0YW5jZSwgYm91bmQgdG8gZG9jdW1lbnQsIHdpdGggcHJldmVudF9kZWZhdWx0OiB0cnVlLCBkcmFnX21heF90b3VjaGVzOiAwLCBhbmQgaG9sZDogZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLmhhbW1lciA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgaWYoIXRoaXMuaGFtbWVyKXtcbiAgICAgIHRoaXMuaGFtbWVyID0gbmV3IEhhbW1lcihkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgIHByZXZlbnRfZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgZHJhZ19tYXhfdG91Y2hlczogMCxcbiAgICAgICAgLy8gSG9sZCB1c2VzIHNldFRpbWVvdXQgd2hpY2ggaXMgdmVyeSBiYWQgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIC8vIFRPRE86IERvIHdlIHdhbnQgdG8gYWxsb3cgdGhpcyB0byBiZSBvdmVycmlkZGVuP1xuICAgICAgICBob2xkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMua2V5QWN0aW9ucyl7XG4gICAgICB0aGlzLmtleUFjdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhbnVwKGhhbmRsZXIpe1xuICAgICAgaGFuZGxlci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmhhbmRsZUtleXMpe1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleWRvd24uYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ2tleXVwJywgdGhpcy5rZXl1cC5iaW5kKHRoaXMpKSwgY2xlYW51cCk7XG4gICAgfVxuXG4gICAgaWYoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQpe1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ3RvdWNoc3RhcnQnLCB0aGlzLnRvdWNoc3RhcnQuYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMudG91Y2htb3ZlLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMudG91Y2hlbmQuYmluZCh0aGlzKSksIGNsZWFudXApO1xuXG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKGRvY3VtZW50LCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24uYmluZCh0aGlzKSksIGNsZWFudXApO1xuICAgICAgdGhpcy5wdXNoQ2xlYW51cChvbihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMubW91c2Vtb3ZlLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24oZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5tb3VzZXVwLmJpbmQodGhpcykpLCBjbGVhbnVwKTtcbiAgICB9XG5cblxuICAgIGlmKCF0aGlzLm1vdXNlQWN0aW9uKXtcbiAgICAgIHRoaXMubW91c2VBY3Rpb24gPSBuZXcgTW91c2VBY3Rpb24oKTtcbiAgICB9XG5cbiAgICBpZighdGhpcy50b3VjaEFjdGlvbil7XG4gICAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuXG4gICAgICAvL2RhIGhlbGwgaGFtbWVyLCBnb3R0YSBkbyB0aGlzIG91cnNldmxlcyBub3c/XG5cbiAgICAgIC8vIHRoaXMub24oJ3RvdWNoJywgdGhpcy5tb3VzZWRvd24uYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdkcmFnJywgdGhpcy5tb3VzZW1vdmUuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdyZWxlYXNlJywgdGhpcy5tb3VzZXVwLmJpbmQodGhpcykpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgLy9kYSBoZWxsIGhhbW1lciwgZ290dGEgZG8gdGhpcyBvdXJzZXZsZXMgbm93P1xuICAgICAgLy8gdGhpcy5vbigndG91Y2gnLCB0aGlzLnRvdWNoc3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdkcmFnJywgdGhpcy50b3VjaG1vdmUuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLm9uKCdyZWxlYXNlJywgdGhpcy50b3VjaGVuZC5iaW5kKHRoaXMpKTtcblxuICAgIH1cblxuICAgIGlmKHRoaXMuZ2FtZUFyZWEgJiYgdGhpcy5jYW52YXNQZXJjZW50YWdlKXtcbiAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5yZXNpemUuYmluZCh0aGlzKTtcblxuICAgICAgLy8gTGlzdGVuIGZvciByZXNpemUgY2hhbmdlc1xuXG4gICAgICB0aGlzLnB1c2hDbGVhbnVwKG9uKHdpbmRvdywgJ3Jlc2l6ZScsIGhhbmRsZXIpLCBjbGVhbnVwKTtcbiAgICAgIHRoaXMucHVzaENsZWFudXAob24od2luZG93LCAnb3JpZW50YXRpb25jaGFuZ2UnLCBoYW5kbGVyKSwgY2xlYW51cCk7XG4gICAgfVxuXG4gICAgdGhpcy5ub3JtYWxpemVQb2ludCA9IHRoaXMubm9ybWFsaXplUG9pbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluc2lkZUNhbnZhcyA9IHRoaXMuaW5zaWRlQ2FudmFzLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBiaW5kIG90aGVyIEhhbW1lci5qcyBldmVudHMgKHN1Y2ggYXMgU3dpcGUgb3IgRG91YmxldGFwKTtcbiAgICogV2FybmluZzogT25seSBzZXQgZmxhZ3Mgb3IgdmFyaWFibGVzIGluIHRoaXMgaGFuZGxlciwgb3RoZXJ3aXNlIHlvdXIgZ2FtZSBtaWdodCBiZWNvbWUgc2xvd1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBnZXN0dXJlIFRoZSBnZXN0dXJlIHRvIGJpbmRcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGhhbmRsZXIgRXZlbnQgaGFuZGxlciBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIHRoZSByZW1vdmUgZnVuY3Rpb24gZm9yIHJlbW92aW5nIHRoZSBldmVudC5cbiAgICovXG4gIG9uKGdlc3R1cmUsIGhhbmRsZXIpe1xuICAgIHZhciBoYW1tZXIgPSB0aGlzLmhhbW1lcjtcbiAgICB2YXIgcmVtb3ZlQ2xlYW51cCA9IHRoaXMucmVtb3ZlQ2xlYW51cDtcblxuICAgIGhhbW1lci5vbihnZXN0dXJlLCBoYW5kbGVyKTtcbiAgICB2YXIgY2xlYW51cCA9IHRoaXMucHVzaENsZWFudXAoW2dlc3R1cmUsIGhhbmRsZXJdLCBmdW5jdGlvbihhcmdzKXtcbiAgICAgIGhhbW1lci5vZmYuYXBwbHkoaGFtbWVyLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZW1vdmU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJlbW92ZUNsZWFudXAoY2xlYW51cCk7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIGEgcG9pbnQgaXMgd2l0aGluIHRoZSBJbnB1dE1hbmFnZXIncyBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1BvaW50fSBwb2ludCBQb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBwb2ludCBpcyBpbnNpZGUgdGhpcyBJbnB1dE1hbmFnZXIncyBjYW52YXNcbiAgICovXG4gIGluc2lkZUNhbnZhcyhwb2ludCl7XG4gICAgcmV0dXJuIGluc2lkZUNhbnZhcyhwb2ludCwgdGhpcy5jYW52YXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcHMgYSBHYW1lQWN0aW9uIHRvIGEgc3BlY2lmaWMga2V5LiBUaGUga2V5IGNvZGVzIGFyZSBkZWZpbmVkIGluIGRvam8ua2V5cy5cbiAgICogSWYgdGhlIGtleSBhbHJlYWR5IGhhcyBhIEdhbWVBY3Rpb24gbWFwcGVkIHRvIGl0LCB0aGUgbmV3IEdhbWVBY3Rpb24gb3ZlcndyaXRlcyBpdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSB7R2FtZUFjdGlvbn0gZ2FtZUFjdGlvbiB0aGUgR2FtZUFjdGlvbiB0byBtYXBcbiAgICogQHBhcmFtIHtPYmplY3R9IGtleUNvZGUgZG9qby5rZXlzIGtleSBjb2RlLCBvciBjaGFyYWN0ZXJcbiAgICovXG4gIG1hcFRvS2V5KGdhbWVBY3Rpb24sIGtleUNvZGUpe1xuICAgIHRoaXMua2V5QWN0aW9uc1trZXlDb2RlXSA9IGdhbWVBY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIEdhbWVBY3Rpb24gdG8gYSBrZXlcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBrZXlDb2RlIEtleSBjaGFyYWN0ZXIgb3IgZG9qby9rZXlzIGtleSBjb2RlXG4gICAqIEBwYXJhbSB7Qm9vbGVhbj19IGluaXRpYWxQcmVzc09ubHkgRG8gb25seSBvbmUgZmlyZSBvZiB0aGUgYWN0aW9uIHBlciBrZXlwcmVzc1xuICAgKiBAcmV0dXJuIHtHYW1lQWN0aW9ufSBHYW1lQWN0aW9uIHRoYXQgaXMgbWFwcGVkIHRvIGtleUNvZGVcbiAgICovXG4gIGFkZEtleUFjdGlvbihrZXlDb2RlLCBpbml0aWFsUHJlc3NPbmx5KXtcbiAgICB2YXIgZ2EgPSBuZXcgR2FtZUFjdGlvbigpO1xuICAgIGlmKGluaXRpYWxQcmVzc09ubHkpe1xuICAgICAgZ2EuYmVoYXZpb3IgPSBnYS5kZXRlY3RJbml0aWFsUHJlc3NPbmx5O1xuICAgIH1cbiAgICB0aGlzLm1hcFRvS2V5KGdhLGtleUNvZGUpO1xuXG4gICAgcmV0dXJuIGdhO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYXJyb3cga2V5IEdhbWVBY3Rpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKi9cbiAgYWRkQXJyb3dLZXlBY3Rpb25zKCl7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5VUCk7XG4gICAgdGhpcy5hZGRLZXlBY3Rpb24oa2V5cy5ET1dOKTtcbiAgICB0aGlzLmFkZEtleUFjdGlvbihrZXlzLkxFRlQpO1xuICAgIHRoaXMuYWRkS2V5QWN0aW9uKGtleXMuUklHSFQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNldXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlVXAoZSkge1xuICAgIHRoaXMubW91c2V1cChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdXNldXAoZSl7XG4gICAgdGhpcy5tb3VzZUFjdGlvbi5yZWxlYXNlKHRoaXMubm9ybWFsaXplUG9pbnQoZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgbW91c2VEb3duKGUpe1xuICAgIHRoaXMubW91c2Vkb3duKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIG1vdXNlZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3VzZWRvd24oZSl7XG4gICAgLy8gRW5zdXJlIG1vdXNlIGhhcyBiZWVuIHJlbGVhc2VkXG4gICAgdGhpcy5tb3VzZUFjdGlvbi5yZWxlYXNlKG51bGwpO1xuICAgIHZhciBjdXJyZW50UG9pbnQgPSB0aGlzLm5vcm1hbGl6ZVBvaW50KGUpO1xuICAgIHRoaXMubW91c2VBY3Rpb24uaW5zaWRlQ2FudmFzID0gdGhpcy5pbnNpZGVDYW52YXMoY3VycmVudFBvaW50KTtcbiAgICB0aGlzLm1vdXNlQWN0aW9uLnByZXNzKGN1cnJlbnRQb2ludCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIG1vdXNlTW92ZShlKXtcbiAgICB0aGlzLm1vdXNlbW92ZShlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiBtb3VzZW1vdmUgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW91c2Vtb3ZlKGUpe1xuICAgIHRoaXMubW91c2VBY3Rpb24ucG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZVBvaW50KGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoc3RhcnQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGxvd2VyY2FzZSBuYW1lIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIHRvdWNoU3RhcnQoZSl7XG4gICAgdGhpcy50b3VjaHN0YXJ0KGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNoc3RhcnQgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgdG91Y2hzdGFydChlKXtcbiAgICAvLyBFbnN1cmUgdG91Y2ggaGFzIGJlZW4gcmVsZWFzZWRcbiAgICB0aGlzLnRvdWNoQWN0aW9uLnJlbGVhc2UobnVsbCk7XG4gICAgY29uc29sZS5sb2coZS50b3VjaGVzLCBlKTtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLmluc2lkZUNhbnZhcyA9IGN1cnJlbnRQb2ludHMuc29tZSh0aGlzLmluc2lkZUNhbnZhcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbi5wcmVzcyhjdXJyZW50UG9pbnRzKTtcbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlZG93bihlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaGVuZCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hFbmQoZSl7XG4gICAgdGhpcy50b3VjaGVuZChlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdXBvbiB0b3VjaGVuZCBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaGVuZChlKXtcbiAgICAvL1RvdWNoTGlzdCBkb2Vzbid0IGltcGxlbWVudCAubWFwKClcbiAgICBjb25zdCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQb2ludHMucHVzaCh0aGlzLm5vcm1hbGl6ZVBvaW50KGUudG91Y2hlc1tpXSkpO1xuICAgIH1cbiAgICB0aGlzLnRvdWNoQWN0aW9uLnJlbGVhc2UoY3VycmVudFBvaW50cyk7XG4gICAgaWYodGhpcy5lbXVsYXRlTW91c2Upe1xuICAgICAgdGhpcy5tb3VzZVVwKGUudG91Y2hlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNobW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAgdG91Y2hNb3ZlKGUpe1xuICAgIHRoaXMudG91Y2htb3ZlKGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIHRvdWNobW92ZSBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICB0b3VjaG1vdmUoZSl7XG4gICAgLy9Ub3VjaExpc3QgZG9lc24ndCBpbXBsZW1lbnQgLm1hcCgpXG4gICAgY29uc3QgY3VycmVudFBvaW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50UG9pbnRzLnB1c2godGhpcy5ub3JtYWxpemVQb2ludChlLnRvdWNoZXNbaV0pKTtcbiAgICB9XG4gICAgdGhpcy50b3VjaEFjdGlvbi5wb3NpdGlvbnMgPSBjdXJyZW50UG9pbnRzO1xuICAgIGlmKHRoaXMudG91Y2hBY3Rpb24uc3RhcnRQb3NpdGlvbnMpe1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZih0aGlzLmVtdWxhdGVNb3VzZSl7XG4gICAgICB0aGlzLm1vdXNlbW92ZShlLnRvdWNoZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIEdhbWVBY3Rpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXlDb2RlIG9uIHRoZSBldmVudCBvYmplY3RcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtHYW1lQWN0aW9ufG51bGx9IFRoZSBHYW1lQWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5Q29kZSBlbHNlIG51bGxcbiAgICovXG4gIGdldEtleUFjdGlvbihlKSB7XG4gICAgaWYgKHRoaXMua2V5QWN0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMua2V5QWN0aW9uc1tlLmtleUNvZGVdIHx8IHRoaXMua2V5QWN0aW9uc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5cHJlc3MgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBVc2Uga2V5ZG93biBpbnN0ZWFkIC0gc2FtZSBzeW50YXggYXMgbm9ybWFsIGV2ZW50IGhhbmRsaW5nXG4gICAqL1xuICBrZXlQcmVzc2VkKGUpIHtcbiAgICB0aGlzLmtleWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5ZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgbG93ZXJjYXNlIG5hbWUgaW5zdGVhZCAtIHNhbWUgc3ludGF4IGFzIG5vcm1hbCBldmVudCBoYW5kbGluZ1xuICAgKi9cbiAga2V5RG93bihlKXtcbiAgICB0aGlzLmtleWRvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5ZG93biBldmVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBrZXlkb3duKGUpIHtcbiAgICB2YXIgZ2FtZUFjdGlvbiA9IHRoaXMuZ2V0S2V5QWN0aW9uKGUpO1xuICAgIGlmIChnYW1lQWN0aW9uICYmICFnYW1lQWN0aW9uLmlzUHJlc3NlZCgpKSB7XG4gICAgICBnYW1lQWN0aW9uLnByZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB1cG9uIGtleXVwIGV2ZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgSW5wdXRNYW5hZ2VyI1xuICAgKiBAcGFyYW0gIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGtleXVwIGluc3RlYWQgLSBzYW1lIHN5bnRheCBhcyBub3JtYWwgZXZlbnQgaGFuZGxpbmdcbiAgICovXG4gIGtleVJlbGVhc2VkKGUpe1xuICAgIHRoaXMua2V5dXAoZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHVwb24ga2V5dXAgZXZlbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqIEBwYXJhbSAge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAga2V5dXAoZSkge1xuICAgIHZhciBnYW1lQWN0aW9uID0gdGhpcy5nZXRLZXlBY3Rpb24oZSk7XG4gICAgaWYgKGdhbWVBY3Rpb24pIHtcbiAgICAgIGdhbWVBY3Rpb24ucmVsZWFzZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGdldCBhIG5vcm1hbGl6ZWQgcG9pbnQgb3V0IG9mIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGV2dCBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7UG9pbnR9IE5vcm1hbGl6ZWQgcG9pbnRcbiAgICogQGRlcHJlY2F0ZWQgRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBub3JtYWxpemVQb2ludCBmdW5jdGlvbiAoU2FtZSBmdW5jdGlvbmFsaXR5LCBkaWZmZXJlbnQgbmFtZSlcbiAgICovXG4gIGdldE1vdXNlTG9jKGV2dCl7XG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplUG9pbnQoZXZ0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGdldCBhIG5vcm1hbGl6ZWQgcG9pbnQgb3V0IG9mIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIElucHV0TWFuYWdlciNcbiAgICogQHBhcmFtICB7RXZlbnR9IGV2dCBFdmVudCBvYmplY3RcbiAgICogQHJldHVybiB7UG9pbnR9IE5vcm1hbGl6ZWQgcG9pbnRcbiAgICovXG4gIG5vcm1hbGl6ZVBvaW50KGV2dCl7XG4gICAgaWYoZXZ0KXtcbiAgICAgIHZhciBjb29yZHNNID0gcG9zaXRpb24odGhpcy5jYW52YXMpO1xuICAgICAgaWYodGhpcy56b29tUmF0aW8pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQoKGV2dC5jbGllbnRYIC0gY29vcmRzTS54KSAvIHRoaXMuem9vbVJhdGlvKSxcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKChldnQuY2xpZW50WSAtIGNvb3Jkc00ueSkgLyB0aGlzLnpvb21SYXRpbylcbiAgICAgICAgfTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQoZXZ0LmNsaWVudFggLSBjb29yZHNNLngpLFxuICAgICAgICAgIHk6IE1hdGgucm91bmQoZXZ0LmNsaWVudFkgLSBjb29yZHNNLnkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVzaXplIHRoZSBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBJbnB1dE1hbmFnZXIjXG4gICAqL1xuICByZXNpemUoKXtcbiAgICBpZih0aGlzLmdhbWVBcmVhICYmIHRoaXMuY2FudmFzUGVyY2VudGFnZSAmJiB0aGlzLmNhbnZhcyl7XG4gICAgICB2YXIgY2FudmFzV2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgIHZhciBjYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgIHZhciBib2R5TWFyZ2lucyA9IGdldE1hcmdpbkV4dGVudHMoZG9jdW1lbnQuYm9keSk7XG5cbiAgICAgIHZhciBuZXdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gYm9keU1hcmdpbnMudztcbiAgICAgIHZhciBuZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBib2R5TWFyZ2lucy5oO1xuXG4gICAgICB2YXIgd2lkdGhUb0hlaWdodCA9IGNhbnZhc1dpZHRoIC8gY2FudmFzSGVpZ2h0O1xuICAgICAgdmFyIG5ld1dpZHRoVG9IZWlnaHQgPSBuZXdXaWR0aCAvIG5ld0hlaWdodDtcblxuICAgICAgdmFyIG5ld1dpZHRoU3R5bGUgPSAnJztcbiAgICAgIHZhciBuZXdIZWlnaHRTdHlsZSA9ICcnO1xuICAgICAgaWYgKG5ld1dpZHRoVG9IZWlnaHQgPiB3aWR0aFRvSGVpZ2h0KSB7XG4gICAgICAgIG5ld1dpZHRoID0gbmV3SGVpZ2h0ICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgbmV3V2lkdGhTdHlsZSA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgbmV3SGVpZ2h0U3R5bGUgPSBuZXdIZWlnaHQgKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3V2lkdGhTdHlsZSA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgbmV3SGVpZ2h0U3R5bGUgPSBNYXRoLnJvdW5kKG5ld1dpZHRoIC8gd2lkdGhUb0hlaWdodCkgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvb21SYXRpbyA9IG5ld1dpZHRoIC8gY2FudmFzV2lkdGggKiB0aGlzLmNhbnZhc1BlcmNlbnRhZ2U7XG5cbiAgICAgIHRoaXMuZ2FtZUFyZWEuc3R5bGUud2lkdGggPSBuZXdXaWR0aFN0eWxlO1xuICAgICAgdGhpcy5nYW1lQXJlYS5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHRTdHlsZTtcblxuICAgICAgdmFyIGNhbnZhc1BlcmNlbnRhZ2VTdHlsZSA9IE1hdGguZmxvb3IodGhpcy5jYW52YXNQZXJjZW50YWdlICogMTAwKSArICclJztcbiAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzUGVyY2VudGFnZVN0eWxlO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2FudmFzUGVyY2VudGFnZVN0eWxlO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB0aGlzLmNhbnZhcy5zdHlsZS5tYXJnaW5MZWZ0ID0gJ2F1dG8nO1xuICAgICAgdGhpcy5jYW52YXMuc3R5bGUubWFyZ2luUmlnaHQgPSAnYXV0byc7XG4gICAgfVxuICB9XG5cbiAgcHVzaENsZWFudXAoYSwgYil7XG4gICAgLy8gY29uc29sZS5sb2coJ3B1c2hDbGVhbnVwJywgYSwgYik7XG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IElucHV0TWFuYWdlcjtcbiIsIi8qKlxuICogQSBHYW1lQWN0aW9uIHRoYXQgaGFuZGxlcyBUb3VjaCBldmVudHNcbiAqIEBuYW1lIFRvdWNoQWN0aW9uXG4gKiBAY29uc3RydWN0b3IgVG91Y2hBY3Rpb25cbiAqIEBleHRlbmRzIHtHYW1lQWN0aW9ufVxuICovXG5cbmNvbnN0IEdhbWVBY3Rpb24gPSByZXF1aXJlKCcuL0dhbWVBY3Rpb24nKTtcblxuY2xhc3MgVG91Y2hBY3Rpb24gZXh0ZW5kcyBHYW1lQWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaHN0YXJ0IGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcG9zaXRpb25zIHdoZXJlIHRvdWNoZW5kIGhhcHBlbmVkXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZW5kUG9zaXRpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBvc2l0aW9ucyB3aGVyZSB0b3VjaG1vdmUgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2V0aGVyIGFueSBvZiB0aGUgdG91Y2ggYWN0aW9ucyBvcmlnaW5hdGVkIGluc2lkZSB0aGUgY2FudmFzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIFRvdWNoQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgdG91Y2ggd2FzIGluaXRpYXRlZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBUb3VjaEFjdGlvbiNcbiAgICogQHBhcmFtIHtBcnJheX0gc3RhcnRQb3NpdGlvbnMgQXJyYXkgb2YgcG9pbnRzIHdoZXJlIHRvdWNoIHdhcyBwcmVzc2VkXG4gICAqL1xuICBwcmVzcyhzdGFydFBvc2l0aW9ucyl7XG4gICAgdGhpcy5zdGFydFBvc2l0aW9ucyA9IHN0YXJ0UG9zaXRpb25zO1xuICAgIHRoaXMucG9zaXRpb25zID0gc3RhcnRQb3NpdGlvbnM7XG4gICAgc3VwZXIucHJlc3Moc3RhcnRQb3NpdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgdG91Y2ggd2FzIHJlbGVhc2VkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgVG91Y2hBY3Rpb24jXG4gICAqIEBwYXJhbSB7QXJyYXl9IGVuZFBvc2l0aW9ucyBBcnJheSBvZiBwb2ludHMgd2hlcmUgdG91Y2ggd2FzIHJlbGVhc2VkXG4gICAqL1xuICByZWxlYXNlKGVuZFBvc2l0aW9ucyl7XG4gICAgdGhpcy5lbmRQb3NpdGlvbnMgPSBlbmRQb3NpdGlvbnM7XG4gICAgc3VwZXIucmVsZWFzZShlbmRQb3NpdGlvbnMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hBY3Rpb247XG4iLCIvKipcbiAqIEEgR2FtZUFjdGlvbiB0aGF0IGhhbmRsZXMgTW91c2UgZXZlbnRzXG4gKiBAbmFtZSBNb3VzZUFjdGlvblxuICogQGNvbnN0cnVjdG9yIE1vdXNlQWN0aW9uXG4gKiBAZXh0ZW5kcyB7R2FtZUFjdGlvbn1cbiAqL1xuXG5jb25zdCBHYW1lQWN0aW9uID0gcmVxdWlyZSgnLi9HYW1lQWN0aW9uJyk7XG5cbmNsYXNzIE1vdXNlQWN0aW9uIGV4dGVuZHMgR2FtZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZWRvd24gaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zdGFydFBvc2l0aW9uID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIHdoZXJlIG1vdXNldXAgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbmRQb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiB3aGVyZSBtb3VzZW1vdmUgaGFwcGVuZWRcbiAgICAgKiBAdHlwZSB7UG9pbnR9XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXZXRoZXIgdGhlIG1vdXNlIGFjdGlvbiBvcmlnaW5hdGVkIGluc2lkZSB0aGUgY2FudmFzXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIE1vdXNlQWN0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnNpZGVDYW52YXMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25hbHMgdGhhdCB0aGUgbW91c2Ugd2FzIHByZXNzZWQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgR2FtZUFjdGlvbiNcbiAgICovXG4gIHByZXNzKHN0YXJ0UG9zaXRpb24pe1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgdGhpcy5wb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb247XG4gICAgc3VwZXIucHJlc3Moc3RhcnRQb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyB0aGF0IHRoZSBtb3VzZSB3YXMgcmVsZWFzZWRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNb3VzZUFjdGlvbiNcbiAgICogQHBhcmFtICB7UG9pbnR9IGVuZFBvc2l0aW9uIFRoZSBwb2ludCB3aGVyZSBtb3VzZSB3YXMgcmVsZWFzZWRcbiAgICovXG4gIHJlbGVhc2UoZW5kUG9zaXRpb24pe1xuICAgIHRoaXMuZW5kUG9zaXRpb24gPSBlbmRQb3NpdGlvbiB8fCB0aGlzLnBvc2l0aW9uO1xuICAgIHN1cGVyLnJlbGVhc2UoZW5kUG9zaXRpb24pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW91c2VBY3Rpb247XG4iLCJmdW5jdGlvbiBpbnNpZGVDYW52YXMocHQsIGNhbnZhcyl7XG4gIGlmKChwdC54IDwgMCkgfHwgKHB0LnggPiAgY2FudmFzLndpZHRoKSB8fCAocHQueSA8IDApIHx8IChwdC55ID4gY2FudmFzLmhlaWdodCkpe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2lkZUNhbnZhcztcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBDQU5DRUw6IDMsXG4gIEhFTFA6IDYsXG4gIEJBQ0tfU1BBQ0U6IDgsXG4gIFRBQjogOSxcbiAgQ0xFQVI6IDEyLFxuICBSRVRVUk46IDEzLFxuICBFTlRFUjogMTQsXG4gIFNISUZUOiAxNixcbiAgQ09OVFJPTDogMTcsXG4gIEFMVDogMTgsXG4gIFBBVVNFOiAxOSxcbiAgQ0FQU19MT0NLOiAyMCxcbiAgRVNDQVBFOiAyNyxcbiAgU1BBQ0U6IDMyLFxuICBQQUdFX1VQOiAzMyxcbiAgUEFHRV9ET1dOOiAzNCxcbiAgRU5EOiAzNSxcbiAgSE9NRTogMzYsXG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIFJJR0hUOiAzOSxcbiAgRE9XTjogNDAsXG4gIFBSSU5UU0NSRUVOOiA0NCxcbiAgSU5TRVJUOiA0NSxcbiAgREVMRVRFOiA0NixcbiAgTlVNMDogNDgsXG4gIE5VTTE6IDQ5LFxuICBOVU0yOiA1MCxcbiAgTlVNMzogNTEsXG4gIE5VTTQ6IDUyLFxuICBOVU01OiA1MyxcbiAgTlVNNjogNTQsXG4gIE5VTTc6IDU1LFxuICBOVU04OiA1NixcbiAgTlVNOTogNTcsXG4gIFNFTUlDT0xPTjogNTksXG4gIEVRVUFMUzogNjEsXG4gIEE6IDY1LFxuICBCOiA2NixcbiAgQzogNjcsXG4gIEQ6IDY4LFxuICBFOiA2OSxcbiAgRjogNzAsXG4gIEc6IDcxLFxuICBIOiA3MixcbiAgSTogNzMsXG4gIEo6IDc0LFxuICBLOiA3NSxcbiAgTDogNzYsXG4gIE06IDc3LFxuICBOOiA3OCxcbiAgTzogNzksXG4gIFA6IDgwLFxuICBROiA4MSxcbiAgUjogODIsXG4gIFM6IDgzLFxuICBUOiA4NCxcbiAgVTogODUsXG4gIFY6IDg2LFxuICBXOiA4NyxcbiAgWDogODgsXG4gIFk6IDg5LFxuICBaOiA5MCxcbiAgQ09OVEVYVF9NRU5VOiA5MyxcbiAgTlVNUEFEMDogOTYsXG4gIE5VTVBBRDE6IDk3LFxuICBOVU1QQUQyOiA5OCxcbiAgTlVNUEFEMzogOTksXG4gIE5VTVBBRDQ6IDEwMCxcbiAgTlVNUEFENTogMTAxLFxuICBOVU1QQUQ2OiAxMDIsXG4gIE5VTVBBRDc6IDEwMyxcbiAgTlVNUEFEODogMTA0LFxuICBOVU1QQUQ5OiAxMDUsXG4gIE1VTFRJUExZOiAxMDYsXG4gIEFERDogMTA3LFxuICBTRVBBUkFUT1I6IDEwOCxcbiAgU1VCVFJBQ1Q6IDEwOSxcbiAgREVDSU1BTDogMTEwLFxuICBESVZJREU6IDExMSxcbiAgRjE6IDExMixcbiAgRjI6IDExMyxcbiAgRjM6IDExNCxcbiAgRjQ6IDExNSxcbiAgRjU6IDExNixcbiAgRjY6IDExNyxcbiAgRjc6IDExOCxcbiAgRjg6IDExOSxcbiAgRjk6IDEyMCxcbiAgRjEwOiAxMjEsXG4gIEYxMTogMTIyLFxuICBGMTI6IDEyMyxcbiAgRjEzOiAxMjQsXG4gIEYxNDogMTI1LFxuICBGMTU6IDEyNixcbiAgRjE2OiAxMjcsXG4gIEYxNzogMTI4LFxuICBGMTg6IDEyOSxcbiAgRjE5OiAxMzAsXG4gIEYyMDogMTMxLFxuICBGMjE6IDEzMixcbiAgRjIyOiAxMzMsXG4gIEYyMzogMTM0LFxuICBGMjQ6IDEzNSxcbiAgTlVNX0xPQ0s6IDE0NCxcbiAgU0NST0xMX0xPQ0s6IDE0NSxcbiAgVVBfRFBBRDogMTc1LFxuICBET1dOX0RQQUQ6IDE3NixcbiAgTEVGVF9EUEFEOiAxNzcsXG4gIFJJR0hUX0RQQUQ6IDE3OCxcbiAgQ09NTUE6IDE4OCxcbiAgUEVSSU9EOiAxOTAsXG4gIFNMQVNIOiAxOTEsXG4gIEJBQ0tfUVVPVEU6IDE5MixcbiAgT1BFTl9CUkFDS0VUOiAyMTksXG4gIEJBQ0tfU0xBU0g6IDIyMCxcbiAgQ0xPU0VfQlJBQ0tFVDogMjIxLFxuICBRVU9URTogMjIyLFxuICBNRVRBOiAyMjRcbn07XG4iLCIvKipcbiAqIFRoZSBSZXNvdXJjZU1hbmFnZXIgaGFuZGxlcyBsb2FkaW5nIGltYWdlcyBhbmQgc291bmRzIGZvciB1c2UgaW4gZ2FtZXMuXG4gKiBAbmFtZSBSZXNvdXJjZU1hbmFnZXJcbiAqIEBjb25zdHJ1Y3RvciBSZXNvdXJjZU1hbmFnZXJcbiAqL1xuXG4gJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBoYXMgPSByZXF1aXJlKCcuL2hhcycpO1xuY29uc3QgU291bmQgPSByZXF1aXJlKCcuL3NvdW5kcy9Tb3VuZCcpO1xuY29uc3QgV2ViQXVkaW8gPSByZXF1aXJlKCcuL3NvdW5kcy9XZWJBdWRpbycpO1xuXG52YXIgcmVzb3VyY2VMaXN0ID0ge307XG5cbi8vVE9ETzogbW92ZSB0aGVzZSB0byBpdHMgb3duIG1vZHVsZSBmb3IgdW5pdCB0ZXN0aW5nP1xuZnVuY3Rpb24gbm9ybWFsaXplUGF0aChiYXNlRGlyLCBwYXRoKXtcbiAgdmFyIGpvaW5lZFBhdGggPSBwYXRoO1xuICBpZihiYXNlRGlyKXtcbiAgICBqb2luZWRQYXRoID0gW2Jhc2VEaXIsIHBhdGhdLmpvaW4oJy8nKTtcbiAgfVxuICByZXR1cm4gam9pbmVkUGF0aC5yZXBsYWNlKC9cXC97Mix9L2csICcvJyk7XG59XG5cbmZ1bmN0aW9uIGZsaXBYKGltYWdlKXtcbiAgdmFyIG9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBvZmZzY3JlZW5DYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgdmFyIGN0eCA9IG9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGN0eC50cmFuc2xhdGUob2Zmc2NyZWVuQ2FudmFzLndpZHRoLCAwKTtcbiAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gIHJldHVybiBvZmZzY3JlZW5DYW52YXMudG9EYXRhVVJMKCk7XG59XG5cbmZ1bmN0aW9uIGZsaXBZKGltYWdlKXtcbiAgdmFyIG9mZnNjcmVlbkNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBvZmZzY3JlZW5DYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICBvZmZzY3JlZW5DYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgdmFyIGN0eCA9IG9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGN0eC50cmFuc2xhdGUoMCwgb2Zmc2NyZWVuQ2FudmFzLmhlaWdodCk7XG4gIGN0eC5zY2FsZSgxLCAtMSk7XG4gIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICByZXR1cm4gb2Zmc2NyZWVuQ2FudmFzLnRvRGF0YVVSTCgpO1xufVxuXG5jbGFzcyBJbWFnZVdyYXBwZXIge1xuICBjb25zdHJ1Y3RvcihmaWxlbmFtZSl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubmFtZSA9IGZpbGVuYW1lO1xuICAgIHNlbGYuY29tcGxldGUgPSBmYWxzZTtcbiAgICBzZWxmLmltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHNlbGYuaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuY29tcGxldGUgPSB0cnVlO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuXG4gIGxvYWQoKXtcbiAgICB0aGlzLmltZy5zcmMgPSB0aGlzLm5hbWU7XG4gIH1cbn1cblxuXG5jbGFzcyBSZXNvdXJjZU1hbmFnZXIge1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFsbCB0aGUgcmVzb3VyY2VzIGhhdmUgYmVlbiBsb2FkZWRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGRpcmVjdG9yeSB0byBsb2FkIGltYWdlcyBmcm9tXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgUmVzb3VyY2VNYW5hZ2VyI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWFnZURpciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBkaXJlY3RvcnkgdG8gbG9hZCBzb3VuZHMgZnJvbVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuc291bmREaXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgYWxsIHRoZSByZXNvdXJjZXMgYnkgdGhlaXIgVVJMc1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMucmVzb3VyY2VMaXN0ID0gcmVzb3VyY2VMaXN0O1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIC8vIFRPRE8gbm90IHN1cmUgYSBiZXR0ZXIgd2F5XG4gICAgaWYoIXRoaXMuU291bmQpe1xuICAgICAgaWYoaGFzKCdXZWJBdWRpbycpKXtcbiAgICAgICAgdGhpcy5Tb3VuZCA9IFdlYkF1ZGlvO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgdGhpcy5Tb3VuZCA9IFNvdW5kO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhbiBpbWFnZSAob3IgYSBjb2xsZWN0aW9uIG9mIGltYWdlcyksIGFuZCB0cmFja3MgaWYgaXQgaGFzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBmaWxlcyBGaWxlbmFtZSBvZiB0aGUgaW1hZ2UgcmVsYXRpdmUgdGhlIEdhbWUncyBIVE1MIHBhZ2UuXG4gICAqIEByZXR1cm5zIHtJbWFnZXxBcnJheX0gUmV0dXJuIHR5cGUgYmFzZWQgb24gYXJndW1lbnQ6IEltYWdlIGlmIFN0cmluZyBvciBBcnJheSBvZiBJbWFnZXMgaWYgQXJyYXlcbiAgICovXG4gIGxvYWRJbWFnZShmaWxlcyl7XG4gICAgbGV0IHNpbmdsZUZpbGUgPSBmYWxzZTtcbiAgICBpZighQXJyYXkuaXNBcnJheShmaWxlcykpIHtcbiAgICAgIHNpbmdsZUZpbGUgPSB0cnVlO1xuICAgICAgZmlsZXMgPSBbZmlsZXNdO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVMaXN0ID0gZmlsZXMubWFwKChmaWxlKSA9PiB7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IG5vcm1hbGl6ZVBhdGgodGhpcy5pbWFnZURpciwgZmlsZSk7XG4gICAgICAvL2lmIHdlIGFscmVhZHkgaGF2ZSB0aGUgaW1hZ2UsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZih0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV0pe1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdLmltZztcbiAgICAgIH1cbiAgICAgIHRoaXMuYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBuZXcgSW1hZ2VXcmFwcGVyKGZpbGVuYW1lKTtcbiAgICAgIC8vIE5lZWQgdG8gZXhwbGljaXRseSBjYWxsIGxvYWQgYmVjYXVzZSBmbGlwSW1hZ2UgYWxzbyB1c2VzIHRoaXMgb2JqZWN0XG4gICAgICAvLyB3aGljaCBpcyBwcm9iYWJseSBhIGJhZCBpZGVhIGFuZCBzaG91bGQgY2hhbmdlIGluIGZ1dHVyZVxuICAgICAgLy8gVE9ETzogZGlmZmVyZW50IG9iamVjdHMgZm9yIGZsaXBwZWQgaW1hZ2UgYW5kIHJlZ3VsYXIgaW1hZ2VcbiAgICAgIHdyYXBwZXIubG9hZCgpO1xuICAgICAgdGhpcy5yZXNvdXJjZUxpc3RbZmlsZW5hbWVdID0gd3JhcHBlcjtcbiAgICAgIHJldHVybiB3cmFwcGVyLmltZztcbiAgICB9KTtcblxuICAgIHJldHVybiBzaW5nbGVGaWxlID8gZmlsZUxpc3RbMF0gOiBmaWxlTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhIHNvdW5kIGZpbGUgKG9yIGEgY29sbGVjdGlvbiBvZiBzb3VuZCBmaWxlcyksIGFuZCB0cmFja3MgaWYgaXQgaGFzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBmaWxlbmFtZSBGaWxlbmFtZSBvZiB0aGUgc291bmQgcmVsYXRpdmUgdGhlIEdhbWUncyBIVE1MIHBhZ2UuXG4gICAqIEByZXR1cm5zIHtTb3VuZHxBcnJheX0gUmV0dXJuIHR5cGUgYmFzZWQgb24gYXJndW1lbnQ6IFNvdW5kIE9iamVjdCBpZiBTdHJpbmcgb3IgQXJyYXkgb2YgU291bmQgT2JqZWN0cyBpZiBBcnJheVxuICAgKi9cbiAgbG9hZFNvdW5kKGZpbGVzKXtcbiAgICBsZXQgc2luZ2xlRmlsZSA9IGZhbHNlO1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGZpbGVzKSkge1xuICAgICAgc2luZ2xlRmlsZSA9IHRydWU7XG4gICAgICBmaWxlcyA9IFtmaWxlc107XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZUxpc3QgPSBmaWxlcy5tYXAoKGZpbGUpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gbm9ybWFsaXplUGF0aCh0aGlzLnNvdW5kRGlyLCBmaWxlKTtcbiAgICAgIC8vaWYgd2UgYWxyZWFkeSBoYXZlIHRoZSBzb3VuZCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmKHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSl7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV07XG4gICAgICB9XG4gICAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgICBjb25zdCBzb3VuZCA9IG5ldyB0aGlzLlNvdW5kKGZpbGVuYW1lKTtcbiAgICAgIHRoaXMucmVzb3VyY2VMaXN0W2ZpbGVuYW1lXSA9IHNvdW5kO1xuICAgICAgcmV0dXJuIHNvdW5kO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNpbmdsZUZpbGUgPyBmaWxlTGlzdFswXSA6IGZpbGVMaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZsaXBzIGFuIGltYWdlIHVzaW5nIHRoZSBsb2dpYyBpbiBhIGZsaXAgZnVuY3Rpb24gcGFzc2VkIGFuZCBhdHRhY2hlcyB0byByZXNvdXJjZSBtYW5hZ2VyIHdpdGggbmFtZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbmFtZSBOYW1lIGZvciBjYWNoaW5nIGZsaXBwZWQgaW1hZ2VcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltYWdlIEltYWdlIHRvIGJlIGZsaXBwZWRcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGZsaXBGbiBGdW5jdGlvbiBjb250YWluaW5nIGxvZ2ljIHRvIGZsaXAgaW1hZ2VcbiAgICogQHJldHVybiB7SW1hZ2V9IEZsaXBwZWQgaW1hZ2VcbiAgICovXG4gIGZsaXBJbWFnZShuYW1lLCBpbWFnZSwgZmxpcEZuKXtcbiAgICB0aGlzLmFsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IG5ldyBJbWFnZVdyYXBwZXIobmFtZSk7XG4gICAgdGhpcy5yZXNvdXJjZUxpc3RbbmFtZV0gPSB3cmFwcGVyO1xuICAgIGNvbnN0IGltZzIgPSBuZXcgSW1hZ2UoKTtcbiAgICBmdW5jdGlvbiBkb0ZsaXAoKSB7XG4gICAgICB3cmFwcGVyLmltZy5zcmMgPSBmbGlwRm4oaW1nMik7XG4gICAgICBpbWcyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb0ZsaXApO1xuICAgIH1cbiAgICBpbWcyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb0ZsaXApO1xuICAgIGltZzIuc3JjID0gaW1hZ2Uuc3JjO1xuXG4gICAgcmV0dXJuIHdyYXBwZXIuaW1nO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsaXAgaW1hZ2UgYWxvbmcgeC1heGlzIHVzaW5nIGRlZmF1bHQgZmxpcCBsb2dpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcn0gbmFtZSBOYW1lIGZvciBjYWNoaW5nIGZsaXBwZWQgaW1hZ2VcbiAgICogQHBhcmFtICB7SW1hZ2V9IGltYWdlIEltYWdlIHRvIGJlIGZsaXBwZWRcbiAgICogQHJldHVybiB7SW1hZ2V9IEZsaXBwZWQgaW1hZ2VcbiAgICovXG4gIGZsaXBJbWFnZVgobmFtZSwgaW1hZ2Upe1xuICAgIHJldHVybiB0aGlzLmZsaXBJbWFnZShuYW1lLCBpbWFnZSwgZmxpcFgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZsaXAgaW1hZ2UgYWxvbmcgdGhlIHktYXhpcyB1c2luZyBkZWZhdWx0IGZsaXAgbG9naWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBSZXNvdXJjZU1hbmFnZXIjXG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IG5hbWUgTmFtZSBmb3IgY2FjaGluZyBmbGlwcGVkIGltYWdlXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWFnZSBJbWFnZSB0byBiZSBmbGlwcGVkXG4gICAqIEByZXR1cm4ge0ltYWdlfSBGbGlwcGVkIGltYWdlXG4gICAqL1xuICBmbGlwSW1hZ2VZKG5hbWUsIGltYWdlKXtcbiAgICByZXR1cm4gdGhpcy5mbGlwSW1hZ2UobmFtZSwgaW1hZ2UsIGZsaXBZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgcmVzb3VyY2VzIGhhdmUgZmluaXNoZWQgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICovXG4gIHJlc291cmNlc1JlYWR5KCl7XG4gICAgaWYodGhpcy5hbGxMb2FkZWQpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcih2YXIgZmlsZW5hbWUgaW4gdGhpcy5yZXNvdXJjZUxpc3Qpe1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV07XG4gICAgICAgIGlmKCFyZXNvdXJjZS5jb21wbGV0ZSl7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmFsbExvYWRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcGVyY2VudCBvZiByZXNvdXJjZXMgbG9hZGVkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlc291cmNlTWFuYWdlciNcbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgcGVyY2VudCBvZiByZXNvdXJjZXMgbG9hZGVkXG4gICAqL1xuICBnZXRQZXJjZW50Q29tcGxldGUoKXtcbiAgICB2YXIgbnVtQ29tcGxldGUgPSAwLjA7XG4gICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgZm9yKHZhciBmaWxlbmFtZSBpbiB0aGlzLnJlc291cmNlTGlzdCl7XG4gICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLnJlc291cmNlTGlzdFtmaWxlbmFtZV07XG4gICAgICBsZW5ndGgrKztcbiAgICAgIGlmKHJlc291cmNlLmNvbXBsZXRlKXtcbiAgICAgICAgbnVtQ29tcGxldGUgPSBudW1Db21wbGV0ZSArIDEuMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYobGVuZ3RoID09PSAwKXtcbiAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgobnVtQ29tcGxldGUgLyBsZW5ndGgpICogMTAwLjApO1xuICAgIH1cbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzb3VyY2VNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBoYWNreSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgaGFzXG5cbmNvbnN0IGdsb2JhbEF1ZGlvQ29udGV4dCA9IHJlcXVpcmUoJy4vc2hpbXMvQXVkaW9Db250ZXh0Jyk7XG5cblxuZnVuY3Rpb24gaGFzKGNoZWNrKXtcblxuICBpZihjaGVjayA9PSAnc2hpdHR5U291bmQnKXtcbiAgICByZXR1cm4gISEoKGhhcygnYW5kcm9pZCcpIHx8IGhhcygnaW9zJykpICYmIGhhcygnd2Via2l0JykpO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ2FuZHJvaWQnKXtcbiAgICByZXR1cm4gKHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zcGxpdChcIkFuZHJvaWQgXCIpWzFdKSB8fCB1bmRlZmluZWQpO1xuICB9XG4gIGVsc2UgaWYoY2hlY2sgPT0gJ2lvcycpe1xuICAgIC8vVE9ETyBuZWVkIHNvbWV0aGluZyBmb3IgdGhpc1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBlbHNlIGlmKGNoZWNrID09ICd3ZWJraXQnKXtcbiAgICByZXR1cm4gKHBhcnNlRmxvYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5zcGxpdChcIldlYktpdC9cIilbMV0pIHx8IHVuZGVmaW5lZCk7XG4gIH1cbiAgZWxzZSBpZihjaGVjayA9PSAnV2ViQXVkaW8nKXtcbiAgICByZXR1cm4gISFnbG9iYWwuQXVkaW9Db250ZXh0O1xuICB9XG4gIGVsc2UgaWYgKGNoZWNrID09PSAndG91Y2gnKSB7XG4gICAgcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXM7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcbiAqIEFuIEF1ZGlvIG9iamVjdCB0aGF0IGltcGxlbWVudHMgYSBnZW5lcmljIEFQSVxuICogQG5hbWUgU291bmRcbiAqIEBjb25zdHJ1Y3RvciBTb3VuZFxuICovXG5cblxuLyoqXG4gKiBNYXAgb2YgYXVkaW8gdHlwZXMgYW5kIGNvZGVjcyB1c2VkIGluIGZhbGxiYWNrIGxvYWRpbmcgb2Ygc291bmRzIDxicj5cbiAqIFJlZmVyZW5jZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9IVE1ML1N1cHBvcnRlZF9tZWRpYV9mb3JtYXRzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlck9mIFNvdW5kI1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby9tcGVnJyAnLm1wMydcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSAnYXVkaW8vd2VibScgJy53ZWJtJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby9vZ2cnICcub2dnJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby93YXYnICcud2F2J1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby9hYWMnICcuYWFjJ1xuICogQHByb3BlcnR5IHtTdHJpbmd9ICdhdWRpby94LW00YScgJy5tNGEnXG4gKiBAZXhhbXBsZVxuICogLy8gVG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgZm9ybWF0czpcbiAqIC8vIERvIHRoaXMgYmVmb3JlIGxvYWRpbmcgYW55IHNvdW5kc1xuICogcmVxdWlyZShbXG4gKiAgICdmcm96ZW4vc291bmRzL1NvdW5kJ1xuICogXSwgZnVuY3Rpb24oU291bmQpe1xuICogICBTb3VuZC5wcm90b3R5cGUuZm9ybWF0cyA9IHtcbiAqICAgICAnYXVkaW8vbXBlZyc6ICcubXAzJyxcbiAqICAgICAnYXVkaW8vd2VibSc6ICcud2VibSdcbiAqICAgfTtcbiAqIH0pO1xuICovXG5jb25zdCBmb3JtYXRzID0ge1xuICAnYXVkaW8vbXBlZyc6ICcubXAzJyxcbiAgJ2F1ZGlvL3dlYm0nOiAnLndlYm0nLFxuICAnYXVkaW8vb2dnJzogJy5vZ2cnLFxuICAnYXVkaW8vd2F2JzogJy53YXYnLFxuICAnYXVkaW8vYWFjJzogJy5hYWMnLFxuICAnYXVkaW8veC1tNGEnOiAnLm00YSdcbn07XG5cblxuXG5jbGFzcyBTb3VuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgQXVkaW8gb2JqZWN0IC0gdHlwaWNhbGx5IHRoZSBmaWxlbmFtZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNpZ25hbHMgaWYgdGhlIEF1ZGlvIG9iamVjdCBoYXMgY29tcGxldGVkIGxvYWRpbmdcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBleHRlbnNpb25zIHRoZSBicm93c2VyIFwicHJvYmFibHlcIiBjYW4gcGxheVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnByb2JhYmx5ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBleHRlbnNpb25zIHRoZSBicm93c2VyIFwibWF5YmVcIiBjYW4gcGxheVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm1heWJlID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5mb3JtYXRzID0gZm9ybWF0cztcblxuICAgIGlmKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyl7XG4gICAgICB0aGlzLmxvYWQob3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIHNvdW5kIGJ5IGZpbGVuYW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIG9mIHRoZSBmaWxlIHRvIGxvYWRcbiAgICovXG4gIGxvYWQoZmlsZW5hbWUpe1xuICAgIHRoaXMubmFtZSA9IGZpbGVuYW1lO1xuICAgIHRoaXMuY29tcGxldGUgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvb3AgdGhlIHNvdW5kIGF0IGEgY2VydGFpbiB2b2x1bWVcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgVmFsdWUgb2Ygdm9sdW1lIC0gYmV0d2VlbiAwIGFuZCAxXG4gICAqL1xuICBsb29wKHZvbHVtZSl7fVxuXG4gIC8qKlxuICAgKiBQbGF5IHRoZSBzb3VuZCBhdCBhIGNlcnRhaW4gdm9sdW1lIGFuZCBzdGFydCB0aW1lXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU291bmQjXG4gICAqIEBwYXJhbSAge051bWJlcn0gdm9sdW1lICAgIFZhbHVlIG9mIHZvbHVtZSAtIGJldHdlZW4gMCBhbmQgMVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHN0YXJ0VGltZSBWYWx1ZSBvZiBtaWxsaXNlY29uZHMgaW50byB0aGUgdHJhY2sgdG8gc3RhcnRcbiAgICovXG4gIHBsYXkodm9sdW1lLCBzdGFydFRpbWUpe31cblxuICAvKipcbiAgICogTWV0aG9kIHVzZWQgdG8gY29uc3RydWN0IEF1ZGlvIG9iamVjdHMgaW50ZXJuYWxseVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSBWYWx1ZSBvZiB2b2x1bWUgLSBiZXR3ZWVuIDAgYW5kIDFcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gbG9vcCBXaGV0aGVyIG9yIG5vdCB0byBsb29wIGF1ZGlvXG4gICAqIEByZXR1cm4ge0F1ZGlvfSBBdWRpbyBvYmplY3QgdGhhdCB3YXMgY29uc3RydWN0ZWRcbiAgICovXG4gIF9pbml0QXVkaW8odm9sdW1lLCBsb29wKXt9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB1c2VkIHRvIGdlbmVyYXRlIGEgY2FjaGUgb2YgZXh0ZW5zaW9ucyAocHJvYmFibHkvbWF5YmUgYXJyYXlzKSB0byB0cnkgbG9hZGluZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNvdW5kI1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IEZpcnN0IGV4dGVuc2lvbiB0byB0cnkgbG9hZGluZ1xuICAgKi9cbiAgX2Nob29zZUZvcm1hdCgpe1xuICAgIGlmKCF0aGlzLnByb2JhYmx5Lmxlbmd0aCAmJiAhdGhpcy5tYXliZS5sZW5ndGgpe1xuICAgICAgLy8gRmlndXJlIG91dCB0aGUgYmVzdCBleHRlbnNpb24gaWYgd2UgaGF2ZSBubyBjYWNoZVxuICAgICAgdmFyIGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICB2YXIgY29kZWM7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgZm9yKGNvZGVjIGluIHRoaXMuZm9ybWF0cyl7XG4gICAgICAgIHJlc3VsdCA9IGF1ZGlvLmNhblBsYXlUeXBlKGNvZGVjKTtcbiAgICAgICAgaWYocmVzdWx0ID09PSAncHJvYmFibHknKXtcbiAgICAgICAgICB0aGlzLnByb2JhYmx5LnB1c2godGhpcy5mb3JtYXRzW2NvZGVjXSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZihyZXN1bHQgPT09ICdtYXliZScpe1xuICAgICAgICAgIHRoaXMubWF5YmUucHVzaCh0aGlzLmZvcm1hdHNbY29kZWNdKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMucHJvYmFibHkubGVuZ3RoKXtcbiAgICAgIHJldHVybiB0aGlzLnByb2JhYmx5WzBdO1xuICAgIH1cblxuICAgIGlmKHRoaXMubWF5YmUubGVuZ3RoKXtcbiAgICAgIHJldHVybiB0aGlzLm1heWJlWzBdO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgdXNlZCB0byByZW1vdmUgYSBleHRlbnNpb24gdGhhdCBkaWRuJ3Qgd29yayBhbmQgcmV0dXJuIHRoZSBuZXh0IHZpYWJsZSBleHRlbnNpb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTb3VuZCNcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7U3RyaW5nfSBOZXh0IGV4dGVuc2lvbiB0byB0cnkgbG9hZGluZ1xuICAgKi9cbiAgX25leHRGb3JtYXQoKXtcbiAgICBpZih0aGlzLnByb2JhYmx5Lmxlbmd0aCA+IDEpe1xuICAgICAgdGhpcy5wcm9iYWJseS5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvYmFibHlbMF07XG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9iYWJseS5sZW5ndGggPT09IDEpe1xuICAgICAgdGhpcy5wcm9iYWJseS5sZW5ndGggPSAwO1xuICAgICAgaWYodGhpcy5tYXliZS5sZW5ndGgpe1xuICAgICAgICByZXR1cm4gdGhpcy5tYXliZVswXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLm1heWJlLmxlbmd0aCA+IDEpe1xuICAgICAgdGhpcy5tYXliZS5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRoaXMubWF5YmVbMF07XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXliZS5sZW5ndGggPT09IDEpe1xuICAgICAgdGhpcy5tYXliZS5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU291bmQ7XG4iLCIvKipcbiAqIEFuIEF1ZGlvIG9iamVjdCB0aGF0IGltcGxlbWVudHMgV2ViQXVkaW8gaW50byBhIGdlbmVyaWMgQVBJXG4gKiBAbmFtZSBXZWJBdWRpb1xuICogQGNvbnN0cnVjdG9yIFdlYkF1ZGlvXG4gKiBAZXh0ZW5kcyBTb3VuZFxuICovXG5cbmNvbnN0IFNvdW5kID0gcmVxdWlyZSgnLi9Tb3VuZCcpO1xuY29uc3QgcmVtb3ZlRXh0ZW5zaW9uID0gcmVxdWlyZSgnLi4vdXRpbHMvcmVtb3ZlRXh0ZW5zaW9uJyk7XG5jb25zdCBoYXMgPSByZXF1aXJlKCcuLi9oYXMnKTtcblxudmFyIGF1ZGlvQ29udGV4dCA9IG51bGw7XG5cblxuaWYoaGFzKCdXZWJBdWRpbycpKXtcbiAgYXVkaW9Db250ZXh0ID0gbmV3IHdpbmRvdy5BdWRpb0NvbnRleHQoKTtcbn1cblxuaWYoaGFzKCdzaGl0dHlTb3VuZCcpKXtcbiAgLy8gU2ltaWxhciBzdHJhdGVneSB0byBodHRwczovL2dpdGh1Yi5jb20vQ3JlYXRlSlMvU291bmRKU1xuICBmdW5jdGlvbiBoYW5kbGVTaGl0dHkoKSB7XG4gICAgY29uc3Qgc291cmNlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIHNvdXJjZS5idWZmZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcbiAgICBzb3VyY2UuY29ubmVjdChhdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlU2hpdHR5KTtcbiAgfVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlU2hpdHR5KTtcbn1cblxuY2xhc3MgV2ViQXVkaW8gZXh0ZW5kcyBTb3VuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgV2ViQXVkaW8gQXVkaW9Db250ZXh0IC0gdXNlZCB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gYSBzb3VuZFxuICAgICAqIEB0eXBlIHtBdWRpb0NvbnRleHR9XG4gICAgICogQG1lbWJlck9mIFdlYkF1ZGlvI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hdWRpb0NvbnRleHQgPSBhdWRpb0NvbnRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc291bmQgYnVmZmVyXG4gICAgICogQHR5cGUge0J1ZmZlcn1cbiAgICAgKiBAbWVtYmVyT2YgV2ViQXVkaW8jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgbG9hZChmaWxlbmFtZSl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5uYW1lID0gZmlsZW5hbWU7XG5cbiAgICB2YXIgYmFzZW5hbWUgPSByZW1vdmVFeHRlbnNpb24oZmlsZW5hbWUpO1xuICAgIGlmKGJhc2VuYW1lID09PSBmaWxlbmFtZSl7XG4gICAgICBmaWxlbmFtZSA9IGJhc2VuYW1lICsgdGhpcy5fY2hvb3NlRm9ybWF0KCk7XG4gICAgfVxuICAgIC8vIGZpbGVuYW1lID0gcmVxLnRvVXJsKGZpbGVuYW1lKTtcblxuICAgIGZ1bmN0aW9uIGRlY29kZUF1ZGlvRGF0YShlKXtcbiAgICAgIC8vIERlY29kZSBhc3luY2hyb25vdXNseVxuICAgICAgc2VsZi5hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGUudGFyZ2V0LnJlc3BvbnNlLFxuICAgICAgICBmdW5jdGlvbihidWZmZXIpe1xuICAgICAgICAgIHNlbGYuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICAgIHNlbGYuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgIHZhciBmb3JtYXQgPSBzZWxmLl9uZXh0Rm9ybWF0KCk7XG4gICAgICAgICAgaWYoZm9ybWF0KXtcbiAgICAgICAgICAgIHNlbGYubG9hZChzZWxmLm5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGJyb3dzZXIgaGFzIEF1ZGlvQ29udGV4dCwgaXQncyBuZXcgZW5vdWdoIGZvciBYTUxIdHRwUmVxdWVzdFxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vcGVuKCdHRVQnLCBmaWxlbmFtZSwgdHJ1ZSk7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBkZWNvZGVBdWRpb0RhdGE7XG4gICAgcmVxdWVzdC5zZW5kKCk7XG4gIH1cblxuICBsb29wKHZvbHVtZSl7XG4gICAgLy8gUmV0dXJuIGVhcmx5IGlmIHdlIGRvbid0IGhhdmUgYSBidWZmZXIgdG8gcHJvdGVjdCBmcm9tIHVubG9hZGVkIHJlc291cmNlc1xuICAgIGlmKCF0aGlzLmJ1ZmZlcil7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF1ZGlvID0gdGhpcy5faW5pdEF1ZGlvKHZvbHVtZSwgdHJ1ZSk7XG4gICAgYXVkaW8uc3RhcnQoMCk7XG4gIH1cblxuICBwbGF5KHZvbHVtZSwgc3RhcnRUaW1lKXtcbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBhIGJ1ZmZlciB0byBwcm90ZWN0IGZyb20gdW5sb2FkZWQgcmVzb3VyY2VzXG4gICAgaWYoIXRoaXMuYnVmZmVyKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdGFydFRpbWUgPSBzdGFydFRpbWUgfHwgMDtcblxuICAgIHZhciBhdWRpbyA9IHRoaXMuX2luaXRBdWRpbyh2b2x1bWUsIGZhbHNlKTtcbiAgICBhdWRpby5zdGFydChzdGFydFRpbWUpO1xuICB9XG5cbiAgX2luaXRBdWRpbyh2b2x1bWUsIGxvb3Ape1xuICAgIGxvb3AgPSB0eXBlb2YgbG9vcCA9PT0gJ2Jvb2xlYW4nID8gbG9vcCA6IGZhbHNlO1xuXG4gICAgdmFyIHNvdXJjZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIHNvdXJjZS5idWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICBzb3VyY2UubG9vcCA9IGxvb3A7XG4gICAgaWYodm9sdW1lKXtcbiAgICAgIHZhciBnYWluTm9kZSA9IHRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSB2b2x1bWU7XG4gICAgICBzb3VyY2UuY29ubmVjdChnYWluTm9kZSk7XG4gICAgICBnYWluTm9kZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlLmNvbm5lY3QodGhpcy5hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViQXVkaW87XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgYSBzZXJpZXMgb2YgZnJhbWVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkIGFzIGFuIGFuaW1hdGlvbi5cbiAqIEBuYW1lIEFuaW1hdGlvblxuICogQGNvbnN0cnVjdG9yIEFuaW1hdGlvblxuICovXG5cbmNvbnN0IEFuaW1GcmFtZSA9IHJlcXVpcmUoJy4vQW5pbUZyYW1lJyk7XG5cblxuY2xhc3MgQW5pbWF0aW9uIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBmcmFtZSBiZWluZyB1c2VkIHRvIHJlbmRlciB0aGlzIEFuaW1hdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY3VyckZyYW1lSW5kZXggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHRoaXMgYW5pbWF0aW9uIGhhcyBiZWVuIHJ1bm5pbmdcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFuaW1UaW1lID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhIGNvbXBsZXRlIGN5Y2xlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy50b3RhbER1cmF0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgaW4gcGl4ZWxzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSA2NDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gNjQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgdG8gcmVuZGVyXG4gICAgICogQHR5cGUge0ltYWdlfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltYWdlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIG9mIHBpeGVscyBpbiB0aGUgeCBzbG90IGZyb20gdGhlIHNvdXJjZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMub2Zmc2V0WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBvZiBwaXhlbHMgaW4gdGhlIHkgc2xvdCBmcm9tIHRoZSBzb3VyY2UgaW1hZ2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLm9mZnNldFkgPSAwO1xuXG4gICAgdGhpcy5mcmFtZXMgPSB1bmRlZmluZWQ7XG5cblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnN0YXJ0KCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBjcmVhdGUgYW4gYW5pbWF0aW9uIGZyb20gYSBzaGVldCBvZiB0aWxlc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUNvdW50IE51bWJlciBvZiBmcmFtZXMgaW4gdGhlIGFuaW1hdGlvblxuICAgKiBAcGFyYW0gIHtOdW1iZXJ8QXJyYXl9IGZyYW1lVGltZXMgVmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYW1vdW50IG9mIHRpbWUgcGVyIGZyYW1lXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWcgSW1hZ2Ugc2hlZXQgdG8gY3JlYXRlIGFuaW1hdGlvbiBmcm9tXG4gICAqIEBwYXJhbSAge051bWJlcn0gdyBXaWR0aCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0gaCBIZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlTbG90IFNsb3Qgb24gWSBheGlzIHRvIHN0YXJ0IGNyZWF0aW5nIHRpbGVzXG4gICAqIEByZXR1cm4ge0FuaW1hdGlvbn0gQW5pbWF0aW9uIGdlbmVyYXRlZCB1c2luZyBwYXJhbWV0ZXJzXG4gICAqL1xuICBjcmVhdGVGcm9tU2hlZXQoZnJhbWVDb3VudCwgZnJhbWVUaW1lcywgaW1nLCB3LCBoLCB5U2xvdCl7XG4gICAgdmFyIGFuaW0gPSBuZXcgQW5pbWF0aW9uKHtcbiAgICAgIGltYWdlOiBpbWcsXG4gICAgICBoZWlnaHQ6IGgsXG4gICAgICB3aWR0aDogd1xuICAgIH0pO1xuXG4gICAgdmFyIGlzRlRBcnJheSA9IEFycmF5LmlzQXJyYXkoZnJhbWVUaW1lcyk7XG5cbiAgICB2YXIgY3VycmVudEZyYW1lVGltZSA9IDE7XG4gICAgaWYoIXlTbG90KXtcbiAgICAgIHlTbG90ID0gMDtcbiAgICB9XG4gICAgZm9yKHZhciBqID0gMDsgaiA8IGZyYW1lQ291bnQ7IGorKyl7XG4gICAgICBpZihpc0ZUQXJyYXkpe1xuICAgICAgICBjdXJyZW50RnJhbWVUaW1lID0gZnJhbWVUaW1lc1tqXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRGcmFtZVRpbWUgPSBmcmFtZVRpbWVzO1xuICAgICAgfVxuICAgICAgYW5pbS5hZGRGcmFtZShjdXJyZW50RnJhbWVUaW1lLCBqLCB5U2xvdCk7XG4gICAgfVxuICAgIHJldHVybiBhbmltO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUgb2YgdGhpcyBhbmltYXRpb24uIFRoZSBsaXN0IG9mIGZyYW1lc1xuICAgKiBhcmUgc2hhcmVkIGJldHdlZW4gdGhlIHR3byBBbmltYXRpb25zLCBidXQgZWFjaCBBbmltYXRpb25cbiAgICogY2FuIGJlIGFuaW1hdGVkIGluZGVwZW5kZW50bHkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKi9cbiAgY2xvbmUoKXtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih7XG4gICAgICBpbWFnZTogdGhpcy5pbWFnZSxcbiAgICAgIGZyYW1lczogdGhpcy5mcmFtZXMsXG4gICAgICB0b3RhbER1cmF0aW9uOiB0aGlzLnRvdGFsRHVyYXRpb25cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGltYWdlIHRvIHRoZSBhbmltYXRpb24gd2l0aCB0aGUgc3BlY2lmaWVkIGR1cmF0aW9uICh0aW1lIHRvIGRpc3BsYXkgdGhlIGltYWdlKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBBbmltYXRpb24jXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBEdXJhdGlvbiBvZiB0aGUgZnJhbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGltYWdlU2xvdFggU2xvdCBvbiB0aGUgWCBheGlzIGZvciB0aGUgZnJhbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGltYWdlU2xvdFkgU2xvdCBvbiB0aGUgWSBheGlzIGZvciB0aGUgZnJhbWVcbiAgICovXG4gIGFkZEZyYW1lKGR1cmF0aW9uLCBpbWFnZVNsb3RYLCBpbWFnZVNsb3RZKXtcbiAgICBpZighdGhpcy5mcmFtZXMpe1xuICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy50b3RhbER1cmF0aW9uICs9IGR1cmF0aW9uO1xuICAgIHRoaXMuZnJhbWVzLnB1c2gobmV3IEFuaW1GcmFtZSh7XG4gICAgICBlbmRUaW1lOiB0aGlzLnRvdGFsRHVyYXRpb24sXG4gICAgICBpbWFnZTogdGhpcy5pbWFnZSxcbiAgICAgIGltZ1Nsb3RYOiBpbWFnZVNsb3RYLFxuICAgICAgaW1nU2xvdFk6IGltYWdlU2xvdFlcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoaXMgYW5pbWF0aW9uIG92ZXIgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICovXG4gIHN0YXJ0KCl7XG4gICAgdGhpcy5hbmltVGltZSA9IDA7XG4gICAgdGhpcy5jdXJyRnJhbWVJbmRleCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGlzIGFuaW1hdGlvbidzIGN1cnJlbnQgaW1hZ2UgKGZyYW1lKSwgaWYgbmVjY2VzYXJ5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZShlbGFwc2VkVGltZSl7XG4gICAgaWYgKHRoaXMuZnJhbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuYW5pbVRpbWUgKz0gZWxhcHNlZFRpbWU7XG5cbiAgICAgIGlmICh0aGlzLmFuaW1UaW1lID49IHRoaXMudG90YWxEdXJhdGlvbikge1xuICAgICAgICB0aGlzLmFuaW1UaW1lID0gdGhpcy5hbmltVGltZSAlIHRoaXMudG90YWxEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5jdXJyRnJhbWVJbmRleCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0aGlzLmFuaW1UaW1lID4gdGhpcy5mcmFtZXNbdGhpcy5jdXJyRnJhbWVJbmRleF0uZW5kVGltZSkge1xuICAgICAgICB0aGlzLmN1cnJGcmFtZUluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhpcyBBbmltYXRpb24ncyBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS4gUmV0dXJucyBudWxsIGlmIHRoaXMgYW5pbWF0aW9uIGhhcyBubyBmcmFtZXMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uI1xuICAgKiBAcmV0dXJuIHtBbmltYXRpb25GcmFtZXxudWxsfSBUaGUgYW5pbWF0aW9uIGZyYW1lIGF0IHRoZSBjdXJyZW50IGZyYW1lIGluZGV4IG9yIG51bGwgaWYgbm8gZnJhbWVzIGFyZSBhdmFpbGFibGVcbiAgICovXG4gIGdldEN1cnJlbnRGcmFtZSgpe1xuICAgIGlmICh0aGlzLmZyYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5mcmFtZXNbdGhpcy5jdXJyRnJhbWVJbmRleF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjdXJyZW50IGZyYW1lIGludG8gYSAyZCBjb250ZXh0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEFuaW1hdGlvbiNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IFRoZSBIVE1MNSBkcmF3aW5nIGNhbnZhc1xuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIGluIHRoZSBncmFwaGljcyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgaW4gdGhlIGdyYXBoaWNzIGNvbnRleHRcbiAgICovXG4gIGRyYXcoY29udGV4dCwgeCwgeSl7XG4gICAgdmFyIGNmID0gdGhpcy5nZXRDdXJyZW50RnJhbWUoKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmltYWdlLCBjZi5pbWdTbG90WCAqIHRoaXMud2lkdGggKyB0aGlzLm9mZnNldFgsIGNmLmltZ1Nsb3RZICogdGhpcy5oZWlnaHQgKyB0aGlzLm9mZnNldFksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB4LCB5LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRpb247XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgYSBhIHNpbmdsZSBmcmFtZSBpbiBhbiBhbmltYXRpb24uXG4gKiBAbmFtZSBBbmltYXRpb25GcmFtZVxuICogQGNvbnN0cnVjdG9yIEFuaW1hdGlvbkZyYW1lXG4gKiBAcGFyYW0ge09iamVjdH0gbWl4aW4gT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyB0byBtaXhpblxuICovXG5cbmNsYXNzIEFuaW1GcmFtZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZW5kaW5nIHRpbWUgaW4gbWlsbGlzZWNvbmRzIG9mIHRoaXMgZnJhbWUgcmVsYXRpdmUgdG8gaXRzIEFuaW1hdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbmRUaW1lID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIHRoZSBncm91cCBvZiBmcmFtZXMgY29udGFpbmVkIGluIGEgc2luZ2xlIGltYWdlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQW5pbWF0aW9uRnJhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmltZ1Nsb3RYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgZ3JvdXAgb2YgZnJhbWVzIGNvbnRhaW5lZCBpbiBhIHNpbmdsZSBpbWFnZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEFuaW1hdGlvbkZyYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbWdTbG90WSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgdG8gcmVuZGVyXG4gICAgICogQHR5cGUge0ltYWdlfVxuICAgICAqIEBtZW1iZXJPZiBBbmltYXRpb25GcmFtZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbUZyYW1lO1xuIiwiY29uc3QgcmFkQ29uc3QgPSBNYXRoLlBJIC8gMTgwLjA7XG5cbmZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlcyl7XG4gIHJldHVybiBkZWdyZWVzICogcmFkQ29uc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVncmVlc1RvUmFkaWFucztcbiIsIlxuY29uc3QgZGVnQ29uc3QgPSAxODAuMCAvIE1hdGguUEk7XG5cbmZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXMocmFkaWFucyl7XG4gIHJldHVybiByYWRpYW5zICogZGVnQ29uc3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmFkaWFuc1RvRGVncmVlcztcbiIsImZ1bmN0aW9uIGRpc3RhbmNlKHAxLCBwMil7XG4gIHJldHVybiBNYXRoLnNxcnQoICgocDIueCAtIHAxLngpICogKHAyLnggLSBwMS54KSkgKyAoKHAyLnkgLSBwMS55KSAqIChwMi55IC0gcDEueSkpICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGlzdGFuY2U7XG4iLCIvKipcbiAqIFRoZSBTcHJpdGUgY2xhc3MgcmVwcmVzZW50cyBhIHNpbXBsZSBhbmltYXRlZCBjaGFyYWN0ZXIgZm9yIGEgZ2FtZVxuICogQG5hbWUgU3ByaXRlXG4gKiBAY29uc3RydWN0b3IgU3ByaXRlXG4gKi9cblxuY2xhc3MgU3ByaXRlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBzcHJpdGUgaW4gcGl4ZWxzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy54ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgcG9zaXRpb24gb2YgdGhlIHNwcml0ZSBpbiBwaXhlbHNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnkgPSAwLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBjb21wb25lbnQgb2YgdGhlIHZlbG9jaXR5IGluIHBpeGVscyBwZXIgc2Vjb25kXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5keCA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB5IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHkgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmR5ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBzcGVlZCBhIHNwcml0ZSBjYW4gbW92ZSBpbiBlaXRoZXIgZGlyZWN0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5tYXhTcGVlZCA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgU3ByaXRlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByYWRpdXMgb2YgdGhpcyBzcHJpdGUgaW4gcGl4ZWxzIGZvciBzaW1wbGUgY29sbGlzaW9uIGRldGVjdGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuY29sbGlzaW9uUmFkaXVzID0gNDA7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBTcHJpdGUncyBBbmltYXRpb24gYW5kIGl0cyBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgdmVsb2NpdHkuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgVGhlIGVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIHByZXZpb3VzIHVwZGF0ZVxuICAgKi9cbiAgdXBkYXRlKGVsYXBzZWRUaW1lKXtcbiAgICB0aGlzLnggKz0gdGhpcy5keCAqIGVsYXBzZWRUaW1lO1xuICAgIHRoaXMueSArPSB0aGlzLmR5ICogZWxhcHNlZFRpbWU7XG4gICAgdGhpcy5hbmltLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWF4U3BlZWQgdXAgdG8gdGhlIHNwZWVkIGxpbWl0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgU3ByaXRlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gdiBTcGVlZCBsaW1pdFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG1heFNwZWVkIHVwIHRvIHNwZWVkIGxpbWl0XG4gICAqL1xuICBsaW1pdFNwZWVkKHYpe1xuICAgIGlmKHRoaXMubWF4U3BlZWQpe1xuICAgICAgaWYoTWF0aC5hYnModikgPiB0aGlzLm1heFNwZWVkKXtcbiAgICAgICAgaWYodiA+IDApe1xuICAgICAgICAgIHJldHVybiB0aGlzLm1heFNwZWVkO1xuICAgICAgICB9ZWxzZSBpZih2IDwgMCl7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWF4U3BlZWQ7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAgMDtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB2O1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhpcyBTcHJpdGUncyBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEByZXR1cm4ge0FuaW1hdGlvbkZyYW1lfSBUaGUgY3VycmVudCBmcmFtZSBvZiB0aGUgQW5pbWF0aW9uXG4gICAqL1xuICBnZXRDdXJyZW50RnJhbWUoKXtcbiAgICBpZih0aGlzLmFuaW0pe1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbS5nZXRDdXJyZW50RnJhbWUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHNwcml0ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFNwcml0ZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjb250ZXh0IFRoZSBIVE1MNSBkcmF3aW5nIGNvbnRleHRcbiAgICovXG4gIGRyYXcoY29udGV4dCl7XG4gICAgaWYodGhpcy5hbmltKXtcbiAgICAgIHRoaXMuYW5pbS5kcmF3KGNvbnRleHQsIHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBpbnN0YW5jZSBvZiBTcHJpdGUgaXQgaXMgY2FsbGVkIHVwb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBTcHJpdGUjXG4gICAqIEByZXR1cm4ge1Nwcml0ZX0gQSBjbG9uZSBvZiB0aGUgU3ByaXRlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFNwcml0ZSh7XG4gICAgICBhbmltOiB0aGlzLmFuaW0uY2xvbmUoKVxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3ByaXRlO1xuXG4iLCIvKipcbiAqIFRoaXMgd3JhcHMgdGhlIGJveDJkIHdvcmxkIHRoYXQgY29udGFpbnMgYm9kaWVzLCBzaGFwZXMsIGFuZCBwZXJmb3JtcyB0aGUgcGh5c2ljcyBjYWxjdWxhdGlvbnMuXG4gKiBAbmFtZSBCb3hcbiAqIEBjb25zdHJ1Y3RvciBCb3hcbiAqL1xuXG5jb25zdCBDb250YWN0ID0gcmVxdWlyZSgnLi9saXN0ZW5lcnMvQ29udGFjdCcpO1xuXG5cbmNvbnNvbGUubG9nKEJveDJELCAnQm94MkQnLCBnbG9iYWwsIHdpbmRvdyk7XG5cbi8vIGJveDJkIGdsb2JhbHNcbmNvbnN0IEIyVmVjMiA9IEJveDJELkNvbW1vbi5NYXRoLmIyVmVjMjtcbmNvbnN0IEIyQm9keURlZiA9IEJveDJELkR5bmFtaWNzLmIyQm9keURlZjtcbmNvbnN0IEIyQm9keSA9IEJveDJELkR5bmFtaWNzLmIyQm9keTtcbmNvbnN0IEIyRml4dHVyZURlZiA9IEJveDJELkR5bmFtaWNzLmIyRml4dHVyZURlZjtcbmNvbnN0IEIyRml4dHVyZSA9IEJveDJELkR5bmFtaWNzLmIyRml4dHVyZTtcbmNvbnN0IEIyV29ybGQgPSBCb3gyRC5EeW5hbWljcy5iMldvcmxkO1xuY29uc3QgQjJQb2x5Z29uU2hhcGUgPSBCb3gyRC5Db2xsaXNpb24uU2hhcGVzLmIyUG9seWdvblNoYXBlO1xuY29uc3QgQjJDaXJjbGVTaGFwZSA9IEJveDJELkNvbGxpc2lvbi5TaGFwZXMuYjJDaXJjbGVTaGFwZTtcblxuY2xhc3MgQm94IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY3ljbGVzIHBlciBzZWNvbmQgZXhwZWN0ZWQgaW4gdXBkYXRlIGNhbGN1YXRpb25zXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5pbnRlcnZhbFJhdGUgPSA2MDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIHRyeSB0byBjb21wZW5zYXRlIGNhbGN1bGF0aW9ucyBiYXNlZCBvbiBwZXJmb3JtYW5jZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmFkYXB0aXZlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0aGUgYm9kaWVzIGluIHRoZSBib3gyZCB3b3JsZCByZWZlcmVuY2VkIGJ5IHRoZWlyIGdpdmVuIHVzZXJEYXRhXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5ib2RpZXNNYXAgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgdGhlIGZpeHR1cmVzIGluIHRoZSBib3gyZCB3b3JsZCByZWZlcmVuY2VkIGJ5IHRoZWlyIGdpdmVuIHVzZXJEYXRhXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5maXh0dXJlc01hcCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0aGUgam9pbnRzIGluIHRoZSBib3gyZCB3b3JsZCByZWZlcmVuY2VkIGJ5IHRoZWlyIGdpdmVuIHVzZXJEYXRhXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5qb2ludHNNYXAgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluc3RhbmNlIG9mIHRoZSBCb3gyRC5EeW5hbWljcy5iMldvcmxkIHdvcmxkIGNsYXNzIHRoYXQgdGhlIGJvZGllcywgZml4dHVyZXMsIGFuZCBqb2ludHMgYXJlIHVzZWQgaW4uXG4gICAgICogQHR5cGUge0IyV29ybGR9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYjJXb3JsZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgeCBjb21wb25lbnQgb2YgdGhlIGIyV29ybGQncyBncmF2aXR5IGluIG1ldGVycy9zZWNvbmQgc3F1YXJlZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIEJveCNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuZ3Jhdml0eVggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHkgY29tcG9uZW50IG9mIHRoZSBiMldvcmxkJ3MgZ3Jhdml0eSBpbiBtZXRlcnMvc2Vjb25kIHNxdWFyZWRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmdyYXZpdHlZID0gOS44O1xuXG4gICAgLyoqXG4gICAgICogQWxsb3cgYm94MmQgdG8gc2tpcCBwaHlzaWNzIGNhbGN1bGF0aW9ucyBvbiBib2RpZXMgYXQgcmVzdCBmb3IgcGVyZm9ybWFuY2VcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5hbGxvd1NsZWVwID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gYWRkIGEgbGlzdGVuZXIgdG8gY29sbGlzaW9uIGV2ZW50cy4gRGVmYXVsdCBiZWhhdmlvciBhZGRzIGNvbGxpc2lvbiBkYXRhIHRvIGVudGl0aWVzIG9uIHVwZGF0ZSBjeWNsZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdmVDb2xsaXNpb25zID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbnRhY3QgbGlzdGVuZXIgZm9yIGNhbGxiYWNrcyBvbiBjb2xsaXNpb24gZXZlbnRzLiBEZWZhdWx0IGlzIHRoaXMgYm94IGl0c2VsZi5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3gjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RMaXN0ZW5lciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2YgY29sbGlzaW9ucy4gSW5zdGFudGlhdGVkIGluIHVwZGF0ZSBpZiByZXNvbHZlQ29sbGlzaW9ucyBpcyB0cnVlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25zID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgcGl4ZWxzIHRoYXQgcmVwcmVzbnQgb25lIG1ldGVyIGluIHRoZSBib3gyZCB3b3JsZC4gKDMwIHBpeGVscyB+IDEgbWV0ZXIgaW4gYm94MmQpXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAbWVtYmVyT2YgQm94I1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5zY2FsZSA9IDMwO1xuXG4gICAgdGhpcy5ib2RpZXNNYXAgPSB7fTtcbiAgICB0aGlzLmZpeHR1cmVzTWFwID0ge307XG4gICAgdGhpcy5qb2ludHNNYXAgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5iMldvcmxkID0gbmV3IEIyV29ybGQobmV3IEIyVmVjMih0aGlzLmdyYXZpdHlYLCB0aGlzLmdyYXZpdHlZKSwgdGhpcy5hbGxvd1NsZWVwKTtcblxuICAgIGlmKHRoaXMuaW50ZXJ2YWxSYXRlKXtcbiAgICAgIHRoaXMuaW50ZXJ2YWxSYXRlID0gcGFyc2VJbnQodGhpcy5pbnRlcnZhbFJhdGUsIDEwKTtcbiAgICB9XG5cblxuICAgIGlmKHRoaXMucmVzb2x2ZUNvbGxpc2lvbnMpe1xuICAgICAgdGhpcy5jb250YWN0TGlzdGVuZXIgPSBuZXcgQ29udGFjdCgpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuY29udGFjdExpc3RlbmVyKXtcbiAgICAgIHRoaXMuYWRkQ29udGFjdExpc3RlbmVyKHRoaXMuY29udGFjdExpc3RlbmVyKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJveDJkIHBoeXNpY3MgY2FsY3VsYXRpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1pbGxpcyBUaGUgbWlsbGlzZWNvbmRzIHVzZWQgdG8gZGV0ZXJtaW5lIGZyYW1lcmF0ZSBmb3IgYm94MmQgc3RlcFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRoZSB1cGRhdGUgdG9va1xuICAgKi9cbiAgdXBkYXRlKG1pbGxpcykge1xuICAgIC8vIGNvbnNvbGUubG9nKCd1cGRhdGUgbWlsbGlzJywgbWlsbGlzKTtcblxuICAgIGlmKHRoaXMuY29udGFjdExpc3RlbmVyICYmIHRoaXMuY29udGFjdExpc3RlbmVyLnJlc2V0KXtcbiAgICAgIHRoaXMuY29udGFjdExpc3RlbmVyLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBpZihtaWxsaXMpe1xuICAgICAgdGhpcy5iMldvcmxkLlN0ZXAobWlsbGlzIC8gMTAwMCAvKiBmcmFtZS1yYXRlICovLCAxMCAvKiB2ZWxvY2l0eSBpdGVyYXRpb25zICovLCAxMCAvKnBvc2l0aW9uIGl0ZXJhdGlvbnMqLyk7XG4gICAgICB0aGlzLmIyV29ybGQuQ2xlYXJGb3JjZXMoKTtcbiAgICB9ZWxzZXtcbiAgICAgIHZhciBzdGVwUmF0ZSA9ICh0aGlzLmFkYXB0aXZlKSA/IChzdGFydCAtIHRoaXMubGFzdFRpbWVzdGFtcCkgLyAxMDAwIDogKDEgLyB0aGlzLmludGVydmFsUmF0ZSk7XG4gICAgICB0aGlzLmIyV29ybGQuU3RlcChzdGVwUmF0ZSAvKiBmcmFtZS1yYXRlICovLCAxMCAvKiB2ZWxvY2l0eSBpdGVyYXRpb25zICovLCAxMCAvKnBvc2l0aW9uIGl0ZXJhdGlvbnMqLyk7XG4gICAgICB0aGlzLmIyV29ybGQuQ2xlYXJGb3JjZXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKERhdGUubm93KCkgLSBzdGFydCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgb2JqZWN0cyBpbiB0aGUgYm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZSBvZiB0aGUgYm94MmQgd29ybGRcbiAgICovXG4gIGdldFN0YXRlKCkge1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgICAgZm9yICh2YXIgYiA9IHRoaXMuYjJXb3JsZC5HZXRCb2R5TGlzdCgpOyBiOyBiID0gYi5tX25leHQpIHtcbiAgICAgICAgaWYgKGIuSXNBY3RpdmUoKSAmJiB0eXBlb2YgYi5HZXRVc2VyRGF0YSgpICE9PSAndW5kZWZpbmVkJyAmJiBiLkdldFVzZXJEYXRhKCkgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZVtiLkdldFVzZXJEYXRhKCldID0ge1xuICAgICAgICAgICAgeDogYi5HZXRQb3NpdGlvbigpLngsXG4gICAgICAgICAgICB5OiBiLkdldFBvc2l0aW9uKCkueSxcbiAgICAgICAgICAgIGFuZ2xlOiBiLkdldEFuZ2xlKCksXG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgeDogYi5HZXRXb3JsZENlbnRlcigpLngsXG4gICAgICAgICAgICAgIHk6IGIuR2V0V29ybGRDZW50ZXIoKS55XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluZWFyVmVsb2NpdHk6IGIubV9saW5lYXJWZWxvY2l0eSxcbiAgICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogYi5tX2FuZ3VsYXJWZWxvY2l0eVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYodGhpcy5jb250YWN0TGlzdGVuZXIgJiYgdGhpcy5jb250YWN0TGlzdGVuZXIuY29sbGlzaW9ucyl7XG4gICAgICAgICAgICBzdGF0ZVtiLkdldFVzZXJEYXRhKCldLmNvbGxpc2lvbnMgPSB0aGlzLmNvbnRhY3RMaXN0ZW5lci5jb2xsaXNpb25zW2IuR2V0VXNlckRhdGEoKV0gfHwgbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBpbiB0aGUgRW50aXR5IG9iamVjdHMgdGhhdCBhcmUgbW9kaWZpZWQgYnkgYm94MmQgY2FsY3VsYXRpb25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGVudGl0aWVzIEFuIGFycmF5IG9yIG1hcCBvZiBFbnRpdHkgb2JqZWN0c1xuICAgKi9cbiAgdXBkYXRlRXh0ZXJuYWxTdGF0ZShlbnRpdGllcyl7XG4gICAgLy91cGRhdGUgdGhlIGR5YW5taWMgc2hhcGVzIHdpdGggYm94MmQgY2FsY3VsYXRpb25zXG4gICAgdmFyIGJvZGllc1N0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgIGZvciAodmFyIGlkIGluIGJvZGllc1N0YXRlKSB7XG4gICAgICB2YXIgZW50aXR5ID0gZW50aXRpZXNbaWRdO1xuICAgICAgLy91cGRhdGUgYW55IGR5bmFtaWMgYm9kaWVzXG4gICAgICBpZiAoZW50aXR5ICYmICFlbnRpdHkuc3RhdGljQm9keSl7XG4gICAgICAgIGVudGl0eS51cGRhdGUoYm9kaWVzU3RhdGVbaWRdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbWFwIG9mIGVudGl0aWVzIHRvIHRoZSBCb3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBib2R5RW50aXRpZXMgTWFwIG9mIGVudGl0aWVzXG4gICAqL1xuICBzZXRCb2RpZXMoYm9keUVudGl0aWVzKSB7XG4gICAgZm9yKHZhciBpZCBpbiBib2R5RW50aXRpZXMpIHtcbiAgICAgIHZhciBlbnRpdHkgPSBib2R5RW50aXRpZXNbaWRdO1xuICAgICAgdGhpcy5hZGRCb2R5KGVudGl0eSk7XG4gICAgfVxuICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBFbnRpdHkgdG8gdGhlIGJveDJkIHdvcmxkIHdoaWNoIHdpbGwgaW50ZXJuYWxseSBiZSBjb252ZXJ0ZWQgdG8gYSBib3gyZCBib2R5IGFuZCBmaXh0dXJlIChhdXRvIHNjYWxlZCB3aXRoIEJveCdzIHNjYWxlIHByb3BlcnR5IGlmIHRoZSBlbnRpdHkgaGFzbid0IGJlZW4gc2NhbGVkIHlldClcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgQW55IEVudGl0eSBvYmplY3RcbiAgICovXG4gIGFkZEJvZHkoZW50aXR5KSB7XG4gICAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cblxuICAgIGlmKCFlbnRpdHkuYWxyZWFkeVNjYWxlZCl7XG4gICAgICBlbnRpdHkuc2NhbGVTaGFwZSgxIC8gdGhpcy5zY2FsZSk7XG4gICAgICBlbnRpdHkuc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIHZhciBib2R5RGVmID0gbmV3IEIyQm9keURlZigpO1xuICAgIHZhciBmaXhEZWYgPSBuZXcgQjJGaXh0dXJlRGVmKCk7XG4gICAgdmFyIGksaixwb2ludHMsdmVjLHZlY3M7XG4gICAgZml4RGVmLnJlc3RpdHV0aW9uID0gZW50aXR5LnJlc3RpdHV0aW9uO1xuICAgIGZpeERlZi5kZW5zaXR5ID0gZW50aXR5LmRlbnNpdHk7XG4gICAgZml4RGVmLmZyaWN0aW9uID0gZW50aXR5LmZyaWN0aW9uO1xuXG5cbiAgICAvL3RoZXNlIHRocmVlIHByb3BzIGFyZSBmb3IgY3VzdG9tIGNvbGxpc2lvbiBmaWx0ZXJpbmdcbiAgICBpZihlbnRpdHkubWFza0JpdHMgIT0gbnVsbCl7XG4gICAgICBmaXhEZWYuZmlsdGVyLm1hc2tCaXRzID0gZW50aXR5Lm1hc2tCaXRzO1xuICAgIH1cbiAgICBpZihlbnRpdHkuY2F0ZWdvcnlCaXRzICE9IG51bGwpe1xuICAgICAgZml4RGVmLmZpbHRlci5jYXRlZ29yeUJpdHMgPSBlbnRpdHkuY2F0ZWdvcnlCaXRzO1xuICAgIH1cbiAgICBpZihlbnRpdHkuZ3JvdXBJbmRleCAhPSBudWxsKXtcbiAgICAgIGZpeERlZi5maWx0ZXIuZ3JvdXBJbmRleCA9IGVudGl0eS5ncm91cEluZGV4O1xuICAgIH1cblxuICAgIGlmKGVudGl0eS5zdGF0aWNCb2R5KXtcbiAgICAgIGJvZHlEZWYudHlwZSA9ICBCMkJvZHkuYjJfc3RhdGljQm9keTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9keURlZi50eXBlID0gQjJCb2R5LmIyX2R5bmFtaWNCb2R5O1xuICAgIH1cblxuICAgIGJvZHlEZWYucG9zaXRpb24ueCA9IGVudGl0eS54O1xuICAgIGJvZHlEZWYucG9zaXRpb24ueSA9IGVudGl0eS55O1xuICAgIGJvZHlEZWYudXNlckRhdGEgPSBlbnRpdHkuaWQ7XG4gICAgYm9keURlZi5hbmdsZSA9IGVudGl0eS5hbmdsZTtcbiAgICBib2R5RGVmLmxpbmVhckRhbXBpbmcgPSBlbnRpdHkubGluZWFyRGFtcGluZztcbiAgICBib2R5RGVmLmFuZ3VsYXJEYW1waW5nID0gZW50aXR5LmFuZ3VsYXJEYW1waW5nO1xuICAgIHZhciBib2R5ID0gdGhpcy5iMldvcmxkLkNyZWF0ZUJvZHkoYm9keURlZik7XG5cblxuICAgIGlmIChlbnRpdHkucmFkaXVzKSB7IC8vY2lyY2xlXG4gICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJDaXJjbGVTaGFwZShlbnRpdHkucmFkaXVzKTtcbiAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgIH0gZWxzZSBpZiAoZW50aXR5LnBvaW50cykgeyAvL3BvbHlnb25cbiAgICAgIHBvaW50cyA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGVudGl0eS5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmVjID0gbmV3IEIyVmVjMigpO1xuICAgICAgICB2ZWMuU2V0KGVudGl0eS5wb2ludHNbaV0ueCwgZW50aXR5LnBvaW50c1tpXS55KTtcbiAgICAgICAgcG9pbnRzW2ldID0gdmVjO1xuICAgICAgfVxuICAgICAgZml4RGVmLnNoYXBlID0gbmV3IEIyUG9seWdvblNoYXBlKCk7XG4gICAgICBmaXhEZWYuc2hhcGUuU2V0QXNBcnJheShwb2ludHMsIHBvaW50cy5sZW5ndGgpO1xuICAgICAgYm9keS5DcmVhdGVGaXh0dXJlKGZpeERlZik7XG4gICAgfSBlbHNlIGlmKGVudGl0eS5wb2x5cykgeyAvL2NvbXBsZXggb2JqZWN0XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBlbnRpdHkucG9seXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHBvaW50cyA9IGVudGl0eS5wb2x5c1tqXTtcbiAgICAgICAgICAgIHZlY3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZWMgPSBuZXcgQjJWZWMyKCk7XG4gICAgICAgICAgICAgICAgdmVjLlNldChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICAgICAgICAgIHZlY3NbaV0gPSB2ZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaXhEZWYuc2hhcGUgPSBuZXcgQjJQb2x5Z29uU2hhcGUoKTtcbiAgICAgICAgICAgIGZpeERlZi5zaGFwZS5TZXRBc0FycmF5KHZlY3MsIHZlY3MubGVuZ3RoKTtcbiAgICAgICAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHsgLy9yZWN0YW5nbGVcbiAgICAgIGZpeERlZi5zaGFwZSA9IG5ldyBCMlBvbHlnb25TaGFwZSgpO1xuICAgICAgZml4RGVmLnNoYXBlLlNldEFzQm94KGVudGl0eS5oYWxmV2lkdGgsIGVudGl0eS5oYWxmSGVpZ2h0KTtcbiAgICAgIGJvZHkuQ3JlYXRlRml4dHVyZShmaXhEZWYpO1xuICAgIH1cblxuXG4gICAgdGhpcy5ib2RpZXNNYXBbZW50aXR5LmlkXSA9IGJvZHk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgbmV3IHggY29vcmRpbmF0ZSBpbiBib3gyZCBzcGFjZVxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgbmV3IHkgY29vcmRpbmF0ZSBpbiBib3gyZCBzcGFjZVxuICAgKi9cbiAgc2V0UG9zaXRpb24oYm9keUlkLCB4LCB5KXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRQb3NpdGlvbihuZXcgQjJWZWMyKHgsIHkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFuZ2xlIG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBUaGUgbmV3IGFuZ2xlIG9mIHRoZSBib2R5IGluIHJhZGlhbnNcbiAgICovXG4gIHNldEFuZ2xlKGJvZHlJZCwgYW5nbGUpe1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBjb25zb2xlLmxvZygnc2V0IGFuZ2xlJywgYm9keS5zZXRBbmdsZSwgYm9keSk7XG4gICAgYm9keS5zZXRBbmdsZShhbmdsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBsaW5lYXIgdmVsb2NpdHkgb2YgYW4gZW50aXR5LlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIG5ldyB4IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIG5ldyB5IGNvbXBvbmVudCBvZiB0aGUgdmVsb2NpdHlcbiAgICovXG4gIHNldExpbmVhclZlbG9jaXR5KGJvZHlJZCwgeCwgeSl7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0TGluZWFyVmVsb2NpdHkobmV3IEIyVmVjMih4LCB5KSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhbmd1bGFyIHZlbG9jaXR5IG9mIGFuIGVudGl0eS5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWxvY2l0eSBUaGUgYW5ndWxhciB2ZWxvY2l0eSBmb3IgdGhlIGJvZHlcbiAgICovXG4gIHNldEFuZ3VsYXJWZWxvY2l0eShib2R5SWQsIHZlbG9jaXR5KXtcbiAgICB2YXIgYm9keSA9IHRoaXMuYm9kaWVzTWFwW2JvZHlJZF07XG4gICAgYm9keS5TZXRBbmd1bGFyVmVsb2NpdHkodmVsb2NpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGFuIGltcHVsc2UgdG8gYSBib2R5IGF0IGFuIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzIFRoZSBhbmdsZSBpbiB3aGljaCB0byBhcHBseSB0aGUgaW1wdWxzZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBpbXB1bHNlIHBvd2VyLlxuICAgKi9cbiAgYXBwbHlJbXB1bHNlRGVncmVlcyhib2R5SWQsIGRlZ3JlZXMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlJbXB1bHNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MoZGVncmVlcyAqIChNYXRoLlBJIC8gMTgwKSkgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSBmb3JjZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gZGVncmVlc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBmb3JjZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBwb3dlciBvZiB0aGUgZm9yY2UuIChUaGUgYWJpbGl0eSB0byBkZXN0cm95IGEgcGxhbmV0IGlzIGluc2lnbmlmaWNhbnQgbmV4dCB0byB0aGlzKVxuICAgKi9cbiAgYXBwbHlGb3JjZURlZ3JlZXMoYm9keUlkLCBkZWdyZWVzLCBwb3dlcikge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LkFwcGx5Rm9yY2UoXG4gICAgICBuZXcgQjJWZWMyKE1hdGguc2luKGRlZ3JlZXMgKiAoTWF0aC5QSSAvIDE4MCkpICogcG93ZXIsXG4gICAgICBNYXRoLmNvcyhkZWdyZWVzICogKE1hdGguUEkgLyAxODApKSAqIHBvd2VyICogLTEpLFxuICAgICAgYm9keS5HZXRXb3JsZENlbnRlcigpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhbiBpbXB1bHNlIHRvIGEgYm9keSBhdCBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgYW5nbGUgaW4gd2hpY2ggdG8gYXBwbHkgdGhlIGltcHVsc2UuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwb3dlciBUaGUgaW1wdWxzZSBwb3dlci5cbiAgICovXG4gIGFwcGx5SW1wdWxzZShib2R5SWQsIHJhZGlhbnMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlJbXB1bHNlKFxuICAgICAgbmV3IEIyVmVjMihNYXRoLnNpbihyYWRpYW5zKSAqIHBvd2VyLFxuICAgICAgTWF0aC5jb3MocmFkaWFucykgKiBwb3dlciAqIC0xKSxcbiAgICAgIGJvZHkuR2V0V29ybGRDZW50ZXIoKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSBmb3JjZSB0byBhIGJvZHkgYXQgYW4gYW5nbGUgaW4gcmFkaWFuc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIGFuZ2xlIGluIHdoaWNoIHRvIGFwcGx5IHRoZSBmb3JjZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIFRoZSBwb3dlciBvZiB0aGUgZm9yY2UuIChUaGUgYWJpbGl0eSB0byBkZXN0cm95IGEgcGxhbmV0IGlzIGluc2lnbmlmaWNhbnQgbmV4dCB0byB0aGlzKVxuICAgKi9cbiAgYXBwbHlGb3JjZShib2R5SWQsIHJhZGlhbnMsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlGb3JjZShcbiAgICAgIG5ldyBCMlZlYzIoTWF0aC5zaW4ocmFkaWFucykgKiBwb3dlcixcbiAgICAgIE1hdGguY29zKHJhZGlhbnMpICogcG93ZXIgKiAtMSksXG4gICAgICBib2R5LkdldFdvcmxkQ2VudGVyKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5nbGUgb2YgYSBkeW5hbWljIGJvZHkgaW4gcmFkaWFuc1xuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIGFuZ2xlIHRvIHNldCB0aGUgYm9keSB0by5cbiAgICovXG4gIHNldEFuZ2xlKGJvZHlJZCwgcmFkaWFucykge1xuICAgIHZhciBib2R5ID0gdGhpcy5ib2RpZXNNYXBbYm9keUlkXTtcbiAgICBib2R5LlNldEFuZ2xlKHJhZGlhbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYW5ndWxhcnkgdmVsb2NpdHkgb2YgYSBkeW5hbWljIGJvZHlcbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWxvY2l0eSBUaGUgdmVsb2NpdHkgdG8gc2V0IHRoZSBib2R5IHRvLlxuICAgKi9cbiAgc2V0QW5nbHVsYXJWZWxvY2l0eShib2R5SWQsIHZlbG9jaXR5KSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuU2V0QW5ndWxhclZlbG9jaXR5KHZlbG9jaXR5KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFwcGx5IHRvcnF1ZSAocm90YXRpb24gZm9yY2UpIHRvIGEgYm9keS5cbiAgICogUG9zaXRpdmUgdmFsdWVzIGFyZSBjbG9ja3dpc2UsIG5lZ2F0aXZlIHZhbHVlcyBhcmUgY291bnRlci1jbG9ja3dpc2UuXG4gICAqXG4gICAqIFRoaXMgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgdGhlIHVwZGF0ZSgpIGl0ZXJhdGlvbiFcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3gjXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBib2R5SWQgVGhlIGlkIG9mIHRoZSBFbnRpdHkvQm9keVxuICAgKiBAcGFyYW0ge051bWJlcn0gcG93ZXIgVGhlIHBvd2VyIG9mIHRoZSB0b3JxdWUuXG4gICAqL1xuICBhcHBseVRvcnF1ZShib2R5SWQsIHBvd2VyKSB7XG4gICAgdmFyIGJvZHkgPSB0aGlzLmJvZGllc01hcFtib2R5SWRdO1xuICAgIGJvZHkuQXBwbHlUb3JxdWUocG93ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHdvcmxkJ3MgZ3Jhdml0eVxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdH0gdmVjdG9yIEFuIG9iamVjdCB3aXRoIHggYW5kIHkgdmFsdWVzIGluIG1ldGVycyBwZXIgc2Vjb25kIHNxdWFyZWQuXG4gICAqL1xuICBzZXRHcmF2aXR5KHZlY3Rvcikge1xuICAgIHRoaXMuYjJXb3JsZC5TZXRHcmF2aXR5KG5ldyBCMlZlYzIodmVjdG9yLngsIHZlY3Rvci55KSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgYm9keSBmcm9tIHRoZSBib3gyZCB3b3JsZFxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge051bWJlcn0gYm9keUlkIFRoZSBpZCBvZiB0aGUgRW50aXR5L0JvZHlcbiAgICovXG4gIHJlbW92ZUJvZHkoaWQpIHtcbiAgICBpZih0aGlzLmJvZGllc01hcFtpZF0pe1xuICAgICAgaWYodGhpcy5maXh0dXJlc01hcFtpZF0pe1xuICAgICAgICB0aGlzLmJvZGllc01hcFtpZF0uRGVzdHJveUZpeHR1cmUodGhpcy5maXh0dXJlc01hcFtpZF0pO1xuICAgICAgfVxuICAgICAgdGhpcy5iMldvcmxkLkRlc3Ryb3lCb2R5KHRoaXMuYm9kaWVzTWFwW2lkXSk7XG4gICAgICAvL2RlbGV0ZSB0aGlzLmZpeHR1cmVzTWFwW2lkXTtcbiAgICAgIGRlbGV0ZSB0aGlzLmJvZGllc01hcFtpZF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdha2UgdXAgYSBib2R5IGluIHRoZSBib3gyZCB3b3JsZCBzbyB0aGF0IGJveDJkIHdpbGwgY29udGludWUgdG8gcnVuIGNhbGN1bGF0aW9ucyBvbiBpdC5cbiAgICpcbiAgICogVGhpcyBtdXN0IGJlIGRvbmUgb3V0c2lkZSBvZiB0aGUgdXBkYXRlKCkgaXRlcmF0aW9uIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJvZHlJZCBUaGUgaWQgb2YgdGhlIEVudGl0eS9Cb2R5XG4gICAqL1xuICB3YWtlVXBCb2R5KGlkKSB7XG4gICAgaWYodGhpcy5ib2RpZXNNYXBbaWRdKXtcbiAgICAgIHRoaXMuYm9kaWVzTWFwW2lkXS5TZXRBd2FrZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY29udGFjdExpc3RlbmVyIHRvIHRoZSBiMldvcmxkXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge09iamVjdH0gY2FsbGJhY2tzIE9iamVjdCBjb250YWluaW5nIGEgYmVnaW5Db250YW50LCBlbmRDb250YWN0IGFuZC9vciBwcmVTb2x2ZS9wb3N0U29sdmUga2V5cyBhbmQgY2FsbGJhY2tzXG4gICAqL1xuICBhZGRDb250YWN0TGlzdGVuZXIoY29udGFjdExpc3RlbmVyKXtcbiAgICB2YXIgbGlzdGVuZXIgPSBuZXcgQm94MkQuRHluYW1pY3MuYjJDb250YWN0TGlzdGVuZXIoKTtcbiAgICBpZihjb250YWN0TGlzdGVuZXIuYmVnaW5Db250YWN0KXtcbiAgICAgIGxpc3RlbmVyLkJlZ2luQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3Qpe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIuYmVnaW5Db250YWN0KGNvbnRhY3QubV9maXh0dXJlQS5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdC5tX2ZpeHR1cmVCLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmKGNvbnRhY3RMaXN0ZW5lci5lbmRDb250YWN0KXtcbiAgICAgIGxpc3RlbmVyLkVuZENvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KXtcbiAgICAgICAgY29udGFjdExpc3RlbmVyLmVuZENvbnRhY3QoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIGNvbnRhY3QpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYoY29udGFjdExpc3RlbmVyLnByZVNvbHZlKXtcbiAgICAgIGxpc3RlbmVyLlByZVNvbHZlID0gZnVuY3Rpb24oY29udGFjdCwgb2xkTWFuaWZvbGQpe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIucHJlU29sdmUoY29udGFjdC5tX2ZpeHR1cmVBLm1fYm9keS5tX3VzZXJEYXRhLCBjb250YWN0Lm1fZml4dHVyZUIubV9ib2R5Lm1fdXNlckRhdGEsIG9sZE1hbmlmb2xkLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjb250YWN0TGlzdGVuZXIucG9zdFNvbHZlKXtcbiAgICAgIGxpc3RlbmVyLlBvc3RTb2x2ZSA9IGZ1bmN0aW9uKGNvbnRhY3QsIGltcHVsc2Upe1xuICAgICAgICBjb250YWN0TGlzdGVuZXIucG9zdFNvbHZlKGNvbnRhY3QubV9maXh0dXJlQS5tX2JvZHkubV91c2VyRGF0YSwgY29udGFjdC5tX2ZpeHR1cmVCLm1fYm9keS5tX3VzZXJEYXRhLCBpbXB1bHNlLCBjb250YWN0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuYjJXb3JsZC5TZXRDb250YWN0TGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGpvaW50IGZyb20gdGhlIHdvcmxkLlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24sIGFuZCBCRUZPUkUgYW55IGJvZGllcyBjb25uZWN0ZWQgdG8gdGhlIGpvaW50IGFyZSByZW1vdmVkIVxuICAgKlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveCNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGpvaW50SWQgVGhlIGlkIG9mIGpvaW50IHRvIGJlIGRlc3Ryb3llZC5cbiAgICovXG4gIHJlbW92ZUpvaW50KGpvaW50SWQpIHtcbiAgICBpZih0aGlzLmpvaW50c01hcFtqb2ludElkXSl7XG4gICAgICB0aGlzLmIyV29ybGQuRGVzdHJveUpvaW50KHRoaXMuam9pbnRzTWFwW2pvaW50SWRdKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW50c01hcFtqb2ludElkXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgam9pbnQgdG8gdGhlIGJveDJkIHdvcmxkLlxuICAgKlxuICAgKiBUaGlzIG11c3QgYmUgZG9uZSBvdXRzaWRlIG9mIHRoZSB1cGRhdGUoKSBpdGVyYXRpb24hXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94I1xuICAgKiBAcGFyYW0ge0pvaW50fSBBIGpvaW50IGRlZmluaXRpb24uXG4gICAqL1xuICBhZGRKb2ludChqb2ludCkge1xuICAgIGlmKGpvaW50ICYmIGpvaW50LmlkICYmICF0aGlzLmpvaW50c01hcFtqb2ludC5pZF0pe1xuXG4gICAgICBpZigham9pbnQuYWxyZWFkeVNjYWxlZCAmJiBqb2ludC5zY2FsZUpvaW50TG9jYXRpb24pe1xuICAgICAgICBqb2ludC5zY2FsZUpvaW50TG9jYXRpb24oMSAvIHRoaXMuc2NhbGUpO1xuICAgICAgICBqb2ludC5zY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBiMkpvaW50ID0gam9pbnQuY3JlYXRlQjJKb2ludCh0aGlzKTtcbiAgICAgIGlmKGIySm9pbnQpe1xuICAgICAgICB0aGlzLmpvaW50c01hcFtqb2ludC5pZF0gPSBiMkpvaW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJveDtcblxuIiwiY29uc3QgY29sb3JzID0gW1xuICAnIzAwREQwMCcsXG4gICcjREQwMDAwJyxcbiAgJyNFRUVFRUUnLFxuICAnI0EwNTIyRCcsXG4gICcjMDAwMEREJyxcbiAgJyNGRjhDMDAnLFxuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb2xvcnM7IiwiLyohIEhhbW1lci5KUyAtIHYyLjAuNyAtIDIwMTYtMDQtMjJcbiAqIGh0dHA6Ly9oYW1tZXJqcy5naXRodWIuaW8vXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IEpvcmlrIFRhbmdlbGRlcjtcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIGV4cG9ydE5hbWUsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbnZhciBWRU5ET1JfUFJFRklYRVMgPSBbJycsICd3ZWJraXQnLCAnTW96JywgJ01TJywgJ21zJywgJ28nXTtcbnZhciBURVNUX0VMRU1FTlQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxudmFyIFRZUEVfRlVOQ1RJT04gPSAnZnVuY3Rpb24nO1xuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIGFicyA9IE1hdGguYWJzO1xudmFyIG5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIHNldCBhIHRpbWVvdXQgd2l0aCBhIGdpdmVuIHNjb3BlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q29udGV4dChmbiwgdGltZW91dCwgY29udGV4dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGJpbmRGbihmbiwgY29udGV4dCksIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSwgd2Ugd2FudCB0byBleGVjdXRlIHRoZSBmbiBvbiBlYWNoIGVudHJ5XG4gKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAqIHRoaXMgaXMgdXNlZCBieSBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhY2NlcHQgYSBzaW5nbGUgYW5kIGFycmF5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfEFycmF5fSBhcmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGludm9rZUFycmF5QXJnKGFyZywgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGVhY2goYXJnLCBjb250ZXh0W2ZuXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICovXG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqLmZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IG9iai5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB3cmFwcGluZyB0aGUgc3VwcGxpZWQgbWV0aG9kLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9ICdERVBSRUNBVEVEIE1FVEhPRDogJyArIG5hbWUgKyAnXFxuJyArIG1lc3NhZ2UgKyAnIEFUIFxcbic7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcignZ2V0LXN0YWNrLXRyYWNlJyk7XG4gICAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sICd7YW5vbnltb3VzfSgpQCcpIDogJ1Vua25vd24gU3RhY2sgVHJhY2UnO1xuXG4gICAgICAgIHZhciBsb2cgPSB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUud2FybiB8fCB3aW5kb3cuY29uc29sZS5sb2cpO1xuICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHNfdG9fYXNzaWduXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0YXJnZXRcbiAqL1xudmFyIGFzc2lnbjtcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFttZXJnZT1mYWxzZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIGV4dGVuZCA9IGRlcHJlY2F0ZShmdW5jdGlvbiBleHRlbmQoZGVzdCwgc3JjLCBtZXJnZSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc3JjKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIW1lcmdlIHx8IChtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICBkZXN0W2tleXNbaV1dID0gc3JjW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlc3Q7XG59LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBtZXJnZSB0aGUgdmFsdWVzIGZyb20gc3JjIGluIHRoZSBkZXN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBtZXJnZSA9IGRlcHJlY2F0ZShmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG59LCAnbWVyZ2UnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2hpbGRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGJhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAqL1xuZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlLFxuICAgICAgICBjaGlsZFA7XG5cbiAgICBjaGlsZFAgPSBjaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQKTtcbiAgICBjaGlsZFAuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICBjaGlsZFAuX3N1cGVyID0gYmFzZVA7XG5cbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBhc3NpZ24oY2hpbGRQLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogc2ltcGxlIGZ1bmN0aW9uIGJpbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kRm4oZm4sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYm91bmRGbigpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICogdGhpcyBmaXJzdCBpdGVtIGluIGFyZ3Mgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0ge0Jvb2xlYW58RnVuY3Rpb259IHZhbFxuICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gYm9vbE9yRm4odmFsLCBhcmdzKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgICByZXR1cm4gdmFsLmFwcGx5KGFyZ3MgPyBhcmdzWzBdIHx8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5cbi8qKlxuICogdXNlIHRoZSB2YWwyIHdoZW4gdmFsMSBpcyB1bmRlZmluZWRcbiAqIEBwYXJhbSB7Kn0gdmFsMVxuICogQHBhcmFtIHsqfSB2YWwyXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gaWZVbmRlZmluZWQodmFsMSwgdmFsMikge1xuICAgIHJldHVybiAodmFsMSA9PT0gdW5kZWZpbmVkKSA/IHZhbDIgOiB2YWwxO1xufVxuXG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIG5vZGUgaXMgaW4gdGhlIGdpdmVuIHBhcmVudFxuICogQG1ldGhvZCBoYXNQYXJlbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHJldHVybiB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaGFzUGFyZW50KG5vZGUsIHBhcmVudCkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHNtYWxsIGluZGV4T2Ygd3JhcHBlclxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbn1cblxuLyoqXG4gKiBzcGxpdCBzdHJpbmcgb24gd2hpdGVzcGFjZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge0FycmF5fSB3b3Jkc1xuICovXG5mdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgYXJyYXkgY29udGFpbnMgdGhlIG9iamVjdCB1c2luZyBpbmRleE9mIG9yIGEgc2ltcGxlIHBvbHlGaWxsXG4gKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZpbmRCeUtleV1cbiAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluQXJyYXkoc3JjLCBmaW5kLCBmaW5kQnlLZXkpIHtcbiAgICBpZiAoc3JjLmluZGV4T2YgJiYgIWZpbmRCeUtleSkge1xuICAgICAgICByZXR1cm4gc3JjLmluZGV4T2YoZmluZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgoZmluZEJ5S2V5ICYmIHNyY1tpXVtmaW5kQnlLZXldID09IGZpbmQpIHx8ICghZmluZEJ5S2V5ICYmIHNyY1tpXSA9PT0gZmluZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaiwgMCk7XG59XG5cbi8qKlxuICogdW5pcXVlIGFycmF5IHdpdGggb2JqZWN0cyBiYXNlZCBvbiBhIGtleSAobGlrZSAnaWQnKSBvciBqdXN0IGJ5IHRoZSBhcnJheSdzIHZhbHVlXG4gKiBAcGFyYW0ge0FycmF5fSBzcmMgW3tpZDoxfSx7aWQ6Mn0se2lkOjF9XVxuICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtzb3J0PUZhbHNlXVxuICogQHJldHVybnMge0FycmF5fSBbe2lkOjF9LHtpZDoyfV1cbiAqL1xuZnVuY3Rpb24gdW5pcXVlQXJyYXkoc3JjLCBrZXksIHNvcnQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbCA9IGtleSA/IHNyY1tpXVtrZXldIDogc3JjW2ldO1xuICAgICAgICBpZiAoaW5BcnJheSh2YWx1ZXMsIHZhbCkgPCAwKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goc3JjW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWw7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiBzb3J0VW5pcXVlQXJyYXkoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gKi9cbmZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4LCBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICAgIHByZWZpeCA9IFZFTkRPUl9QUkVGSVhFU1tpXTtcbiAgICAgICAgcHJvcCA9IChwcmVmaXgpID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogZ2V0IGEgdW5pcXVlIGlkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICovXG52YXIgX3VuaXF1ZUlkID0gMTtcbmZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0RvY3VtZW50Vmlld3xXaW5kb3d9XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvd0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudDtcbiAgICByZXR1cm4gKGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93IHx8IHdpbmRvdyk7XG59XG5cbnZhciBNT0JJTEVfUkVHRVggPSAvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2k7XG5cbnZhciBTVVBQT1JUX1RPVUNIID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XG52YXIgU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyA9IHByZWZpeGVkKHdpbmRvdywgJ1BvaW50ZXJFdmVudCcpICE9PSB1bmRlZmluZWQ7XG52YXIgU1VQUE9SVF9PTkxZX1RPVUNIID0gU1VQUE9SVF9UT1VDSCAmJiBNT0JJTEVfUkVHRVgudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxudmFyIElOUFVUX1RZUEVfVE9VQ0ggPSAndG91Y2gnO1xudmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG52YXIgSU5QVVRfVFlQRV9NT1VTRSA9ICdtb3VzZSc7XG52YXIgSU5QVVRfVFlQRV9LSU5FQ1QgPSAna2luZWN0JztcblxudmFyIENPTVBVVEVfSU5URVJWQUwgPSAyNTtcblxudmFyIElOUFVUX1NUQVJUID0gMTtcbnZhciBJTlBVVF9NT1ZFID0gMjtcbnZhciBJTlBVVF9FTkQgPSA0O1xudmFyIElOUFVUX0NBTkNFTCA9IDg7XG5cbnZhciBESVJFQ1RJT05fTk9ORSA9IDE7XG52YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xudmFyIERJUkVDVElPTl9SSUdIVCA9IDQ7XG52YXIgRElSRUNUSU9OX1VQID0gODtcbnZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuXG52YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbnZhciBESVJFQ1RJT05fVkVSVElDQUwgPSBESVJFQ1RJT05fVVAgfCBESVJFQ1RJT05fRE9XTjtcbnZhciBESVJFQ1RJT05fQUxMID0gRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUw7XG5cbnZhciBQUk9QU19YWSA9IFsneCcsICd5J107XG52YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0lucHV0fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB0aGlzLnRhcmdldCA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dFRhcmdldDtcblxuICAgIC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgIC8vIHNvIHdoZW4gZGlzYWJsZWQgdGhlIGlucHV0IGV2ZW50cyBhcmUgY29tcGxldGVseSBieXBhc3NlZC5cbiAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoYm9vbE9yRm4obWFuYWdlci5vcHRpb25zLmVuYWJsZSwgW21hbmFnZXJdKSkge1xuICAgICAgICAgICAgc2VsZi5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmluaXQoKTtcblxufVxuXG5JbnB1dC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2hvdWxkIGhhbmRsZSB0aGUgaW5wdXRFdmVudCBkYXRhIGFuZCB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIGFkZEV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2VGFyZ2V0ICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMudGFyZ2V0LCB0aGlzLmV2VGFyZ2V0LCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmV2V2luICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBjYWxsZWQgYnkgdGhlIE1hbmFnZXIgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0SW5zdGFuY2UobWFuYWdlcikge1xuICAgIHZhciBUeXBlO1xuICAgIHZhciBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICBpZiAoaW5wdXRDbGFzcykge1xuICAgICAgICBUeXBlID0gaW5wdXRDbGFzcztcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMpIHtcbiAgICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaElucHV0O1xuICAgIH0gZWxzZSBpZiAoIVNVUFBPUlRfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IE1vdXNlSW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoVHlwZSkobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBoYW5kbGUgaW5wdXQgZXZlbnRzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBpbnB1dEhhbmRsZXIobWFuYWdlciwgZXZlbnRUeXBlLCBpbnB1dCkge1xuICAgIHZhciBwb2ludGVyc0xlbiA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgY2hhbmdlZFBvaW50ZXJzTGVuID0gaW5wdXQuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aDtcbiAgICB2YXIgaXNGaXJzdCA9IChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcbiAgICB2YXIgaXNGaW5hbCA9IChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAocG9pbnRlcnNMZW4gLSBjaGFuZ2VkUG9pbnRlcnNMZW4gPT09IDApKTtcblxuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICAgIG1hbmFnZXIuc2Vzc2lvbiA9IHt9O1xuICAgIH1cblxuICAgIC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG4gICAgaW5wdXQuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuXG4gICAgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG4gICAgY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCk7XG5cbiAgICAvLyBlbWl0IHNlY3JldCBldmVudFxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuXG4gICAgbWFuYWdlci5yZWNvZ25pemUoaW5wdXQpO1xuICAgIG1hbmFnZXIuc2Vzc2lvbi5wcmV2SW5wdXQgPSBpbnB1dDtcbn1cblxuLyoqXG4gKiBleHRlbmQgdGhlIGRhdGEgd2l0aCBzb21lIHVzYWJsZSBwcm9wZXJ0aWVzIGxpa2Ugc2NhbGUsIHJvdGF0ZSwgdmVsb2NpdHkgZXRjXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuYWdlclxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBzdG9yZSB0aGUgZmlyc3QgaW5wdXQgdG8gY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBhbmQgZGlyZWN0aW9uXG4gICAgaWYgKCFzZXNzaW9uLmZpcnN0SW5wdXQpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdElucHV0ID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH1cblxuICAgIC8vIHRvIGNvbXB1dGUgc2NhbGUgYW5kIHJvdGF0aW9uIHdlIG5lZWQgdG8gc3RvcmUgdGhlIG11bHRpcGxlIHRvdWNoZXNcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPiAxICYmICFzZXNzaW9uLmZpcnN0TXVsdGlwbGUpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0SW5wdXQgPSBzZXNzaW9uLmZpcnN0SW5wdXQ7XG4gICAgdmFyIGZpcnN0TXVsdGlwbGUgPSBzZXNzaW9uLmZpcnN0TXVsdGlwbGU7XG4gICAgdmFyIG9mZnNldENlbnRlciA9IGZpcnN0TXVsdGlwbGUgPyBmaXJzdE11bHRpcGxlLmNlbnRlciA6IGZpcnN0SW5wdXQuY2VudGVyO1xuXG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlciA9IGdldENlbnRlcihwb2ludGVycyk7XG4gICAgaW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgaW5wdXQuZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gZmlyc3RJbnB1dC50aW1lU3RhbXA7XG5cbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcblxuICAgIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KTtcbiAgICBpbnB1dC5vZmZzZXREaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuXG4gICAgdmFyIG92ZXJhbGxWZWxvY2l0eSA9IGdldFZlbG9jaXR5KGlucHV0LmRlbHRhVGltZSwgaW5wdXQuZGVsdGFYLCBpbnB1dC5kZWx0YVkpO1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVggPSBvdmVyYWxsVmVsb2NpdHkueDtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZID0gb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5ID0gKGFicyhvdmVyYWxsVmVsb2NpdHkueCkgPiBhYnMob3ZlcmFsbFZlbG9jaXR5LnkpKSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG5cbiAgICBpbnB1dC5zY2FsZSA9IGZpcnN0TXVsdGlwbGUgPyBnZXRTY2FsZShmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAxO1xuICAgIGlucHV0LnJvdGF0aW9uID0gZmlyc3RNdWx0aXBsZSA/IGdldFJvdGF0aW9uKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDA7XG5cbiAgICBpbnB1dC5tYXhQb2ludGVycyA9ICFzZXNzaW9uLnByZXZJbnB1dCA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6ICgoaW5wdXQucG9pbnRlcnMubGVuZ3RoID5cbiAgICAgICAgc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMpO1xuXG4gICAgY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KTtcblxuICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgdGFyZ2V0XG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoaGFzUGFyZW50KGlucHV0LnNyY0V2ZW50LnRhcmdldCwgdGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBpbnB1dC5zcmNFdmVudC50YXJnZXQ7XG4gICAgfVxuICAgIGlucHV0LnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyO1xuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgICAgICB5OiBwcmV2SW5wdXQuZGVsdGFZIHx8IDBcbiAgICAgICAgfTtcblxuICAgICAgICBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLngsXG4gICAgICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlucHV0LmRlbHRhWCA9IHByZXZEZWx0YS54ICsgKGNlbnRlci54IC0gb2Zmc2V0LngpO1xuICAgIGlucHV0LmRlbHRhWSA9IHByZXZEZWx0YS55ICsgKGNlbnRlci55IC0gb2Zmc2V0LnkpO1xufVxuXG4vKipcbiAqIHZlbG9jaXR5IGlzIGNhbGN1bGF0ZWQgZXZlcnkgeCBtc1xuICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0LFxuICAgICAgICBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcCxcbiAgICAgICAgdmVsb2NpdHksIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0NBTkNFTCAmJiAoZGVsdGFUaW1lID4gQ09NUFVURV9JTlRFUlZBTCB8fCBsYXN0LnZlbG9jaXR5ID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHZhciBkZWx0YVggPSBpbnB1dC5kZWx0YVggLSBsYXN0LmRlbHRhWDtcbiAgICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuXG4gICAgICAgIHZhciB2ID0gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCBkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgICAgdmVsb2NpdHlZID0gdi55O1xuICAgICAgICB2ZWxvY2l0eSA9IChhYnModi54KSA+IGFicyh2LnkpKSA/IHYueCA6IHYueTtcbiAgICAgICAgZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZSBsYXRlc3QgdmVsb2NpdHkgaW5mbyBpZiBpdCBkb2Vzbid0IG92ZXJ0YWtlIGEgbWluaW11bSBwZXJpb2RcbiAgICAgICAgdmVsb2NpdHkgPSBsYXN0LnZlbG9jaXR5O1xuICAgICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgICAgdmVsb2NpdHlZID0gbGFzdC52ZWxvY2l0eVk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGxhc3QuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGlucHV0LnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgaW5wdXQudmVsb2NpdHlYID0gdmVsb2NpdHlYO1xuICAgIGlucHV0LnZlbG9jaXR5WSA9IHZlbG9jaXR5WTtcbiAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG59XG5cbi8qKlxuICogY3JlYXRlIGEgc2ltcGxlIGNsb25lIGZyb20gdGhlIGlucHV0IHVzZWQgZm9yIHN0b3JhZ2Ugb2YgZmlyc3RJbnB1dCBhbmQgZmlyc3RNdWx0aXBsZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBjbG9uZWRJbnB1dERhdGFcbiAqL1xuZnVuY3Rpb24gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpIHtcbiAgICAvLyBtYWtlIGEgc2ltcGxlIGNvcHkgb2YgdGhlIHBvaW50ZXJzIGJlY2F1c2Ugd2Ugd2lsbCBnZXQgYSByZWZlcmVuY2UgaWYgd2UgZG9uJ3RcbiAgICAvLyB3ZSBvbmx5IG5lZWQgY2xpZW50WFkgZm9yIHRoZSBjYWxjdWxhdGlvbnNcbiAgICB2YXIgcG9pbnRlcnMgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBpbnB1dC5wb2ludGVycy5sZW5ndGgpIHtcbiAgICAgICAgcG9pbnRlcnNbaV0gPSB7XG4gICAgICAgICAgICBjbGllbnRYOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRYKSxcbiAgICAgICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgICBwb2ludGVyczogcG9pbnRlcnMsXG4gICAgICAgIGNlbnRlcjogZ2V0Q2VudGVyKHBvaW50ZXJzKSxcbiAgICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICAgIGRlbHRhWTogaW5wdXQuZGVsdGFZXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGNlbnRlciBvZiBhbGwgdGhlIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBwb2ludGVyc1xuICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7XG5cbiAgICAvLyBubyBuZWVkIHRvIGxvb3Agd2hlbiBvbmx5IG9uZSB0b3VjaFxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WCksXG4gICAgICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciB4ID0gMCwgeSA9IDAsIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgICAgeCArPSBwb2ludGVyc1tpXS5jbGllbnRYO1xuICAgICAgICB5ICs9IHBvaW50ZXJzW2ldLmNsaWVudFk7XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByb3VuZCh4IC8gcG9pbnRlcnNMZW5ndGgpLFxuICAgICAgICB5OiByb3VuZCh5IC8gcG9pbnRlcnNMZW5ndGgpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFUaW1lXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge09iamVjdH0gdmVsb2NpdHkgYHhgIGFuZCBgeWBcbiAqL1xuZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAvIGRlbHRhVGltZSB8fCAwLFxuICAgICAgICB5OiB5IC8gZGVsdGFUaW1lIHx8IDBcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICovXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIHJldHVybiBESVJFQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICBpZiAoYWJzKHgpID49IGFicyh5KSkge1xuICAgICAgICByZXR1cm4geCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHkgPCAwID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMSB7eCwgeX1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwMiB7eCwgeX1cbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gZGlzdGFuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2UocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG5cbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4ICogeCkgKyAoeSAqIHkpKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge09iamVjdH0gcDFcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBhbmdsZVxuICovXG5mdW5jdGlvbiBnZXRBbmdsZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5LCB4KSAqIDE4MCAvIE1hdGguUEk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIG5vIHNjYWxlIGlzIDEsIGFuZCBnb2VzIGRvd24gdG8gMCB3aGVuIHBpbmNoZWQgdG9nZXRoZXIsIGFuZCBiaWdnZXIgd2hlbiBwaW5jaGVkIG91dFxuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSBzY2FsZVxuICovXG5mdW5jdGlvbiBnZXRTY2FsZShzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldERpc3RhbmNlKGVuZFswXSwgZW5kWzFdLCBQUk9QU19DTElFTlRfWFkpIC8gZ2V0RGlzdGFuY2Uoc3RhcnRbMF0sIHN0YXJ0WzFdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG52YXIgTU9VU0VfSU5QVVRfTUFQID0ge1xuICAgIG1vdXNlZG93bjogSU5QVVRfU1RBUlQsXG4gICAgbW91c2Vtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIG1vdXNldXA6IElOUFVUX0VORFxufTtcblxudmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG52YXIgTU9VU0VfV0lORE9XX0VWRU5UUyA9ICdtb3VzZW1vdmUgbW91c2V1cCc7XG5cbi8qKlxuICogTW91c2UgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIE1vdXNlSW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG5cbiAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTsgLy8gbW91c2Vkb3duIHN0YXRlXG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1FaGFuZGxlcihldikge1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gTU9VU0VfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgUE9JTlRFUl9JTlBVVF9NQVAgPSB7XG4gICAgcG9pbnRlcmRvd246IElOUFVUX1NUQVJULFxuICAgIHBvaW50ZXJtb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHBvaW50ZXJ1cDogSU5QVVRfRU5ELFxuICAgIHBvaW50ZXJjYW5jZWw6IElOUFVUX0NBTkNFTCxcbiAgICBwb2ludGVyb3V0OiBJTlBVVF9DQU5DRUxcbn07XG5cbi8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG52YXIgSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSA9IHtcbiAgICAyOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgIDM6IElOUFVUX1RZUEVfUEVOLFxuICAgIDQ6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgNTogSU5QVVRfVFlQRV9LSU5FQ1QgLy8gc2VlIGh0dHBzOi8vdHdpdHRlci5jb20vamFjb2Jyb3NzaS9zdGF0dXMvNDgwNTk2NDM4NDg5ODkwODE2XG59O1xuXG52YXIgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdwb2ludGVyZG93bic7XG52YXIgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ3BvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuLy8gSUUxMCBoYXMgcHJlZml4ZWQgc3VwcG9ydCwgYW5kIGNhc2Utc2Vuc2l0aXZlXG5pZiAod2luZG93Lk1TUG9pbnRlckV2ZW50ICYmICF3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgUE9JTlRFUl9FTEVNRU5UX0VWRU5UUyA9ICdNU1BvaW50ZXJEb3duJztcbiAgICBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAnTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBNU1BvaW50ZXJDYW5jZWwnO1xufVxuXG4vKipcbiAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFBvaW50ZXJFdmVudElucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IFBPSU5URVJfRUxFTUVOVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFBPSU5URVJfV0lORE9XX0VWRU5UUztcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnN0b3JlID0gKHRoaXMubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHMgPSBbXSk7XG59XG5cbmluaGVyaXQoUG9pbnRlckV2ZW50SW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFBFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgICB2YXIgcmVtb3ZlUG9pbnRlciA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gUE9JTlRFUl9JTlBVVF9NQVBbZXZlbnRUeXBlTm9ybWFsaXplZF07XG4gICAgICAgIHZhciBwb2ludGVyVHlwZSA9IElFMTBfUE9JTlRFUl9UWVBFX0VOVU1bZXYucG9pbnRlclR5cGVdIHx8IGV2LnBvaW50ZXJUeXBlO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gKHBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpO1xuXG4gICAgICAgIC8vIGdldCBpbmRleCBvZiB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHZhciBzdG9yZUluZGV4ID0gaW5BcnJheShzdG9yZSwgZXYucG9pbnRlcklkLCAncG9pbnRlcklkJyk7XG5cbiAgICAgICAgLy8gc3RhcnQgYW5kIG1vdXNlIG11c3QgYmUgZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKGV2LmJ1dHRvbiA9PT0gMCB8fCBpc1RvdWNoKSkge1xuICAgICAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcmUucHVzaChldik7XG4gICAgICAgICAgICAgICAgc3RvcmVJbmRleCA9IHN0b3JlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXQgbm90IGZvdW5kLCBzbyB0aGUgcG9pbnRlciBoYXNuJ3QgYmVlbiBkb3duIChzbyBpdCdzIHByb2JhYmx5IGEgaG92ZXIpXG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RvcmVbc3RvcmVJbmRleF0gPSBldjtcblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogc3RvcmUsXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlbW92ZVBvaW50ZXIpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICAgICAgc3RvcmUuc3BsaWNlKHN0b3JlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0JztcbnZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogVG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUztcbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU2luZ2xlVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBURWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuXG4gICAgICAgIC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cbiAgICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaGVzID0gbm9ybWFsaXplU2luZ2xlVG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcblxuICAgICAgICAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU2luZ2xlVG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGwgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciBjaGFuZ2VkID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyk7XG5cbiAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xufVxuXG52YXIgVE9VQ0hfSU5QVVRfTUFQID0ge1xuICAgIHRvdWNoc3RhcnQ6IElOUFVUX1NUQVJULFxuICAgIHRvdWNobW92ZTogSU5QVVRfTU9WRSxcbiAgICB0b3VjaGVuZDogSU5QVVRfRU5ELFxuICAgIHRvdWNoY2FuY2VsOiBJTlBVVF9DQU5DRUxcbn07XG5cbnZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBNdWx0aS11c2VyIHRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBUT1VDSF9UQVJHRVRfRVZFTlRTO1xuICAgIHRoaXMudGFyZ2V0SWRzID0ge307XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTVRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFRPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbFRvdWNoZXMgPSB0b0FycmF5KGV2LnRvdWNoZXMpO1xuICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLnRhcmdldElkcztcblxuICAgIC8vIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgdG91Y2gsIHRoZSBwcm9jZXNzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0YXJnZXRJZHNbYWxsVG91Y2hlc1swXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBbYWxsVG91Y2hlcywgYWxsVG91Y2hlc107XG4gICAgfVxuXG4gICAgdmFyIGksXG4gICAgICAgIHRhcmdldFRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzID0gdG9BcnJheShldi5jaGFuZ2VkVG91Y2hlcyksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzID0gW10sXG4gICAgICAgIHRhcmdldCA9IHRoaXMudGFyZ2V0O1xuXG4gICAgLy8gZ2V0IHRhcmdldCB0b3VjaGVzIGZyb20gdG91Y2hlc1xuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbih0b3VjaCkge1xuICAgICAgICByZXR1cm4gaGFzUGFyZW50KHRvdWNoLnRhcmdldCwgdGFyZ2V0KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbGxlY3QgdG91Y2hlc1xuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0YXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIGNoYW5nZWQgdG91Y2hlcyB0byBvbmx5IGNvbnRhaW4gdG91Y2hlcyB0aGF0IGV4aXN0IGluIHRoZSBjb2xsZWN0ZWQgdGFyZ2V0IGlkc1xuICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzLnB1c2goY2hhbmdlZFRvdWNoZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYW51cCByZW1vdmVkIHRvdWNoZXNcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAgIC8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgICAgICB1bmlxdWVBcnJheSh0YXJnZXRUb3VjaGVzLmNvbmNhdChjaGFuZ2VkVGFyZ2V0VG91Y2hlcyksICdpZGVudGlmaWVyJywgdHJ1ZSksXG4gICAgICAgIGNoYW5nZWRUYXJnZXRUb3VjaGVzXG4gICAgXTtcbn1cblxuLyoqXG4gKiBDb21iaW5lZCB0b3VjaCBhbmQgbW91c2UgaW5wdXRcbiAqXG4gKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAqIFRoaXMgYmVjYXVzZSB0b3VjaCBkZXZpY2VzIGFsc28gZW1pdCBtb3VzZSBldmVudHMgd2hpbGUgZG9pbmcgYSB0b3VjaC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cblxudmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xudmFyIERFRFVQX0RJU1RBTkNFID0gMjU7XG5cbmZ1bmN0aW9uIFRvdWNoTW91c2VJbnB1dCgpIHtcbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdmFyIGhhbmRsZXIgPSBiaW5kRm4odGhpcy5oYW5kbGVyLCB0aGlzKTtcbiAgICB0aGlzLnRvdWNoID0gbmV3IFRvdWNoSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcbiAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlSW5wdXQodGhpcy5tYW5hZ2VyLCBoYW5kbGVyKTtcblxuICAgIHRoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUb3VjaGVzID0gW107XG59XG5cbmluaGVyaXQoVG91Y2hNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzXG4gICAgICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBUTUVoYW5kbGVyKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgaXNUb3VjaCA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCksXG4gICAgICAgICAgICBpc01vdXNlID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX01PVVNFKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiB3ZSdyZSBpbiBhIHRvdWNoIGV2ZW50LCByZWNvcmQgdG91Y2hlcyB0byAgZGUtZHVwZSBzeW50aGV0aWMgbW91c2UgZXZlbnRcbiAgICAgICAgaWYgKGlzVG91Y2gpIHtcbiAgICAgICAgICAgIHJlY29yZFRvdWNoZXMuY2FsbCh0aGlzLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGlucHV0RGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvdWNoLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZS5kZXN0cm95KCk7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHJlY29yZFRvdWNoZXMoZXZlbnRUeXBlLCBldmVudERhdGEpIHtcbiAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0TGFzdFRvdWNoKGV2ZW50RGF0YSkge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF07XG5cbiAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PT0gdGhpcy5wcmltYXJ5VG91Y2gpIHtcbiAgICAgICAgdmFyIGxhc3RUb3VjaCA9IHt4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZfTtcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlcy5wdXNoKGxhc3RUb3VjaCk7XG4gICAgICAgIHZhciBsdHMgPSB0aGlzLmxhc3RUb3VjaGVzO1xuICAgICAgICB2YXIgcmVtb3ZlTGFzdFRvdWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGx0cy5pbmRleE9mKGxhc3RUb3VjaCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbHRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2V0VGltZW91dChyZW1vdmVMYXN0VG91Y2gsIERFRFVQX1RJTUVPVVQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYLCB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMoeCAtIHQueCksIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG4gICAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgUFJFRklYRURfVE9VQ0hfQUNUSU9OID0gcHJlZml4ZWQoVEVTVF9FTEVNRU5ULnN0eWxlLCAndG91Y2hBY3Rpb24nKTtcbnZhciBOQVRJVkVfVE9VQ0hfQUNUSU9OID0gUFJFRklYRURfVE9VQ0hfQUNUSU9OICE9PSB1bmRlZmluZWQ7XG5cbi8vIG1hZ2ljYWwgdG91Y2hBY3Rpb24gdmFsdWVcbnZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbnZhciBUT1VDSF9BQ1RJT05fQVVUTyA9ICdhdXRvJztcbnZhciBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OID0gJ21hbmlwdWxhdGlvbic7IC8vIG5vdCBpbXBsZW1lbnRlZFxudmFyIFRPVUNIX0FDVElPTl9OT05FID0gJ25vbmUnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWCA9ICdwYW4teCc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbnZhciBUT1VDSF9BQ1RJT05fTUFQID0gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpO1xuXG4vKipcbiAqIFRvdWNoIEFjdGlvblxuICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuc2V0KHZhbHVlKTtcbn1cblxuVG91Y2hBY3Rpb24ucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWUgb24gdGhlIGVsZW1lbnQgb3IgZW5hYmxlIHRoZSBwb2x5ZmlsbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gZmluZCBvdXQgdGhlIHRvdWNoLWFjdGlvbiBieSB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgaWYgKHZhbHVlID09IFRPVUNIX0FDVElPTl9DT01QVVRFKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE5BVElWRV9UT1VDSF9BQ1RJT04gJiYgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUgJiYgVE9VQ0hfQUNUSU9OX01BUFt2YWx1ZV0pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW1BSRUZJWEVEX1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICoganVzdCByZS1zZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlIHRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IGJhc2VkIG9uIHRoZSByZWNvZ25pemVyJ3Mgc2V0dGluZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIGNvbXB1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHRoaXMubWFuYWdlci5yZWNvZ25pemVycywgZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICAgICAgaWYgKGJvb2xPckZuKHJlY29nbml6ZXIub3B0aW9ucy5lbmFibGUsIFtyZWNvZ25pemVyXSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9ucy5jb25jYXQocmVjb2duaXplci5nZXRUb3VjaEFjdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0czogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNyY0V2ZW50ID0gaW5wdXQuc3JjRXZlbnQ7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247XG5cbiAgICAgICAgLy8gaWYgdGhlIHRvdWNoIGFjdGlvbiBkaWQgcHJldmVudGVkIG9uY2UgdGhpcyBzZXNzaW9uXG4gICAgICAgIGlmICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGhhc05vbmUgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWF07XG5cbiAgICAgICAgaWYgKGhhc05vbmUpIHtcbiAgICAgICAgICAgIC8vZG8gbm90IHByZXZlbnQgZGVmYXVsdHMgaWYgdGhpcyBpcyBhIHRhcCBnZXN0dXJlXG5cbiAgICAgICAgICAgIHZhciBpc1RhcFBvaW50ZXIgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB2YXIgaXNUYXBNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgMjtcbiAgICAgICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICAgICAgaWYgKGlzVGFwUG9pbnRlciAmJiBpc1RhcE1vdmVtZW50ICYmIGlzVGFwVG91Y2hUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAgICAgLy8gYHBhbi14IHBhbi15YCBtZWFucyBicm93c2VyIGhhbmRsZXMgYWxsIHNjcm9sbGluZy9wYW5uaW5nLCBkbyBub3QgcHJldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc05vbmUgfHxcbiAgICAgICAgICAgIChoYXNQYW5ZICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB8fFxuICAgICAgICAgICAgKGhhc1BhblggJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldmVudFNyYyhzcmNFdmVudCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG4gICAgcHJldmVudFNyYzogZnVuY3Rpb24oc3JjRXZlbnQpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHdoZW4gdGhlIHRvdWNoQWN0aW9ucyBhcmUgY29sbGVjdGVkIHRoZXkgYXJlIG5vdCBhIHZhbGlkIHZhbHVlLCBzbyB3ZSBuZWVkIHRvIGNsZWFuIHRoaW5ncyB1cC4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgLy8gbm9uZVxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTk9ORSkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7XG5cbiAgICAvLyBpZiBib3RoIHBhbi14IGFuZCBwYW4teSBhcmUgc2V0IChkaWZmZXJlbnQgcmVjb2duaXplcnNcbiAgICAvLyBmb3IgZGlmZmVyZW50IGRpcmVjdGlvbnMsIGUuZy4gaG9yaXpvbnRhbCBwYW4gYnV0IHZlcnRpY2FsIHN3aXBlPylcbiAgICAvLyB3ZSBuZWVkIG5vbmUgKGFzIG90aGVyd2lzZSB3aXRoIHBhbi14IHBhbi15IGNvbWJpbmVkIG5vbmUgb2YgdGhlc2VcbiAgICAvLyByZWNvZ25pemVycyB3aWxsIHdvcmssIHNpbmNlIHRoZSBicm93c2VyIHdvdWxkIGhhbmRsZSBhbGwgcGFubmluZ1xuICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIC8vIHBhbi14IE9SIHBhbi15XG4gICAgaWYgKGhhc1BhblggfHwgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9XG5cbiAgICAvLyBtYW5pcHVsYXRpb25cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT047XG4gICAgfVxuXG4gICAgcmV0dXJuIFRPVUNIX0FDVElPTl9BVVRPO1xufVxuXG5mdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xuXG4gICAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgICAvLyBhbGwgdmFsdWVzLiBUaGlzIGlzIHRoZSBjYXNlIGZvciBJRSAxMCBhbmQgMTEuXG4gICAgICAgIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbn1cblxuLyoqXG4gKiBSZWNvZ25pemVyIGZsb3cgZXhwbGFpbmVkOyAqXG4gKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gKiBUaGUgZGVmaW5pdGlvbiBvZiBhIGlucHV0IHNlc3Npb24gaXMgZnJvbSB0aGUgZmlyc3QgaW5wdXQgdW50aWwgdGhlIGxhc3QgaW5wdXQsIHdpdGggYWxsIGl0J3MgbW92ZW1lbnQgaW4gaXQuICpcbiAqIEV4YW1wbGUgc2Vzc2lvbiBmb3IgbW91c2UtaW5wdXQ6IG1vdXNlZG93biAtPiBtb3VzZW1vdmUgLT4gbW91c2V1cFxuICpcbiAqIE9uIGVhY2ggcmVjb2duaXppbmcgY3ljbGUgKHNlZSBNYW5hZ2VyLnJlY29nbml6ZSkgdGhlIC5yZWNvZ25pemUoKSBtZXRob2QgaXMgZXhlY3V0ZWRcbiAqIHdoaWNoIGRldGVybWluZXMgd2l0aCBzdGF0ZSBpdCBzaG91bGQgYmUuXG4gKlxuICogSWYgdGhlIHJlY29nbml6ZXIgaGFzIHRoZSBzdGF0ZSBGQUlMRUQsIENBTkNFTExFRCBvciBSRUNPR05JWkVEIChlcXVhbHMgRU5ERUQpLCBpdCBpcyByZXNldCB0b1xuICogUE9TU0lCTEUgdG8gZ2l2ZSBpdCBhbm90aGVyIGNoYW5nZSBvbiB0aGUgbmV4dCBjeWNsZS5cbiAqXG4gKiAgICAgICAgICAgICAgIFBvc3NpYmxlXG4gKiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAqICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgKy0tLS0tKy0tLS0tKyAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAqICAgRmFpbGVkICAgICAgQ2FuY2VsbGVkICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLSstLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgUmVjb2duaXplZCAgICAgICBCZWdhblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5kZWQvUmVjb2duaXplZFxuICovXG52YXIgU1RBVEVfUE9TU0lCTEUgPSAxO1xudmFyIFNUQVRFX0JFR0FOID0gMjtcbnZhciBTVEFURV9DSEFOR0VEID0gNDtcbnZhciBTVEFURV9FTkRFRCA9IDg7XG52YXIgU1RBVEVfUkVDT0dOSVpFRCA9IFNUQVRFX0VOREVEO1xudmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xudmFyIFNUQVRFX0ZBSUxFRCA9IDMyO1xuXG4vKipcbiAqIFJlY29nbml6ZXJcbiAqIEV2ZXJ5IHJlY29nbml6ZXIgbmVlZHMgdG8gZXh0ZW5kIGZyb20gdGhpcyBjbGFzcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMuaWQgPSB1bmlxdWVJZCgpO1xuXG4gICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcblxuICAgIC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcbiAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gaWZVbmRlZmluZWQodGhpcy5vcHRpb25zLmVuYWJsZSwgdHJ1ZSk7XG5cbiAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG5cbiAgICB0aGlzLnNpbXVsdGFuZW91cyA9IHt9O1xuICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbn1cblxuUmVjb2duaXplci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7fSxcblxuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZWNvZ25pemVyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuICAgICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaW11bHRhbmVvdXMgPSB0aGlzLnNpbXVsdGFuZW91cztcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgICAgICBzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSA9IG90aGVyUmVjb2duaXplcjtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZWNvZ25pemVXaXRoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSBzaW11bHRhbmVvdXMgbGluay4gaXQgZG9lc250IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIHJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVpcmVGYWlsID0gdGhpcy5yZXF1aXJlRmFpbDtcbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcXVpcmVGYWlsLnB1c2gob3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgICAgIG90aGVyUmVjb2duaXplci5yZXF1aXJlRmFpbHVyZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgcmVxdWlyZUZhaWx1cmUgbGluay4gaXQgZG9lcyBub3QgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlcXVpcmVGYWlsdXJlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZXF1aXJlRmFpbHVyZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGggPiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgcmVjb2duaXplciBjYW4gcmVjb2duaXplIHNpbXVsdGFuZW91cyB3aXRoIGFuIG90aGVyIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNhblJlY29nbml6ZVdpdGg6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIHVzZSBgdHJ5RW1pdGAgaW5zdGVhZCBvZiBgZW1pdGAgZGlyZWN0bHkgdG8gY2hlY2tcbiAgICAgKiB0aGF0IGFsbCB0aGUgbmVlZGVkIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQgYmVmb3JlIGVtaXR0aW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ3BhbnN0YXJ0JyBhbmQgJ3Bhbm1vdmUnXG4gICAgICAgIGlmIChzdGF0ZSA8IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCk7IC8vIHNpbXBsZSAnZXZlbnROYW1lJyBldmVudHNcblxuICAgICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7IC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICAgICAgZW1pdChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuZW5kIGFuZCBwYW5jYW5jZWxcbiAgICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgdHJ5RW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbiB3ZSBlbWl0P1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNhbkVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMucmVxdWlyZUZhaWxbaV0uc3RhdGUgJiAoU1RBVEVfRkFJTEVEIHwgU1RBVEVfUE9TU0lCTEUpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIC8vIG1ha2UgYSBuZXcgY29weSBvZiB0aGUgaW5wdXREYXRhXG4gICAgICAgIC8vIHNvIHdlIGNhbiBjaGFuZ2UgdGhlIGlucHV0RGF0YSB3aXRob3V0IG1lc3NpbmcgdXAgdGhlIG90aGVyIHJlY29nbml6ZXJzXG4gICAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbih7fSwgaW5wdXREYXRhKTtcblxuICAgICAgICAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cbiAgICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gd2UndmUgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX1JFQ09HTklaRUQgfCBTVEFURV9DQU5DRUxMRUQgfCBTVEFURV9GQUlMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5wcm9jZXNzKGlucHV0RGF0YUNsb25lKTtcblxuICAgICAgICAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgICAgLy8gc28gdHJpZ2dlciBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCB8IFNUQVRFX0NBTkNFTExFRCkpIHtcbiAgICAgICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBzdGF0ZSBvZiB0aGUgcmVjb2duaXplclxuICAgICAqIHRoZSBhY3R1YWwgcmVjb2duaXppbmcgaGFwcGVucyBpbiB0aGlzIG1ldGhvZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqIEByZXR1cm5zIHtDb25zdH0gU1RBVEVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dERhdGEpIHsgfSwgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHByZWZlcnJlZCB0b3VjaC1hY3Rpb25cbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZ2VzdHVyZSBpc24ndCBhbGxvd2VkIHRvIHJlY29nbml6ZVxuICAgICAqIGxpa2Ugd2hlbiBhbm90aGVyIGlzIGJlaW5nIHJlY29nbml6ZWQgb3IgaXQgaXMgZGlzYWJsZWRcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHsgfVxufTtcblxuLyoqXG4gKiBnZXQgYSB1c2FibGUgc3RyaW5nLCB1c2VkIGFzIGV2ZW50IHBvc3RmaXhcbiAqIEBwYXJhbSB7Q29uc3R9IHN0YXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdGF0ZVxuICovXG5mdW5jdGlvbiBzdGF0ZVN0cihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSAmIFNUQVRFX0NBTkNFTExFRCkge1xuICAgICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICAgIHJldHVybiAnZW5kJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQ0hBTkdFRCkge1xuICAgICAgICByZXR1cm4gJ21vdmUnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9CRUdBTikge1xuICAgICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGRpcmVjdGlvbiBjb25zIHRvIHN0cmluZ1xuICogQHBhcmFtIHtDb25zdH0gZGlyZWN0aW9uXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBkaXJlY3Rpb25TdHIoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9VUCkge1xuICAgICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fTEVGVCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCBhIHJlY29nbml6ZXIgYnkgbmFtZSBpZiBpdCBpcyBib3VuZCB0byBhIG1hbmFnZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gKiBAcmV0dXJucyB7UmVjb2duaXplcn1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHJlY29nbml6ZXIpIHtcbiAgICB2YXIgbWFuYWdlciA9IHJlY29nbml6ZXIubWFuYWdlcjtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gbWFuYWdlci5nZXQob3RoZXJSZWNvZ25pemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG90aGVyUmVjb2duaXplcjtcbn1cblxuLyoqXG4gKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gQXR0clJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KEF0dHJSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvblBvaW50ZXJzID0gdGhpcy5vcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IGlucHV0LmV2ZW50VHlwZTtcblxuICAgICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLmF0dHJUZXN0KGlucHV0KTtcblxuICAgICAgICAvLyBvbiBjYW5jZWwgaW5wdXQgYW5kIHdlJ3ZlIHJlY29nbml6ZWQgYmVmb3JlLCByZXR1cm4gU1RBVEVfQ0FOQ0VMTEVEXG4gICAgICAgIGlmIChpc1JlY29nbml6ZWQgJiYgKGV2ZW50VHlwZSAmIElOUFVUX0NBTkNFTCB8fCAhaXNWYWxpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NBTkNFTExFRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlY29nbml6ZWQgfHwgaXNWYWxpZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0VOREVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBhblxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gYW5kIG1vdmVkIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGFuUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5wWCA9IG51bGw7XG4gICAgdGhpcy5wWSA9IG51bGw7XG59XG5cbmluaGVyaXQoUGFuUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBhblJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BhbicsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9BTExcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9LFxuXG4gICAgZGlyZWN0aW9uVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGlucHV0LmRpc3RhbmNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdmFyIHkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgLy8gbG9jayB0byBheGlzP1xuICAgICAgICBpZiAoIShkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHggPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeCA8IDApID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB4ICE9IHRoaXMucFg7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeSA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh5IDwgMCkgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHkgIT0gdGhpcy5wWTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICByZXR1cm4gaGFzTW92ZWQgJiYgZGlzdGFuY2UgPiBvcHRpb25zLnRocmVzaG9sZCAmJiBkaXJlY3Rpb24gJiBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBBdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgICh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4gfHwgKCEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKSk7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG5cbiAgICAgICAgdGhpcy5wWCA9IGlucHV0LmRlbHRhWDtcbiAgICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0LmRpcmVjdGlvbik7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGluY2hcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVycyBhcmUgbW92aW5nIHRvd2FyZCAoem9vbS1pbikgb3IgYXdheSBmcm9tIGVhY2ggb3RoZXIgKHpvb20tb3V0KS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUGluY2hSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwaW5jaCcsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5zY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGluT3V0ID0gaW5wdXQuc2NhbGUgPCAxID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQcmVzc1xuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvd24gZm9yIHggbXMgd2l0aG91dCBhbnkgbW92ZW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUHJlc3NSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG59XG5cbmluaGVyaXQoUHJlc3NSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQcmVzc1JlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3ByZXNzJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRpbWU6IDI1MSwgLy8gbWluaW1hbCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIHByZXNzZWRcbiAgICAgICAgdGhyZXNob2xkOiA5IC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAoIXZhbGlkTW92ZW1lbnQgfHwgIXZhbGlkUG9pbnRlcnMgfHwgKGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWUsIHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyAndXAnLCBpbnB1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUm90YXRlXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBSb3RhdGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoUm90YXRlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFJvdGF0ZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3JvdGF0ZScsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgcG9pbnRlcnM6IDJcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBTd2lwZVxuICogUmVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmluZyBmYXN0ICh2ZWxvY2l0eSksIHdpdGggZW5vdWdoIGRpc3RhbmNlIGluIHRoZSBhbGxvd2VkIGRpcmVjdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gU3dpcGVSZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoU3dpcGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgU3dpcGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiAoRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHlZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICBkaXJlY3Rpb24gJiBpbnB1dC5vZmZzZXREaXJlY3Rpb24gJiZcbiAgICAgICAgICAgIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJlxuICAgICAgICAgICAgaW5wdXQubWF4UG9pbnRlcnMgPT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmXG4gICAgICAgICAgICBhYnModmVsb2NpdHkpID4gdGhpcy5vcHRpb25zLnZlbG9jaXR5ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORDtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5vZmZzZXREaXJlY3Rpb24pO1xuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEEgdGFwIGlzIGVjb2duaXplZCB3aGVuIHRoZSBwb2ludGVyIGlzIGRvaW5nIGEgc21hbGwgdGFwL2NsaWNrLiBNdWx0aXBsZSB0YXBzIGFyZSByZWNvZ25pemVkIGlmIHRoZXkgb2NjdXJcbiAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICogYSBzaW5nbGUgdGFwLlxuICpcbiAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICogbXVsdGktdGFwcyBiZWluZyByZWNvZ25pemVkLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFRhcFJlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgIC8vIHVzZWQgZm9yIHRhcCBjb3VudGluZ1xuICAgIHRoaXMucFRpbWUgPSBmYWxzZTtcbiAgICB0aGlzLnBDZW50ZXIgPSBmYWxzZTtcblxuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5jb3VudCA9IDA7XG59XG5cbmluaGVyaXQoVGFwUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGluY2hSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICd0YXAnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGFwczogMSxcbiAgICAgICAgaW50ZXJ2YWw6IDMwMCwgLy8gbWF4IHRpbWUgYmV0d2VlbiB0aGUgbXVsdGktdGFwIHRhcHNcbiAgICAgICAgdGltZTogMjUwLCAvLyBtYXggdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBkb3duIChsaWtlIGZpbmdlciBvbiB0aGUgc2NyZWVuKVxuICAgICAgICB0aHJlc2hvbGQ6IDksIC8vIGEgbWluaW1hbCBtb3ZlbWVudCBpcyBvaywgYnV0IGtlZXAgaXQgbG93XG4gICAgICAgIHBvc1RocmVzaG9sZDogMTAgLy8gYSBtdWx0aS10YXAgY2FuIGJlIGEgYml0IG9mZiB0aGUgaW5pdGlhbCBwb3NpdGlvblxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfSxcblxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkgJiYgKHRoaXMuY291bnQgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgICAgLy8gYW5kIHdlJ3ZlIHJlYWNoZWQgYW4gZW5kIGV2ZW50LCBzbyBhIHRhcCBpcyBwb3NzaWJsZVxuICAgICAgICBpZiAodmFsaWRNb3ZlbWVudCAmJiB2YWxpZFRvdWNoVGltZSAmJiB2YWxpZFBvaW50ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9IElOUFVUX0VORCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZEludGVydmFsID0gdGhpcy5wVGltZSA/IChpbnB1dC50aW1lU3RhbXAgLSB0aGlzLnBUaW1lIDwgb3B0aW9ucy5pbnRlcnZhbCkgOiB0cnVlO1xuICAgICAgICAgICAgdmFyIHZhbGlkTXVsdGlUYXAgPSAhdGhpcy5wQ2VudGVyIHx8IGdldERpc3RhbmNlKHRoaXMucENlbnRlciwgaW5wdXQuY2VudGVyKSA8IG9wdGlvbnMucG9zVGhyZXNob2xkO1xuXG4gICAgICAgICAgICB0aGlzLnBUaW1lID0gaW5wdXQudGltZVN0YW1wO1xuICAgICAgICAgICAgdGhpcy5wQ2VudGVyID0gaW5wdXQuY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgICAgICAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgICAgICAvLyBlbHNlIGl0IGhhcyBiZWdhbiByZWNvZ25pemluZy4uLlxuICAgICAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcbiAgICAgICAgICAgIGlmICh0YXBDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGZhaWxpbmcgcmVxdWlyZW1lbnRzLCBpbW1lZGlhdGVseSB0cmlnZ2VyIHRoZSB0YXAgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3YWl0IGFzIGxvbmcgYXMgdGhlIG11bHRpdGFwIGludGVydmFsIHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlFbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIGZhaWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCwgdGhpcy5faW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogU2ltcGxlIHdheSB0byBjcmVhdGUgYSBtYW5hZ2VyIHdpdGggYSBkZWZhdWx0IHNldCBvZiByZWNvZ25pemVycy5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIYW1tZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMucmVjb2duaXplcnMgPSBpZlVuZGVmaW5lZChvcHRpb25zLnJlY29nbml6ZXJzLCBIYW1tZXIuZGVmYXVsdHMucHJlc2V0KTtcbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkhhbW1lci5WRVJTSU9OID0gJzIuMC43JztcblxuLyoqXG4gKiBkZWZhdWx0IHNldHRpbmdzXG4gKiBAbmFtZXNwYWNlXG4gKi9cbkhhbW1lci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkvZmFsbGJhY2suXG4gICAgICogV2hlbiBzZXQgdG8gYGNvbXB1dGVgIGl0IHdpbGwgbWFnaWNhbGx5IHNldCB0aGUgY29ycmVjdCB2YWx1ZSBiYXNlZCBvbiB0aGUgYWRkZWQgcmVjb2duaXplcnMuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCBjb21wdXRlXG4gICAgICovXG4gICAgdG91Y2hBY3Rpb246IFRPVUNIX0FDVElPTl9DT01QVVRFLFxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGVuYWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZvcmNlIGFuIGlucHV0IGNsYXNzXG4gICAgICogQHR5cGUge051bGx8RnVuY3Rpb259XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0Q2xhc3M6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlY29nbml6ZXIgc2V0dXAgd2hlbiBjYWxsaW5nIGBIYW1tZXIoKWBcbiAgICAgKiBXaGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIgdGhlc2Ugd2lsbCBiZSBza2lwcGVkLlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICBwcmVzZXQ6IFtcbiAgICAgICAgLy8gUmVjb2duaXplckNsYXNzLCBvcHRpb25zLCBbcmVjb2duaXplV2l0aCwgLi4uXSwgW3JlcXVpcmVGYWlsdXJlLCAuLi5dXG4gICAgICAgIFtSb3RhdGVSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX1dLFxuICAgICAgICBbUGluY2hSZWNvZ25pemVyLCB7ZW5hYmxlOiBmYWxzZX0sIFsncm90YXRlJ11dLFxuICAgICAgICBbU3dpcGVSZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH1dLFxuICAgICAgICBbUGFuUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9LCBbJ3N3aXBlJ11dLFxuICAgICAgICBbVGFwUmVjb2duaXplcl0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyLCB7ZXZlbnQ6ICdkb3VibGV0YXAnLCB0YXBzOiAyfSwgWyd0YXAnXV0sXG4gICAgICAgIFtQcmVzc1JlY29nbml6ZXJdXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIFNvbWUgQ1NTIHByb3BlcnRpZXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSB0aGUgd29ya2luZyBvZiBIYW1tZXIuXG4gICAgICogQWRkIHRoZW0gdG8gdGhpcyBtZXRob2QgYW5kIHRoZXkgd2lsbCBiZSBzZXQgd2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyLlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICBjc3NQcm9wczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGV4dCBzZWxlY3Rpb24gdG8gaW1wcm92ZSB0aGUgZHJhZ2dpbmcgZ2VzdHVyZS4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZSB0aGUgV2luZG93cyBQaG9uZSBncmlwcGVycyB3aGVuIHByZXNzaW5nIGFuIGVsZW1lbnQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hTZWxlY3Q6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGRlZmF1bHQgY2FsbG91dCBzaG93biB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldC5cbiAgICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgICAqIGEgY2FsbG91dCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsaW5rLiBUaGlzIHByb3BlcnR5IGFsbG93cyB5b3UgdG8gZGlzYWJsZSB0aGF0IGNhbGxvdXQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdG91Y2hDYWxsb3V0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIHpvb21pbmcgaXMgZW5hYmxlZC4gVXNlZCBieSBJRTEwPlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRlbnRab29taW5nOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGF0IGFuIGVudGlyZSBlbGVtZW50IHNob3VsZCBiZSBkcmFnZ2FibGUgaW5zdGVhZCBvZiBpdHMgY29udGVudHMuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyRHJhZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZXMgdGhlIGhpZ2hsaWdodCBjb2xvciBzaG93biB3aGVuIHRoZSB1c2VyIHRhcHMgYSBsaW5rIG9yIGEgSmF2YVNjcmlwdFxuICAgICAgICAgKiBjbGlja2FibGUgZWxlbWVudCBpbiBpT1MuIFRoaXMgcHJvcGVydHkgb2JleXMgdGhlIGFscGhhIHZhbHVlLCBpZiBzcGVjaWZpZWQuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdyZ2JhKDAsMCwwLDApJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6ICdyZ2JhKDAsMCwwLDApJ1xuICAgIH1cbn07XG5cbnZhciBTVE9QID0gMTtcbnZhciBGT1JDRURfU1RPUCA9IDI7XG5cbi8qKlxuICogTWFuYWdlclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hbmFnZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgSGFtbWVyLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTtcblxuICAgIHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCA9IHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldCB8fCBlbGVtZW50O1xuXG4gICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICB0aGlzLm9sZENzc1Byb3BzID0ge307XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuaW5wdXQgPSBjcmVhdGVJbnB1dEluc3RhbmNlKHRoaXMpO1xuICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcblxuICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuXG4gICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHJlY29nbml6ZXIgPSB0aGlzLmFkZChuZXcgKGl0ZW1bMF0pKGl0ZW1bMV0pKTtcbiAgICAgICAgaXRlbVsyXSAmJiByZWNvZ25pemVyLnJlY29nbml6ZVdpdGgoaXRlbVsyXSk7XG4gICAgICAgIGl0ZW1bM10gJiYgcmVjb2duaXplci5yZXF1aXJlRmFpbHVyZShpdGVtWzNdKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuTWFuYWdlci5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBhc3NpZ24odGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBPcHRpb25zIHRoYXQgbmVlZCBhIGxpdHRsZSBtb3JlIHNldHVwXG4gICAgICAgIGlmIChvcHRpb25zLnRvdWNoQWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlucHV0VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBldmVudCBsaXN0ZW5lcnMgYW5kIHJlaW5pdGlhbGl6ZVxuICAgICAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnRhcmdldCA9IG9wdGlvbnMuaW5wdXRUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc3RvcCByZWNvZ25pemluZyBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAqIFRoaXMgc2Vzc2lvbiB3aWxsIGJlIGRpc2NhcmRlZCwgd2hlbiBhIG5ldyBbaW5wdXRdc3RhcnQgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogV2hlbiBmb3JjZWQsIHRoZSByZWNvZ25pemVyIGN5Y2xlIGlzIHN0b3BwZWQgaW1tZWRpYXRlbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZm9yY2VdXG4gICAgICovXG4gICAgc3RvcDogZnVuY3Rpb24oZm9yY2UpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnN0b3BwZWQgPSBmb3JjZSA/IEZPUkNFRF9TVE9QIDogU1RPUDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcnVuIHRoZSByZWNvZ25pemVycyFcbiAgICAgKiBjYWxsZWQgYnkgdGhlIGlucHV0SGFuZGxlciBmdW5jdGlvbiBvbiBldmVyeSBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlcnMgKHRvdWNoZXMpXG4gICAgICogaXQgd2Fsa3MgdGhyb3VnaCBhbGwgdGhlIHJlY29nbml6ZXJzIGFuZCB0cmllcyB0byBkZXRlY3QgdGhlIGdlc3R1cmUgdGhhdCBpcyBiZWluZyBtYWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIHJlY29nbml6ZTogZnVuY3Rpb24oaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBydW4gdGhlIHRvdWNoLWFjdGlvbiBwb2x5ZmlsbFxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnByZXZlbnREZWZhdWx0cyhpbnB1dERhdGEpO1xuXG4gICAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuXG4gICAgICAgIC8vIHRoaXMgaG9sZHMgdGhlIHJlY29nbml6ZXIgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAgIC8vIGlmIG5vIHJlY29nbml6ZXIgaXMgZGV0ZWN0aW5nIGEgdGhpbmcsIGl0IGlzIHNldCB0byBgbnVsbGBcbiAgICAgICAgdmFyIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXI7XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB0aGUgbGFzdCByZWNvZ25pemVyIGlzIHJlY29nbml6ZWRcbiAgICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCAoY3VyUmVjb2duaXplciAmJiBjdXJSZWNvZ25pemVyLnN0YXRlICYgU1RBVEVfUkVDT0dOSVpFRCkpIHtcbiAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHJlY29nbml6ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVjb2duaXplciA9IHJlY29nbml6ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBmaW5kIG91dCBpZiB3ZSBhcmUgYWxsb3dlZCB0cnkgdG8gcmVjb2duaXplIHRoZSBpbnB1dCBmb3IgdGhpcyBvbmUuXG4gICAgICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgICAgIC8vIDIuICAgYWxsb3cgaWYgd2Ugc3RpbGwgaGF2ZW4ndCByZWNvZ25pemVkIGEgZ2VzdHVyZSBpbiB0aGlzIHNlc3Npb24sIG9yIHRoZSB0aGlzIHJlY29nbml6ZXIgaXMgdGhlIG9uZVxuICAgICAgICAgICAgLy8gICAgICB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgICAgIC8vICAgICAgdGhpcyBjYW4gYmUgc2V0dXAgd2l0aCB0aGUgYHJlY29nbml6ZVdpdGgoKWAgbWV0aG9kIG9uIHRoZSByZWNvZ25pemVyLlxuICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICAgICAgICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT0gY3VyUmVjb2duaXplciB8fCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIuY2FuUmVjb2duaXplV2l0aChjdXJSZWNvZ25pemVyKSkpIHsgLy8gM1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29nbml6ZXIgaGFzIGJlZW4gcmVjb2duaXppbmcgdGhlIGlucHV0IGFzIGEgdmFsaWQgZ2VzdHVyZSwgd2Ugd2FudCB0byBzdG9yZSB0aGlzIG9uZSBhcyB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuICAgICAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IHJlY29nbml6ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXIgaW5zdGFuY2VvZiBSZWNvZ25pemVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZWNvZ25pemVyc1tpXS5vcHRpb25zLmV2ZW50ID09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFkZCBhIHJlY29nbml6ZXIgdG8gdGhlIG1hbmFnZXJcbiAgICAgKiBleGlzdGluZyByZWNvZ25pemVycyB3aXRoIHRoZSBzYW1lIGV2ZW50IG5hbWUgd2lsbCBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TWFuYWdlcn1cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdhZGQnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmdcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gdGhpcy5nZXQocmVjb2duaXplci5vcHRpb25zLmV2ZW50KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShleGlzdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICAgIHJlY29nbml6ZXIubWFuYWdlciA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhIHJlY29nbml6ZXIgYnkgbmFtZSBvciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsICdyZW1vdmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvZ25pemVyID0gdGhpcy5nZXQocmVjb2duaXplcik7XG5cbiAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHRoaXMgcmVjb2duaXplciBleGlzdHNcbiAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCByZWNvZ25pemVyKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlY29nbml6ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyc1tldmVudF0gfHwgW107XG4gICAgICAgICAgICBoYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgZXZlbnQsIGxlYXZlIGVtaXQgYmxhbmsgdG8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl1cbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG4gICAgb2ZmOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgICBlYWNoKHNwbGl0U3RyKGV2ZW50cyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGVtaXQgZXZlbnQgdG8gdGhlIGxpc3RlbmVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgLy8gd2UgYWxzbyB3YW50IHRvIHRyaWdnZXIgZG9tIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGhhbmRsZXJzLCBzbyBza2lwIGl0IGFsbFxuICAgICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuICAgICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEudHlwZSA9IGV2ZW50O1xuICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbaV0oZGF0YSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgbWFuYWdlciBhbmQgdW5iaW5kcyBhbGwgZXZlbnRzXG4gICAgICogaXQgZG9lc24ndCB1bmJpbmQgZG9tIGV2ZW50cywgdGhhdCBpcyB0aGUgdXNlciBvd24gcmVzcG9uc2liaWxpdHlcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gYWRkXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZUNzc1Byb3BzKG1hbmFnZXIsIGFkZCkge1xuICAgIHZhciBlbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICBwcm9wID0gcHJlZml4ZWQoZWxlbWVudC5zdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmIChhZGQpIHtcbiAgICAgICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gPSBlbGVtZW50LnN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgJyc7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxufVxuXG4vKipcbiAqIHRyaWdnZXIgZG9tIGV2ZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSkge1xuICAgIHZhciBnZXN0dXJlRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xufVxuXG5hc3NpZ24oSGFtbWVyLCB7XG4gICAgSU5QVVRfU1RBUlQ6IElOUFVUX1NUQVJULFxuICAgIElOUFVUX01PVkU6IElOUFVUX01PVkUsXG4gICAgSU5QVVRfRU5EOiBJTlBVVF9FTkQsXG4gICAgSU5QVVRfQ0FOQ0VMOiBJTlBVVF9DQU5DRUwsXG5cbiAgICBTVEFURV9QT1NTSUJMRTogU1RBVEVfUE9TU0lCTEUsXG4gICAgU1RBVEVfQkVHQU46IFNUQVRFX0JFR0FOLFxuICAgIFNUQVRFX0NIQU5HRUQ6IFNUQVRFX0NIQU5HRUQsXG4gICAgU1RBVEVfRU5ERUQ6IFNUQVRFX0VOREVELFxuICAgIFNUQVRFX1JFQ09HTklaRUQ6IFNUQVRFX1JFQ09HTklaRUQsXG4gICAgU1RBVEVfQ0FOQ0VMTEVEOiBTVEFURV9DQU5DRUxMRUQsXG4gICAgU1RBVEVfRkFJTEVEOiBTVEFURV9GQUlMRUQsXG5cbiAgICBESVJFQ1RJT05fTk9ORTogRElSRUNUSU9OX05PTkUsXG4gICAgRElSRUNUSU9OX0xFRlQ6IERJUkVDVElPTl9MRUZULFxuICAgIERJUkVDVElPTl9SSUdIVDogRElSRUNUSU9OX1JJR0hULFxuICAgIERJUkVDVElPTl9VUDogRElSRUNUSU9OX1VQLFxuICAgIERJUkVDVElPTl9ET1dOOiBESVJFQ1RJT05fRE9XTixcbiAgICBESVJFQ1RJT05fSE9SSVpPTlRBTDogRElSRUNUSU9OX0hPUklaT05UQUwsXG4gICAgRElSRUNUSU9OX1ZFUlRJQ0FMOiBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgRElSRUNUSU9OX0FMTDogRElSRUNUSU9OX0FMTCxcblxuICAgIE1hbmFnZXI6IE1hbmFnZXIsXG4gICAgSW5wdXQ6IElucHV0LFxuICAgIFRvdWNoQWN0aW9uOiBUb3VjaEFjdGlvbixcblxuICAgIFRvdWNoSW5wdXQ6IFRvdWNoSW5wdXQsXG4gICAgTW91c2VJbnB1dDogTW91c2VJbnB1dCxcbiAgICBQb2ludGVyRXZlbnRJbnB1dDogUG9pbnRlckV2ZW50SW5wdXQsXG4gICAgVG91Y2hNb3VzZUlucHV0OiBUb3VjaE1vdXNlSW5wdXQsXG4gICAgU2luZ2xlVG91Y2hJbnB1dDogU2luZ2xlVG91Y2hJbnB1dCxcblxuICAgIFJlY29nbml6ZXI6IFJlY29nbml6ZXIsXG4gICAgQXR0clJlY29nbml6ZXI6IEF0dHJSZWNvZ25pemVyLFxuICAgIFRhcDogVGFwUmVjb2duaXplcixcbiAgICBQYW46IFBhblJlY29nbml6ZXIsXG4gICAgU3dpcGU6IFN3aXBlUmVjb2duaXplcixcbiAgICBQaW5jaDogUGluY2hSZWNvZ25pemVyLFxuICAgIFJvdGF0ZTogUm90YXRlUmVjb2duaXplcixcbiAgICBQcmVzczogUHJlc3NSZWNvZ25pemVyLFxuXG4gICAgb246IGFkZEV2ZW50TGlzdGVuZXJzLFxuICAgIG9mZjogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgaW5oZXJpdDogaW5oZXJpdCxcbiAgICBiaW5kRm46IGJpbmRGbixcbiAgICBwcmVmaXhlZDogcHJlZml4ZWRcbn0pO1xuXG4vLyB0aGlzIHByZXZlbnRzIGVycm9ycyB3aGVuIEhhbW1lciBpcyBsb2FkZWQgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRFxuLy8gIHN0eWxlIGxvYWRlciBidXQgYnkgc2NyaXB0IHRhZywgbm90IGJ5IHRoZSBsb2FkZXIuXG52YXIgZnJlZUdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6ICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5mcmVlR2xvYmFsLkhhbW1lciA9IEhhbW1lcjtcblxuaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEhhbW1lcjtcbiAgICB9KTtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5BdWRpb0NvbnRleHQ7ICsreCkge1xuICB3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93W3ZlbmRvcnNbeF0rJ0F1ZGlvQ29udGV4dCddO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5BdWRpb0NvbnRleHQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIHJlbW92ZUV4dGVuc2lvbihwYXRoKXtcbiAgLy8gb25seSBzdHJpcHMgb2ZmIGV4dGVuc2lvbnMgdGhhdCBoYXZlIGxlbmd0aCBvZiA0IG9yIGxlc3NcbiAgLy8gcmVnZXggZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTgzMTAvcmVndWxhci1leHByZXNzaW9uLXRvLXJlbW92ZS1hLWZpbGVzLWV4dGVuc2lvblxuICByZXR1cm4gcGF0aC5yZXBsYWNlKC8oLiopXFwuW14uXXsxLDR9JC8sICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVFeHRlbnNpb247XG4iLCJjb25zdCBhdmVyYWdlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy9hdmVyYWdlUG9pbnRzJyk7XG5jb25zdCBkZWdyZWVzVG9SYWRpYW5zID0gcmVxdWlyZSgnLi91dGlscy9kZWdyZWVzVG9SYWRpYW5zJyk7XG5jb25zdCByYWRpYW5zVG9EZWdyZWVzID0gcmVxdWlyZSgnLi91dGlscy9yYWRpYW5zVG9EZWdyZWVzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4vdXRpbHMvcG9pbnRJblBvbHlnb24nKTtcbmNvbnN0IGRpc3RhbmNlID0gcmVxdWlyZSgnLi91dGlscy9kaXN0YW5jZScpO1xuY29uc3QgZGVncmVlc0Zyb21DZW50ZXIgPSByZXF1aXJlKCcuL3V0aWxzL2RlZ3JlZXNGcm9tQ2VudGVyJyk7XG5jb25zdCByYWRpYW5zRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vdXRpbHMvcmFkaWFuc0Zyb21DZW50ZXInKTtcbmNvbnN0IHNjYWxlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy9zY2FsZVBvaW50cycpO1xuY29uc3QgdHJhbnNsYXRlUG9pbnRzID0gcmVxdWlyZSgnLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcbmNvbnN0IGluc2lkZUNhbnZhcyA9IHJlcXVpcmUoJy4vdXRpbHMvaW5zaWRlQ2FudmFzJyk7XG5jb25zdCByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyJyk7XG5jb25zdCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyID0gcmVxdWlyZSgnLi91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyJyk7XG5cblxuLyoqXG4gKiBNYXRoIHV0aWxpdHkgbGlicmFyaWVzXG4gKiBAZXhwb3J0cyB1dGlsc1xuICovXG5jb25zdCB1dGlscyA9IHtcbiAgLyoqXG4gICAqIEdldHMgdGhlIGF2ZXJhZ2UgcG9pbnQgdmFsdWUgaW4gYW4gYXJyYXkgb2YgcG9pbnRzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXNcbiAgICovXG4gIGF2ZXJhZ2VQb2ludHMsXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgZGVncmVlcyB0byByYWlkYW5zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlc1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gcmFkaWFuc1xuICAgKi9cbiAgZGVncmVlc1RvUmFkaWFucyxcblxuICAvKipcbiAgICogQ29udmVydCByYWRpYW5zIHRvIGRlZ3JlZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiBkZWdyZWVzXG4gICAqL1xuICByYWRpYW5zVG9EZWdyZWVzLFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbiBhIHBvbHlnb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvbHlnb24gQXJyYXkgb2YgcG9pbnRzXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvblxuICAgKi9cbiAgcG9pbnRJblBvbHlnb24sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludDEgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQyIE9iamVjdCB3aXRoIGFuIHggYW5kIHkgdmFsdWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgZGlzdGFuY2VcbiAgICovXG4gIGRpc3RhbmNlLFxuXG4gIC8qKlxuICAgKiBEZWdyZWVzIGEgcG9pbnQgaXMgb2Zmc2V0IGZyb20gYSBjZW50ZXIgcG9pbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjZW50ZXIgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgdmFsdWUgaW4gZGVncmVlc1xuICAgKi9cbiAgZGVncmVlc0Zyb21DZW50ZXIsXG5cbiAgLyoqXG4gICAqIFJhZGlhbnMgYSBwb2ludCBpcyBvZmZzZXQgZnJvbSBhIGNlbnRlciBwb2ludFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSB2YWx1ZSBpbiByYWRpYW5zXG4gICAqL1xuICByYWRpYW5zRnJvbUNlbnRlcixcblxuICAvKipcbiAgICogU2NhbGUgYSBwb2ludCBvciBhcnJheSBvZiBwb2ludHMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcG9pbnRzIEEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzY2FsZSBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdHxBcnJheX0gQSBzY2FsZWQgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqL1xuICBzY2FsZVBvaW50cyxcblxuICAvKipcbiAgICogVHJhbnNsYXRlIGEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcG9pbnRzIEEgcG9pbnQgb3IgYXJyYXkgb2YgcG9pbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvZmZzZXQgT2JqZWN0IHdpdGggYW4geCBhbmQgeSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtPYmplY3R8QXJyYXl9IEEgdHJhbnNsYXRlZCBwb2ludCBvciBhcnJheSBvZiBwb2ludHNcbiAgICovXG4gIHRyYW5zbGF0ZVBvaW50cyxcblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBhIHBvaW50IGlzIGluc2lkZSBhIGNhbnZhc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50IEEgcG9pbnQgdG8gdGVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzIE9iamVjdCB3aXRoIGhlaWdodCBhbmQgd2lkdGggcHJvcGVydGllc1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIGluc2lkZSBjYW52YXMgZWxzZSBmYWxzZVxuICAgKi9cbiAgaW5zaWRlQ2FudmFzLFxuXG4gIC8qKlxuICAgKiBHZXQgYSBwb2ludCBiYXNlZCBhcm91bmQgdGhlIHJvdGF0aW9uIGluIHJhZGlhbnMgb2Ygb25lIHBvaW50IGFyb3VuZCBhIGNlbnRlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBhbiBhbmdsZSBpbiByYWRpYW5zXG4gICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgcG9pbnQgdGhhdCBoYXMgYmVlbiByb3RhdGVkXG4gICAqL1xuICByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyLFxuXG4gIC8qKlxuICAgKiBHZXQgYSBwb2ludCBiYXNlZCBhcm91bmQgdGhlIHJvdGF0aW9uIGluIGRlZ3JlZXMgb2Ygb25lIHBvaW50IGFyb3VuZCBhIGNlbnRlclxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNlbnRlciBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBPYmplY3Qgd2l0aCBhbiB4IGFuZCB5IHZhbHVlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBhbiBhbmdsZSBpbiBkZWdyZWVzXG4gICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgcG9pbnQgdGhhdCBoYXMgYmVlbiByb3RhdGVkXG4gICAqL1xuICByb3RhdGVEZWdyZWVzQXJvdW5kQ2VudGVyLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlscztcbiIsIlxuZnVuY3Rpb24gYXZlcmFnZVBvaW50cyhwb2ludHMpe1xuICB2YXIgcmV0VmFsID0ge3g6IDAsIHk6IDB9O1xuICBwb2ludHMuZm9yRWFjaChwb2ludHMsIGZ1bmN0aW9uKHBvaW50KXtcbiAgICByZXRWYWwueCs9IHBvaW50Lng7XG4gICAgcmV0VmFsLnkrPSBwb2ludC55O1xuICB9KTtcbiAgcmV0VmFsLnggPSByZXRWYWwueCAvIHBvaW50cy5sZW5ndGg7XG4gIHJldFZhbC55ID0gcmV0VmFsLnkgLyBwb2ludHMubGVuZ3RoO1xuICByZXR1cm4gcmV0VmFsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGF2ZXJhZ2VQb2ludHM7XG4iLCJjb25zdCByYWRpYW5zVG9EZWdyZWVzID0gcmVxdWlyZSgnLi9yYWRpYW5zVG9EZWdyZWVzJyk7XG5jb25zdCByYWRpYW5zRnJvbUNlbnRlciA9IHJlcXVpcmUoJy4vcmFkaWFuc0Zyb21DZW50ZXInKTtcblxuZnVuY3Rpb24gZGVncmVlc0Zyb21DZW50ZXIoY2VudGVyLCBwdCl7XG4gIHJldHVybiByYWRpYW5zVG9EZWdyZWVzKHJhZGlhbnNGcm9tQ2VudGVyKGNlbnRlciwgcHQpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWdyZWVzRnJvbUNlbnRlcjtcbiIsImNvbnN0IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIgPSByZXF1aXJlKCcuL3JvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXInKTtcbmNvbnN0IGRlZ3JlZXNUb1JhZGlhbnMgPSByZXF1aXJlKCcuL2RlZ3JlZXNUb1JhZGlhbnMnKTsgXG5cbmZ1bmN0aW9uIHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXIoY2VudGVyLCBwdCwgYW5nbGUpIHtcbiAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoY2VudGVyLCBwdCwgZGVncmVlc1RvUmFkaWFucyhhbmdsZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdGF0ZURlZ3JlZXNBcm91bmRDZW50ZXI7IiwiLyoqXG4gKiBUaGlzIHR5cGUgb2Ygc3ByaXRlIGlzIGJhc2VkIG9mZiBvZiB0aGUgZXhjZWxsZW50IGltYWdlcyBmcm9tIFJlaW5lcidzIHRpbGVzZXRzOiBodHRwOi8vd3d3LnJlaW5lcnN0aWxlc2V0cy5kZS9cbiAqIDxicj5cbiAqIGNyZWF0dXJlcyBoYXZlIHdhbGtpbmcsIGlkbGUsIGFuZCBkeWluZyBhbmltYXRpb25zIGluIDggaXNvbWV0cmljIGRpcmVjdGlvbnNcbiAqIFRoZSBhbmltYXRpb25zIGRpcmVjdGlvbnMgYXJlIGluIEUsTixORSxOVyxTLFNFLFNXLFcgKGFscGhhYmV0aWNhbCkgb3JkZXIgc2ltcGx5IGJlY2F1c2UgdGhhdCdzXG4gKiBob3cgdGhleSB3ZXJlIHN0aXRjaGVkIHRvZ2V0aGVyIHVzaW5nIEltYWdlTWFnaWNrLlxuICpcbiAqIEBuYW1lIENyZWF0dXJlXG4gKiBAY29uc3RydWN0b3IgQ3JlYXR1cmVcbiAqIEBleHRlbmRzIFNwcml0ZVxuICovXG5cbmNvbnN0IFNwcml0ZSA9IHJlcXVpcmUoJy4uL1Nwcml0ZScpO1xuY29uc3QgQW5pbWF0aW9uID0gcmVxdWlyZSgnLi4vQW5pbWF0aW9uJyk7XG5cblxuLyoqXG4qIEEgbWFwIG9mIHN0YXRpYyBjb25zdGFudHMgZm9yIGludGVybmFsIHVzZVxuKiBAdHlwZSB7T2JqZWN0fVxuKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBFQVNUIGEgZGlyZWN0aW9uIHRoZSBjcmVhdHVyZSBjYW4gZmFjZVxuKiBAcHJvcGVydHkge051bWJlcn0gTk9SVEggYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSEVBU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBOT1JUSFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTT1VUSCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIRUFTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFNPVVRIV0VTVCBhIGRpcmVjdGlvbiB0aGUgY3JlYXR1cmUgY2FuIGZhY2VcbiogQHByb3BlcnR5IHtOdW1iZXJ9IFdFU1QgYSBkaXJlY3Rpb24gdGhlIGNyZWF0dXJlIGNhbiBmYWNlXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9XQUxLSU5HIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKiBAcHJvcGVydHkge051bWJlcn0gU1RBVEVfRFlJTkcgYSBzdGF0ZSB0aGUgY3JlYXR1cmUgY2FuIGJlIGluXG4qIEBwcm9wZXJ0eSB7TnVtYmVyfSBTVEFURV9JRExFIGEgc3RhdGUgdGhlIGNyZWF0dXJlIGNhbiBiZSBpblxuKi9cbmNvbnN0IEVBU1QgPSAwO1xuY29uc3QgTk9SVEggPSAxO1xuY29uc3QgTk9SVEhFQVNUID0gMjtcbmNvbnN0IE5PUlRIV0VTVCA9IDM7XG5jb25zdCBTT1VUSCA9IDQ7XG5jb25zdCBTT1VUSEVBU1QgPSA1O1xuY29uc3QgU09VVEhXRVNUID0gNjtcbmNvbnN0IFdFU1QgPSA3O1xuY29uc3QgU1RBVEVfV0FMS0lORyA9IDA7XG5jb25zdCBTVEFURV9EWUlORyA9IDE7XG5jb25zdCBTVEFURV9JRExFID0gMjtcblxuXG5jbGFzcyBDcmVhdHVyZSBleHRlbmRzIFNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjcmVhdHVyZS4gV2lsbCBiZSBhIHZhbHVlIGZyb20gdGhlIHN0YXRpYyBjb25zdGFudHMuXG4gICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgICogQGRlZmF1bHRcbiAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9JRExFO1xuXG4gICAgLyoqXG4gICAgKiBBbiBhcnJheSBvZiBBbmltYXRpb24gb2JqZWN0cyAob25lIGZvciBlYWNoIGRpcmVjdGlvbikgdG8gZGlzcGxheSB0aGUgY3JlYXR1cmUgaW4gYSB3YWxraW5nIHN0YXRlXG4gICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgKiBAbWVtYmVyT2YgQ3JlYXR1cmUjXG4gICAgKiBAZGVmYXVsdFxuICAgICovXG4gICAgdGhpcy53YWxraW5nQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGEgZHlpbmcgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmR5aW5nQW5pbXMgPSBbXTtcblxuICAgIC8qKlxuICAgICogQW4gYXJyYXkgb2YgQW5pbWF0aW9uIG9iamVjdHMgKG9uZSBmb3IgZWFjaCBkaXJlY3Rpb24pIHRvIGRpc3BsYXkgdGhlIGNyZWF0dXJlIGluIGFuIGlkbGUgc3RhdGVcbiAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmlkbGVBbmltcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgKiBUaGUgY3VycmVudCBkaXJlY3Rpb24gdGhhdCB0aGUgY3JlYXR1cmUgaXMgcG9pbnRlZC4gV2lsbCBiZSBhIHZhbHVlIGZyb20gdGhlIHN0YXRpYyBjb25zdGFuc3RzLlxuICAgICogQHR5cGUge051bWJlcn1cbiAgICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICAqIEBkZWZhdWx0XG4gICAgKi9cbiAgICB0aGlzLmRpcmVjdGlvbiA9IEVBU1Q7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhpcyBjcmVhdHVyZSdzIGN1cnJlbnQgZGlyZWN0aW9uIChmcmFtZSksIGFuZCBjaGFuZ2VzIHdoaWNoIGFuaW1hdGlvbiBpdCBzaG91bGQgYmUgdXNpbmcgaWYgbmVjY2VzYXJ5LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENyZWF0dXJlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gZWxhcHNlZFRpbWUgRWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgdXBkYXRlRGlyZWN0aW9uKGVsYXBzZWRUaW1lKXtcbiAgICB0aGlzLnggKz0gdGhpcy5keCAqIGVsYXBzZWRUaW1lO1xuICAgIHRoaXMueSArPSB0aGlzLmR5ICogZWxhcHNlZFRpbWU7XG5cbiAgICBpZih0aGlzLnN0YXRlICE9PSB0aGlzLnN0YXRpY3MuU1RBVEVfRFlJTkcpe1xuICAgICAgaWYodGhpcy5keCA+IDAgJiYgdGhpcy5keSA9PT0gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLkVBU1Q7XG4gICAgICB9IGVsc2UgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5IDwgMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLk5PUlRIO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPiAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEhFQVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPCAwICYmIHRoaXMuZHkgPCAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuTk9SVEhXRVNUO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZHggPT09IDAgJiYgdGhpcy5keSA+IDApe1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuc3RhdGljcy5TT1VUSDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4ID4gMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIRUFTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5ID4gMCl7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5zdGF0aWNzLlNPVVRIV0VTVDtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmR4IDwgMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLnN0YXRpY3MuV0VTVDtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5keCA9PT0gMCAmJiB0aGlzLmR5ID09PSAwKXtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGljcy5TVEFURV9JRExFO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGljcy5TVEFURV9XQUxLSU5HO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgY3JlYXR1cmUncyBjdXJyZW50IGFuaW1hdGlvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVsYXBzZWRUaW1lIEVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHVwZGF0ZUFuaW1hdGlvbnMoZWxhcHNlZFRpbWUpe1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IHRoaXMuc3RhdGljcy5TVEFURV9XQUxLSU5HKXtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMud2Fsa2luZ0FuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9IGVsc2UgaWYodGhpcy5zdGF0ZSA9PT0gdGhpcy5zdGF0aWNzLlNUQVRFX0RZSU5HKXtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMuZHlpbmdBbmltc1t0aGlzLmRpcmVjdGlvbl07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYW5pbSA9IHRoaXMuaWRsZUFuaW1zW3RoaXMuZGlyZWN0aW9uXTtcbiAgICB9XG4gICAgdGhpcy5hbmltLnVwZGF0ZShlbGFwc2VkVGltZSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBjcmVhdGUgYW5pbWF0aW9ucyBmcm9tIGEgc2hlZXQgb2YgdGlsZXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBDcmVhdHVyZSNcbiAgICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUNvdW50IE51bWJlciBvZiBmcmFtZXMgaW4gdGhlIGFuaW1hdGlvblxuICAgKiBAcGFyYW0gIHtOdW1iZXJ8QXJyYXl9IGZyYW1lVGltZXMgVmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYW1vdW50IG9mIHRpbWUgcGVyIGZyYW1lXG4gICAqIEBwYXJhbSAge0ltYWdlfSBpbWcgSW1hZ2Ugc2hlZXQgdG8gY3JlYXRlIGFuaW1hdGlvbiBmcm9tXG4gICAqIEBwYXJhbSAge051bWJlcn0gdyBXaWR0aCBvZiBlYWNoIHRpbGUgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSAge051bWJlcn0gaCBIZWlnaHQgb2YgZWFjaCB0aWxlIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHlTbG90IFNsb3Qgb24gWSBheGlzIHRvIHN0YXJ0IGNyZWF0aW5nIHRpbGVzXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBBbmltYXRpb25zIGdlbmVyYXRlZCB1c2luZyBwYXJhbWV0ZXJzXG4gICAqL1xuICBjcmVhdGVBbmltYXRpb25zKGZyYW1lQ291bnQsIGZyYW1lVGltZXMsIGltZywgaCwgdywgeVNsb3Qpe1xuICAgIHZhciBhbmltcyA9IFtdO1xuICAgIHZhciBpc0ZUQXJyYXkgPSBBcnJheS5pc0FycmF5KGZyYW1lVGltZXMpO1xuICAgIHZhciBjdXJyZW50RnJhbWVUaW1lID0gMTtcbiAgICBpZigheVNsb3Qpe1xuICAgICAgeVNsb3QgPSAwO1xuICAgIH1cbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgODsgaSsrKXtcbiAgICAgIGFuaW1zW2ldID0gbmV3IEFuaW1hdGlvbih7XG4gICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgd2lkdGg6IHcsXG4gICAgICAgIGltYWdlOiBpbWdcbiAgICAgIH0pO1xuICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGZyYW1lQ291bnQ7IGorKyl7XG4gICAgICAgIGlmKGlzRlRBcnJheSl7XG4gICAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXNbal07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudEZyYW1lVGltZSA9IGZyYW1lVGltZXM7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbXNbaV0uYWRkRnJhbWUoY3VycmVudEZyYW1lVGltZSwgaiArIGZyYW1lQ291bnQgKiBpLCB5U2xvdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmltcztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENyZWF0dXJlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBDaXJjbGUgPSByZXF1aXJlKCcuL2VudGl0aWVzL0NpcmNsZScpO1xuY29uc3QgTXVsdGlQb2x5Z29uID0gcmVxdWlyZSgnLi9lbnRpdGllcy9NdWx0aVBvbHlnb24nKTtcbmNvbnN0IFBvbHlnb24gPSByZXF1aXJlKCcuL2VudGl0aWVzL1BvbHlnb24nKTtcbmNvbnN0IFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vZW50aXRpZXMvUmVjdGFuZ2xlJyk7XG5cbnZhciBlbnRpdGllcyA9IHtcbiAgQ2lyY2xlLFxuICBNdWx0aVBvbHlnb24sXG4gIFBvbHlnb24sXG4gIFJlY3RhbmdsZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRpdGllcztcbiIsIi8qKlxuICogVGhpcyBFbnRpdHkgaXMgZm9yIGJ1aWxkaW5nIGNvbXBsZXggYW5kIHBvc3NpYmx5IGNvbmNhdmUgc2hhcGVzXG4gKiBAbmFtZSBNdWx0aVBvbHlnb25cbiAqIEBjb25zdHJ1Y3RvciBNdWx0aVBvbHlnb25cbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5jb25zdCBzY2FsZVBvaW50cyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3NjYWxlUG9pbnRzJyk7XG5jb25zdCBwb2ludEluUG9seWdvbiA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3BvaW50SW5Qb2x5Z29uJyk7XG5jb25zdCB0cmFuc2xhdGVQb2ludHMgPSByZXF1aXJlKCcuLi8uLi91dGlscy90cmFuc2xhdGVQb2ludHMnKTtcblxuY2xhc3MgTXVsdGlQb2x5Z29uIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHBvbHlnb25zXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLnBvbHlzID0gW107XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIGVhY2ggcG9seWdvbiBpbiB0aGUgZW50aXR5XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgTXVsdGlQb2x5Z29uI1xuICAgKiBAcGFyYW0ge0NvbnRleHR9IGN0eCB0aGUgSFRNTDUgMmQgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgc2NhbGUgdG8gZHJhdyB0aGUgZW50aXR5IGF0XG4gICAqL1xuICBkcmF3KGN0eCwgc2NhbGUpe1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIHZhciBvZ0xpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGg7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnggKiBzY2FsZSwgdGhpcy55ICogc2NhbGUpO1xuICAgIGN0eC5yb3RhdGUodGhpcy5hbmdsZSk7XG4gICAgY3R4LnRyYW5zbGF0ZSgtKHRoaXMueCkgKiBzY2FsZSwgLSh0aGlzLnkpICogc2NhbGUpO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IHRoaXMucG9seXMubGVuZ3RoOyBqKyspe1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygodGhpcy54ICsgdGhpcy5wb2x5c1tqXVswXS54KSAqIHNjYWxlLCAodGhpcy55ICsgdGhpcy5wb2x5c1tqXVswXS55KSAqIHNjYWxlKTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2x5c1tqXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgY3R4LmxpbmVUbygodGhpcy5wb2x5c1tqXVtpXS54ICsgdGhpcy54KSAqIHNjYWxlLCAodGhpcy5wb2x5c1tqXVtpXS55ICsgdGhpcy55KSAqIHNjYWxlKTtcbiAgICAgIH1cbiAgICAgIGN0eC5saW5lVG8oKHRoaXMueCArIHRoaXMucG9seXNbal1bMF0ueCkgKiBzY2FsZSwgKHRoaXMueSArIHRoaXMucG9seXNbal1bMF0ueSkgKiBzY2FsZSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIE11bHRpUG9seWdvbiNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5wb2x5cyA9IHNjYWxlUG9pbnRzKHRoaXMucG9seXMsIHNjYWxlKTtcbiAgICBzdXAuc2NhbGVTaGFwZShzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIE11bHRpUG9seWdvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBNdWx0aVBvbHlnb24jXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludCBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IHZhbHVlcy5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb2ludCBpcyBpbiBzaGFwZSBlbHNlIGZhbHNlXG4gICAqL1xuICBwb2ludEluU2hhcGUocG9pbnQpe1xuICAgIGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLnBvbHlzLmxlbmd0aDsgaisrKXtcbiAgICAgIGlmKHBvaW50SW5Qb2x5Z29uKHBvaW50LCB0cmFuc2xhdGVQb2ludHModGhpcy5wb2x5c1tqXSwgdGhpcykpKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gTXVsdGlQb2x5Z29uO1xuIiwiLyoqXG4gKiBUaGlzIEVudGl0eSByZXByZXNlbnRzIGEgUmVjdGFuZ2xlXG4gKiBAbmFtZSBSZWN0YW5nbGVcbiAqIEBjb25zdHJ1Y3RvciBSZWN0YW5nbGVcbiAqIEBleHRlbmRzIEVudGl0eVxuICovXG5cbmNvbnN0IEVudGl0eSA9IHJlcXVpcmUoJy4vRW50aXR5Jyk7XG5cbmNsYXNzIFJlY3RhbmdsZSBleHRlbmRzIEVudGl0eSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBIYWxmIG9mIHRoZSBSZWN0YW5nbGUncyB0b3RhbCB3aWR0aFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGFsZldpZHRoID0gMTtcbiAgICAvKipcbiAgICAgKiBIYWxmIG9mIHRoZSBSZWN0YW5nbGUncyB0b3RhbCB3aWR0aFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuaGFsZkhlaWdodCA9IDE7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBSZWN0YW5nbGUgYXQgYSBnaXZlbiBzY2FsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICogQHBhcmFtIHtDb250ZXh0fSBjdHggVGhlIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgVGhlIHNjYWxlIGF0IHdoaWNoIHRvIGRyYXdcbiAgICovXG4gIGRyYXcoY3R4LCBzY2FsZSl7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgdmFyIG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgKHRoaXMueC10aGlzLmhhbGZXaWR0aCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLnktdGhpcy5oYWxmSGVpZ2h0KSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZldpZHRoKjIpICogc2NhbGUsXG4gICAgICAodGhpcy5oYWxmSGVpZ2h0KjIpICogc2NhbGVcbiAgICApO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgKHRoaXMueC10aGlzLmhhbGZXaWR0aCkgKiBzY2FsZSxcbiAgICAgICh0aGlzLnktdGhpcy5oYWxmSGVpZ2h0KSAqIHNjYWxlLFxuICAgICAgKHRoaXMuaGFsZldpZHRoKjIpICogc2NhbGUsXG4gICAgICAodGhpcy5oYWxmSGVpZ2h0KjIpICogc2NhbGVcbiAgICApO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9nTGluZVdpZHRoO1xuICAgIHN1cGVyLmRyYXcoY3R4LCBzY2FsZSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGUgdGhpcyBzaGFwZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJlY3RhbmdsZSNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIFRoZSBhbW91bnQgdGhlIHNoYXBlIHNob3VsZCBzY2FsZVxuICAgKi9cbiAgc2NhbGVTaGFwZShzY2FsZSl7XG4gICAgdGhpcy5oYWxmSGVpZ2h0ID0gdGhpcy5oYWxmSGVpZ2h0ICogc2NhbGU7XG4gICAgdGhpcy5oYWxmV2lkdGggPSB0aGlzLmhhbGZXaWR0aCAqIHNjYWxlO1xuICAgIHN1cGVyLnNjYWxlU2hhcGUoc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUmVjdGFuZ2xlI1xuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnQgQW4gb2JqZWN0IHdpdGggeCBhbmQgeSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcG9pbnQgaXMgaW4gc2hhcGUgZWxzZSBmYWxzZVxuICAgKi9cbiAgcG9pbnRJblNoYXBlKHBvaW50KXtcbiAgICByZXR1cm4gKChwb2ludC54ID49ICh0aGlzLnggLSB0aGlzLmhhbGZXaWR0aCkpICYmIChwb2ludC54IDw9ICh0aGlzLnggKyB0aGlzLmhhbGZXaWR0aCkpICYmIChwb2ludC55ID49ICh0aGlzLnkgLSB0aGlzLmhhbGZIZWlnaHQpKSAmJiAocG9pbnQueSA8PSAodGhpcy55ICsgdGhpcy5oYWxmSGVpZ2h0KSkpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjdGFuZ2xlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEaXN0YW5jZSA9IHJlcXVpcmUoJy4vam9pbnRzL0Rpc3RhbmNlJyk7XG5jb25zdCBQcmlzbWF0aWMgPSByZXF1aXJlKCcuL2pvaW50cy9QcmlzbWF0aWMnKTtcbmNvbnN0IFJldm9sdXRlID0gcmVxdWlyZSgnLi9qb2ludHMvUmV2b2x1dGUnKTtcblxudmFyIGpvaW50cyA9IHtcbiAgRGlzdGFuY2UsXG4gIFByaXNtYXRpYyxcbiAgUmV2b2x1dGVcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gam9pbnRzO1xuIiwiLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgYSBkaXN0YW5jZSBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIHR5cGUgb2Ygam9pbnQgZm9yY2VzIHR3byBib2RpZXMgdG8ga2VlcCBhIGNvbnN0YW50IGRpc3RhbmNlIGZvciBlYWNoIG90aGVyLlxuICogQG5hbWUgRGlzdGFuY2VcbiAqIEBjb25zdHJ1Y3RvciBEaXN0YW5jZVxuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMkRpc3RhbmNlSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJEaXN0YW5jZUpvaW50RGVmO1xuXG5jbGFzcyBEaXN0YW5jZSBleHRlbmRzIEpvaW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcbiAgICBzdXBlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEEgcG9pbnQgb24gdGhlIHNlY29uZCBlbnRpdHkgd2hlcmUgdGhlIGpvaW50IHdpbGwgYmUgYXR0YWNoZWQuIElmIG5vIHBvaW50IGlzIHNwZWNpZmllZCwgdGhlIHNlY29uZCBib2R5IHdpbGwgYmUgYXR0YWNoZWQgYXQgaXRzIGNlbnRlciBwb2ludC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBEaXN0YW5jZSNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRoaXMuYm9keVBvaW50MiA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxlcyB0aGUgcG9zaXRpb25zIGJvZGllcyB0aGF0IHRoZSBqb2ludCBhcmUgY29ubmVjdGVkIGF0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIERpc3RhbmNlI1xuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIHNjYWxlIHRvIG11bHRpcGx5IHRoZSBkaW1lbnRpb25zIGJ5XG4gICAqL1xuICBzY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpe1xuICAgIGlmKHNjYWxlICYmIHRoaXMuYm9keVBvaW50Mil7XG4gICAgICB0aGlzLmJvZHlQb2ludDIueCA9IHRoaXMuYm9keVBvaW50Mi54ICogc2NhbGU7XG4gICAgICB0aGlzLmJvZHlQb2ludDIueSA9IHRoaXMuYm9keVBvaW50Mi55ICogc2NhbGU7XG4gICAgICB0aGlzLmFscmVhZHlTY2FsZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzdXBlci5zY2FsZUpvaW50TG9jYXRpb24oc2NhbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgRGlzdGFuY2UjXG4gICAqIEBwYXJhbSB7Qm94fSB0aGUgYm94IGluIHdoaWNoIHRvIGNyZWF0ZSB0aGUgam9pbnQuXG4gICAqIEByZXR1cm4ge2IySm9pbnR9IEpvaW50IGNyZWF0ZWQgYnkgYm94MmRcbiAgICovXG4gIGNyZWF0ZUIySm9pbnQoYm94KXtcbiAgICBpZihib3ggJiYgYm94LmJvZGllc01hcCAmJiBib3guYjJXb3JsZCAmJiBib3guam9pbnRzTWFwICYmICFib3guam9pbnRzTWFwW3RoaXMuaWRdKXtcbiAgICAgIGNvbnN0IGJvZHkxID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDFdO1xuICAgICAgY29uc3QgYm9keTIgPSBib3guYm9kaWVzTWFwW3RoaXMuYm9keUlkMl07XG4gICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgIGxldCB2ZWMxLCB2ZWMyO1xuICAgICAgICBpZih0aGlzLmJvZHlQb2ludDEpe1xuICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQyKXtcbiAgICAgICAgICB2ZWMyID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDIueCwgdGhpcy5ib2R5UG9pbnQyLnkpO1xuICAgICAgICB9XG4gICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIHZlYzIgPSB2ZWMyIHx8IGJvZHkyLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGpvaW50ID0gbmV3IEIyRGlzdGFuY2VKb2ludERlZigpO1xuICAgICAgICBqb2ludC5Jbml0aWFsaXplKGJvZHkxLCBib2R5MiwgdmVjMSwgdmVjMik7XG5cbiAgICAgICAgaWYgKHRoaXMuam9pbnRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3guYjJXb3JsZC5DcmVhdGVKb2ludChqb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGlzdGFuY2U7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIHByaXNtYXRpYyBqb2ludCBiZXR3ZWVuIHR3byBib2RpZXMuXG4gKiBUaGlzIHR5cGUgb2Ygam9pbnQgZm9yY2VzIGEgYm9keSB0byBrZWVwIGl0cyBhbmdsZSByb3RhdGlvbiBjb25zaXRlbnQgd2l0aCBhbm90aGVyIGJvZHlcbiAqIEBuYW1lIFByaXNtYXRpY1xuICogQGNvbnN0cnVjdG9yIFByaXNtYXRpY1xuICogQGV4dGVuZHMgSm9pbnRcbiAqL1xuXG5jb25zdCBKb2ludCA9IHJlcXVpcmUoJy4vSm9pbnQnKTtcblxuLy8gYm94MmQgZ2xvYmFsc1xuY29uc3QgQjJWZWMyID0gQm94MkQuQ29tbW9uLk1hdGguYjJWZWMyO1xuY29uc3QgQjJQcmlzbWF0aWNKb2ludERlZiA9IEJveDJELkR5bmFtaWNzLkpvaW50cy5iMlByaXNtYXRpY0pvaW50RGVmO1xuXG5jbGFzcyBQcmlzbWF0aWMgZXh0ZW5kcyBKb2ludCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3Qgd2l0aCB4IGFuZCB5IG51bWVyaWMgY29tcG9uZW50cyByZXByZXNlbnRpbmcgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGVudGl0aWVzIGNhbiBtb3ZlIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBQcmlzbWF0aWMjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmF4aXNTY2FsZSA9IG51bGw7XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIGFkZHMgdGhpcyBqb2ludCBpbiB0aGUgQm94MmQgd29ybGQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgUHJpc21hdGljI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICBjb25zdCBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgIGNvbnN0IGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgaWYoYm9keTEgJiYgYm9keTIpe1xuICAgICAgICBsZXQgdmVjMTtcbiAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICB2ZWMxID0gbmV3IEIyVmVjMih0aGlzLmJvZHlQb2ludDEueCwgdGhpcy5ib2R5UG9pbnQxLnkpO1xuICAgICAgICB9XG4gICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgIHZhciBqb2ludCA9IG5ldyBCMlByaXNtYXRpY0pvaW50RGVmKCk7XG4gICAgICAgIHZhciBheGlzO1xuICAgICAgICBpZih0aGlzLmF4aXNTY2FsZSl7XG4gICAgICAgICAgYXhpcyA9IG5ldyBCMlZlYzIodGhpcy5heGlzU2NhbGUueCwgdGhpcy5heGlzU2NhbGUueSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGF4aXMgPSBuZXcgQjJWZWMyKDEsIDApO1xuICAgICAgICB9XG4gICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCBheGlzKTtcblxuICAgICAgICBpZiAodGhpcy5qb2ludEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGpvaW50LCB0aGlzLmpvaW50QXR0cmlidXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJveC5iMldvcmxkLkNyZWF0ZUpvaW50KGpvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcmlzbWF0aWM7XG4iLCIvKipcbiAqIFRoaXMgcmVwcmVzZW50cyBhIHJldm9sdXRlIGpvaW50IGJldHdlZW4gdHdvIGJvZGllcy5cbiAqIFRoaXMgYWxsb3cgZm9yIHJvdGF0aW9uIG9mIG9uZSBib2R5IGFyb3VuZCBhIHBvaW50IG9mIGFub3RoZXIuXG4gKiBAbmFtZSBSZXZvbHV0ZVxuICogQGNvbnN0cnVjdG9yIFJldm9sdXRlXG4gKiBAZXh0ZW5kcyBKb2ludFxuICovXG5cbmNvbnN0IEpvaW50ID0gcmVxdWlyZSgnLi9Kb2ludCcpO1xuXG4vLyBib3gyZCBnbG9iYWxzXG5jb25zdCBCMlZlYzIgPSBCb3gyRC5Db21tb24uTWF0aC5iMlZlYzI7XG5jb25zdCBCMlJldm9sdXRlSm9pbnREZWYgPSBCb3gyRC5EeW5hbWljcy5Kb2ludHMuYjJSZXZvbHV0ZUpvaW50RGVmO1xuXG5cbmNsYXNzIFJldm9sdXRlIGV4dGVuZHMgSm9pbnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pe1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBhZGRzIHRoaXMgam9pbnQgaW4gdGhlIEJveDJkIHdvcmxkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIFJldm9sdXRlI1xuICAgKiBAcGFyYW0ge0JveH0gdGhlIGJveCBpbiB3aGljaCB0byBjcmVhdGUgdGhlIGpvaW50LlxuICAgKiBAcmV0dXJuIHtiMkpvaW50fSBKb2ludCBjcmVhdGVkIGJ5IGJveDJkXG4gICAqL1xuICBjcmVhdGVCMkpvaW50KGJveCl7XG4gICAgaWYoYm94ICYmIGJveC5ib2RpZXNNYXAgJiYgYm94LmIyV29ybGQgJiYgYm94LmpvaW50c01hcCAmJiAhYm94LmpvaW50c01hcFt0aGlzLmlkXSl7XG4gICAgICAgIHZhciBib2R5MSA9IGJveC5ib2RpZXNNYXBbdGhpcy5ib2R5SWQxXTtcbiAgICAgICAgdmFyIGJvZHkyID0gYm94LmJvZGllc01hcFt0aGlzLmJvZHlJZDJdO1xuICAgICAgICBpZihib2R5MSAmJiBib2R5Mil7XG4gICAgICAgICAgdmFyIHZlYzE7XG4gICAgICAgICAgaWYodGhpcy5ib2R5UG9pbnQxKXtcbiAgICAgICAgICAgIHZlYzEgPSBuZXcgQjJWZWMyKHRoaXMuYm9keVBvaW50MS54LCB0aGlzLmJvZHlQb2ludDEueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZlYzEgPSB2ZWMxIHx8IGJvZHkxLkdldFdvcmxkQ2VudGVyKCk7XG4gICAgICAgICAgdmFyIGpvaW50ID0gbmV3IEIyUmV2b2x1dGVKb2ludERlZigpO1xuICAgICAgICAgIHZhciBheGlzO1xuICAgICAgICAgIGpvaW50LkluaXRpYWxpemUoYm9keTEsIGJvZHkyLCB2ZWMxLCBheGlzKTtcblxuICAgICAgICAgIGlmICh0aGlzLmpvaW50QXR0cmlidXRlcykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihqb2ludCwgdGhpcy5qb2ludEF0dHJpYnV0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYm94LmIyV29ybGQuQ3JlYXRlSm9pbnQoam9pbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJldm9sdXRlO1xuIiwiLyoqXG4gKiBUaGlzIGNvbnRhY3QgbGlzdGVuZXIgZm9yIHRoZSBCb3gyZCB3b3JsZCBhc3NpZ25zIGNvbGxpc2lvbiBvYmplY3RzIHRvIGVudGl0aWVzIHdoZW4gdGhleSBjb2xsaWRlLlxuICogQG5hbWUgQ29udGFjdFxuICogQGNvbnN0cnVjdG9yIENvbnRhY3RcbiAqL1xuXG5jbGFzcyBDb250YWN0IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KXtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmNvbGxpc2lvbnMgPSB0aGlzLmNvbGxpc2lvbnMgfHwge307XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBzdGF0ZSBvZiB0aGUgY29udGFjdCBsaXN0ZW5lciBwZXIgaXRlcmF0aW9uIG9mIHRoZSBib3ggd29ybGQgY2FsY3VsYXRpb25zLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqL1xuICByZXNldCgpe1xuICAgIHRoaXMuY29sbGlzaW9ucyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgYm94MmQgY29sbGlzb24gYmVnaW5zXG4gICAqIEBmdW5jdGlvbiBiZWdpbkNvbnRhY3RcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7YjJDb250YWNudH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGJveDJkIGNvbGxpc29uIGVuZHNcbiAgICogQGZ1bmN0aW9uIGVuZENvbnRhY3RcbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7YjJDb250YWN0fSBjb250YWN0IFRoZSBib3gyZCBjb250YWN0IG9iamVjdC5cbiAgKi9cblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBhIGJveDJkIGNvbGxpc29uIGlzIHJlc29sdmVkXG4gICAqIEBmdW5jdGlvbiBwcmVTb2x2ZVxuICAgKiBAbWVtYmVyT2YgQ29udGFjdCNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQSBJZCBvZiBib2R5IEFcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkQiBJZCBvZiBib2R5IEJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9sZE1hbmlmb2xkIE9sZCBtYW5pZm9sZCBvYmplY3QgcGFzc2VkIGludG8gcHJlU29sdmUgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtiMkNvbnRhY3R9IGNvbnRhY3QgVGhlIGJveDJkIGNvbnRhY3Qgb2JqZWN0LlxuICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYWZ0ZXIgYSBib3gyZCBjb2xsaXNvbiBpcyByZXNvbHZlZFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIENvbnRhY3QjXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEEgSWQgb2YgYm9keSBBXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZEIgSWQgb2YgYm9keSBCXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbXB1bHNlIEltcHVsc2Ugb2JqZWN0IHBhc3NlZCBpbnRvIHBvc3RTb2x2ZSBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge2IyQ29udGFjdH0gY29udGFjdCBUaGUgYm94MmQgY29udGFjdCBvYmplY3QuXG4gICovXG4gIHBvc3RTb2x2ZShpZEEsIGlkQiwgaW1wdWxzZSwgY29udGFjdCl7XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQV0gPSB0aGlzLmNvbGxpc2lvbnNbaWRBXSB8fCBbXTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRBXS5wdXNoKHtpZDogaWRCLCBpbXB1bHNlOiBpbXB1bHNlLm5vcm1hbEltcHVsc2VzWzBdfSk7XG4gICAgdGhpcy5jb2xsaXNpb25zW2lkQl0gPSB0aGlzLmNvbGxpc2lvbnNbaWRCXSB8fCBbXTtcbiAgICB0aGlzLmNvbGxpc2lvbnNbaWRCXS5wdXNoKHtpZDogaWRBLCBpbXB1bHNlOiBpbXB1bHNlLm5vcm1hbEltcHVsc2VzWzBdfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0O1xuIiwiLyoqXG4gKiBUaGlzIGlzIGEgY29udmVuaWVuY2Ugb2JqZWN0IHRoYXQgYWxsb3dzIGZvciBxdWlja2x5IGNyZWF0aW5nIGEgYm94MmQgYmFzZWQgZ2FtZS5cbiAqIEBuYW1lIEJveEdhbWVcbiAqIEBjb25zdHJ1Y3RvciBCb3hHYW1lXG4gKiBAZXh0ZW5kcyBHYW1lQ29yZVxuICovXG5cbmNvbnN0IEdhbWVDb3JlID0gcmVxdWlyZSgnLi4vR2FtZUNvcmUnKTtcbmNvbnN0IEJveCA9IHJlcXVpcmUoJy4vQm94Jyk7XG5cbmNsYXNzIEJveEdhbWUgZXh0ZW5kcyBHYW1lQ29yZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgY29uc29sZS5sb2coJ2JveGdhbWUgb3B0aW9ucycsIG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnN0YW5jZSBvZiBCb3ggdXNlZCBmb3IgdGhpcyBnYW1lLlxuICAgICAqIEB0eXBlIHtCb3h9XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJveCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBib3ggc2hvdWxkIHBlcmZvcm0gY2FsY3VsYXRpb25zIGR1cmluZyBpdHMgdXBkYXRlIGN5Y2xlXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0aGlzLmJveFVwZGF0aW5nID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIEVudGl0eSBvYmplY3RzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBCb3hcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5lbnRpdGllcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBKb2ludCBvYmplY3RzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBCb3hcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGhpcy5qb2ludHMgPSBudWxsO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcblxuICAgIGlmKCF0aGlzLmJveCl7XG4gICAgICB0aGlzLmJveCA9IG5ldyBCb3gob3B0aW9ucy5ib3hPcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5lbnRpdGllcyl7XG4gICAgICB0aGlzLmVudGl0aWVzID0ge307XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuam9pbnRzKXtcbiAgICAgIHRoaXMuam9pbnRzID0ge307XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYWxsIHBoeXNpY3MgY2FsY3VsYXRpb25zIGluIHRoZSBCb3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1pbGxpcyBUaGUgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBwYXNzZWQgc2luY2UgbGFzdCBpdGVyYXRpb24gb2YgZ2FtZUxvb3BcbiAgICovXG4gIHVwZGF0ZUJveChtaWxsaXMpe1xuICAgIGlmKHRoaXMuYm94VXBkYXRpbmcpe1xuICAgICAgdGhpcy5ib3gudXBkYXRlKG1pbGxpcyk7XG4gICAgICB0aGlzLmJveC51cGRhdGVFeHRlcm5hbFN0YXRlKHRoaXMuZW50aXRpZXMpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gRW50aXR5IG9iamVjdCB0byBlbnRpdGllcyBhbmQgYm94XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgQm94R2FtZSNcbiAgICogQHBhcmFtIHtFbnRpdHl9IGVudGl0eSBFbnRpdHkgdG8gYWRkXG4gICAqL1xuICBhZGRCb2R5KGVudGl0eSl7XG4gICAgdGhpcy5lbnRpdGllc1tlbnRpdHkuaWRdID0gZW50aXR5O1xuICAgIHRoaXMuYm94LmFkZEJvZHkoZW50aXR5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2VyaWVzIG9mIEVudGl0eSBvYmplY3RzIHRvIGVudGl0aWVzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEVudGl0eX0gZW50aXRpZXMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgRW50aXR5IG9iamVjdHMgb3IgYW55IG51bWJlciBvZiBFbnRpdHkgb2JqZWN0c1xuICAgKi9cbiAgYWRkQm9kaWVzKGVudGl0aWVzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcbiAgICAgIGVudGl0aWVzID0gW2VudGl0aWVzXTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGVudGl0aWVzLmZvckVhY2goKGVudGl0eSkgPT4ge1xuICAgICAgdGhpcy5hZGRCb2R5KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBFbnRpdHkgb2JqZWN0IGZyb20gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSAge0VudGl0eX0gZW50aXR5IEVudGl0eSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUJvZHkoZW50aXR5KXtcbiAgICB0aGlzLmJveC5yZW1vdmVCb2R5KGVudGl0eS5pZCk7XG4gICAgZGVsZXRlIHRoaXMuZW50aXRpZXNbZW50aXR5LmlkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgc2VyaWVzIG9mIEVudGl0eSBvYmplY3RzIGZyb20gZW50aXRpZXMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7QXJyYXl8RW50aXR5fSBlbnRpdGllcyBDYW4gdGFrZSBhbiBhcnJheSBvZiBFbnRpdHkgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEVudGl0eSBvYmplY3RzXG4gICAqL1xuICByZW1vdmVCb2RpZXMoZW50aXRpZXMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBbZW50aXRpZXNdO1xuICAgIH1cbiAgICBlbnRpdGllcy5mb3JFYWNoKChlbnRpdHkpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlQm9keShlbnRpdHkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBKb2ludCB0byBqb2ludHMgYW5kIGJveFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIEJveEdhbWUjXG4gICAqIEBwYXJhbSB7Sm9pbnR9IGpvaW50IEpvaW50IHRvIGFkZFxuICAgKi9cbiAgYWRkSm9pbnQoam9pbnQpe1xuICAgIHRoaXMuam9pbnRzW2pvaW50LmlkXSA9IGpvaW50O1xuICAgIHRoaXMuYm94LmFkZEpvaW50KGpvaW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2VyaWVzIG9mIEpvaW50IG9iamVjdHMgdG8gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEpvaW50fSBqb2ludHMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgSm9pbnQgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEpvaW50IG9iamVjdHNcbiAgICovXG4gIGFkZEpvaW50cyhqb2ludHMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGpvaW50cykpIHtcbiAgICAgIGpvaW50cyA9IFtqb2ludHNdO1xuICAgIH1cbiAgICBqb2ludHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLmFkZEpvaW50KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIEpvaW50IGZyb20gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0gIHtKb2ludH0gam9pbnQgSm9pbnQgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVKb2ludChqb2ludCl7XG4gICAgdGhpcy5ib3gucmVtb3ZlSm9pbnQoam9pbnQuaWQpO1xuICAgIGRlbGV0ZSB0aGlzLmpvaW50c1tqb2ludC5pZF07XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHNlcmllcyBvZiBKb2ludCBvYmplY3RzIGZyb20gam9pbnRzIGFuZCBib3hcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBCb3hHYW1lI1xuICAgKiBAcGFyYW0ge0FycmF5fEpvaW50fSBqb2ludHMgQ2FuIHRha2UgYW4gYXJyYXkgb2YgSm9pbnQgb2JqZWN0cyBvciBhbnkgbnVtYmVyIG9mIEpvaW50IG9iamVjdHNcbiAgICovXG4gIHJlbW92ZUpvaW50cyhqb2ludHMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGpvaW50cykpIHtcbiAgICAgIGpvaW50cyA9IFtqb2ludHNdO1xuICAgIH1cbiAgICBqb2ludHMuZm9yRWFjaCgoZW50aXR5KSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUpvaW50KGVudGl0eSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCb3hHYW1lO1xuXG4iLCJcbmZ1bmN0aW9uIGRyYXcoY3R4KSB7XG4gIGN0eC5maWxsU3R5bGUgPSAnI0FBQSc7XG4gIC8vY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIE9iamVjdC5rZXlzKHRoaXMuZW50aXRpZXMpLmZvckVhY2goKGspID0+IHtcbiAgICBpZighdGhpcy5lbnRpdGllc1trXS5oaWRkZW4pIHtcbiAgICAgIHRoaXMuZW50aXRpZXNba10uZHJhdyhjdHgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXc7IiwiaW1wb3J0IENpcmNsZSBmcm9tICdmcm96ZW5qcy9ib3gyZC9lbnRpdGllcy9DaXJjbGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWxsIGV4dGVuZHMgQ2lyY2xlIHtcbiAgZHJhdyhjdHgsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDE7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueCAqIHNjYWxlLCB0aGlzLnkgKiBzY2FsZSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLmFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy54KSAqIHNjYWxlLCAtKHRoaXMueSkgKiBzY2FsZSk7XG4gICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltZywgdGhpcy54ICogc2NhbGUgLSAodGhpcy5pbWcud2lkdGggLyAyKSwgdGhpcy55ICogc2NhbGUgLSAodGhpcy5pbWcuaGVpZ2h0IC8gMikpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsIlxuY29uc29sZS5sb2coJ3d0ZiB0b28gbWFueSBicmlja3M/Jyk7XG5cbmxldCBicmlja3MgPSBbXG4gIFs2LDFdLFsxMCwxXSxbMTQsMV0sWzM0LDFdLFszOCwxXSxbNDIsMV0sXG4gIFs4LDNdLFsxMiwzXSxbMTYsM10sWzMyLDNdLFszNiwzXSxbNDAsM10sXG4gIFs2LDVdLFsxMCw1XSxbMTQsNV0sWzM0LDVdLFszOCw1XSxbNDIsNV0sXG4gIFs4LDddLFsxMiw3XSxbMTYsN10sWzMyLDddLFszNiw3XSxbNDAsN10sXG4gIFsxMCw5XSxbMTQsOV0sWzE4LDldLFszMCw5XSxbMzQsOV0sWzM4LDldLFxuICBbMTIsMTFdLFsxNiwxMV0sWzIwLDExXSxbMjQsMTFdLFsyOCwxMV0sWzMyLDExXSxbMzYsMTFdLFxuICBbMTQsMTNdLFsxOCwxM10sWzIyLDEzXSxbMjYsMTNdLFszMCwxM10sWzM0LDEzXSxcbiAgWzEyLDE1XSxbMTYsMTVdLFsyMCwxNV0sWzI0LDE1XSxbMjgsMTVdLFszMiwxNV0sWzM2LDE1XSxcbiAgWzE4LDE3XSxbMjIsMTddLFsyNiwxN10sWzMwLDE3XSxcbiAgWzI0LDE5XVxuXTtcblxuXG5icmlja3MgPSBicmlja3MubWFwKChiKSA9PiB7XG4gIGIgPSBbYlswXSAqIDEyLjUsIGJbMV0gKiAxMi41XTtcbiAgYlswXSA9IGJbMF0gLSAzMDA7XG4gIHJldHVybiBiO1xufSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgYnJpY2tzO1xuIiwiaW1wb3J0IFBvbHlnb24gZnJvbSAnZnJvemVuanMvYm94MmQvZW50aXRpZXMvUG9seWdvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyaWNrIGV4dGVuZHMgUG9seWdvbiB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIGNvbnN0IG9nTGluZVdpZHRoID0gY3R4LmxpbmVXaWR0aDtcbiAgICBcbiAgICBjdHguc2F2ZSgpO1xuICAgIC8vY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgIGN0eC5saW5lSm9pbiA9IFwicm91bmRcIjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsdGhpcy5wcmV5LCAwLCB0aGlzLnByZXkgKyB0aGlzLmhhbGZIZWlnaHQgKiAyKTtcblxuICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgY3R4LmZpbGxTdHlsZSk7XG4gICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAnIzQ0NCcpO1xuXG4gICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnByZXgsIHRoaXMucHJleSk7XG4gICAgY3R4LnJvdGF0ZSh0aGlzLnByZUFuZ2xlKTtcbiAgICBjdHgudHJhbnNsYXRlKC0odGhpcy5wcmV4KSwgLSh0aGlzLnByZXkpKTtcbiAgICAvL1xuICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHRoaXMucHJleC10aGlzLmhhbGZXaWR0aCxcbiAgICAgIHRoaXMucHJleS10aGlzLmhhbGZIZWlnaHQsXG4gICAgICB0aGlzLmhhbGZXaWR0aCoyLFxuICAgICAgdGhpcy5oYWxmSGVpZ2h0KjJcbiAgICApO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgdGhpcy5wcmV4LXRoaXMuaGFsZldpZHRoLFxuICAgICAgdGhpcy5wcmV5LXRoaXMuaGFsZkhlaWdodCxcbiAgICAgIHRoaXMuaGFsZldpZHRoKjIsXG4gICAgICB0aGlzLmhhbGZIZWlnaHQqMlxuICAgICk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG4gICAgLy9zdXBlci5kcmF3KGN0eCwgc2NhbGUpO1xuICB9XG59XG4iLCJpbXBvcnQgQ2lyY2xlIGZyb20gJ2Zyb3plbmpzL2JveDJkL2VudGl0aWVzL0NpcmNsZSc7XG5cbmltcG9ydCByYWRpYW5zRnJvbUNlbnRlciBmcm9tICdmcm96ZW5qcy91dGlscy9yYWRpYW5zRnJvbUNlbnRlcic7XG5pbXBvcnQgcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlciBmcm9tICdmcm96ZW5qcy91dGlscy9yb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFjZSBleHRlbmRzIENpcmNsZSB7XG4gIGRyYXcoY3R4LCBzY2FsZSkge1xuICAgIHNjYWxlID0gc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCAxO1xuICAgIGNvbnN0IHNjYWxlZFggPSB0aGlzLnggKiBzY2FsZTtcbiAgICBjb25zdCBzY2FsZWRZID0gdGhpcy55ICogc2NhbGU7XG4gICAgY29uc3Qgb2dMaW5lV2lkdGggPSBjdHgubGluZVdpZHRoO1xuICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHNjYWxlZFgsIHNjYWxlZFksIHRoaXMucmFkaXVzICogc2NhbGUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHguZmlsbFN0eWxlID0gJyNGRkYnO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHNjYWxlZFggLSAxNywgc2NhbGVkWSAtIDE1LCAxMCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHNjYWxlZFggKyAxNywgc2NhbGVkWSAtIDE1LCAxMCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcblxuICAgIGNvbnN0IHJhZHNMID0gcmFkaWFuc0Zyb21DZW50ZXIoe3g6IHNjYWxlZFggLSAxNywgeTogc2NhbGVkWSAtIDE1fSwge3g6IHRoaXMuYmFsbC54ICogc2NhbGUsIHk6IHRoaXMuYmFsbC55ICogc2NhbGV9KTtcbiAgICBjb25zdCByYWRzUiA9IHJhZGlhbnNGcm9tQ2VudGVyKHt4OiBzY2FsZWRYICsgMTcsIHk6IHNjYWxlZFkgLSAxNX0sIHt4OiB0aGlzLmJhbGwueCAqIHNjYWxlLCB5OiB0aGlzLmJhbGwueSAqIHNjYWxlfSk7XG5cbiAgICBjb25zdCBsSXJpcyA9IHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoe3g6IHNjYWxlZFggLSAxNywgeTogc2NhbGVkWSAtIDE1fSwge3g6IHNjYWxlZFggLSAxNywgeTogc2NhbGVkWSAtIDIwfSwgcmFkc0wpO1xuICAgIGNvbnN0IHJJcmlzID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcih7eDogc2NhbGVkWCArIDE3LCB5OiBzY2FsZWRZIC0gMTV9LCB7eDogc2NhbGVkWCArIDE3LCB5OiBzY2FsZWRZIC0gMjB9LCByYWRzUik7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhsSXJpcy54LCBsSXJpcy55LCA2LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhySXJpcy54LCBySXJpcy55LCA2LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG5cbiAgICBjdHgubGluZVdpZHRoID0gb2dMaW5lV2lkdGg7XG5cbiAgfVxufVxuIiwiaW1wb3J0IHsgYm94MmQsIGtleXMsIHV0aWxzIH0gZnJvbSAnZnJvemVuanMnO1xuXG5pbXBvcnQgYm94RGF0YSBmcm9tICcuL2JveERhdGEnO1xuaW1wb3J0IGRyYXcgZnJvbSAnLi9kcmF3JztcbmltcG9ydCBCYWxsIGZyb20gJy4vQmFsbCc7XG5pbXBvcnQgcmF3QnJpY2tzIGZyb20gJy4vYnJpY2tzJztcbmltcG9ydCBjb2xvcnMgZnJvbSAnLi9jb2xvcnMnO1xuaW1wb3J0IEJyaWNrIGZyb20gJy4vQnJpY2snO1xuaW1wb3J0IEZhY2UgZnJvbSAnLi9GYWNlJztcblxuY29uc3QgeyBCb3hHYW1lLCBlbnRpdGllcywgam9pbnRzIH0gPSBib3gyZDtcbmNvbnN0IHsgUmV2b2x1dGUgfSA9IGpvaW50cztcbmNvbnN0IHsgcmFkaWFuc0Zyb21DZW50ZXIsIHNjYWxlUG9pbnRzLCByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyIH0gPSB1dGlscztcblxuY29uc3Qgc3BlZWQgPSAzMDtcblxuLy8gRnVsbCBIRCBHYW1lICFcbmNvbnN0IGZ1bGxXID0gMTkyMDtcbmNvbnN0IGZ1bGxIID0gMTA4MDtcblxuLy9zZXR1cCBhIEdhbWVDb3JlIGluc3RhbmNlXG5jb25zdCBnYW1lID0gbmV3IEJveEdhbWUoe1xuICBjYW52YXNJZDogJ2NhbnZhcycsXG4gIGdhbWVBcmVhSWQ6ICdnYW1lQXJlYScsXG4gIGNhbnZhc1BlcmNlbnRhZ2U6IDEsXG4gIGJveE9wdGlvbnM6IHtyZXNvbHZlQ29sbGlzaW9uczogdHJ1ZSwgZ3Jhdml0eVk6IDB9LFxuICBkcmF3OiBkcmF3LFxuICBpbml0SW5wdXQ6IGZ1bmN0aW9uKGltKXtcbiAgICBpbS5hZGRBcnJvd0tleUFjdGlvbnMoKTtcblxuICAgIGltLmFkZEtleUFjdGlvbignQScpO1xuICAgIGltLmFkZEtleUFjdGlvbignRCcpO1xuICB9LFxuICBoYW5kbGVJbnB1dDogZnVuY3Rpb24oaW0pe1xuICAgIGlmKGltLmtleUFjdGlvbnNba2V5cy5MRUZUXS5pc1ByZXNzZWQoKSl7XG4gICAgICB0aGlzLmJveC5hcHBseUltcHVsc2VEZWdyZWVzKCdiYWxsJywgMjcwLCBzcGVlZCk7XG4gICAgfVxuXG4gICAgaWYoaW0ua2V5QWN0aW9uc1trZXlzLlJJR0hUXS5pc1ByZXNzZWQoKSl7XG4gICAgICB0aGlzLmJveC5hcHBseUltcHVsc2VEZWdyZWVzKCdiYWxsJywgOTAsIHNwZWVkKTtcbiAgICB9XG5cbiAgICBpZihpbS5rZXlBY3Rpb25zW2tleXMuVVBdLmlzUHJlc3NlZCgpKXtcbiAgICAgIHRoaXMuYm94LmFwcGx5SW1wdWxzZURlZ3JlZXMoJ2JhbGwnLCAwLCBzcGVlZCk7XG4gICAgfVxuXG4gICAgaWYoaW0ua2V5QWN0aW9uc1trZXlzLkRPV05dLmlzUHJlc3NlZCgpKXtcbiAgICAgIHRoaXMuYm94LmFwcGx5SW1wdWxzZURlZ3JlZXMoJ2JhbGwnLCAxODAsIHNwZWVkKTtcbiAgICB9XG5cbiAgICBpZihpbS5rZXlBY3Rpb25zLkEuaXNQcmVzc2VkKCkpe1xuICAgICAgdGhpcy5ib3guYXBwbHlUb3JxdWUoJ2JhbGwnLCAtc3BlZWQgKiAxMDApO1xuICAgIH1cblxuICAgIGlmKGltLmtleUFjdGlvbnMuRC5pc1ByZXNzZWQoKSl7XG4gICAgICB0aGlzLmJveC5hcHBseVRvcnF1ZSgnYmFsbCcsIHNwZWVkICAqIDEwMCk7XG4gICAgfVxuXG4gICAgaWYoaW0ubW91c2VBY3Rpb24uaXNQcmVzc2VkKCkpe1xuICAgICAgdGhpcy5ib3guYXBwbHlJbXB1bHNlKCdiYWxsJywgcmFkaWFuc0Zyb21DZW50ZXIodGhpcy5lbnRpdGllcy5iYWxsLCBzY2FsZVBvaW50cyhpbS5tb3VzZUFjdGlvbi5wb3NpdGlvbiwgMS90aGlzLmJveC5zY2FsZSkpLCBzcGVlZCk7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKG1pbGxpcykge1xuICAgIHRoaXMudXBkYXRlQm94KG1pbGxpcyk7XG4gICAgaWYodGhpcy5iYWxsICYmIHRoaXMuYmFsbC5jb2xsaXNpb25zKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdiYWxsJywgdGhpcy5iYWxsLmNvbGxpc2lvbnMpO1xuICAgICAgdGhpcy5iYWxsLmNvbGxpc2lvbnMuZm9yRWFjaCgoZXQpID0+IHtcbiAgICAgICAgY29uc3QgZW50ID0gdGhpcy5lbnRpdGllc1tldC5pZF07XG4gICAgICAgIGlmKGVudCAmJiBlbnQuYnJpY2spIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCBlbnQgJiYgZW50LmtpbmcpIHtcbiAgICAgICAgICBlbnQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYodGhpcy5lbnRpdGllcy5uZWNrICYmIHRoaXMuZW50aXRpZXMubmVjay5jb2xsaXNpb25zKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdlbnRpdGllcy5uZWNrJywgdGhpcy5lbnRpdGllcy5uZWNrLmNvbGxpc2lvbnMpO1xuICAgICAgdGhpcy5lbnRpdGllcy5uZWNrLmNvbGxpc2lvbnMuZm9yRWFjaCgoZXQpID0+IHtcbiAgICAgICAgY29uc3QgZW50ID0gdGhpcy5lbnRpdGllc1tldC5pZF07XG4gICAgICAgIGlmKGVudCAmJiBlbnQuYnJpY2spIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUJvZHkoZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCBlbnQgJiYgZW50LmtpbmcpIHtcbiAgICAgICAgICBlbnQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBnYW1lLnBsYXllcnMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgXG4gICAgICAgIFxuICAgICAgICB0aGlzLmJveC5zZXRBbmd1bGFyVmVsb2NpdHkocC5wYWRkbGUuaWQsIDApO1xuICAgICAgICBjb25zdCBhbmcgPSB1dGlscy5yYWRpYW5zRnJvbUNlbnRlcihwLmFuY2hvciwgcC5wYWRkbGUpO1xuICAgICAgICB0aGlzLmJveC5zZXRBbmdsZShwLnBhZGRsZS5pZCwgYW5nKTtcbiAgICAgIFxuICAgIH0pO1xuXG4gIH1cbn0pO1xuXG4gIC8vYWRkIGV2ZXJ5dGhpbmcgdG8gYm94IGZyb20gdGhlIGJveERhdGFcbmJveERhdGEuZW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wcyl7XG4gIGlmKHByb3BzLmlkID09PSAnYmFsbCcpe1xuICAgIHByb3BzLmltZyA9IGdhbWUucmVzb3VyY2VNYW5hZ2VyLmxvYWRJbWFnZSgnaW1hZ2VzL2hlYWQucG5nJyk7XG4gICAgZ2FtZS5iYWxsID0gbmV3IEJhbGwocHJvcHMpO1xuICAgIGdhbWUuYWRkQm9keShnYW1lLmJhbGwpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IEVudGl0eSA9IGVudGl0aWVzW3Byb3BzLnR5cGVdO1xuICAgIGlmKEVudGl0eSl7XG4gICAgICBwcm9wcy5kcmF3Q2VudGVyID0gZmFsc2U7XG4gICAgICBnYW1lLmFkZEJvZHkobmV3IEVudGl0eShwcm9wcykpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuY29uc3QgaGV4U2lkZSA9IDc4My43OTc3Mzg0NDQxMztcbmNvbnN0IHNpZGVXID0gNTY4LjEwMTEzMDc3NzY5O1xuXG4vL2NvbnN0IGFuZyA9IE1hdGguYXRhbiggTWF0aC50YW4oNTQwLHNpZGVXLCA1NDApKTtcbmNvbnN0IHNpbnQxID0gNTQwIC8gaGV4U2lkZTtcbmNvbnN0IGFuZzEgPSBNYXRoLmFzaW4oc2ludDEpO1xuY29uc3Qgc2ludDIgPSBzaWRlVyAvIGhleFNpZGU7XG5jb25zdCBhbmcyID0gTWF0aC5hc2luKHNpbnQyKVxuY29uc29sZS5sb2coJ2FuZ2xlIGluIHJhZGlhbnMnLCBhbmcxLCBhbmcyKTtcblxuY29uc3QgcGN0ID0gMC42MDQzMTIyMzg5NTQ3OTE4NTgzOyBcblxuY29uc3QgYW5ncyA9IFtcbiAgMCxcbiAgYW5nMSxcbiAgYW5nMiArIChNYXRoLlBJLzIpLFxuICBNYXRoLlBJLFxuICBNYXRoLlBJICsgYW5nMSxcbiAgKE1hdGguUEkgKiAxLjUpICsgYW5nMlxuXTtcblxubGV0IGMgPSBbXG4gIFtmdWxsVyAvIDIsIDBdLFxuICBbZnVsbFcgLSAoc2lkZVcgKiBwY3QpLCAoZnVsbEggLyAyKSAqICgxIC0gcGN0KV0sXG4gIFtmdWxsVyAtIChzaWRlVyAqIHBjdCksIChmdWxsSCAvIDIpICsgKChmdWxsSCAvIDIpICogcGN0KV0sXG4gIFtmdWxsVyAvIDIsIGZ1bGxIXSxcbiAgW3NpZGVXICogcGN0LCAoZnVsbEggLyAyKSArICgoZnVsbEggLyAyKSAqIHBjdCldLFxuICBbc2lkZVcgKiBwY3QsIChmdWxsSCAvIDIpICogKDEgLSBwY3QpXSxcbl07XG5cbmNvbnN0IHBsYXllcnMgPSBjLm1hcCgoY3B0LCBpZHgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBwdDogY3B0LFxuICAgIGNvbG9yOiBjb2xvcnNbaWR4XSxcbiAgICBhbmdsZTogYW5nc1tpZHhdXG4gIH1cbn0pO1xuXG5jb25zb2xlLmxvZygncGxheWVycycsIHBsYXllcnMpO1xuXG4vLyBjb25zdCBkMSA9IE1hdGguc3FydChcbi8vICAgTWF0aC5wb3coKGNbMV1bMF0gLSBjWzBdWzBdKSwgMikgXG4vLyAgICsgTWF0aC5wb3coKGNbMV1bMV0gLSBjWzBdWzFdKSwgMikgXG4vLyApO1xuXG4vLyBjb25zdCBkMiA9IE1hdGguc3FydChcbi8vICAgTWF0aC5wb3coKGNbNV1bMF0gLSBjWzBdWzBdKSwgMikgXG4vLyAgICsgTWF0aC5wb3coKGNbNV1bMV0gLSBjWzBdWzFdKSwgMikgXG4vLyApXG5cbi8vIGNvbnNvbGUubG9nKCdkJywgZDEsIGQyLCBkMSAtIGQyLCBjICk7XG5cbmNvbnN0IG9yaWdpbiA9IHt4OiBwbGF5ZXJzWzBdLnB0WzBdLCB5OiBwbGF5ZXJzWzBdLnB0WzFdfTtcblxucGxheWVycy5mb3JFYWNoKChwLCBpZHgpID0+IHtcbiAgY29uc29sZS5sb2coJ2NyZWF0aW5nIHBsYXllcicsIHApO1xuICBjb25zdCBwcHQgPSB7eDogcC5wdFswXSwgeTogcC5wdFsxXX07XG5cbiAgY29uc3QgbmV3QmFsbFB0ID0gcm90YXRlUmFkaWFuc0Fyb3VuZENlbnRlcihwcHQsIHt4OiBwcHQueCwgeTogcHB0LnkgKyA1NX0sIHAuYW5nbGUpO1xuICBjb25zdCBjaXIgPSBuZXcgRmFjZSh7XG4gICAgeDogbmV3QmFsbFB0LngsXG4gICAgeTogbmV3QmFsbFB0LnksXG4gICAgcmFkaXVzOiA1MCxcbiAgICBzdGF0aWNCb2R5OiB0cnVlLFxuICAgIHJlc3RpdHV0aW9uOiAyLFxuICAgIGZpbGxTdHlsZTogcC5jb2xvcixcbiAgICBraW5nOiB0cnVlLFxuICAgIGJhbGw6IGdhbWUuYmFsbCxcbiAgfSk7XG4gIGdhbWUuYWRkQm9keShjaXIpO1xuICBwLmZhY2UgPSBjaXI7XG5cbiAgY29uc3QgbmV3UGFkZGxlUHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKHBwdCwge3g6IHBwdC54LCB5OiBwcHQueSArIDMwMH0sIHAuYW5nbGUpO1xuICBjb25zdCBwYWRkbGUgPSBuZXcgZW50aXRpZXMuUmVjdGFuZ2xlKHtcbiAgICB4OiBuZXdQYWRkbGVQdC54LFxuICAgIHk6IG5ld1BhZGRsZVB0LnksXG4gICAgaGFsZldpZHRoOiA0MCxcbiAgICBoYWxmSGVpZ2h0OiAxMCxcbiAgICByZXN0aXR1dGlvbjogMSxcbiAgICBmaWxsU3R5bGU6IHAuY29sb3IsXG4gICAgcGFkZGxlOiB0cnVlLFxuICAgIGRyYXdDZW50ZXI6IGZhbHNlXG4gIH0pO1xuICBnYW1lLmFkZEJvZHkocGFkZGxlKTtcbiAgcC5wYWRkbGUgPSBwYWRkbGU7XG5cbiAgcC5hbmNob3IgPSBuZXcgZW50aXRpZXMuQ2lyY2xlKHtcbiAgICB4OiBwLnB0WzBdLFxuICAgIHk6IHAucHRbMV0sXG4gICAgcmFkaXVzOiAwLjEsXG4gICAgc3RhdGljQm9keTogdHJ1ZVxuICB9KTtcbiAgZ2FtZS5hZGRCb2R5KHAuYW5jaG9yKTtcblxuICBjb25zdCBjSm9pbnQgPSBuZXcgam9pbnRzLkRpc3RhbmNlKHtib2R5SWQxOiBwLmFuY2hvci5pZCwgYm9keUlkMjogcGFkZGxlLmlkLCBpZDogTWF0aC5yYW5kb20oKSArICdqJ30pO1xuICBnYW1lLmFkZEpvaW50KGNKb2ludCk7XG5cbiAgcmF3QnJpY2tzLmZvckVhY2goKHJiLCBqZHgpID0+IHtcbiAgICBjb25zdCBvcHMgPSB7XG4gICAgICB4OiByYlswXSArIChmdWxsVyAvIDIpLFxuICAgICAgeTogcmJbMV0sXG4gICAgICBoYWxmV2lkdGg6IDI1LFxuICAgICAgaGFsZkhlaWdodDogMTIuNSxcbiAgICAgIHN0YXRpY0JvZHk6IHRydWUsXG4gICAgICByZXN0aXR1dGlvbjogMS41LFxuICAgICAgcGxheWVySWQ6IGlkeCxcbiAgICAgIGZpbGxTdHlsZTogcC5jb2xvcixcbiAgICAgIGJyaWNrOiB0cnVlLFxuICAgICAgcHJlQW5nbGU6IHAuYW5nbGUsXG4gICAgfTtcbiAgXG4gICAgY29uc3QgcHQgPSByb3RhdGVSYWRpYW5zQXJvdW5kQ2VudGVyKG9yaWdpbiwgb3BzLCBwLmFuZ2xlKTtcbiAgICBcbiAgICBvcHMueCA9IHB0Lng7XG4gICAgb3BzLnkgPSBwdC55O1xuICBcbiAgXG4gICAgb3BzLnggKz0gKHBwdC54IC0gcGxheWVyc1swXS5wdFswXSk7XG4gICAgb3BzLnkgKz0gKHBwdC55IC0gcGxheWVyc1swXS5wdFsxXSk7XG5cbiAgICBvcHMucG9pbnRzID0gW1xuICAgICAge3g6IG9wcy5oYWxmV2lkdGgsIHk6IC1vcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogb3BzLmhhbGZXaWR0aCwgeTogb3BzLmhhbGZIZWlnaHR9LFxuICAgICAge3g6IC1vcHMuaGFsZldpZHRoLCB5OiBvcHMuaGFsZkhlaWdodH0sXG4gICAgICB7eDogLW9wcy5oYWxmV2lkdGgsIHk6IC1vcHMuaGFsZkhlaWdodH0sXG4gICAgXTtcblxuICAgIG9wcy5wb2ludHMgPSBvcHMucG9pbnRzLm1hcCgob3BwdCkgPT4ge1xuICAgICAgcmV0dXJuIHJvdGF0ZVJhZGlhbnNBcm91bmRDZW50ZXIoe3g6IDAsIHk6IDB9LCBvcHB0LCBwLmFuZ2xlKTtcbiAgICB9KTtcblxuICAgIG9wcy5wcmV4ID0gb3BzLng7XG4gICAgb3BzLnByZXkgPSBvcHMueTtcbiAgXG4gICAgY29uc3QgYiA9IG5ldyBCcmljayhvcHMpO1xuICAgIGdhbWUuYWRkQm9keShiKTtcblxuICB9KTtcblxufSk7XG5cbmdhbWUucGxheWVycyA9IHBsYXllcnM7XG5cbmJveERhdGEuam9pbnRzLmZvckVhY2goZnVuY3Rpb24ocHJvcHMpe1xuICB2YXIgam9pbnQ7XG4gIGlmKHByb3BzLnR5cGUgPT09ICdSZXZvbHV0ZScpe1xuICAgIGpvaW50ID0gbmV3IFJldm9sdXRlKHByb3BzKTtcbiAgfVxuXG4gIGlmKGpvaW50KXtcbiAgICBnYW1lLmJveC5hZGRKb2ludChqb2ludCk7XG4gIH1cbn0pO1xuXG4vL2lmIHlvdSB3YW50IHRvIHRha2UgYSBsb29rIGF0IHRoZSBnYW1lIG9iamVjdCBpbiBkZXYgdG9vbHNcbmNvbnNvbGUubG9nKGdhbWUpO1xud2luZG93LmdhbWUgPSBnYW1lO1xuXG5cbi8vbGF1bmNoIHRoZSBnYW1lIVxuZ2FtZS5ydW4oKTtcbmdhbWUuYm94LmFwcGx5SW1wdWxzZURlZ3JlZXMoJ2JhbGwnLCBNYXRoLnJhbmRvbSgpICogMzYwLCA1MCk7XG4iXSwic291cmNlUm9vdCI6IiJ9